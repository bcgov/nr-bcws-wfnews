{"version":3,"file":"main.js","mappings":"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AE,EAAE,IAAI;EACRC,SAAS,EAAE,IAAI;EACfC,KAAK,EAAE,QAAQ;EACfC,IAAI,EAAE,kBAAkB;EACxBC,EAAE,EAAE,kBAAkB;EACtB,OAAO,EAAE,kBAAkB;EAC3BC,GAAG,EAAE,kBAAkB;EACvBC,GAAG,EAAE,kBAAkB;EACvBC,KAAK,EAAE,kBAAkB;EACzB,UAAU,EAAE,kBAAkB;EAC9B,cAAc,EAAE,KAAK;EACrB,QAAQ,EAAE,kBAAkB;EAC5B,QAAQ,EAAE,kBAAkB;EAC5BC,EAAE,EAAE,kBAAkB;EACtBC,OAAO,EAAE,kBAAkB;EAC3B,eAAe,EAAE;CAClB;AAID;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;ACxmBM,MAAO7iE,mBAAmB;EADhCjN;IAGE,aAAQ,GAAyC,EAAE;;EAEnD+vE,YAAY,CAACroE,KAA6B;IACxC;IACA,OAAO,CAAC,CAACA,KAAK,CAACmO,IAAI,IAAI,CAAC,CAAEnO,KAAK,CAACmO,IAAY,CAACk6D,YAAY;EAC3D;EAEA39C,KAAK,CAAC1qB,KAA6B,EAAE07C,MAA2B;IAC9D;IACA,IAAI,CAAC4sB,QAAQ,CAACtoE,KAAK,CA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,CAAEA,OAAO,CAAE,CAAC5jC,MAAM,CAAE;EAC1D;;;;;;;;;;;;;;;;ACnDJ;AACA;AACA;AACA;AAEO,MAAMZ,WAAW,GAAG;EAC1ByT,UAAU,EAAE,KAAK;EACjBgnE,iCAAiC,EAAE,EAAE;EACrCC,wBAAwB,EAAE,EAAE;EAC5B3nE,mBAAmB,EAAE,6BAA6B;EAClDb,QAAQ,EAAE,GAAG;EACVyoE,kCAAkC,EAAE;CACvC;;;;;;;;;;;;;;;;;ACZ8C;AAEF;AACY;AAEzD,IAAK36E,6EAAsB,EAAG;EAC9B46E,6DAAc,EAAE;;AAGhBC,sEAAAA,EAAwB,CAACC,eAAe,CAAEhpE,sDAAS,CAAE,CAACnV,KAAK,CAAEE,OAAO,CAACC,IAAI,CAAE;;;;;;;;;;ACT3E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;ACnSA","sources":["./src/app/app-initializer.ts","./src/app/app.component.ts","./src/app/app.component.html","./src/app/app.module.ts","./src/app/app.routing.ts","./src/app/components/active-wildfire-map/active-wildfire-map.component.ts","./src/app/components/active-wildfire-map/active-wildfire-map.component.html","./src/app/components/admin-incident-form/admin-incident-form.component.desktop.ts","./src/app/components/admin-incident-form/admin-incident-form.component.html","./src/app/components/admin-incident-form/admin-incident-form.component.ts","./src/app/components/admin-incident-form/area-restrictions-details-panel/area-restrictions-details-panel.component.html","./src/app/components/admin-incident-form/area-restrictions-details-panel/area-restrictions-details-panel.component.ts","./src/app/components/admin-incident-form/contact-us-dialog/contact-us-dialog.component.ts","./src/app/components/admin-incident-form/contact-us-dialog/contact-us-dialog.component.html","./src/app/components/admin-incident-form/contacts-details-panel/contacts-details-panel.component.ts","./src/app/components/admin-incident-form/contacts-details-panel/contacts-details-panel.component.html","./src/app/components/admin-incident-form/evac-orders-details-panel/evac-orders-details-panel.component.html","./src/app/components/admin-incident-form/evac-orders-details-panel/evac-orders-details-panel.component.ts","./src/app/components/admin-incident-form/image-gallery-panel/edit-image-dialog/edit-image-dialog.component.ts","./src/app/components/admin-incident-form/image-gallery-panel/edit-image-dialog/edit-image-dialog.component.html","./src/app/components/admin-incident-form/image-gallery-panel/image-card-component/image-card-panel.component.ts","./src/app/components/admin-incident-form/image-gallery-panel/image-card-component/image-card-panel.component.html","./src/app/components/admin-incident-form/image-gallery-panel/image-gallery-panel.component.ts","./src/app/components/admin-incident-form/image-gallery-panel/image-gallery-panel.component.html","./src/app/components/admin-incident-form/image-gallery-panel/upload-image-dialog/upload-image-dialog.component.ts","./src/app/components/admin-incident-form/image-gallery-panel/upload-image-dialog/upload-image-dialog.component.html","./src/app/components/admin-incident-form/incident-details-panel/custom-uploader.ts","./src/app/components/admin-incident-form/incident-details-panel/incident-details-panel.component.html","./src/app/components/admin-incident-form/incident-details-panel/incident-details-panel.component.ts","./src/app/components/admin-incident-form/maps-panel/edit-map-dialog/edit-map-dialog.component.ts","./src/app/components/admin-incident-form/maps-panel/edit-map-dialog/edit-map-dialog.component.html","./src/app/components/admin-incident-form/maps-panel/maps-panel.component.ts","./src/app/components/admin-incident-form/maps-panel/maps-panel.component.html","./src/app/components/admin-incident-form/maps-panel/upload-map-dialog/upload-map-dialog.component.ts","./src/app/components/admin-incident-form/maps-panel/upload-map-dialog/upload-map-dialog.component.html","./src/app/components/admin-incident-form/publish-dialog/publish-dialog.component.ts","./src/app/components/admin-incident-form/publish-dialog/publish-dialog.component.html","./src/app/components/admin-incident-form/response-details-panel/response-details-panel.component.ts","./src/app/components/admin-incident-form/response-details-panel/response-details-panel.component.html","./src/app/components/admin-incident-form/summary-panel/summary-panel.component.ts","./src/app/components/admin-incident-form/summary-panel/summary-panel.component.html","./src/app/components/admin-incident-form/video-gallery-panel/edit-video-dialog/edit-video-dialog.component.ts","./src/app/components/admin-incident-form/video-gallery-panel/edit-video-dialog/edit-video-dialog.component.html","./src/app/components/admin-incident-form/video-gallery-panel/upload-video-dialog/upload-video-dialog.component.ts","./src/app/components/admin-incident-form/video-gallery-panel/upload-video-dialog/upload-video-dialog.component.html","./src/app/components/admin-incident-form/video-gallery-panel/video-card-component/video-card-panel.component.ts","./src/app/components/admin-incident-form/video-gallery-panel/video-card-component/video-card-panel.component.html","./src/app/components/admin-incident-form/video-gallery-panel/video-gallery-panel.component.ts","./src/app/components/admin-incident-form/video-gallery-panel/video-gallery-panel.component.html","./src/app/components/base/base.component.model.ts","./src/app/components/base/base.component.ts","./src/app/components/common/base-collection/collection.component.ts","./src/app/components/current-alert-component/current-alert-component.component.ts","./src/app/components/current-alert-component/current-alert-component.component.html","./src/app/components/disclaimer-dialog/disclaimer-dialog.component.ts","./src/app/components/disclaimer-dialog/disclaimer-dialog.component.html","./src/app/components/error-page/error-page.component.ts","./src/app/components/error-page/error-page.component.html","./src/app/components/incident-identify-panel/incident-identify-panel.component.ts","./src/app/components/incident-identify-panel/incident-identify-panel.component.html","./src/app/components/message-dialog/message-dialog.component.ts","./src/app/components/message-dialog/message-dialog.component.html","./src/app/components/notification-snackbar/notification-snackbar.component.ts","./src/app/components/panel-area-restrictions/panel-area-restrictions.component.ts","./src/app/components/panel-area-restrictions/panel-area-restrictions.component.html","./src/app/components/panel-bans-prohibitions/panel-bans-prohibitions.component.ts","./src/app/components/panel-bans-prohibitions/panel-bans-prohibitions.component.html","./src/app/components/panel-evacuation-orders-and-alerts/panel-evacuation-orders-and-alerts.component.ts","./src/app/components/panel-evacuation-orders-and-alerts/panel-evacuation-orders-and-alerts.component.html","./src/app/components/panel-fire-danger/panel-fire-danger.component.ts","./src/app/components/panel-fire-danger/panel-fire-danger.component.html","./src/app/components/panel-local-authority/panel-local-authority.component.ts","./src/app/components/panel-local-authority/panel-local-authority.component.html","./src/app/components/panel-road-conditions/panel-road-conditions.component.ts","./src/app/components/panel-road-conditions/panel-road-conditions.component.html","./src/app/components/panel-smoke-forecast/panel-smoke-forecast.component.ts","./src/app/components/panel-smoke-forecast/panel-smoke-forecast.component.html","./src/app/components/panel-wildfire-stage-of-control/panel-wildfire-stage-of-control.component.desktop.ts","./src/app/components/panel-wildfire-stage-of-control/panel-wildfire-stage-of-control.component.html","./src/app/components/panel-wildfire-stage-of-control/panel-wildfire-stage-of-control.component.model.ts","./src/app/components/panel-wildfire-stage-of-control/panel-wildfire-stage-of-control.component.ts","./src/app/components/public-incident-page/incident-gallery-panel/incident-gallery-panel.component.ts","./src/app/components/public-incident-page/incident-gallery-panel/incident-gallery-panel.component.html","./src/app/components/public-incident-page/incident-info-header/incident-header-panel.component.ts","./src/app/components/public-incident-page/incident-info-header/incident-header-panel.component.html","./src/app/components/public-incident-page/incident-info-panel-mobile/incident-info-panel-mobile.component.ts","./src/app/components/public-incident-page/incident-info-panel-mobile/incident-info-panel-mobile.component.html","./src/app/components/public-incident-page/incident-info-panel/incident-info-panel.component.ts","./src/app/components/public-incident-page/incident-info-panel/incident-info-panel.component.html","./src/app/components/public-incident-page/incident-maps-panel-mobile/incident-maps-panel-mobile.component.ts","./src/app/components/public-incident-page/incident-maps-panel-mobile/incident-maps-panel-mobile.component.html","./src/app/components/public-incident-page/incident-maps-panel/incident-maps-panel.component.ts","./src/app/components/public-incident-page/incident-maps-panel/incident-maps-panel.component.html","./src/app/components/public-incident-page/incident-overview-panel-mobile/incident-overview-panel-mobile.component.ts","./src/app/components/public-incident-page/incident-overview-panel-mobile/incident-overview-panel-mobile.component.html","./src/app/components/public-incident-page/incident-overview-panel/incident-overview-panel.component.ts","./src/app/components/public-incident-page/incident-overview-panel/incident-overview-panel.component.html","./src/app/components/public-incident-page/public-incident-page.component.ts","./src/app/components/public-incident-page/public-incident-page.component.html","./src/app/components/sign-out-page/sign-out-page.component.ts","./src/app/components/sign-out-page/sign-out-page.component.html","./src/app/components/sticky-widget/contact-widget-dialog/contact-widget-dialog.component.ts","./src/app/components/sticky-widget/contact-widget-dialog/contact-widget-dialog.component.html","./src/app/components/sticky-widget/sticky-widget.component.ts","./src/app/components/sticky-widget/sticky-widget.component.html","./src/app/components/weather-panel/weather-panel.component.html","./src/app/components/weather-panel/weather-panel.component.ts","./src/app/components/wf-admin-panel/wf-admin-panel.component.desktop.ts","./src/app/components/wf-admin-panel/wf-admin-panel.component.desktop.html","./src/app/components/wf-admin-panel/wf-admin-panel.component.model.ts","./src/app/components/wf-admin-panel/wf-admin-panel.component.ts","./src/app/components/wf-map-container/wf-map-container.component.ts","./src/app/components/wf-map-container/wf-map-container.component.html","./src/app/components/wf-stats-component/wf-stats.component.ts","./src/app/components/wf-stats-component/wf-stats.component.html","./src/app/components/wildfire-resources/resource-panel/resource-panel.component.html","./src/app/components/wildfire-resources/resource-panel/resource-panel.component.ts","./src/app/components/wildfire-resources/wf-resources.component.ts","./src/app/components/wildfire-resources/wf-resources.component.html","./src/app/components/wildfires-list-header/wildfires-list-header.component.ts","./src/app/components/wildfires-list-header/wildfires-list-header.component.html","./src/app/components/wildfires-list/wildfires-list.component.desktop.ts","./src/app/components/wildfires-list/wildfires-list.component.desktop.html","./src/app/components/wildfires-list/wildfires-list.component.model.ts","./src/app/components/wildfires-list/wildfires-list.component.ts","./src/app/containers/admin/admin-container.component.desktop.ts","./src/app/containers/admin/admin-container.component.ts","./src/app/containers/base/base-container.component.ts","./src/app/containers/incident/incident-container.component.desktop.ts","./src/app/containers/incident/incident-container.component.ts","./src/app/containers/panelWildfireStageOfControl/panelWildfireStageOfControl-container.component.desktop.ts","./src/app/containers/panelWildfireStageOfControl/panelWildfireStageOfControl-container.component.ts","./src/app/containers/wildfiresList/wildfiresList-container.component.desktop.ts","./src/app/containers/wildfiresList/wildfiresList-container.component.ts","./src/app/directives/singleselect.directive.ts","./src/app/interceptors/wfnews-interceptor.ts","./src/app/pipes/safe.pipe.ts","./src/app/services/AGOL-service.ts","./src/app/services/application-state.service.ts","./src/app/services/capacitor-service.ts","./src/app/services/common-utility.service.ts","./src/app/services/document-management.service.ts","./src/app/services/event-emitter.service.ts","./src/app/services/local-storage-service.ts","./src/app/services/map-config.service/index.ts","./src/app/services/map-config.service/layer-display.config.ts","./src/app/services/map-config.service/layers/abms-municipalities.config.ts","./src/app/services/map-config.service/layers/abms-regional-districts.config.ts","./src/app/services/map-config.service/layers/active-wildfires.config.ts","./src/app/services/map-config.service/layers/active-wildfires.heatmap.config.ts","./src/app/services/map-config.service/layers/area-restrictions.config.ts","./src/app/services/map-config.service/layers/bans-and-prohibitions.config.ts","./src/app/services/map-config.service/layers/bc-fire-centres.config.ts","./src/app/services/map-config.service/layers/bc-parks-closures.config.ts","./src/app/services/map-config.service/layers/bcws-activefires-publicview-inactive.config.ts","./src/app/services/map-config.service/layers/clab-indian-reserves.config.ts","./src/app/services/map-config.service/layers/closed-recreation-sites.config.ts","./src/app/services/map-config.service/layers/danger-rating.config.ts","./src/app/services/map-config.service/layers/drive-bc-active-events.config.ts","./src/app/services/map-config.service/layers/evacuation-orders-and-alerts-wms.config.ts","./src/app/services/map-config.service/layers/fire-perimeters.config.ts","./src/app/services/map-config.service/layers/fnt-treaty-land.config.ts","./src/app/services/map-config.service/layers/fsr-safety.config.ts","./src/app/services/map-config.service/layers/hourly-currentforecast-firesmoke.config.ts","./src/app/services/map-config.service/layers/index.ts","./src/app/services/map-config.service/layers/precipitation.config.ts","./src/app/services/map-config.service/layers/weather-stations.config.ts","./src/app/services/map-config.service/layers/weather.config.ts","./src/app/services/map-config.service/map.config.ts","./src/app/services/point-id.service/index.ts","./src/app/services/published-incident-service.ts","./src/app/services/router-ext.service.ts","./src/app/services/update.service.ts","./src/app/services/util/NewsAuthGuard.ts","./src/app/services/watchlist-service.ts","./src/app/services/wf-map.service.ts","./src/app/services/wfnews-map.service/place-data.ts","./src/app/services/wfnews-map.service/util.ts","./src/app/shared/route/custom-route-reuse-strategy.ts","./src/app/shared/scopes/scopes.ts","./src/app/store/application/application.selector.ts","./src/app/store/application/application.state.ts","./src/app/store/common/page-search.reducer.ts","./src/app/store/incident/incident.action.ts","./src/app/store/incident/incident.effect.ts","./src/app/store/incident/incident.reducer.ts","./src/app/store/incident/incident.selector.ts","./src/app/store/incident/incident.stats.ts","./src/app/store/incidents/incidents.action.ts","./src/app/store/incidents/incidents.effects.ts","./src/app/store/incidents/incidents.reducer.ts","./src/app/store/incidents/incidents.selector.ts","./src/app/store/incidents/incidents.stats.ts","./src/app/store/index.ts","./src/app/store/wildfiresList/wildfiresList.action.ts","./src/app/store/wildfiresList/wildfiresList.effects.ts","./src/app/store/wildfiresList/wildfiresList.reducer.ts","./src/app/store/wildfiresList/wildfiresList.selector.ts","./src/app/store/wildfiresList/wildfiresList.stats.ts","./src/app/utils/error-messages.ts","./src/app/utils/index.ts","./src/app/utils/smk.ts","./src/environments/environment.ts","./src/main.ts","./node_modules/moment/locale/ sync ^\\.\\/.*$","ignored|/Users/sparmar/Documents/GitHub/nr-bcws-wfnews/client/wfnews-war/src/main/angular/node_modules/object-inspect|./util.inspect"],"sourcesContent":["import { HttpClient } from '@angular/common/http';\nimport { Injector } from '@angular/core';\nimport { AppConfigService} from '@wf1/core-ui';\n\nexport function codeTableAndUserPrefFnInit(appConfig: AppConfigService, http: HttpClient, injector: Injector): () => Promise<any> {\n    return () => {\n        return appConfig.loadAppConfig().catch((e) => {\n          console.warn('Failed initializing app', e);\n        });\n    };\n}\n\nexport function getEndpointUrl(baseUrl: string, endpoint: string): string {\n  const result = '';\n  if (baseUrl && baseUrl.length > 0 && endpoint && endpoint.length > 0) {\n    return baseUrl.endsWith('/') ? `${baseUrl}${endpoint}` : `${baseUrl}/${endpoint}`;\n  } else if (baseUrl && baseUrl.length > 0) {\n    return baseUrl;\n  } else if (endpoint && endpoint.length > 0) {\n    return endpoint;\n  }\n  return result;\n}\n","import { Location } from '@angular/common';\nimport { AfterViewInit, ChangeDetectorRef, Component, HostListener, OnDestroy, OnInit } from '@angular/core';\nimport { MatLegacyDialog as MatDialog } from '@angular/material/legacy-dialog';\nimport { MatIconRegistry } from '@angular/material/icon';\nimport { DomSanitizer } from '@angular/platform-browser';\nimport { Router } from '@angular/router';\nimport { AppConfigService, TokenService } from '@wf1/core-ui';\nimport { RouterLink, WfApplicationConfiguration, WfApplicationState } from '@wf1/wfcc-application-ui';\nimport { WfMenuItems } from '@wf1/wfcc-application-ui/application/components/wf-menu/wf-menu.component';\nimport * as moment from 'moment';\nimport { Subscription } from 'rxjs';\nimport { DisclaimerDialogComponent } from './components/disclaimer-dialog/disclaimer-dialog.component';\nimport { ApplicationStateService } from './services/application-state.service';\nimport { UpdateService } from './services/update.service';\nimport { ResourcesRoutes, snowPlowHelper, isMobileView as mobileView } from './utils';\n\nexport const ICON = {\n  TWITTER: 'twitter',\n  FACEBOOK: 'facebook',\n  FACEBOOK_SQUARE: 'fb-square',\n  FIRE: 'fire',\n  MAP_SIGNS: 'map-signs',\n  INCIDENT: 'incident',\n  ADVISORIES: 'advisories',\n  EXT_LINK: 'external-link',\n  EXCLAMATION_CIRCLE: 'exclamation-circle',\n  CLOUD_SUN: 'cloud-sun',\n  FILTER_CANCEL: \"filter-cancel\",\n  BOOKMARK: 'bookmark',\n  MAP: 'map',\n  BACK_ICON: 'back-icon',\n  DOT: 'dot',\n};\n\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.scss'],\n})\nexport class AppComponent implements OnDestroy, OnInit, AfterViewInit {\n  public url;\n  public snowPlowHelper = snowPlowHelper\n  public isMobileView = mobileView\n  public TOOLTIP_DELAY = 500;\n\n  title = 'News';\n\n  isLoggedIn = true;\n  hasAccess = true;\n\n  applicationConfig: WfApplicationConfiguration = {\n    title: 'Wildfire News',\n    device: this.applicationStateService.getDevice(),\n    userName: '',\n    version: {\n      long: '',\n      short: ''\n    },\n    environment: ''\n  };\n\n  applicationState: WfApplicationState = {\n    menu: 'hidden'\n  }\n\n  appMenu: WfMenuItems;\n  footerMenu: WfMenuItems;\n  orientation;\n\n  lastSuccessPollSub: Subscription;\n  lastSyncDate;\n  lastSyncValue = undefined;\n  tokenSubscription: Subscription;\n\n  constructor(\n    protected appConfigService: AppConfigService,\n    protected router: Router,\n    protected location: Location,\n    protected updateService: UpdateService,\n    protected applicationStateService: ApplicationStateService,\n    protected matIconRegistry: MatIconRegistry,\n    protected domSanitizer: DomSanitizer,\n    protected tokenService: TokenService,\n    protected cdr: ChangeDetectorRef,\n    protected dialog: MatDialog\n  ) {\n  }\n\n  private updateMapSize = function () {\n    this.storeViewportSize();\n  };\n\n  ngOnInit() {\n    this.addCustomMaterialIcons();\n    this.updateService.checkForUpdates();\n    this.checkUserPermissions();\n\n    if (!this.location.path().startsWith('/(root:external')) {\n      this.appConfigService.configEmitter.subscribe((config) => {\n        this.applicationConfig.version.short = config.application.version.replace(/-snapshot/i, '');\n        this.applicationConfig.version.long = config.application.version;\n        this.applicationConfig.environment = config.application.environment.replace(/^.*prod.*$/i, ' ') || ' ';\n        this.onResize();\n      });\n    }\n    this.tokenSubscription = this.tokenService.credentialsEmitter.subscribe((creds) => {\n      let first = creds.given_name || creds.givenName;\n      let last = creds.family_name || creds.familyName;\n\n      this.applicationConfig.userName = `${first} ${last}`;\n    });\n\n\n    this.initAppMenu();\n    this.initFooterMenu();\n\n    window['SPLASH_SCREEN'].remove();\n    if (localStorage.getItem('dontShowDisclaimer') !== 'true'){\n      let dialogRef = this.dialog.open(DisclaimerDialogComponent, {\n        autoFocus: false,\n        width: '600px',\n      });\n      dialogRef.afterClosed().subscribe(result => {\n        if (result['dontShowAgain']) {\n          localStorage.setItem('dontShowDisclaimer', 'true');\n        } else {\n          localStorage.removeItem('dontShowDisclaimer');\n        }\n      });\n    }\n\n    const mainApp = document.getElementById('main-app')\n    if (mainApp) {\n      setTimeout(() => {\n        mainApp.classList.remove('menu-collapsed');\n        mainApp.classList.add('menu-hidden');\n        if (document.getElementsByTagName('wf-menu')[0]) {\n          (document.getElementsByTagName('wf-menu')[0] as HTMLElement).removeAttribute('style');\n        }\n      }, 200)\n    }\n  }\n\n  isIncidentsPage () {\n    return window.location.pathname === '/incidents'\n  }\n\n  redirectToPublicMobile () {\n    return ((window.innerWidth < 768 && window.innerHeight < 1024) || (window.innerWidth < 1024 && window.innerHeight < 768))\n  }\n\n  getAppStoreLink () {\n    if ((navigator.userAgent.toLowerCase().indexOf(\"iphone\") > -1) || (navigator.userAgent.toLowerCase().indexOf(\"ipad\") > -1)) {\n      return this.appConfigService.getConfig().externalAppConfig['appStoreUrl'].toString();\n    } else {\n      return this.appConfigService.getConfig().externalAppConfig['googlePlayUrl'].toString();\n    }\n  }\n\n  getAppStoreName () {\n    if ((navigator.userAgent.toLowerCase().indexOf(\"iphone\") > -1) || (navigator.userAgent.toLowerCase().indexOf(\"ipad\") > -1)) {\n      return 'App Store'\n    } else {\n      return 'Google Play'\n    }\n  }\n\n  download () {\n    window.open(this.getAppStoreLink(), '_blank')\n  }\n\n  initAppMenu() {\n    this.appMenu = [\n      new RouterLink('Wildfires Map', '/' + ResourcesRoutes.ACTIVEWILDFIREMAP, 'map', 'collapsed', this.router),\n      new RouterLink('Wildfires List', '/' + ResourcesRoutes.WILDFIRESLIST, 'local_fire_department', 'collapsed', this.router),\n      new RouterLink('Current Statistics', '/' + ResourcesRoutes.CURRENTSTATISTICS, 'bar_chart', 'collapsed', this.router),\n      new RouterLink('Wildfire Resources', '/' + ResourcesRoutes.RESOURCES, 'links', 'collapsed', this.router)\n    ] as unknown as WfMenuItems;\n  }\n\n  initFooterMenu() {\n    this.footerMenu = (this.applicationConfig.device == 'desktop' ?\n      [\n        new RouterLink('Home', 'https://www2.gov.bc.ca/gov/content/home', 'home', 'expanded', this.router),\n        new RouterLink('Disclaimer', 'https://www2.gov.bc.ca/gov/content/home/disclaimer', 'home', 'expanded', this.router),\n        new RouterLink('Privacy', 'https://www2.gov.bc.ca/gov/content/home/privacy', 'home', 'expanded', this.router),\n        new RouterLink('Accessibility', 'https://www2.gov.bc.ca/gov/content/home/accessible-government', 'home', 'expanded', this.router),\n        new RouterLink('Copyright', 'https://www2.gov.bc.ca/gov/content/home/copyright', 'home', 'expanded', this.router),\n        new RouterLink('Contact Us', 'https://www2.gov.bc.ca/gov/content/home/get-help-with-government-services', 'home', 'expanded', this.router),\n      ]\n      :\n      [\n        new RouterLink('Home', '/', 'home', 'hidden', this.router),\n      ]\n    ) as unknown as WfMenuItems;\n  }\n\n  ngAfterViewInit() {\n    setInterval(() => {\n      this.getLastSync();\n    }, 1000);\n\n    setTimeout(() => {\n        const headerImg = document.getElementsByClassName('bc-logo')\n        if (headerImg && headerImg[0]) {\n          const node = document.createElement(\"span\")\n          node.style.color = '#fcba19'\n          node.style.marginLeft = '20px'\n          node.append(this.applicationConfig.environment)\n          headerImg[0].appendChild(node)\n      }\n    }, 1000);\n  }\n\n  getLastSync() {\n    if (!this.lastSyncDate) {\n      return '-';\n    }\n    const now = moment();\n    const value = now.diff(this.lastSyncDate, 'second', false);\n    if (value > 240) {\n      this.lastSyncValue = '240+';\n    } else {\n      this.lastSyncValue = value.toFixed(0);\n    }\n  }\n\n\n  @HostListener('window:orientationchange', ['$event'])\n  onOrientationChange() {\n    this.onSizeChange();\n  }\n\n  @HostListener('window:resize', ['$event'])\n  onResize() {\n    this.onSizeChange();\n  }\n\n  private onSizeChange() {\n    setTimeout(() => {\n      this.updateMapSize();\n      this.initAppMenu();\n      this.initFooterMenu();\n      this.cdr.detectChanges();\n\n      // on resize, ensure the right main panel css is applied\n      // Basically, we want mobile all the time on public and\n      // desktop all the time on admin\n      const classList = document.getElementById('main-app').classList\n      if (this.isAdminPage() && classList.contains('device-mobile')) {\n        classList.remove('device-mobile')\n        classList.add('device-desktop')\n      } else if(!this.isAdminPage() && this.applicationConfig.environment.toLowerCase() === '' && classList.contains('device-desktop')) {\n        classList.remove('device-desktop')\n        classList.add('device-mobile')\n      }\n    }, 250);\n  }\n\n  storeViewportSize() {\n    this.orientation = this.applicationStateService.getOrientation();\n    document.documentElement.style.setProperty('--viewport-height', `${window.innerHeight}px`);\n    document.documentElement.style.setProperty('--viewport-width', `${window.innerWidth}px`);\n  }\n\n  ngOnDestroy() {\n    if (this.lastSuccessPollSub) {\n      this.lastSuccessPollSub.unsubscribe();\n    }\n    if (this.tokenSubscription) {\n      this.tokenSubscription.unsubscribe()\n    }\n  }\n\n  checkUserPermissions() {\n    this.hasAccess = true;\n    this.isLoggedIn = true;\n  }\n\n  navigateToBcWebsite() {\n    window.open('https://www2.gov.bc.ca/gov/content/safety/wildfire-status', '_blank');\n  }\n\n  navigateToFooterPage(event: any) {\n    window.open(event.route, '_blank');\n  }\n\n  addCustomMaterialIcons() {\n    this.matIconRegistry.addSvgIcon(\n      ICON.TWITTER,\n      this.domSanitizer.bypassSecurityTrustResourceUrl('assets/images/svg-icons/twitter.svg')\n    );\n\n    this.matIconRegistry.addSvgIcon(\n      ICON.FACEBOOK,\n      this.domSanitizer.bypassSecurityTrustResourceUrl('assets/images/svg-icons/facebook.svg')\n    );\n\n    this.matIconRegistry.addSvgIcon(\n      ICON.FACEBOOK_SQUARE,\n      this.domSanitizer.bypassSecurityTrustResourceUrl('assets/images/svg-icons/facebook-square.svg')\n    );\n\n    this.matIconRegistry.addSvgIcon(\n      ICON.FIRE,\n      this.domSanitizer.bypassSecurityTrustResourceUrl('assets/images/svg-icons/fire.svg')\n    );\n\n    this.matIconRegistry.addSvgIcon(\n      ICON.EXCLAMATION_CIRCLE,\n      this.domSanitizer.bypassSecurityTrustResourceUrl('assets/images/svg-icons/exclamation-circle.svg')\n    );\n\n    this.matIconRegistry.addSvgIcon(\n      ICON.MAP_SIGNS,\n      this.domSanitizer.bypassSecurityTrustResourceUrl('assets/images/svg-icons/map-signs.svg')\n    );\n\n    this.matIconRegistry.addSvgIcon(\n      ICON.INCIDENT,\n      this.domSanitizer.bypassSecurityTrustResourceUrl('assets/images/svg-icons/incident.svg')\n    );\n\n    this.matIconRegistry.addSvgIcon(\n      ICON.ADVISORIES,\n      this.domSanitizer.bypassSecurityTrustResourceUrl('assets/images/svg-icons/bullhorn.svg')\n    );\n\n    this.matIconRegistry.addSvgIcon(\n      ICON.EXT_LINK,\n      this.domSanitizer.bypassSecurityTrustResourceUrl('assets/images/svg-icons/external-link.svg')\n    );\n\n    this.matIconRegistry.addSvgIcon(\n      ICON.CLOUD_SUN,\n      this.domSanitizer.bypassSecurityTrustResourceUrl('assets/images/svg-icons/cloud-sun.svg')\n    );\n\n    this.matIconRegistry.addSvgIcon(\n      ICON.FILTER_CANCEL,\n      this.domSanitizer.bypassSecurityTrustResourceUrl(\"assets/images/svg-icons/filter-cancel.svg\")\n    );\n\n    this.matIconRegistry.addSvgIcon(\n      ICON.BOOKMARK,\n      this.domSanitizer.bypassSecurityTrustResourceUrl('assets/images/svg-icons/bookmark.svg')\n    );\n\n    this.matIconRegistry.addSvgIcon(\n      ICON.MAP,\n      this.domSanitizer.bypassSecurityTrustResourceUrl('assets/images/svg-icons/map.svg')\n    );\n\n    this.matIconRegistry.addSvgIcon(\n      ICON.BACK_ICON,\n      this.domSanitizer.bypassSecurityTrustResourceUrl('assets/images/svg-icons/back-icon.svg')\n    );\n\n    this.matIconRegistry.addSvgIcon(\n      ICON.DOT,\n      this.domSanitizer.bypassSecurityTrustResourceUrl(\"assets/images/svg-icons/dot.svg\")\n    );\n  }\n\n  isAdminPage() {\n    if (this.router.url === '/admin' || this.router.url.includes(\"/incident?\") || this.router.url.includes(\"?preview=true\") || this.router.url === '/error-page') {\n      return true;\n    } else {\n      return false;\n    }\n  }\n\n  navigateToBcSupport() {\n    let url = this.appConfigService.getConfig().externalAppConfig['bcWildFireSupportPage'].toString();\n    window.open(url, \"_blank\");\n  }\n\n  logOutCurrentUser() {\n    setTimeout(() => {\n      this.router.navigate([ResourcesRoutes.SIGN_OUT]);\n    }, 100);\n  }\n}\n","<wf-application id=\"main-app\" class=\"wfnews-application\"\n    [ngClass]=\"'orientation-' + orientation\"\n    [config]=\"applicationConfig\"\n    [(state)]=\"applicationState\"\n>\n<div *ngIf=\"redirectToPublicMobile() && isIncidentsPage(); else mainPage\">\n  <router-outlet></router-outlet>\n</div>\n<ng-template #mainPage>\n  <div>\n    <wf-header\n      [config]=\"applicationConfig\"\n      [(state)]=\"applicationState\"\n      [useAppLogo]=\"false\"\n      [useSystemAndUser]=\"isAdminPage()\"\n      [useSupportLink]=\"isAdminPage()\"\n      [useMenu]=\"true\"\n      [useLogoutButton]=\"isAdminPage()\"\n      (bcLogoClick)=\"navigateToBcWebsite()\"\n      (logoutClick)=\"logOutCurrentUser()\"\n      (supportLinkClick)=\"navigateToBcSupport()\"\n    ></wf-header>\n\n    <wf-menu\n      [menuItems]=\"appMenu\"\n      [config]=\"applicationConfig\"\n      [(state)]=\"applicationState\"\n    ></wf-menu>\n\n    <wf-menu-bar\n      [menuItems]=\"appMenu\"\n      [config]=\"applicationConfig\"\n      [(state)]=\"applicationState\"\n    ></wf-menu-bar>\n\n    <router-outlet></router-outlet>\n\n    <!-- wf-footer\n    [footerItems]=\"footerMenu\"\n    [config]=\"applicationConfig\"\n    [(state)]=\"applicationState\"\n    (activeItemChanged)=\"navigateToFooterPage($event)\"\n    ></wf-footer -->\n  </div>\n</ng-template>\n</wf-application>\n","import { DragDropModule } from '@angular/cdk/drag-drop';\nimport { ScrollingModule } from '@angular/cdk/scrolling';\nimport { CdkTableModule } from '@angular/cdk/table';\nimport { APP_BASE_HREF, CommonModule } from '@angular/common';\nimport { HttpClient, HttpClientModule, HTTP_INTERCEPTORS } from '@angular/common/http';\nimport { APP_INITIALIZER, Injector, NgModule } from '@angular/core';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { MatLegacyButtonModule as MatButtonModule } from '@angular/material/legacy-button';\nimport { MatLegacyDialogModule as MatDialogModule } from '@angular/material/legacy-dialog';\nimport { MatDividerModule } from '@angular/material/divider';\nimport { MatExpansionModule } from '@angular/material/expansion';\nimport { MatLegacyFormFieldModule as MatFormFieldModule } from '@angular/material/legacy-form-field';\nimport { MatGridListModule } from '@angular/material/grid-list';\nimport { MatIconModule } from '@angular/material/icon';\nimport { MatLegacyInputModule as MatInputModule } from '@angular/material/legacy-input';\nimport { MatLegacyListModule as MatListModule } from '@angular/material/legacy-list';\nimport { MatLegacyMenuModule as MatMenuModule } from '@angular/material/legacy-menu';\nimport { MatLegacyRadioModule as MatRadioModule } from '@angular/material/legacy-radio';\nimport { MatLegacySelectModule as MatSelectModule } from '@angular/material/legacy-select';\nimport { MatLegacySlideToggleModule as MatSlideToggleModule } from '@angular/material/legacy-slide-toggle';\nimport { MatLegacySnackBarModule as MatSnackBarModule } from '@angular/material/legacy-snack-bar';\nimport { MatToolbarModule } from '@angular/material/toolbar';\nimport { MatLegacyTooltipModule as MatTooltipModule } from '@angular/material/legacy-tooltip';\nimport { MatLegacyChipsModule as MatChipsModule } from '@angular/material/legacy-chips';\nimport { MatLegacyAutocompleteModule as MatAutocompleteModule } from '@angular/material/legacy-autocomplete';\nimport { BrowserModule } from '@angular/platform-browser';\nimport { BrowserAnimationsModule } from '@angular/platform-browser/animations';\nimport { RouteReuseStrategy } from '@angular/router';\nimport { ServiceWorkerModule } from '@angular/service-worker';\nimport { OwlNativeDateTimeModule } from '@busacca/ng-pick-datetime';\nimport { EffectsModule } from '@ngrx/effects';\nimport { FullRouterStateSerializer, StoreRouterConnectingModule } from '@ngrx/router-store';\nimport { StoreModule } from '@ngrx/store';\nimport { StoreDevtoolsModule } from '@ngrx/store-devtools';\nimport { AppConfigService, CoreUIModule, TokenService } from '@wf1/core-ui';\nimport { ApiModule as IncidentsApiModule, Configuration as IncidentsConfiguration } from '@wf1/incidents-rest-api';\nimport { ApiModule as OrgUnitApiModule, OrgUnitConfiguration } from '@wf1/orgunit-rest-api';\nimport { WildfireApplicationModule } from '@wf1/wfcc-application-ui';\nimport { Configuration as DocumentAPIServiceConfiguration } from '@wf1/wfdm-document-management-api';\nimport { OwlDateTimeModule, OWL_DATE_TIME_FORMATS } from 'ng-pick-datetime';\nimport { OwlMomentDateTimeModule } from 'ng-pick-datetime-moment';\nimport { environment } from '../environments/environment';\nimport { codeTableAndUserPrefFnInit } from './app-initializer';\nimport { AppComponent } from './app.component';\nimport { ROUTING } from './app.routing';\nimport { ActiveWildfireMapComponent } from './components/active-wildfire-map/active-wildfire-map.component';\nimport { PanelEvacuationOrdersAndAlertsComponent } from './components/panel-evacuation-orders-and-alerts/panel-evacuation-orders-and-alerts.component';\nimport { PanelWildfireStageOfControlComponentDesktop } from './components/panel-wildfire-stage-of-control/panel-wildfire-stage-of-control.component.desktop';\nimport { WFMapContainerComponent } from './components/wf-map-container/wf-map-container.component';\nimport { MapConfigService } from './services/map-config.service';\nimport { UpdateService } from './services/update.service';\nimport { WFMapService } from './services/wf-map.service';\nimport { CustomReuseStrategy } from './shared/route/custom-route-reuse-strategy';\nimport { initialRootState, rootEffects, rootReducers } from './store';\nimport { provideBootstrapEffects } from './utils';\nimport { MatLegacyTableModule as MatTableModule} from \"@angular/material/legacy-table\";\nimport { SingleSelectDirective } from './directives/singleselect.directive';\nimport { MatLegacyPaginatorModule as MatPaginatorModule } from '@angular/material/legacy-paginator';\nimport { NgxPaginationModule } from 'ngx-pagination';\nimport { WfAdminPanelComponentDesktop } from './components/wf-admin-panel/wf-admin-panel.component.desktop';\nimport { AdminContainerDesktop } from './containers/admin/admin-container.component.desktop';\nimport { WfnewsInterceptor } from './interceptors/wfnews-interceptor';\nimport { IncidentDetailsPanel } from './components/admin-incident-form/incident-details-panel/incident-details-panel.component';\nimport { MatLegacyProgressSpinnerModule as MatProgressSpinnerModule } from '@angular/material/legacy-progress-spinner';\nimport { MatSortModule } from '@angular/material/sort';\nimport { MatLegacyCardModule as MatCardModule } from '@angular/material/legacy-card';\nimport { ResponseDetailsPanel } from './components/admin-incident-form/response-details-panel/response-details-panel.component';\nimport { MatLegacyCheckboxModule as MatCheckboxModule } from '@angular/material/legacy-checkbox';\nimport { ContactsDetailsPanel } from './components/admin-incident-form/contacts-details-panel/contacts-details-panel.component';\nimport { EvacOrdersDetailsPanel } from './components/admin-incident-form/evac-orders-details-panel/evac-orders-details-panel.component';\nimport { AreaRestrictionsDetailsPanel } from './components/admin-incident-form/area-restrictions-details-panel/area-restrictions-details-panel.component';\nimport { AdminIncidentFormDesktop } from './components/admin-incident-form/admin-incident-form.component.desktop';\nimport { IncidentContainerDesktop } from './containers/incident/incident-container.component.desktop';\nimport { CKEditorModule } from '@ckeditor/ckeditor5-angular';\nimport { MatLegacyTabsModule as MatTabsModule } from '@angular/material/legacy-tabs';\nimport { AGOLService } from './services/AGOL-service';\nimport { PanelBansAndProhibitionsComponent } from './components/panel-bans-prohibitions/panel-bans-prohibitions.component';\nimport { PanelSmokeForecastComponent } from './components/panel-smoke-forecast/panel-smoke-forecast.component';\nimport { PanelAreaRestrictionsComponent } from './components/panel-area-restrictions/panel-area-restrictions.component';\nimport { PanelFireDangerComponent } from './components/panel-fire-danger/panel-fire-danger.component';\nimport { CommonUtilityService } from \"./services/common-utility.service\";\nimport { MapsPanel } from './components/admin-incident-form/maps-panel/maps-panel.component';\nimport { MessageDialogComponent } from './components/message-dialog/message-dialog.component';\nimport { EditMapDialogComponent } from './components/admin-incident-form/maps-panel/edit-map-dialog/edit-map-dialog.component';\nimport { UploadMapDialogComponent } from './components/admin-incident-form/maps-panel/upload-map-dialog/upload-map-dialog.component';\nimport { DocumentManagementService } from './services/document-management.service';\nimport { SignOutPageComponent } from './components/sign-out-page/sign-out-page.component';\nimport { ImageGalleryPanel } from './components/admin-incident-form/image-gallery-panel/image-gallery-panel.component';\nimport { EditImageDialogComponent } from './components/admin-incident-form/image-gallery-panel/edit-image-dialog/edit-image-dialog.component';\nimport { UploadImageDialogComponent } from './components/admin-incident-form/image-gallery-panel/upload-image-dialog/upload-image-dialog.component';\nimport { ImageCardPanel } from './components/admin-incident-form/image-gallery-panel/image-card-component/image-card-panel.component';\nimport { WildfirewResourcesComponent } from './components/wildfire-resources/wf-resources.component';\nimport { ResourcePanelComponent } from './components/wildfire-resources/resource-panel/resource-panel.component';\nimport { WFStatsComponent } from './components/wf-stats-component/wf-stats.component';\nimport { NgxChartsModule } from \"@swimlane/ngx-charts\";\nimport { LightgalleryModule } from 'lightgallery/angular/13';\nimport { PointIdService } from \"./services/point-id.service\";\nimport { WeatherPanelComponent } from './components/weather-panel/weather-panel.component';\nimport { PanelRoadConditionsComponent } from './components/panel-road-conditions/panel-road-conditions.component';\nimport { ErrorPageComponent } from './components/error-page/error-page.component';\nimport { WildFiresListComponentDesktop } from './components/wildfires-list/wildfires-list.component.desktop';\nimport { WildfiresListContainerDesktop } from './containers/wildfiresList/wildfiresList-container.component.desktop';\nimport { PublishedIncidentService } from './services/published-incident-service';\nimport { IncidentIdentifyPanelComponent } from './components/incident-identify-panel/incident-identify-panel.component';\nimport { StickyWidgetComponent } from './components/sticky-widget/sticky-widget.component';\nimport { ContactWidgetDialogComponent } from './components/sticky-widget/contact-widget-dialog/contact-widget-dialog.component';\nimport { PanelLocalAuthorityComponent } from './components/panel-local-authority/panel-local-authority.component';\nimport { PanelWildfireStageOfControlContainerDesktop } from './containers/panelWildfireStageOfControl/panelWildfireStageOfControl-container.component.desktop';\nimport { MatLegacyProgressBarModule as MatProgressBarModule } from '@angular/material/legacy-progress-bar';\nimport { PublicIncidentPage } from './components/public-incident-page/public-incident-page.component';\nimport { IncidentGalleryPanel } from './components/public-incident-page/incident-gallery-panel/incident-gallery-panel.component';\nimport { IncidentHeaderPanel } from './components/public-incident-page/incident-info-header/incident-header-panel.component';\nimport { IncidentInfoPanel } from './components/public-incident-page/incident-info-panel/incident-info-panel.component';\nimport { IncidentMapsPanel } from './components/public-incident-page/incident-maps-panel/incident-maps-panel.component';\nimport { IncidentOverviewPanel } from './components/public-incident-page/incident-overview-panel/incident-overview-panel.component';\nimport { LocalStorageService } from './services/local-storage-service';\nimport { WatchlistService } from './services/watchlist-service';\nimport { CurrentAlertComponentComponent } from './components/current-alert-component/current-alert-component.component';\nimport { WildfiresListHeaderComponent } from './components/wildfires-list-header/wildfires-list-header.component';\nimport { SafePipe } from './pipes/safe.pipe';\nimport { VideoGalleryPanel } from './components/admin-incident-form/video-gallery-panel/video-gallery-panel.component';\nimport { VideoCardPanel } from './components/admin-incident-form/video-gallery-panel/video-card-component/video-card-panel.component';\nimport { EditVideoDialogComponent } from './components/admin-incident-form/video-gallery-panel/edit-video-dialog/edit-video-dialog.component';\nimport { UploadVideoDialogComponent } from './components/admin-incident-form/video-gallery-panel/upload-video-dialog/upload-video-dialog.component';\nimport { YouTubePlayerModule } from \"@angular/youtube-player\"\nimport { PublishDialogComponent } from './components/admin-incident-form/publish-dialog/publish-dialog.component';\nimport { SummaryPanel } from './components/admin-incident-form/summary-panel/summary-panel.component';\nimport { DisclaimerDialogComponent } from './components/disclaimer-dialog/disclaimer-dialog.component';\nimport { IncidentInfoPanelMobileComponent } from './components/public-incident-page/incident-info-panel-mobile/incident-info-panel-mobile.component';\nimport { ContactUsDialogComponent } from './components/admin-incident-form/contact-us-dialog/contact-us-dialog.component';\nimport { IncidentOverviewPanelMobileComponent } from './components/public-incident-page/incident-overview-panel-mobile/incident-overview-panel-mobile.component';\nimport { IncidentMapsPanelMobileComponent } from './components/public-incident-page/incident-maps-panel-mobile/incident-maps-panel-mobile.component';\n\n// Copied from im-external.module  TODO: consolidate in one place\nexport const DATE_FORMATS = {\n    fullPickerInput: 'YYYY-MM-DD HH:mm:ss',\n    datePickerInput: 'YYYY-MM-DD',\n    timePickerInput: 'HH:mm:ss',\n    monthYearLabel: 'YYYY-MM',\n    dateA11yLabel: 'YYYY-MMM-DD',\n    monthYearA11yLabel: 'YYYY-MMM',\n};\n\n@NgModule({\n    declarations: [\n        AppComponent,\n        WFMapContainerComponent,\n        ActiveWildfireMapComponent,\n        PanelWildfireStageOfControlComponentDesktop,\n        PanelEvacuationOrdersAndAlertsComponent,\n        PanelBansAndProhibitionsComponent,\n        PanelSmokeForecastComponent,\n        PanelAreaRestrictionsComponent,\n        PanelFireDangerComponent,\n        WfAdminPanelComponentDesktop,\n        SingleSelectDirective,\n        AdminContainerDesktop,\n        AdminIncidentFormDesktop,\n        IncidentDetailsPanel,\n        ResponseDetailsPanel,\n        ContactsDetailsPanel,\n        EvacOrdersDetailsPanel,\n        AreaRestrictionsDetailsPanel,\n        IncidentContainerDesktop,\n        MapsPanel,\n        MessageDialogComponent,\n        EditMapDialogComponent,\n        UploadMapDialogComponent,\n        SignOutPageComponent,\n        ImageGalleryPanel,\n        EditImageDialogComponent,\n        UploadImageDialogComponent,\n        StickyWidgetComponent,\n        ContactWidgetDialogComponent,\n        PublishDialogComponent,\n        ImageCardPanel,\n        WFStatsComponent,\n        WeatherPanelComponent,\n        WildfirewResourcesComponent,\n        ResourcePanelComponent,\n        PanelRoadConditionsComponent,\n        ErrorPageComponent,\n        WildFiresListComponentDesktop,\n        WildfiresListContainerDesktop,\n        IncidentIdentifyPanelComponent,\n        PanelLocalAuthorityComponent,\n        PanelWildfireStageOfControlContainerDesktop,\n        PublicIncidentPage,\n        IncidentGalleryPanel,\n        IncidentHeaderPanel,\n        IncidentInfoPanel,\n        IncidentMapsPanel,\n        IncidentOverviewPanel,\n        SummaryPanel,\n        CurrentAlertComponentComponent,\n        WildfiresListHeaderComponent,\n        SafePipe,\n        VideoGalleryPanel,\n        VideoCardPanel,\n        EditVideoDialogComponent,\n        UploadVideoDialogComponent,\n        DisclaimerDialogComponent,\n        IncidentInfoPanelMobileComponent,\n        IncidentOverviewPanelMobileComponent,\n        IncidentMapsPanelMobileComponent,\n        ContactUsDialogComponent,\n    ],\n    imports: [\n        MatSortModule,\n        MatProgressSpinnerModule,\n        MatProgressBarModule,\n        MatTableModule,\n        MatSnackBarModule,\n        HttpClientModule,\n        BrowserModule,\n        BrowserAnimationsModule,\n        CommonModule,\n        CdkTableModule,\n        DragDropModule,\n        FormsModule,\n        ReactiveFormsModule,\n        ROUTING,\n        MatButtonModule,\n        MatDialogModule,\n        MatDividerModule,\n        MatIconModule,\n        MatListModule,\n        MatMenuModule,\n        MatRadioModule,\n        MatInputModule,\n        MatCheckboxModule,\n        MatFormFieldModule,\n        MatExpansionModule,\n        MatSelectModule,\n        MatGridListModule,\n        MatCardModule,\n        MatChipsModule,\n        MatTableModule,\n        MatTabsModule,\n        MatProgressSpinnerModule,\n        OwlDateTimeModule,\n        OwlNativeDateTimeModule,\n        OwlMomentDateTimeModule,\n        CKEditorModule,\n        CoreUIModule.forRoot({ configurationPath: environment.app_config_location }),\n        IncidentsApiModule,\n        OrgUnitApiModule,\n        MatTooltipModule,\n        MatAutocompleteModule,\n        LightgalleryModule,\n        StoreModule.forRoot(rootReducers, {\n            initialState: initialRootState,\n            // metaReducers: metaReducers,\n            runtimeChecks: {\n                strictStateImmutability: false,\n                strictActionImmutability: false,\n            }\n        }),\n        StoreRouterConnectingModule.forRoot({ serializer: FullRouterStateSerializer, stateKey: 'router' }),\n        StoreDevtoolsModule.instrument({\n            maxAge: 25,\n            logOnly: environment.production, // Restrict extension to log-only mode\n        }),\n        EffectsModule.forRoot([]),\n        ServiceWorkerModule.register('wfnews-service-worker.js', { enabled: environment.production, scope: './' }),\n        ScrollingModule,\n        WildfireApplicationModule.forRoot(),\n        MatToolbarModule,\n        MatSlideToggleModule,\n        MatExpansionModule,\n        MatPaginatorModule,\n        NgxPaginationModule,\n        NgxChartsModule,\n        YouTubePlayerModule\n    ],\n    providers: [\n        // Added provideBootstrapEffects function to handle the ngrx issue that loads effects before APP_INITIALIZER\n        // providers have finished initializing.\n        // See https://github.com/ngrx/platform/issues/931 for more information.\n        provideBootstrapEffects(rootEffects),\n        {\n            provide: APP_BASE_HREF,\n            useValue: environment.app_base\n        },\n        {\n            provide: RouteReuseStrategy,\n            useClass: CustomReuseStrategy\n        },\n        AGOLService,\n        TokenService,\n        UpdateService,\n        {\n            provide: APP_INITIALIZER,\n            useFactory: codeTableAndUserPrefFnInit,\n            multi: true,\n            deps: [AppConfigService, HttpClient, Injector]\n        },\n\n        {\n            provide: IncidentsConfiguration,\n            useFactory(appConfig: AppConfigService) {\n                return new IncidentsConfiguration({ basePath: appConfig.getConfig().rest.incidents });\n            },\n            multi: false,\n            deps: [AppConfigService]\n        },\n        {\n            provide: OrgUnitConfiguration,\n            useFactory(appConfig: AppConfigService) {\n                return new OrgUnitConfiguration({ basePath: appConfig.getConfig().rest.orgunit });\n            },\n            multi: false,\n            deps: [AppConfigService]\n        },\n        {\n            provide: DocumentAPIServiceConfiguration,\n            useFactory(appConfig: AppConfigService) {\n                return new DocumentAPIServiceConfiguration({ basePath: appConfig.getConfig().rest.wfdm });\n            },\n            multi: false,\n            deps: [AppConfigService]\n        },\n        {\n            provide: OWL_DATE_TIME_FORMATS,\n            useValue: DATE_FORMATS\n        },\n        {\n            provide: HTTP_INTERCEPTORS,\n            useClass: WfnewsInterceptor,\n            multi: true\n        },\n        WFMapService,\n        MapConfigService,\n        CommonUtilityService,\n        DocumentManagementService,\n        PublishedIncidentService,\n        LocalStorageService,\n        WatchlistService,\n        PointIdService,\n    ],\n    bootstrap: [\n        AppComponent\n    ]\n})\n\nexport class AppModule { }\n\n","import {RouterModule, Routes} from '@angular/router';\nimport {UnauthorizedPageComponent} from '@wf1/core-ui';\nimport { ActiveWildfireMapComponent } from './components/active-wildfire-map/active-wildfire-map.component';\nimport { AdminContainerDesktop } from './containers/admin/admin-container.component.desktop';\nimport { ResourcesRoutes } from './utils';\nimport { ROLES_UI } from './shared/scopes/scopes';\nimport { NewsAuthGuard } from './services/util/NewsAuthGuard';\nimport { IncidentContainerDesktop } from './containers/incident/incident-container.component.desktop';\nimport { SignOutPageComponent } from './components/sign-out-page/sign-out-page.component';\nimport { WildfirewResourcesComponent } from './components/wildfire-resources/wf-resources.component';\nimport { WFStatsComponent } from './components/wf-stats-component/wf-stats.component';\nimport { ErrorPageComponent } from './components/error-page/error-page.component';\nimport { PublicIncidentPage } from './components/public-incident-page/public-incident-page.component';\nimport { WildfiresListHeaderComponent } from './components/wildfires-list-header/wildfires-list-header.component';\n// Components\n\nconst PROFILE_SCOPES = [[ROLES_UI.ADMIN, ROLES_UI.IM_ADMIN]];\n\nconst PANEL_ROUTES: Routes = [\n\t// { path: '', component: ActionsPanelComponent, pathMatch: 'full', canActivate: [AuthGuard] },\n  { path: 'unauthorized', component: UnauthorizedPageComponent, pathMatch: 'full', outlet: 'root' },\n  { path: ResourcesRoutes.LANDING, redirectTo: ResourcesRoutes.ACTIVEWILDFIREMAP, pathMatch: 'full',},\n  { path: ResourcesRoutes.ACTIVEWILDFIREMAP, component: ActiveWildfireMapComponent, pathMatch: 'full',},\n  { path: ResourcesRoutes.WILDFIRESLIST, component: WildfiresListHeaderComponent, pathMatch: 'full',},\n  { path: ResourcesRoutes.CURRENTSTATISTICS, component: WFStatsComponent, pathMatch: 'full',},\n  { path: ResourcesRoutes.RESOURCES, component: WildfirewResourcesComponent, pathMatch: 'full',},\n  { path: ResourcesRoutes.ADMIN, data:{scopes: PROFILE_SCOPES}, component: AdminContainerDesktop, pathMatch: 'full', canActivate: [NewsAuthGuard],},\n  { path: ResourcesRoutes.ADMIN_INCIDENT, data:{scopes: PROFILE_SCOPES}, component: IncidentContainerDesktop, pathMatch: 'full', canActivate: [NewsAuthGuard],},\n  { path: ResourcesRoutes.PUBLIC_INCIDENT, component: PublicIncidentPage, pathMatch: 'full'},\n  { path: ResourcesRoutes.SIGN_OUT, component: SignOutPageComponent, pathMatch: 'full',},\n  { path: ResourcesRoutes.ERROR_PAGE, component: ErrorPageComponent, pathMatch: 'full',}\n];\n\n\nexport const ROUTING = RouterModule.forRoot(PANEL_ROUTES, {});\n","import { AfterViewInit, Component, ElementRef, Input, NgZone, OnInit, QueryList, ViewChild, ViewChildren } from '@angular/core';\nimport { UntypedFormControl } from '@angular/forms';\nimport { MatExpansionPanel } from '@angular/material/expansion';\nimport { AppConfigService } from '@wf1/core-ui';\nimport { AGOLService } from '../../services/AGOL-service';\nimport { CommonUtilityService } from '../../services/common-utility.service';\nimport { MapConfigService } from '../../services/map-config.service';\nimport { PlaceData } from '../../services/wfnews-map.service/place-data';\nimport { SmkApi } from '../../utils/smk';\nimport * as L from 'leaflet';\nimport { debounceTime } from 'rxjs/operators';\nimport { isMobileView as mobileView, snowPlowHelper } from '../../utils';\nimport { ActivatedRoute, ParamMap, Router } from '@angular/router';\nimport { PublishedIncidentService } from '../../services/published-incident-service';\n\n\nexport type SelectedLayer =\n  'evacuation-orders-and-alerts' |\n  'area-restrictions' |\n  'bans-and-prohibitions' |\n  'smoke-forecast' |\n  'fire-danger' |\n  'local-authorities' |\n  'routes-impacted' |\n  'wildfire-stage-of-control';\n\ndeclare const window: any;\n@Component({\n  selector: 'active-wildfire-map',\n  templateUrl: './active-wildfire-map.component.html',\n  styleUrls: ['./active-wildfire-map.component.scss'],\n})\nexport class ActiveWildfireMapComponent implements OnInit, AfterViewInit {\n  @Input() incidents: any;\n\n  @ViewChild('WildfireStageOfControl') wildfireStageOfControlPanel: MatExpansionPanel;\n  @ViewChild('EvacuationOrdersAndAlerts') evacuationOrdersAndAlertsPanel: MatExpansionPanel;\n  @ViewChild('AreaRestrictions') areaRestrictionsPanel: MatExpansionPanel;\n  @ViewChild('BansAndProhibitions') bansAndProhibitionsPanel: MatExpansionPanel;\n  @ViewChild('SmokeForecast') smokeForecastPanel: MatExpansionPanel;\n  @ViewChild('FireDanger') fireDangerPanel: MatExpansionPanel;\n  @ViewChild('LocalAuthorities') localAuthoritiesPanel: MatExpansionPanel;\n  @ViewChild('RoutesImpacted') routesImpactedPanel: MatExpansionPanel;\n\n  @ViewChildren(\"locationOptions\") locationOptions: QueryList<ElementRef>;\n\n  incidentsServiceUrl: string;\n  mapConfig = null;\n  smkApi: SmkApi;\n  activeFireCountPromise;\n  selectedLayer: SelectedLayer;\n  selectedPanel = 'wildfire-stage-of-control'\n  showAccordion: boolean;\n  searchText = undefined;\n  zone: NgZone;\n\n  placeData: PlaceData;\n  searchByLocationControl = new UntypedFormControl();\n  filteredOptions: any[];\n  SMK: any;\n  leafletInstance: any;\n  searchLocationsLayerGroup: any;\n  markers: any[];\n  url;\n  sortedAddressList: string[];\n\n  public isMobileView = mobileView\n  public snowPlowHelper = snowPlowHelper\n\n  constructor(\n    protected appConfigService: AppConfigService,\n    protected router: Router,\n    protected activedRouter: ActivatedRoute,\n    private appConfig: AppConfigService,\n    private mapConfigService: MapConfigService,\n    private agolService: AGOLService,\n    private publishedIncidentService: PublishedIncidentService,\n    private commonUtilityService: CommonUtilityService,\n  ) {\n    this.incidentsServiceUrl = this.appConfig.getConfig().rest['newsLocal'];\n    this.placeData = new PlaceData();\n    this.markers = new Array();\n    let self = this;\n\n    this.searchByLocationControl.valueChanges.pipe(debounceTime(200)).subscribe((val: string) => {\n      if (!val) {\n        this.filteredOptions = [];\n        self.searchLayerGroup.clearLayers();\n        return;\n      }\n\n      if (val.length > 2) {\n        this.filteredOptions = [];\n        self.searchLayerGroup.clearLayers();\n        this.placeData.searchAddresses(val).then(function (results) {\n          if (results) {\n            results.forEach((result) => {\n              self.sortedAddressList = self.commonUtilityService.sortAddressList(results, val);\n            });\n            self.filteredOptions = self.sortedAddressList;\n          }\n        });\n      }\n    });\n  }\n\n\n  ngAfterViewInit() {\n    this.locationOptions.changes.subscribe(() => {\n      this.locationOptions.forEach((option: ElementRef) => {\n        option.nativeElement.addEventListener('mouseover', this.onLocationOptionOver.bind(this));\n        option.nativeElement.addEventListener('mouseout', this.onLocationOptionOut.bind(this));\n      });\n    });\n\n    this.appConfig.configEmitter.subscribe((config) => {\n      const mapConfig = [];\n\n      this.mapConfigService.getMapConfig()\n        .then((mapState) => {\n          this.SMK = window['SMK'];\n          mapConfig.push(mapState);\n        })\n        .then(() => {\n          const deviceConfig = { viewer: { device: 'desktop' } };\n\n          this.mapConfig = [...mapConfig, deviceConfig, 'theme=wf', '?'];\n        });\n    });\n    this.activedRouter.queryParams.subscribe((params: ParamMap) => {\n      if (params && params['longitude'] && params['latitude']) {\n        const long = Number(params['longitude']);\n        const lat = Number(params['latitude']);\n        this.mapConfigService.getMapConfig().then(() => {\n          const SMK = window['SMK'];\n          let viewer = null;\n          for (const smkMap in SMK.MAP) {\n            if (Object.prototype.hasOwnProperty.call(SMK.MAP, smkMap)) {\n              viewer = SMK.MAP[smkMap].$viewer;\n            }\n          }\n          viewer.panToFeature(window['turf'].point([long, lat]), 15)\n        })\n      }\n    })\n  }\n\n  ngOnInit() {\n    this.url = this.appConfigService.getConfig().application.baseUrl.toString() + this.router.url.slice(1)\n    this.snowPlowHelper(this.url)\n    this.showAccordion = true;\n  }\n\n  getFullAddress(location) {\n    let result = \"\";\n\n    if (location.civicNumber) {\n      result += location.civicNumber\n    }\n\n    if (location.streetName) {\n      result += \" \" + location.streetName\n    }\n\n    if (location.streetQualifier) {\n      result += \" \" + location.streetQualifier\n    }\n\n    if (location.streetType) {\n      result += \" \" + location.streetType\n    }\n\n    return result;\n  }\n\n  get leaflet() {\n    if (!this.leafletInstance) this.leafletInstance = window['L'];\n    return this.leafletInstance;\n  }\n\n  get searchLayerGroup() {\n    if (!this.searchLocationsLayerGroup) this.searchLocationsLayerGroup = this.leaflet.layerGroup().addTo(this.SMK.MAP[1].$viewer.map);\n    return this.searchLocationsLayerGroup;\n  }\n\n  onLocationOptionOver(event) {\n    let long = window.jQuery(event.currentTarget).data(\"loc-long\");\n    let lat = window.jQuery(event.currentTarget).data(\"loc-lat\");\n\n    this.removeMarker([lat, long]);\n\n    if (!long || !lat) return;\n\n    let largerIcon = {\n      iconSize: [40, 38],\n      shadowAnchor: [4, 62],\n      popupAnchor: [1, -34],\n      shadowSize: [41, 41]\n    };\n\n    this.highlight({ loc: [lat, long] }, largerIcon);\n  }\n\n  onLocationOptionOut(event) {\n    let long = window.jQuery(event.currentTarget).data(\"loc-long\");\n    let lat = window.jQuery(event.currentTarget).data(\"loc-lat\");\n\n    this.removeMarker([lat, long]);\n\n    if (!long || !lat) return;\n\n    this.highlight({ loc: [lat, long] });\n  }\n\n  highlight(place, iconSettings?) {\n\n    if (!iconSettings) {\n      iconSettings = {\n        iconSize: [20, 19],\n        iconAnchor: [10, 9],\n        shadowAnchor: [4, 62],\n        popupAnchor: [-3, -76],\n        shadowSize: [21, 21]\n      }\n    }\n\n    const self = this;\n    const geojsonFeature = {\n      \"type\": \"Feature\",\n      \"geometry\": {\n        \"type\": \"Point\",\n        \"coordinates\": place.loc\n      }\n    };\n\n    const starIcon = this.leaflet.icon({\n      iconUrl: \"data:image/svg+xml,%3Csvg version='1.1' id='Capa_1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' viewBox='0 0 55.867 55.867' xml:space='preserve'%3E%3Cpath d='M55.818,21.578c-0.118-0.362-0.431-0.626-0.808-0.681L36.92,18.268L28.83,1.876c-0.168-0.342-0.516-0.558-0.896-0.558 s-0.729,0.216-0.896,0.558l-8.091,16.393l-18.09,2.629c-0.377,0.055-0.689,0.318-0.808,0.681c-0.117,0.361-0.02,0.759,0.253,1.024 l13.091,12.76l-3.091,18.018c-0.064,0.375,0.09,0.754,0.397,0.978c0.309,0.226,0.718,0.255,1.053,0.076l16.182-8.506l16.18,8.506 c0.146,0.077,0.307,0.115,0.466,0.115c0.207,0,0.413-0.064,0.588-0.191c0.308-0.224,0.462-0.603,0.397-0.978l-3.09-18.017 l13.091-12.761C55.838,22.336,55.936,21.939,55.818,21.578z' fill='%23FCBA19'/%3E%3C/svg%3E%0A\",\n      iconSize: iconSettings.iconSize,\n      iconAnchor: iconSettings.iconAnchor,\n      shadowAnchor: iconSettings.shadowAnchor,\n      popupAnchor: iconSettings.popupAnchor,\n      shadowSize: iconSettings.shadowSize,\n    });\n\n    this.leaflet.geoJson(geojsonFeature, {\n      pointToLayer: function (feature, latlng) {\n        // [0] [-123.5082451, 48.4207067]\n        let marker = self.leaflet.marker(latlng, { icon: starIcon });\n        self.markers[self.serializeLatLng(latlng)] = marker;\n        return marker;\n      }\n    }).addTo(self.searchLayerGroup);\n  }\n\n  serializeLatLng(latLng) {\n    let latRounded = Math.round((latLng['lat'] + Number.EPSILON) * 100) / 100;\n    let longRounded = Math.round((latLng['lng'] + Number.EPSILON) * 100) / 100;\n\n    let latLongRounded = {\n      latRounded, longRounded\n    };\n\n    return JSON.stringify(latLongRounded);\n  }\n\n  removeMarker(latLng) {\n    const self = this;\n    this.searchLayerGroup.clearLayers();\n\n    this.filteredOptions.forEach((result) => {\n      const first = this.serializeLatLng({ lat: latLng[0], lng: latLng[1] });\n      const second = this.serializeLatLng({ lat: result.loc[0], lng: result.loc[1] });\n      if (first != second) {\n        self.highlight(result);\n      }\n    });\n  }\n\n  onLocationSelected(selectedOption) {\n    this.snowPlowHelper(this.url, {\n      action: 'location_search',\n      text: selectedOption.address\n    })\n    const self = this;\n    self.searchLayerGroup.clearLayers();\n    let locationControlValue = selectedOption.address ? selectedOption.address : selectedOption.localityName;\n    this.searchByLocationControl.setValue(locationControlValue.trim(), { onlySelf: true, emitEvent: false });\n    this.highlight(selectedOption);\n    this.SMK.MAP[1].$viewer.panToFeature(window['turf'].point(selectedOption.loc), 8);\n  }\n\n  clearSearchLocationControl() {\n    this.searchByLocationControl.reset();\n    this.clearMyLocation()\n  }\n\n  get activeFireCount(): Promise<number> {\n    if (this.activeFireCountPromise) {\n      return this.activeFireCountPromise;\n    }\n    this.activeFireCountPromise = this.publishedIncidentService.getActiveFireCount()\n      .then((resp: any) => {\n        return resp || 0\n      }).catch((e) => {\n        console.error('COUNTSTATS-FAIL');\n        return 'loading...';\n      });\n\n    return this.activeFireCountPromise;\n  }\n\n  initMap(smk: any) {\n    this.smkApi = new SmkApi(smk);\n  }\n\n  onToggleAccordion() {\n    this.showAccordion = !this.showAccordion;\n  }\n\n  onSelectLayer(selectedLayer: SelectedLayer) {\n    this.selectedLayer = selectedLayer;\n    this.selectedPanel = selectedLayer\n    this.snowPlowHelper(this.url, {\n      action: 'feature_layer_navigation',\n      text: selectedLayer\n    })\n    const layers = [\n            /* 00 */ { itemId: 'active-wildfires', visible: true },\n            /* 01 */ { itemId: 'evacuation-orders-and-alerts-wms', visible: false },\n            /* 02 */ { itemId: 'evacuation-orders-and-alerts-wms-highlight', visible: false },\n            /* 03 */ { itemId: 'danger-rating', visible: false },\n            /* 04 */ { itemId: 'bans-and-prohibitions', visible: false },\n            /* 05 */ { itemId: 'bans-and-prohibitions-highlight', visible: false },\n            /* 06 */ { itemId: 'area-restrictions', visible: false },\n            /* 07 */ { itemId: 'area-restrictions-highlight', visible: false },\n            /* 08 */ { itemId: 'fire-perimeters', visible: false },\n            /* 09 */ { itemId: 'bcws-activefires-publicview-inactive', visible: false },\n            /* 10 */ { itemId: 'closed-recreation-sites', visible: false },\n            /* 11 */ { itemId: 'drive-bc-active-events', visible: false },\n            /* 12 */ { itemId: 'bc-fire-centres', visible: true },\n            /* 13 */ { itemId: 'prescribed-fire', visible: false },\n            /* 14 */ { itemId: 'hourly-currentforecast-firesmoke', visible: false },\n            /* 15 */ { itemId: 'clab-indian-reserves', visible: false },\n            /* 16 */ { itemId: 'fnt-treaty-land', visible: false },\n            /* 17 */ { itemId: 'abms-municipalities', visible: false },\n            /* 18 */ { itemId: 'abms-regional-districts', visible: false }\n    ];\n\n    switch (selectedLayer) {\n      case 'evacuation-orders-and-alerts':\n        layers[1].visible = true;\n        break;\n\n      case 'area-restrictions':\n        layers[6].visible = true;\n        layers[7].visible = true;\n        break;\n\n      case 'bans-and-prohibitions':\n        layers[4].visible = true;\n        layers[5].visible = true;\n        break;\n\n      case 'smoke-forecast':\n        layers[14].visible = true\n        break;\n\n      case 'fire-danger':\n        layers[0].visible = true;\n        layers[3].visible = true;\n        break;\n\n      case 'local-authorities':\n        layers[12].visible = true;\n        layers[15].visible = true;\n        layers[16].visible = true;\n        layers[17].visible = true;\n        layers[18].visible = true;\n        break;\n\n      case 'routes-impacted':\n        layers[11].visible = true;\n        break;\n    }\n\n    return this.smkApi.setDisplayContextItemsVisible(...layers);\n  }\n\n  async useMyCurrentLocation() {\n    this.snowPlowHelper(this.url, {\n      action: 'find_my_location'\n    })\n\n    this.searchText = undefined;\n\n    const location = await this.commonUtilityService.getCurrentLocationPromise()\n\n    const long = location.coords.longitude;\n    const lat = location.coords.latitude;\n    if (lat && long) {\n      this.showAreaHighlight([long, lat], 50)\n      this.showLocationMarker({\n        type: 'Point',\n        coordinates: [long, lat]\n      });\n    }\n    this.searchByLocationControl.setValue(lat + ',' + long)\n  }\n\n  showAreaHighlight(center, radius) {\n    const circle = window.turf.circle(center, radius, { steps: 40, units: 'kilometers' });\n    this.smkApi.showFeature('near-me-highlight3x', circle);\n    this.smkApi.panToFeature(circle, 10)\n  }\n\n  showLocationMarker(point) {\n    this.smkApi.showFeature('my-location', point, {\n      pointToLayer: function (geojson, latLong) {\n        return L.marker(latLong, {\n          icon: L.divIcon({\n            className: 'wfone-my-location',\n            html: '<i class=\"material-icons\">my_location</i>',\n            iconSize: [24, 24]\n          })\n        })\n      }\n    })\n  }\n\n  clearMyLocation() {\n    this.smkApi.showFeature('near-me-highlight3x');\n    this.smkApi.showFeature('my-location')\n  }\n\n  searchTextUpdated() {\n    // will need to call News API to fetch the results\n  }\n\n  @ViewChild('grabber') grabber: ElementRef;\n  @ViewChild('resizeBox') resizeBox: ElementRef;\n\n  get grabberElement(): HTMLElement {\n    return this.grabber.nativeElement;\n  }\n\n  get resizeBoxElement(): HTMLElement {\n    return this.resizeBox.nativeElement;\n  }\n\n  private lastPointerPosition = 0\n  dragMove(event) {\n    this.resizeBoxElement.style.height = `${window.innerHeight - event.pointerPosition.y + 20}px`\n    this.lastPointerPosition = event.pointerPosition.y\n    if (this.lastTranslate) {\n      this.resizeBoxElement.style.transform = this.lastTranslate\n      this.lastTranslate = undefined\n      this.resizeBoxElement.style.top = '80vh'\n      this.resizeBoxElement.style.borderRadius = '20px'\n      this.resizeBoxElement.style.borderBottomRightRadius = '0px'\n      this.resizeBoxElement.style.borderBottomLeftRadius = '0px'\n    }\n  }\n\n  private lastTranslate = undefined\n  dragDropped(event) {\n    if (event.dropPoint.y < 65) {\n      this.lastTranslate = this.resizeBoxElement.style.transform\n      this.resizeBoxElement.style.transform = 'none'\n      this.resizeBoxElement.style.top = '50px'\n      this.resizeBoxElement.style.borderRadius = '0px'\n    } else if (event.dropPoint.y > window.innerHeight - 50) {\n      this.lastTranslate = this.resizeBoxElement.style.transform\n      this.resizeBoxElement.style.height = '50px'\n      this.resizeBoxElement.style.transform = 'none'\n      this.resizeBoxElement.style.top = window.innerHeight - 50 + 'px'\n    }\n    this.resizeBoxElement.style.height = `${window.innerHeight - this.lastPointerPosition + 20}px`\n  }\n\n  openLink(link: string) {\n    if (link === 'Disclaimer') {\n      window.open('https://www2.gov.bc.ca/gov/content/home/disclaimer', \"_blank\");\n    }\n    else if (link === 'Privacy') {\n      window.open('https://www2.gov.bc.ca/gov/content/home/privacy', \"_blank\");\n    }\n    else if (link === 'Copyright') {\n      window.open('https://www2.gov.bc.ca/gov/content/home/copyright', \"_blank\");\n    }\n  }\n\n  disclaimerText() {\n    if (screen.width <= 1200) {\n      return 'Legal';\n    } else {\n      return 'Disclaimer and Legal Links';\n    }\n  }\n}\n","<div class=\"container\">\n  <div class=\"top\">\n      <div class=\"header-row\">\n          <div class=\"title\">\n              <h1>Wildfires Map</h1>\n              <h2 class=\"wildfire-count\">\n                  <span class='material-icons-outlined fire-icon'>local_fire_department</span>\n                  {{ activeFireCount | async }} Active Wildfires\n              </h2>\n          </div>\n\n        <div class=\"search-row\">\n            <div class=\"search-bar\">\n                <input type=\"text\" placeholder=\"Search by Location\" aria-label=\"Search\" matInput [formControl]=\"searchByLocationControl\" [matAutocomplete]=\"auto\" class=\"search-location\">\n                <button matSuffix mat-icon-button aria-label=\"Clear\" class=\"input-clear-button\" (click)=\"clearSearchLocationControl()\">\n                    <mat-icon>close</mat-icon>\n                </button>\n                <mat-autocomplete class=\"location-results\" #auto=\"matAutocomplete\" (optionSelected)=\"onLocationSelected($event.option.value)\">\n                    <mat-option class=\"location-mat-option\" *ngFor=\"let option of filteredOptions\"\n                        [value]=\"option\">\n                        <div class=\"location-option\" #locationOptions [attr.data-loc-long]=\"option.loc[1]\" [attr.data-loc-lat]=\"option.loc[0]\">\n                            <div *ngIf=\"option.address !== ''\">\n                                <div>\n                                    <span class=\"address\">{{option.address}}</span>\n                                </div>\n                                <div class=\"locality\">{{option.localityName}} ({{option.localityType}})</div>\n                            </div>\n                            <div *ngIf=\"option.address === ''\">\n                                <div>\n                                    <span class=\"address\">{{option.localityName}}</span> <span> ({{option.localityType}})</span>\n                                </div>\n                            </div>\n                        </div>\n                    </mat-option>\n                </mat-autocomplete>\n            </div>\n            <div class=\"my-location-button\">\n                <button mat-raised-button (click)=\"useMyCurrentLocation()\">\n                    <mat-icon class=\"location-icon\">my_location</mat-icon>\n                    Find My Location\n                </button>\n            </div>\n            <div class=\"my-location-button-min\">\n              <button mat-icon-button (click)=\"useMyCurrentLocation()\"><mat-icon class=\"location-icon\">my_location</mat-icon></button>\n            </div>\n        </div>\n\n        <div>\n            <button mat-button [matMenuTriggerFor]=\"menu\" class=\"disclaimer-dropdown\">{{disclaimerText()}}<mat-icon>expand_more</mat-icon></button>\n            <mat-menu #menu=\"matMenu\">\n                <button mat-menu-item (click)=\"openLink('Disclaimer')\">\n                    Disclaimer\n                </button>\n                <button mat-menu-item (click)=\"openLink('Privacy')\">\n                    Privacy\n                </button>\n                <button mat-menu-item (click)=\"openLink('Copyright')\">\n                    Copyright\n                </button>\n            </mat-menu>\n        </div>\n    </div>\n      <div class=\"divider\">\n          <span>MAP LAYERS</span>\n      </div>\n\n      <div class=\"map-layers\">\n          <div matTooltip=\"Wildfires\" class=\"item\" [class.active]=\"selectedLayer === 'wildfire-stage-of-control'\"\n              (click)=\"onSelectLayer( 'wildfire-stage-of-control' )\">\n              <span class='material-icons-outlined icon'>local_fire_department</span>\n              <span class=\"hide shrink\">Wildfires</span>\n          </div>\n\n          <div matTooltip=\"Evacuation Orders and Alerts\" class=\"item\" [class.active]=\"selectedLayer === 'evacuation-orders-and-alerts'\"\n              (click)=\"onSelectLayer( 'evacuation-orders-and-alerts' )\">\n              <wf-icon class=\"icon\" iconName=\"error\" iconSize=\"small\"></wf-icon>\n              <span class=\"hide shrink\">Evacuation Orders and Alerts</span>\n          </div>\n\n          <div matTooltip=\"Area Restrictions\" class=\"item\"\n              [class.active]=\"selectedLayer === 'area-restrictions'\"\n              (click)=\"onSelectLayer( 'area-restrictions' )\"\n          >\n              <span class=\"icon signpost mat-icon\"></span>\n              <span class=\"hide shrink\">Area Restrictions</span>\n          </div>\n\n          <div matTooltip=\"Bans and Prohibitions\" class=\"item\" [class.active]=\"selectedLayer === 'bans-and-prohibitions'\"\n              (click)=\"onSelectLayer( 'bans-and-prohibitions' )\">\n              <wf-icon class=\"icon\" iconName=\"block\" iconSize=\"small\"></wf-icon>\n              <span class=\"hide shrink\">Bans and Prohibitions</span>\n          </div>\n\n          <div matTooltip=\"Smoke Forecast\" class=\"item\" [class.active]=\"selectedLayer === 'smoke-forecast'\"\n              (click)=\"onSelectLayer( 'smoke-forecast' )\">\n              <wf-icon class=\"icon\" iconName=\"air\" iconSize=\"small\"></wf-icon>\n              <span class=\"hide shrink\">Smoke Forecast</span>\n          </div>\n\n          <div matTooltip=\"Danger Rating\" class=\"item\" [class.active]=\"selectedLayer === 'fire-danger'\" (click)=\"onSelectLayer( 'fire-danger' )\">\n              <wf-icon class=\"icon\" iconName=\"format_list_numbered\" iconSize=\"small\"></wf-icon>\n              <span class=\"hide shrink\">Danger Rating</span>\n          </div>\n\n          <div matTooltip=\"Local Authorities\" class=\"item\" [class.active]=\"selectedLayer === 'local-authorities'\"\n              (click)=\"onSelectLayer( 'local-authorities' )\">\n              <wf-icon class=\"icon\" iconName=\"place\" iconSize=\"small\"></wf-icon>\n              <span class=\"hide shrink\">Local Authorities</span>\n          </div>\n\n          <div matTooltip=\"Road Conditions\" class=\"item\" [class.active]=\"selectedLayer === 'routes-impacted'\"\n              (click)=\"onSelectLayer( 'routes-impacted' )\">\n              <wf-icon class=\"icon\" iconName=\"directions_car_filled\" iconSize=\"small\"></wf-icon>\n              <span class=\"hide shrink\">Road Conditions</span>\n          </div>\n      </div>\n  </div>\n\n  <div class=\"bottom\">\n      <div id=\"panel-details\" [ngClass]=\"showAccordion ? 'details' : 'details close'\">\n          <panel-wildfire-stage-of-control-container-desktop *ngIf=\"selectedPanel === 'wildfire-stage-of-control'\"></panel-wildfire-stage-of-control-container-desktop>\n          <panel-evacuation-orders-and-alerts *ngIf=\"selectedPanel === 'evacuation-orders-and-alerts'\"></panel-evacuation-orders-and-alerts>\n          <panel-area-restrictions *ngIf=\"selectedPanel === 'area-restrictions'\"></panel-area-restrictions>\n          <panel-bans-prohibitions *ngIf=\"selectedPanel === 'bans-and-prohibitions'\"></panel-bans-prohibitions>\n          <panel-smoke-forecast *ngIf=\"selectedPanel === 'smoke-forecast'\"></panel-smoke-forecast>\n          <panel-fire-danger *ngIf=\"selectedPanel === 'fire-danger'\"></panel-fire-danger>\n          <panel-road-conditions *ngIf=\"selectedPanel === 'routes-impacted'\"></panel-road-conditions>\n          <panel-local-authority *ngIf=\"selectedPanel === 'local-authorities'\"></panel-local-authority>\n      </div>\n      <div class=\"map\">\n        <div class=\"identify-panel\"></div>\n        <div class=\"mobile-wildfire-count\">\n          <span style=\"margin: auto; display: flex;\"><span class='material-icons-outlined fire-icon'>local_fire_department</span>{{ activeFireCount | async }} Active Wildfires</span>\n        </div>\n        <wf-map-container class=\"map-container\" [mapConfig]=\"mapConfig\" (mapInitialized)=\"initMap($event)\" (toggleAccordion)=\"onToggleAccordion()\"></wf-map-container>\n      </div>\n      <div #resizeBox id=\"draggable-panel\" class=\"draggable-panel\" cdkDragLockAxis=\"y\" (cdkDragMoved)=\"dragMove($event)\" (cdkDragEnded)=\"dragDropped($event)\" cdkDrag>\n        <div class=\"grab-container\" cdkDragHandle>\n          <div id=\"grabber\" class=\"drag-grabber\"></div>\n          <div style=\"text-align: center; padding: 7px;\">{{selectedPanel === 'wildfire-stage-of-control' ? 'Wildfires' :\n            selectedPanel === 'evacuation-orders-and-alerts' ? 'Evacuation Orders' :\n            selectedPanel === 'area-restrictions' ? 'Area Restrictions' :\n            selectedPanel === 'bans-and-prohibitions' ? 'Bans &amp; Prohibitions' :\n            selectedPanel === 'smoke-forecast' ? 'smoke-forecast' :\n            selectedPanel === 'fire-danger' ? 'Fire Danger' :\n            selectedPanel === 'routes-impacted' ? 'Drive BC' :\n            selectedPanel === 'local-authorities' ? 'Local Authorities' : ''}}</div>\n        </div>\n        <div class=\"panel-container\" style=\"padding-top: 10px;\">\n          <panel-wildfire-stage-of-control-container-desktop *ngIf=\"selectedPanel === 'wildfire-stage-of-control'\"></panel-wildfire-stage-of-control-container-desktop>\n          <panel-evacuation-orders-and-alerts *ngIf=\"selectedPanel === 'evacuation-orders-and-alerts'\"></panel-evacuation-orders-and-alerts>\n          <panel-area-restrictions *ngIf=\"selectedPanel === 'area-restrictions'\"></panel-area-restrictions>\n          <panel-bans-prohibitions *ngIf=\"selectedPanel === 'bans-and-prohibitions'\"></panel-bans-prohibitions>\n          <panel-smoke-forecast *ngIf=\"selectedPanel === 'smoke-forecast'\"></panel-smoke-forecast>\n          <panel-fire-danger *ngIf=\"selectedPanel === 'fire-danger'\"></panel-fire-danger>\n          <panel-road-conditions *ngIf=\"selectedPanel === 'routes-impacted'\"></panel-road-conditions>\n          <panel-local-authority *ngIf=\"selectedPanel === 'local-authorities'\"></panel-local-authority>\n        </div>\n      </div>\n  </div>\n</div>\n","import { ChangeDetectionStrategy, Component } from \"@angular/core\";\nimport { AdminIncidentForm } from \"./admin-incident-form.component\";\n\n@Component({\n    selector: 'wf-admin-incident-desktop',\n    templateUrl: './admin-incident-form.component.html',\n    styleUrls: [\n      '../common/base-collection/collection.component.scss',\n      './admin-incident-form.component.scss'],\n    changeDetection: ChangeDetectionStrategy.OnPush\n  })\n\nexport class AdminIncidentFormDesktop extends AdminIncidentForm {\n}\n","<div class=\"top\">\n  <a class=\"link\" routerLink=\"../admin\" ><mat-icon svgIcon=\"back-icon\" style=\"height:13px; width: 15px;\"></mat-icon> Back to Dashboard</a>\n  <div class=\"title\">\n    <div>\n      <h1>Fire Number: <span *ngIf=\"currentAdminIncident\">{{currentAdminIncident.incidentLabel}}</span><span [ngClass]=\"{'pub-chip': incident.publishedStatus.toLowerCase() === 'published', 'unpub-chip': incident.publishedStatus.toLowerCase() !== 'published'}\">{{incident.publishedStatus}}</span></h1>\n      <h2 class=\"wildfire-count\">\n        <div *ngIf=\"incident.lastPublished\">\n        Last Published: {{getPublishedDate().toDateString()}} - {{getPublishedDate().toLocaleTimeString()}}\n        </div>\n      </h2>\n    </div>\n    <div class=\"button-holder\">\n      <button class=\"preview-btn\" mat-button (click)=\"onShowPreview()\">Show Preview</button>\n      <button id=\"publish-btn\" [disabled]=\"validFormCheck() || publishDisabled\" class=\"publish-btn\" mat-button color=\"primary\" (click)=\"publishChanges()\">Publish Changes</button>\n    </div>\n  </div>\n</div>\n<!-- Main Body Content -->\n<mat-tab-group>\n  <mat-tab label=\"Incident Overview\">\n    <mat-accordion class=\"details\" multi>\n      <mat-expansion-panel #IncidentSummaryPanel class=\"incident-details-panel\" expanded>\n        <mat-expansion-panel-header>\n            <mat-panel-title>\n                <span class=\"panel-title\">Incident Summary</span>\n            </mat-panel-title>\n        </mat-expansion-panel-header>\n        <summary-panel #summaryPanelComponent [incident]=\"incident\"></summary-panel>\n    </mat-expansion-panel>\n      <mat-expansion-panel #IncidentDetailsPanel class=\"incident-details-panel\" expanded>\n          <mat-expansion-panel-header>\n              <mat-panel-title>\n                  <span class=\"panel-title\">Incident Details</span>\n              </mat-panel-title>\n          </mat-expansion-panel-header>\n          <incident-details-panel #detailsPanelComponent [incident]=\"incident\" [formGroup]=\"incidentForm\"></incident-details-panel>\n      </mat-expansion-panel>\n      <mat-expansion-panel #ContactDetailsPanel class=\"contact-details-panel\" expanded>\n        <mat-expansion-panel-header>\n            <mat-panel-title>\n              <span class=\"panel-title\">Contact</span>\n            </mat-panel-title>\n        </mat-expansion-panel-header>\n        <contacts-details-panel [incident]=\"incident\" [formGroup]=\"incidentForm\"></contacts-details-panel>\n      </mat-expansion-panel>\n      <mat-expansion-panel #ResponseDetailsPanel class=\"response-details-panel\" expanded>\n        <mat-expansion-panel-header>\n            <mat-panel-title>\n              <span class=\"panel-title\">Response</span>\n            </mat-panel-title>\n        </mat-expansion-panel-header>\n        <response-details-panel [incident]=\"incident\" [formGroup]=\"incidentForm\"></response-details-panel>\n      </mat-expansion-panel>\n      <mat-expansion-panel #EvacuationDetailsPanel class=\"evacuation-details-panel\" expanded>\n        <mat-expansion-panel-header>\n            <mat-panel-title>\n              <span class=\"panel-title\">Evacuation Orders and Alerts</span>\n            </mat-panel-title>\n        </mat-expansion-panel-header>\n        <evac-orders-details-panel #EvacOrderPanel [incident]=\"incident\" [formGroup]=\"incidentForm\"></evac-orders-details-panel>\n      </mat-expansion-panel>\n      <mat-expansion-panel #AreaRestrictionsDetailsPanel class=\"area-restrictions-details-panel\" expanded>\n        <mat-expansion-panel-header>\n            <mat-panel-title>\n              <span class=\"panel-title\">Area Restrictions</span>\n            </mat-panel-title>\n        </mat-expansion-panel-header>\n        <area-restrictions-details-panel #AreaRestrictionsPanel [incident]=\"incident\" [formGroup]=\"incidentForm\"></area-restrictions-details-panel>\n      </mat-expansion-panel>\n    </mat-accordion>\n  </mat-tab>\n  <mat-tab label=\"Incident Details\">\n    <ckeditor [editor]=\"Editor\" [(ngModel)]=\"incident.incidentOverview\" (ready)=\"onReady($event)\"></ckeditor>\n  </mat-tab>\n  <mat-tab label=\"Image Gallery\">\n    <image-gallery-panel [incident]=\"currentAdminIncident\"></image-gallery-panel>\n  </mat-tab>\n  <mat-tab label=\"Video Gallery\">\n    <video-gallery-panel [incident]=\"currentAdminIncident\"></video-gallery-panel>\n  </mat-tab>\n  <mat-tab label=\"Maps\">\n    <maps-panel [incident]=\"currentAdminIncident\"></maps-panel>\n  </mat-tab>\n</mat-tab-group>\n","import { ChangeDetectorRef,  Directive, Input, OnChanges, OnInit, SimpleChanges, ViewChild } from '@angular/core';\nimport { UntypedFormBuilder, UntypedFormControl, UntypedFormGroup, Validators } from '@angular/forms';\nimport { ActivatedRoute, ParamMap, Router } from '@angular/router';\nimport { IncidentCauseResource, WildfireIncidentResource } from '@wf1/incidents-rest-api';\nimport * as Editor from '@ckeditor/ckeditor5-build-decoupled-document';\nimport { CustomImageUploader } from './incident-details-panel/custom-uploader';\nimport { MatLegacyDialog as MatDialog } from '@angular/material/legacy-dialog';\nimport { MatLegacySnackBar as MatSnackBar } from '@angular/material/legacy-snack-bar';\nimport { PublishDialogComponent } from './publish-dialog/publish-dialog.component';\nimport { PublishedIncidentService } from '../../services/published-incident-service';\nimport { IncidentDetailsPanel } from './incident-details-panel/incident-details-panel.component';\nimport { ContactsDetailsPanel } from './contacts-details-panel/contacts-details-panel.component';\nimport { HttpClient } from '@angular/common/http';\nimport { EvacOrdersDetailsPanel } from './evac-orders-details-panel/evac-orders-details-panel.component';\nimport { AreaRestrictionsDetailsPanel } from './area-restrictions-details-panel/area-restrictions-details-panel.component';\n\n@Directive()\nexport class AdminIncidentForm implements OnInit, OnChanges {\n  // This is a stub used for testing purposes only\n  // when an actual resource model is in place, use that\n  // and load from the store/api\n  @Input() adminIncident: any;\n  @Input() adminIncidentCause: any;\n  @ViewChild('detailsPanelComponent') detailsPanelComponent: IncidentDetailsPanel;\n  @ViewChild('ContactDetailsPanel') contactDetailsPanelComponent: ContactsDetailsPanel;\n  @ViewChild('EvacOrderPanel') evacOrdersDetailsPanel: EvacOrdersDetailsPanel;\n  @ViewChild('AreaRestrictionsPanel') areaRestrictionsDetailsPanel: AreaRestrictionsDetailsPanel;\n\n  public Editor = Editor;\n\n  public publishDisabled = false;\n\n  public incident = {\n    fireNumber: 0,\n    wildfireYear: new Date().getFullYear(),\n    wildfireIncidentGuid: '',\n    incidentNumberSequence: 0,\n    fireName: undefined,\n    traditionalTerritory: undefined,\n    lastPublished: undefined,\n    publishedStatus: 'DRAFT',\n    fireOfNote: false,\n    location: undefined,\n    sizeType: 1,\n    sizeHectares: 0,\n    sizeComments: undefined,\n    cause: 0,\n    stageOfControlCode: undefined,\n    causeComments: undefined,\n    responseComments: undefined,\n    wildifreCrewsInd: false,\n    crewsComments: undefined,\n    aviationInd: false,\n    aviationComments: undefined,\n    incidentManagementInd: false,\n    incidentManagementComments: undefined,\n    heavyEquipmentInd: false,\n    heavyEquipmentComments: undefined,\n    structureProtectionInd: false,\n    structureProtectionComments: undefined,\n    contact: {\n      isPrimary: true,\n      fireCentre: null,\n      phoneNumber: null,\n      emailAddress: null\n    },\n    geometry: {\n      x: null,\n      y: null\n    },\n    incidentOverview: '',\n    evacOrders: [],\n    mapAttachments: [],\n    incidentData: null\n  }\n\n  wildFireYear: string;\n  incidentNumberSequnce: string;\n  currentAdminIncident: WildfireIncidentResource;\n  currentAdminIncidentCause: IncidentCauseResource;\n  publishedIncidentType: string;\n  publishedIncidentDetailGuid: string;\n\n  private loaded = false;\n\n  public readonly incidentForm: UntypedFormGroup\n\n  constructor(private readonly formBuilder: UntypedFormBuilder,\n              private router: ActivatedRoute,\n              private componentRouter: Router,\n              protected cdr: ChangeDetectorRef,\n              protected dialog: MatDialog,\n              private publishedIncidentService: PublishedIncidentService,\n              protected snackbarService: MatSnackBar,\n              protected http: HttpClient) {\n    this.incidentForm = this.formBuilder.group({\n      fireName: [],\n      incidentNumberSequence: [],\n      incidentLocation:[],\n      traditionalTerritory: [],\n      lastPublished: [],\n      publishedStatus: [],\n      fireOfNote: [],\n      location: [],\n      sizeType: [],\n      sizeHectares: [],\n      incidentSituation: [],\n      sizeComments: [],\n      cause: [],\n      causeComments: [],\n      responseComments:[],\n      wildifreCrewsInd: [],\n      crewsComments: [],\n      aviationInd: [],\n      aviationComments: [],\n      incidentManagementInd: [],\n      incidentManagementComments: [],\n      heavyEquipmentInd: [],\n      heavyEquipmentComments: [],\n      structureProtectionInd: [],\n      structureProtectionComments: [],\n      contact: this.formBuilder.group({\n        fireCentre: [],\n        phoneNumber: new UntypedFormControl('', [Validators.pattern(/^(\\+\\d{1,2}\\s)?\\(?\\d{3}\\)?[\\s.-]\\d{3}[\\s.-]\\d{4}$/)]),\n        emailAddress: new UntypedFormControl('', [Validators.pattern(/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\\.[a-zA-Z0-9-]+)*$/)])\n      }),\n      evacOrders: this.formBuilder.array([])\n    })\n  }\n\n  getPublishedDate () {\n    return this.incident.lastPublished ? new Date(this.incident.lastPublished) : new Date(0)\n  }\n\n  validFormCheck () {\n    const contactControl = this.incidentForm.get('contact')\n    return (contactControl.get('emailAddress').hasError('required') ||\n           contactControl.get('emailAddress').hasError('pattern') ||\n           contactControl.get('phoneNumber').hasError('required') ||\n           contactControl.get('phoneNumber').hasError('pattern'))\n  }\n\n  ngOnInit() {\n    this.router.queryParams.subscribe(\n      (params:ParamMap) => {\n        if (params && params['wildFireYear'] && params['incidentNumberSequence']) {\n          this.wildFireYear = params['wildFireYear'];\n          this.incidentNumberSequnce = params['incidentNumberSequence']\n\n          const self = this;\n\n          this.publishedIncidentService.fetchIMIncident(this.wildFireYear, this.incidentNumberSequnce).subscribe(incidentResponse => {\n            self.currentAdminIncident = incidentResponse.response;\n            this.publishedIncidentType = self.currentAdminIncident.type;\n            (self.incident as any).discoveryDate = new Date(self.currentAdminIncident.discoveryTimestamp).toLocaleString();\n            (self.incident as any).fireCentreOrgUnitName = self.currentAdminIncident.fireCentreOrgUnitName;\n            (self.incident as any).incidentStatusCode = self.currentAdminIncident.incidentStatusCode;\n            self.incident.incidentData = self.currentAdminIncident\n            self.incident.geometry.x = self.currentAdminIncident.incidentLocation.longitude\n            self.incident.geometry.y = self.currentAdminIncident.incidentLocation.latitude\n            self.incident.fireNumber = self.currentAdminIncident.incidentNumberSequence;\n            self.incident.wildfireYear = self.currentAdminIncident.wildfireYear;\n            self.incident.fireOfNote = self.currentAdminIncident.fireOfNotePublishedInd;\n            self.incident.incidentNumberSequence= self.currentAdminIncident.incidentNumberSequence;\n            self.incident.fireName = self.currentAdminIncident.incidentName || self.currentAdminIncident.incidentLabel;\n            self.incident.publishedStatus = 'DRAFT';\n            self.incident.location = self.currentAdminIncident.incidentLocation.geographicDescription;\n            self.incident.wildfireIncidentGuid = self.currentAdminIncident.wildfireIncidentGuid;\n\n            self.incident.sizeType = 2\n            self.incident.sizeHectares = self.currentAdminIncident.incidentSituation.fireSizeHectares\n            self.incident.sizeComments = 'Fire size is based on most current information available.'\n\n            const causeCode = self.currentAdminIncident.suspectedCauseCategoryCode === 'Undetermined' ? 3 : self.currentAdminIncident.suspectedCauseCategoryCode === 'Natural' ? 2 : 1\n            self.incident.cause = causeCode\n            self.detailsPanelComponent.setCauseDisclaimer(causeCode)\n            self.incident.causeComments = self.detailsPanelComponent.causeOptions.find(c => c.id === causeCode).disclaimer\n\n            self.incident.contact.isPrimary = true;\n\n            self.incident.contact.fireCentre = self.currentAdminIncident.fireCentreOrgUnitIdentifier\n\n            this.areaRestrictionsDetailsPanel.getAreaRestrictions()\n\n            this.http.get('../../../../assets/data/fire-center-contacts-agol.json').subscribe(data => {\n              self.incident.contact.phoneNumber = data[self.incident.contact.fireCentre].phone\n              self.incident.contact.emailAddress = data[self.incident.contact.fireCentre].url\n              this.incidentForm.patchValue(this.incident);\n              this.cdr.detectChanges();\n            });\n\n            incidentResponse.getPublishedIncident.subscribe((response) => {\n              self.publishedIncidentDetailGuid = response.publishedIncidentDetailGuid;\n              self.incident.traditionalTerritory = response.traditionalTerritoryDetail;\n              self.incident.lastPublished = response.publishedTimestamp;\n              self.incident.location = response.incidentLocation\n              self.incident.sizeComments = response.incidentSizeDetail ? response.incidentSizeDetail : 'Fire size is based on most current information available.';\n              if (response.incidentSizeDetail && response.incidentSizeDetai.includes('estimated')) {\n                self.incident.sizeType = 1;\n              }\n              else if (response.incidentSizeDetail && response.incidentSizeDetai.includes('mapped')) {\n                self.incident.sizeType = 0\n              }\n              else {\n                self.incident.sizeType = 2\n              }\n              self.incident.causeComments = response.incidentCauseDetail;\n\n              self.incident.publishedStatus = response.newsPublicationStatusCode;\n              self.incident.responseComments = response.resourceDetail;\n\n              self.incident.wildifreCrewsInd = response.wildfireCrewResourcesInd;\n              self.incident.crewsComments = response.wildfireCrewResourcesDetail;\n\n              self.incident.aviationInd = response.wildfireAviationResourceInd;\n              self.incident.aviationComments = response.wildfireAviationResourceDetail;\n\n              self.incident.incidentManagementInd = response.incidentMgmtCrewRsrcInd;\n              self.incident.incidentManagementComments = response.incidentMgmtCrewRsrcDetail;\n              self.incident.heavyEquipmentInd = response.heavyEquipmentResourcesInd;\n              self.incident.heavyEquipmentComments = response.heavyEquipmentResourcesDetail;\n              self.incident.structureProtectionInd = response.structureProtectionRsrcInd;\n              self.incident.structureProtectionComments = response.structureProtectionRsrcDetail;\n\n              self.incident.contact.fireCentre = response.contactOrgUnitIdentifer.toString();\n              self.incident.contact.phoneNumber = response.contactPhoneNumber;\n              self.incident.contact.emailAddress = response.contactEmailAddress;\n              self.incident.incidentOverview = response.incidentOverview;\n\n              this.evacOrdersDetailsPanel.getEvacOrders()\n            }, (error) => {\n              console.log('No published data found...')\n              console.error(error)\n              self.publishedIncidentDetailGuid = null;\n            })\n\n            this.incidentForm.patchValue(this.incident);\n            this.cdr.detectChanges();\n          },\n          (incidentResponseError) => {\n            console.error(incidentResponseError)\n            this.snackbarService.open('Failed to fetch Incident: ' + JSON.stringify(incidentResponseError), 'OK', { duration: 10000, panelClass: 'snackbar-error' });\n          });\n        }\n      }\n    )\n  }\n\n  ngOnChanges(changes: SimpleChanges) {\n    // TODO: This can be removed once the onInit is updated to map the form correctly\n  }\n\n  nullEmptyStrings(value: string) {\n    return !value ? null : value\n  }\n\n  publishChanges () {\n    this.publishDisabled = true;\n    this.cdr.detectChanges();\n    const self = this;\n    let dialogRef = this.dialog.open(PublishDialogComponent, {\n      width: '350px',\n    });\n    dialogRef.afterClosed().subscribe(result => {\n      if (result && result.publish) {\n        const publishedIncidentResource = {\n          publishedIncidentDetailGuid: this.publishedIncidentDetailGuid,\n          incidentGuid: this.currentAdminIncident['wildfireIncidentGuid'],\n          newsCreatedTimestamp: new Date().valueOf().toString(),\n          discoveryDate: new Date().valueOf().toString(),\n          newsPublicationStatusCode: 'PUBLISHED',\n          publishedTimestamp: new Date(),\n          fireOfNoteInd: this.incident.fireOfNote,\n          incidentName: this.incident.fireName,\n          incidentLocation: this.nullEmptyStrings(this.incident.location),\n          incidentOverview: this.nullEmptyStrings(this.incident.incidentOverview),\n          traditionalTerritoryDetail: this.nullEmptyStrings(this.incident.traditionalTerritory),\n          incidentSizeDetail: this.nullEmptyStrings(this.incident.sizeComments),\n          incidentCauseDetail: this.nullEmptyStrings(this.incident.causeComments),\n          contactOrgUnitIdentifer: this.incident.contact.fireCentre,\n          contactPhoneNumber: this.nullEmptyStrings(this.incident.contact.phoneNumber),\n          contactEmailAddress: this.nullEmptyStrings(this.incident.contact.emailAddress),\n          resourceDetail: this.nullEmptyStrings(this.incident.responseComments),\n          wildfireCrewResourcesInd: this.incident.wildifreCrewsInd,\n          wildfireCrewResourcesDetail: this.nullEmptyStrings(this.incident.crewsComments),\n          wildfireAviationResourceInd: this.incident.aviationInd,\n          wildfireAviationResourceDetail: this.nullEmptyStrings(this.incident.aviationComments),\n          heavyEquipmentResourcesInd: this.incident.heavyEquipmentInd,\n          heavyEquipmentResourcesDetail: this.nullEmptyStrings(this.incident.heavyEquipmentComments),\n          incidentMgmtCrewRsrcInd: this.incident.incidentManagementInd,\n          incidentMgmtCrewRsrcDetail: this.nullEmptyStrings(this.incident.incidentManagementComments),\n          structureProtectionRsrcInd: this.incident.structureProtectionInd,\n          structureProtectionRsrcDetail: this.nullEmptyStrings(this.incident.structureProtectionComments),\n          type: this.publishedIncidentType,\n          '@type' : 'http://wfim.nrs.gov.bc.ca/v1/publishedIncident'\n        };\n\n        self.publishIncident(publishedIncidentResource).then(doc => {\n          this.snackbarService.open('Incident Published Successfully', 'OK', { duration: 100000, panelClass: 'snackbar-success-v2' });\n          this.publishedIncidentDetailGuid = doc.publishedIncidentDetailGuid\n          // Handle evac orders\n          this.evacOrdersDetailsPanel.persistEvacOrders()\n        }).catch(err => {\n            this.snackbarService.open('Failed to Publish Incident: ' + JSON.stringify(err.message), 'OK', { duration: 10000, panelClass: 'snackbar-error' });\n          }).finally(() => {\n            self.loaded = false;\n            self.publishDisabled = false;\n            this.cdr.detectChanges();\n          }).catch(err => {\n            this.snackbarService.open('Failed to Publish Incident: ' + JSON.stringify(err.message), 'OK', { duration: 10000, panelClass: 'snackbar-error' });\n          })\n      } else {\n        this.publishDisabled = false;\n        this.cdr.detectChanges();\n      }\n    });\n  }\n\n  publishIncident(incident): Promise<any> {\n    return this.publishedIncidentService.saveIMPublishedIncident(incident).toPromise();\n  }\n\n  onShowPreview() {\n    let mappedIncident = {\n      incidentGuid: this.currentAdminIncident['wildfireIncidentGuid'],\n      incidentNumberLabelFull: this.currentAdminIncident.incidentLabel,\n      stageOfControlCode: this.currentAdminIncident.incidentSituation.stageOfControlCode,\n      generalIncidentCauseCatId: this.incidentForm.controls['cause'].value,\n      discoveryDate: new Date(this.incident.incidentData.discoveryTimestamp).toString(),\n      fireCentre: this.currentAdminIncident.fireCentreOrgUnitIdentifier,\n      fireOfNoteInd: this.incidentForm.controls['fireOfNote'].value,\n      incidentName: this.incidentForm.controls['fireName'].value,\n      incidentLocation: this.incidentForm.controls['location'].value || this.currentAdminIncident.incidentLocation.geographicDescription,\n      incidentOverview: this.incident.incidentOverview,\n      traditionalTerritoryDetail: this.incidentForm.controls['traditionalTerritory'].value,\n      incidentSizeType: this.incidentForm.controls['sizeType'].value,\n      incidentSizeEstimatedHa: this.incidentForm.controls['sizeHectares'].value,\n      incidentSizeDetail: this.incidentForm.controls['sizeComments'].value,\n      incidentCauseDetail: this.incidentForm.controls['causeComments'].value,\n      contactOrgUnitIdentifer: (this.incidentForm.controls['contact'] as UntypedFormGroup).controls['fireCentre'].value,\n      contactPhoneNumber:  (this.incidentForm.controls['contact'] as UntypedFormGroup).controls['phoneNumber'].value,\n      contactEmailAddress:  (this.incidentForm.controls['contact'] as UntypedFormGroup).controls['emailAddress'].value,\n      wildfireCrewResourcesInd: this.incidentForm.controls['wildifreCrewsInd'].value,\n      wildfireCrewResourcesDetail: this.incidentForm.controls['crewsComments'].value,\n      wildfireAviationResourceInd: this.incidentForm.controls['aviationInd'].value,\n      wildfireAviationResourceDetail: this.incidentForm.controls['aviationComments'].value,\n      heavyEquipmentResourcesInd: this.incidentForm.controls['heavyEquipmentInd'].value,\n      heavyEquipmentResourcesDetail: this.incidentForm.controls['heavyEquipmentComments'].value,\n      incidentMgmtCrewRsrcInd: this.incidentForm.controls['incidentManagementInd'].value,\n      incidentMgmtCrewRsrcDetail: this.incidentForm.controls['incidentManagementComments'].value,\n      structureProtectionRsrcInd: this.incidentForm.controls['structureProtectionInd'].value,\n      structureProtectionRsrcDetail: this.incidentForm.controls['structureProtectionComments'].value,\n      lastUpdatedTimestamp: new Date(this.incident.incidentData.lastUpdatedTimestamp).toString(),\n      latitude: this.incident.incidentData.incidentLocation.latitude,\n      longitude: this.incident.incidentData.incidentLocation.longitude,\n      fireYear: this.incident.wildfireYear,\n      resourceDetail: this.incidentForm.controls['responseComments'].value,\n    }\n\n    if (localStorage.getItem('preview_incident') != null) {\n      localStorage.removeItem('preview_incident');\n    }\n\n    localStorage.setItem('preview_incident', JSON.stringify(mappedIncident));\n\n    const url = this.componentRouter.serializeUrl(\n      this.componentRouter.createUrlTree(['incidents'], { queryParams: { preview: true } })\n    );\n\n    window.open(url, '_blank');\n  }\n\n  // for decoupled editor\n  public onReady( editor ) {\n    editor.ui.getEditableElement().parentElement.insertBefore(\n        editor.ui.view.toolbar.element,\n        editor.ui.getEditableElement()\n    );\n\n    editor.plugins.get( 'FileRepository' ).createUploadAdapter = (loader) => {\n      return new CustomImageUploader( loader )\n    }\n  }\n}\n","<ng-container [formGroup]=\"formGroup\" class=\"incident-form\">\n  <mat-card class=\"info-card news-form-card\">\n    <div *ngIf=\"areaRestrictions === null || areaRestrictions.length === 0\">\n      There are no current Area Restrictions\n    </div>\n    <fieldset class=\"field-set\" formGroupName=\"contact\" *ngFor = \"let item of areaRestrictions\">\n      <legend>Area Restriction Fields</legend>\n      <div class=\"news-form\">\n        <div class=\"field size-third\">\n          <mat-form-field class=\"item-full-width\" appearance=\"standard\" floatLabel=\"always\">\n            <mat-label class=\"label required\">Area Restriction Name</mat-label>\n            <input matInput class=\"disabled-input\" type=\"text\" [value]=\"item.name\" disabled>\n          </mat-form-field>\n        </div>\n        <div class=\"field size-two-thirds\">\n          <mat-form-field class=\"item-full-width\" appearance=\"standard\" floatLabel=\"always\">\n            <mat-label class=\"label\">Information Bulletin URL</mat-label>\n            <input matInput class=\"disabled-input\" type=\"text\" [value]=\"item.bulletinUrl\" disabled>\n          </mat-form-field>\n        </div>\n      </div>\n    </fieldset>\n  </mat-card>\n</ng-container>\n","import { Component, Input, OnInit} from '@angular/core';\nimport { UntypedFormGroup } from '@angular/forms';\nimport { AreaRestrictionsOption } from '../../../conversion/models';\nimport { AGOLService } from '../../../services/AGOL-service';\n\n@Component({\n  selector: 'area-restrictions-details-panel',\n  templateUrl: './area-restrictions-details-panel.component.html',\n  styleUrls: ['./area-restrictions-details-panel.component.scss'],\n\n})\nexport class AreaRestrictionsDetailsPanel implements OnInit {\n  @Input() public readonly formGroup: UntypedFormGroup\n  @Input() public incident\n\n  areaRestrictions : AreaRestrictionsOption[] = []\n\n  constructor(private agolService: AGOLService) {\n  }\n\n  ngOnInit() {\n    this.getAreaRestrictions()\n  }\n\n\n  getAreaRestrictions () {\n    if(this.incident.geometry.x && this.incident.geometry.y){\n      this.agolService.getAreaRestrictions({ x: this.incident.geometry.x, y: this.incident.geometry.y}).subscribe(response => {\n        if (response.features) {\n          for (const element of response.features) {\n            this.areaRestrictions.push({\n              protRsSysID: element.attributes.PROT_RA_SYSID,\n              name: element.attributes.NAME,\n              accessStatusEffectiveDate: element.attributes.ACCESS_STATUS_EFFECTIVE_DATE,\n              fireCentre: element.attributes.FIRE_CENTRE_NAME,\n              fireZone: element.attributes.FIRE_ZONE_NAME,\n              bulletinUrl: element.attributes.BULLETIN_URL\n            })\n          }\n        }\n      })\n    }\n  }\n}\n","import { Component, Inject } from '@angular/core';\nimport { MAT_DIALOG_DATA, MatDialogRef } from '@angular/material/dialog';\nimport { AttachmentResource } from '@wf1/incidents-rest-api/model/attachmentResource';\n\nexport class DialogData {\n    public attachment: AttachmentResource;\n}\n\n@Component({\n    selector: 'contact-us-dialog',\n    templateUrl: 'contact-us-dialog.component.html',\n    styleUrls: ['./contact-us-dialog.component.scss']\n})\nexport class ContactUsDialogComponent {\n  public title = ''\n  public file: File;\n\n    constructor (\n      public dialogRef: MatDialogRef<ContactUsDialogComponent>,\n      @Inject(MAT_DIALOG_DATA) public data: any\n      ) {}\n  \n      callFireCentre(phoneNumber:string) {\n        const parsedPhoneNumber = parseInt(phoneNumber.replace(/-/g, \"\"));\n        window.open(`tel:${parsedPhoneNumber}`, '_system');\n      }\n    \n      emailFireCentre(recipientEmail:string) {\n        const mailtoUrl = `mailto:${recipientEmail}`;\n        window.location.href = mailtoUrl;\n      }\n}\n","<div class=\"dialog-container\">\n  <div>\n    <h1 mat-dialog-title>Contact Us \n      <span class=\"material-icons-outlined\" [mat-dialog-close]=\"false\">clear</span> \n    </h1>\n  </div>\n  <div class=\"dialog-content publish-dialog-content\" mat-dialog-content>\n    <div class=\"fire-centre\">\n      {{data.fireCentre}}\n    </div>\n    <div class=\"contacts\">\n      <div style=\"display: flex;\"><span class=\"material-icons-outlined\" style=\"padding-right: 10px;\">email</span><span>Email Address</span></div>\n      <span>{{data.email}}</span>\n    </div>\n    <div class=\"contacts\">\n      <div style=\"display: flex;\"><span class=\"material-icons\" style=\"padding-right: 10px;\">call</span><span>Phone Number</span></div>\n      <span>{{data.phoneNumber}}</span>\n    </div>\n\n    <div class=\"buttons-row\">\n      <button mat-button class=\"mobile-button\" (click)=\"callFireCentre(data.phoneNumber)\">\n          <span class=\"material-icons\">call</span>\n          Call Us\n      </button>\n      <button mat-button class=\"mobile-button\" (click)=\"emailFireCentre(data.email)\">\n          <span class=\"material-icons-outlined\">email</span>\n          Email Us\n      </button>\n    </div>\n  </div>\n</div>\n","import { HttpClient } from '@angular/common/http';\nimport { Component, Input, OnInit } from '@angular/core';\nimport { UntypedFormGroup } from '@angular/forms';\nimport { Observable } from 'rxjs';\nimport { fireCentreOption } from '../../../conversion/models';\nimport { FireCentres } from '../../../utils';\n\n@Component({\n  selector: 'contacts-details-panel',\n  templateUrl: './contacts-details-panel.component.html',\n  styleUrls: ['./contacts-details-panel.component.scss',\n    '../../base/base.component.scss']\n})\nexport class ContactsDetailsPanel implements OnInit {\n  @Input() public readonly formGroup: UntypedFormGroup\n  @Input() public incident\n\n  public contacts: any\n  public fireCentreOptions : fireCentreOption[] = []\n\n  constructor(protected http: HttpClient) {\n  }\n\n  ngOnInit() {\n    this.getFireCentres();\n    this.getFireCentreContacts().subscribe(data => {\n      this.contacts = data\n     });\n\n  }\n\n  setDefaultContactInfo (value) {\n    const control = this.formGroup.get(\"contact\")\n    if (Object.prototype.hasOwnProperty.call(this.contacts, value)) {\n      control.patchValue({\n        phoneNumber: this.contacts[value].phone,\n        emailAddress: this.contacts[value].url,\n        fireCentre: value\n      })\n    }\n  }\n\n  public getFireCentreContacts (): Observable<any> {\n    return this.http.get('../../../../assets/data/fire-center-contacts-agol.json')\n  }\n\n  getFireCentres(){\n    this.fireCentreOptions = FireCentres\n  }\n}\n","<ng-container [formGroup]=\"formGroup\" class=\"incident-form\">\n  <mat-card class=\"info-card news-form-card\">\n    <fieldset class=\"field-set\" formGroupName=\"contact\">\n      <legend style=\"display: none\">Contact Details Card</legend>\n      <div class=\"news-form\">\n          <div class=\"field size-third\">\n            <mat-form-field appearance=\"standard\" class=\"item-full-width\">\n              <mat-label>Fire Centre</mat-label>\n              <mat-select appWFSingleSelect appWFPlaceholder=\"Select...\"\n              aria-label=\"Type\"\n              formControlName=\"fireCentre\"\n              [(ngModel)]=\"incident.contact.fireCentre\"\n              [options]=\"fireCentreOptions\"\n              (valueChange)=\"setDefaultContactInfo($event)\">\n                <mat-option value=\"\">\n                  <span class=\"placeholder\">Select...</span>\n                </mat-option>\n                <mat-option *ngFor = \"let item of fireCentreOptions\" value=\"{{item.code}}\">\n                  <span>{{item.description}}</span>\n                </mat-option>\n              </mat-select>\n            </mat-form-field>\n          </div>\n          <div class=\"field size-third\">\n            <mat-form-field class=\"item-full-width\" appearance=\"standard\" floatLabel=\"always\">\n              <mat-label class=\"label required\">Phone Number</mat-label>\n              <input matInput type=\"text\" [(ngModel)]=\"incident.contact.phoneNumber\" formControlName=\"phoneNumber\" pattern=\"^(\\+\\d{1,2}\\s)?\\(?\\d{3}\\)?[\\s.-]\\d{3}[\\s.-]\\d{4}$\">\n              <mat-error *ngIf=\"formGroup.get('contact').get('phoneNumber').hasError('required')\">\n                Phone number is <strong>required</strong>\n              </mat-error>\n              <mat-error *ngIf=\"!formGroup.get('contact').get('phoneNumber').hasError('required') && formGroup.get('contact').get('phoneNumber').hasError('pattern')\">\n                Please enter a valid Phone Number\n              </mat-error>\n            </mat-form-field>\n          </div>\n          <div class=\"field size-third\" >\n            <mat-form-field class=\"item-full-width\" appearance=\"standard\" floatLabel=\"always\">\n              <mat-label class=\"label required\">Email Address</mat-label>\n              <input matInput type=\"text\" [(ngModel)]=\"incident.contact.emailAddress\" formControlName=\"emailAddress\" pattern=\"^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\\.[a-zA-Z0-9-]+)*$\">\n              <mat-error *ngIf=\"formGroup.get('contact').get('emailAddress').hasError('required')\">\n                EMail Address is <strong>required</strong>\n              </mat-error>\n              <mat-error *ngIf=\"!formGroup.get('contact').get('emailAddress').hasError('required') && formGroup.get('contact').get('emailAddress').hasError('pattern')\">\n                Please enter a valid Email Address\n              </mat-error>\n            </mat-form-field>\n          </div>\n        </div>\n    </fieldset>\n  </mat-card>\n</ng-container>\n","<ng-container [formGroup]=\"formGroup\" class=\"incident-form\">\n  <mat-card class=\"info-card news-form-card\">\n    <div *ngIf=\"evacOrders === null || evacOrders.length === 0\">\n      There are no current Evacuation Orders or Alerts\n    </div>\n    <fieldset class=\"field-set\" formGroupName=\"contact\" *ngFor = \"let item of evacOrders\">\n      <legend>Evac Order Fields</legend>\n      <div class=\"news-form\">\n        <div class=\"field size-third\">\n          <mat-form-field appearance=\"standard\" class=\"item-full-width\">\n            <mat-label>Type</mat-label>\n            <mat-select class=\"disabled-input\" appWFSingleSelect appWFPlaceholder=\"Select...\"\n                        aria-label=\"Type\"\n                        [value]=\"item.orderAlertStatus\" disabled>\n              <mat-option value=\"Order\">\n                <span>Order</span>\n              </mat-option>\n              <mat-option value=\"Alert\">\n                <span>Alert</span>\n              </mat-option>\n            </mat-select>\n          </mat-form-field>\n        </div>\n        <div class=\"field size-third\">\n          <mat-form-field class=\"item-full-width\" appearance=\"standard\" floatLabel=\"always\">\n            <mat-label class=\"label required\">Evacuation Name</mat-label>\n            <input matInput class=\"disabled-input\" type=\"text\" placeholder=\"Evacuation Name\" [value]=\"item.eventName\" disabled>\n          </mat-form-field>\n        </div>\n        <div class=\"field size-third\">\n          <mat-form-field class=\"item-full-width\" appearance=\"standard\" floatLabel=\"always\">\n            <mat-label class=\"label required\">Evacuation Information URL</mat-label>\n            <input matInput type=\"text\" placeholder=\"Evacuation Information URL\" disabled>\n          </mat-form-field>\n        </div>\n      </div>\n    </fieldset>\n  </mat-card>\n  <mat-card *ngIf=\"incident.evacOrders.length > 0\" class=\"info-card news-form-card\">\n    <fieldset class=\"field-set\" formArrayName=\"evacOrders\" *ngFor = \"let item of evacOrderForm.controls; let i=index\">\n      <legend>Evac Order Fields</legend>\n      <div [formGroupName]=\"i\" class=\"news-form\">\n        <div class=\"field size-quarter\">\n          <mat-form-field appearance=\"standard\" class=\"item-full-width\">\n            <mat-label>Type</mat-label>\n            <mat-select class=\"disabled-input\" appWFSingleSelect appWFPlaceholder=\"Select...\"\n                        aria-label=\"Type\"\n                        formControlName=\"orderAlertStatus\">\n              <mat-option value=\"Order\">\n                <span>Order</span>\n              </mat-option>\n              <mat-option value=\"Alert\">\n                <span>Alert</span>\n              </mat-option>\n            </mat-select>\n          </mat-form-field>\n        </div>\n        <div class=\"field size-third\">\n          <mat-form-field class=\"item-full-width\" appearance=\"standard\" floatLabel=\"always\">\n            <mat-label class=\"label required\">Evacuation Name</mat-label>\n            <input matInput class=\"disabled-input\" type=\"text\" placeholder=\"Evacuation Name\" formControlName=\"eventName\">\n          </mat-form-field>\n        </div>\n        <div class=\"field size-third\">\n          <mat-form-field class=\"item-full-width\" appearance=\"standard\" floatLabel=\"always\">\n            <mat-label class=\"label required\">Evacuation Information URL</mat-label>\n            <input matInput type=\"text\" placeholder=\"Evacuation Information URL\" formControlName=\"url\">\n          </mat-form-field>\n        </div>\n        <div class=\"field size-unset\">\n          <button mat-button matSuffix mat-icon-button class=\"input-clear-button\" (click)=\"deleteEvacOrder(i)\"><mat-icon>delete</mat-icon></button>\n        </div>\n      </div>\n    </fieldset>\n  </mat-card>\n  <button mat-button color=\"primary\" (click)=\"addEvacOrder()\">Add</button>\n</ng-container>\n","import { ChangeDetectorRef, Component, Input, OnInit } from '@angular/core';\nimport { UntypedFormArray, UntypedFormBuilder, UntypedFormGroup } from '@angular/forms';\nimport { EvacOrderOption } from '../../../conversion/models';\nimport { AGOLService } from '../../../services/AGOL-service';\nimport { DefaultService as ExternalUriService, ExternalUriResource } from '@wf1/incidents-rest-api';\n\n@Component({\n  selector: 'evac-orders-details-panel',\n  templateUrl: './evac-orders-details-panel.component.html',\n  styleUrls: ['./evac-orders-details-panel.component.scss']\n})\nexport class EvacOrdersDetailsPanel implements OnInit {\n  @Input() public readonly formGroup: UntypedFormGroup\n  @Input() public incident\n\n  evacOrders : EvacOrderOption[] = []\n\n  constructor(private agolService: AGOLService, protected cdr: ChangeDetectorRef, private readonly formBuilder: UntypedFormBuilder, private externalUriService: ExternalUriService) {\n  }\n\n  ngOnInit() {\n    this.getEvacOrders();\n  }\n\n  addEvacOrder () {\n    this.incident.evacOrders.push({\n      orderAlertStatus: null,\n      eventName: '',\n      url: '',\n      externalUri:  {\n        externalUriDisplayLabel: null,\n        externalUri: null,\n        publishedInd: false,\n        privateInd: false,\n        archivedInd: false,\n        primaryInd: false,\n        externalUriCategoryTag: 'EVAC-ORDER',\n        sourceObjectNameCode: 'INCIDENT',\n        sourceObjectUniqueId: '' + this.incident.wildfireIncidentGuid,\n        '@type': 'http://wfim.nrs.gov.bc.ca/v1/externalUri',\n        type: 'http://wfim.nrs.gov.bc.ca/v1/externalUri'\n      } as ExternalUriResource\n    })\n    this.evacOrderForm.push(this.formBuilder.group({\n      orderAlertStatus: [],\n      eventName: [],\n      url: []\n    }))\n  }\n\n  deleteEvacOrder (index) {\n    const evac = this.incident.evacOrders[index]\n    // remove from arrays and form builder\n    this.incident.evacOrders.splice(index, 1)\n    this.evacOrderForm.removeAt(index)\n    // delete from externalUri, if this uri already exists\n    if (evac.externalUri && evac.externalUri.externalUriGuid) {\n      this.externalUriService.deleteExternalUri(evac.externalUri.externalUriGuid).toPromise().catch(err => {\n        console.error(err)\n      })\n    }\n    this.cdr.detectChanges()\n  }\n\n  get evacOrderForm() : UntypedFormArray {\n    return this.formGroup.get(\"evacOrders\") as UntypedFormArray\n  }\n\n  persistEvacOrders () {\n    for (let i = 0; i < this.incident.evacOrders.length; i++) {\n      const evac = this.incident.evacOrders[i]\n      const evacForm = this.evacOrderForm.at(i)\n\n\n      evac.externalUri.externalUriCategoryTag = 'EVAC-ORDER:' + evacForm.value.orderAlertStatus\n      evac.externalUri.externalUriDisplayLabel = evacForm.value.eventName\n      evac.externalUri.externalUri = evacForm.value.url\n      evac.externalUri.publishedInd = true\n      evac.externalUri.sourceObjectUniqueId = '' + this.incident.wildfireIncidentGuid\n\n      if (evac.externalUri && evac.externalUri.externalUriGuid) {\n        this.externalUriService.updateExternalUri(evac.externalUri.externalUriGuid, evac.externalUri).toPromise().then(result => {\n          // ignore result, should probably just call .subscribe()?\n        })\n      } else {\n        this.externalUriService.createExternalUri(evac.externalUri).toPromise().then(result => {\n          // ignore result, should probably just call .subscribe()?\n        })\n      }\n    }\n  }\n\n  getEvacOrders () {\n    if(this.incident.geometry.x && this.incident.geometry.y){\n      this.agolService.getEvacOrders(this.incident.geometry).subscribe(response => {\n        if (response.features) {\n          for (const element of response.features) {\n            this.evacOrders.push({\n              eventName: element.attributes.EVENT_NAME,\n              eventType: element.attributes.EVENT_TYPE,\n              orderAlertStatus: element.attributes.ORDER_ALERT_STATUS,\n              issuingAgency: element.attributes.ISSUING_AGENCY,\n              preOcCode: element.attributes.PREOC_CODE,\n              emrgOAAsysID: element.attributes.EMRG_OAA_SYSID\n            })\n          }\n        }\n      })\n    }\n\n    this.externalUriService.getExternalUriList(\n      '' + this.incident.wildfireIncidentGuid,\n      '' + 1,\n      '' + 100,\n      'response',\n      undefined,\n      undefined\n    ).toPromise().then( (response) => {\n      const externalUriList = response.body\n      for (const uri of externalUriList.collection) {\n        if (uri.externalUriCategoryTag.includes('EVAC-ORDER')) {\n          const evac = {\n            orderAlertStatus: uri.externalUriCategoryTag.split(':')[1],\n            eventName: uri.externalUriDisplayLabel,\n            url: uri.externalUri,\n            externalUri: uri as ExternalUriResource\n          }\n\n          this.incident.evacOrders.push(evac)\n\n          const form = this.formBuilder.group({\n            orderAlertStatus: [],\n            eventName: [],\n            url: []\n          })\n          form.patchValue(evac)\n          this.evacOrderForm.push(form)\n        }\n      }\n\n      this.cdr.detectChanges()\n    }).catch(err => {\n      console.error(err)\n    })\n  }\n}\n","import { Component, Inject } from '@angular/core';\nimport { MAT_LEGACY_DIALOG_DATA as MAT_DIALOG_DATA, MatLegacyDialogRef as MatDialogRef } from '@angular/material/legacy-dialog';\nimport { AttachmentResource } from '@wf1/incidents-rest-api/model/attachmentResource';\n\nexport class DialogData {\n    public attachment: AttachmentResource;\n}\n\n@Component({\n    selector: 'edit-image-dialog',\n    templateUrl: 'edit-image-dialog.component.html',\n    styleUrls: ['./edit-image-dialog.component.scss']\n})\nexport class EditImageDialogComponent {\n\n    constructor(\n        public dialogRef: MatDialogRef<EditImageDialogComponent>,\n        @Inject(MAT_DIALOG_DATA) public data: DialogData\n    ) {}\n\n}\n","<div class=\"dialog-container\">\n  <h1 mat-dialog-title>Edit Image Title</h1>\n  <div class=\"dialog-content\" mat-dialog-content>\n    <mat-form-field class=\"item-full-width\" appearance=\"standard\" floatLabel=\"always\">\n      <mat-label class=\"label\">Title</mat-label>\n      <input matInput #input maxlength=\"150\" type=\"text\" placeholder=\"Title\" [(ngModel)]=\"data.attachment.attachmentTitle\" [value]=\"data.attachment.attachmentTitle\" required>\n      <mat-hint align=\"end\">{{input.value?.length || 0}}/150</mat-hint>\n    </mat-form-field>\n  </div>\n  <div class=\"dialog-actions\" mat-dialog-actions>\n  \t<button mat-raised-button color=\"primary\" [mat-dialog-close]=\"true\">Save</button>\n\t  <button mat-raised-button [mat-dialog-close]=\"false\">Cancel</button>\n  </div>\n</div>\n","import { ChangeDetectorRef, Component, EventEmitter, Input, OnChanges, OnInit, Output, SimpleChanges } from '@angular/core';\nimport { AttachmentResource } from '@wf1/incidents-rest-api/model/attachmentResource';\nimport { DocumentManagementService } from '../../../../services/document-management.service';\nimport { DomSanitizer } from '@angular/platform-browser';\nimport * as moment from 'moment';\nimport { DefaultService as IncidentAttachmentService } from '@wf1/incidents-rest-api';\nimport { MatLegacySnackBar as MatSnackBar } from '@angular/material/legacy-snack-bar';\nimport { MatLegacyDialog as MatDialog } from '@angular/material/legacy-dialog';\nimport { EditImageDialogComponent } from '../edit-image-dialog/edit-image-dialog.component';\n\n@Component({\n  selector: 'image-card-panel',\n  templateUrl: './image-card-panel.component.html',\n  styleUrls: ['./image-card-panel.component.scss']\n})\nexport class ImageCardPanel implements OnInit, OnChanges {\n  @Input() public incident\n  @Input() public attachment: AttachmentResource\n  @Output('loadPage') loadPage: EventEmitter<any> = new EventEmitter();\n  @Output('removePrimaryFlags') removePrimaryFlags: EventEmitter<any> = new EventEmitter();\n\n\n  public imageSrc = null;\n  public loaded = false;\n\n  constructor (private documentManagementService: DocumentManagementService,\n               protected incidentAttachmentService: IncidentAttachmentService,\n               protected snackbarService: MatSnackBar,\n               protected dialog: MatDialog,\n               private sanitizer: DomSanitizer,\n               protected cdr: ChangeDetectorRef) { /* Empty */}\n\n  changePrimary () {\n    try {\n      (this.attachment as any).primaryInd = !(this.attachment as any).primaryInd;\n    } catch (err) {\n      (this.attachment as any).primaryInd = true;\n    }\n\n    if ((this.attachment as any).primaryInd) {\n      this.removeFlags(this.attachment.attachmentGuid);\n      // safety catch\n      (this.attachment as any).primaryInd = true\n    }\n\n    this.updateIncidentAttachment();\n  }\n\n  get isPrimary () {\n    if (!Object.prototype.hasOwnProperty.call(this.attachment, 'primaryInd')) {\n      (this.attachment as any).primaryInd = false\n    }\n\n    return (this.attachment as any).primaryInd\n  }\n\n  set isPrimary (primary) {\n    (this.attachment as any).primaryInd = primary\n  }\n\n  get commsSuitable () {\n    return this.attachment.commsSuitable\n  }\n\n  set commsSuitable (commsSuitable) {\n    this.attachment.commsSuitable = commsSuitable\n  }\n\n  edit () {\n    let dialogRef = this.dialog.open(EditImageDialogComponent, {\n      width: '350px',\n      data: {\n        attachment: this.attachment\n      }\n    });\n    dialogRef.afterClosed().subscribe(result => {\n      if (result) {\n        this.updateIncidentAttachment();\n      }\n      this.cdr.detectChanges();\n    });\n  }\n\n  includeInGallery () {\n    this.attachment.commsSuitable = !this.attachment.commsSuitable;\n    this.updateIncidentAttachment();\n  }\n\n  removeFlags (guid: string) {\n    this.removePrimaryFlags.emit({ event: guid })\n  }\n\n  updateIncidentAttachment () {\n    this.incidentAttachmentService.updateIncidentAttachment(this.incident.wildfireYear, this.incident.incidentNumberSequence, this.attachment.attachmentGuid, undefined, this.attachment)\n    .toPromise().then(() => {\n      this.snackbarService.open('Image Updated Successfully', 'OK', { duration: 10000, panelClass: 'snackbar-success' });\n      this.loaded = false;\n      this.loadPage.emit()\n    }).catch(err => {\n      this.snackbarService.open('Failed to Update Image: ' + JSON.stringify(err.message), 'OK', { duration: 10000, panelClass: 'snackbar-error' });\n      this.loaded = false;\n    })\n  }\n\n  ngOnChanges (changes: SimpleChanges): void {\n    this.loadImage();\n  }\n\n  ngOnInit (): void {\n    this.loadImage();\n  }\n\n  ngDoCheck() {\n    this.loadImage();\n  }\n\n  convertToDate(value: string | number | Date): string {\n    if (value) {\n      return moment(value).format('YYYY-MM-DD hh:mm:ss')\n    }\n  }\n  loadImage () {\n    if (!this.loaded) {\n      this.documentManagementService.downloadDocument(this.attachment.thumbnailIdentifier || this.attachment.fileIdentifier).toPromise().then(response => {\n        const blob = (response as any).body\n        if (blob) {\n          this.imageSrc = this.sanitizer.bypassSecurityTrustUrl(window.URL.createObjectURL(blob));\n          this.cdr.detectChanges();\n          this.loaded = true;\n        } else {\n          throw Error('File could not be found')\n        }\n      })\n    }\n  }\n}\n","<div class=\"image-panel\">\n  <div class=\"image-container\">\n    <mat-spinner style=\"margin-left: 130px; margin-top: 100px;\" *ngIf=\"!loaded\" [diameter]=\"50\"></mat-spinner>\n    <img *ngIf=\"loaded\" [src]=\"imageSrc\" alt=\"gallery image\" />\n  </div>\n  <div class=\"info-panel\">\n    <div class=\"row\">Image Title: <strong>{{attachment.attachmentTitle}}</strong></div>\n    <div class=\"row\">File Name: <strong>{{attachment.fileName}}</strong></div>\n    <div class=\"row\">Uploaded On: <strong>{{convertToDate(attachment.uploadedTimestamp)}}</strong></div>\n    <div class=\"divider action\"></div>\n    <div class=\"action\">\n      <mat-radio-button [checked]=\"isPrimary\" (change)=\"changePrimary()\">Set as Primary Image</mat-radio-button>\n    </div>\n    <div class=\"action\">\n      <mat-icon (click)=\"edit()\">edit</mat-icon> Edit Image Title\n    </div>\n    <div class=\"action\">\n      <mat-checkbox [checked]=\"commsSuitable\" (change)=\"includeInGallery()\"><span class=\"checkbox-label\">Include in Public Gallery</span></mat-checkbox>\n    </div>\n  </div>\n</div>\n","import { ChangeDetectionStrategy, ChangeDetectorRef, Component, Input, OnChanges, OnInit, SimpleChanges } from '@angular/core';\nimport { DefaultService as ExternalUriService, DefaultService as IncidentAttachmentsService, DefaultService as IncidentAttachmentService, AttachmentResource } from '@wf1/incidents-rest-api';\nimport { BaseComponent } from \"../../base/base.component\";\nimport { Overlay } from '@angular/cdk/overlay';\nimport { HttpClient } from '@angular/common/http';\nimport { UntypedFormBuilder } from '@angular/forms';\nimport { MatLegacyDialog as MatDialog } from '@angular/material/legacy-dialog';\nimport { MatLegacySnackBar as MatSnackBar, MatLegacySnackBarRef as MatSnackBarRef, LegacyTextOnlySnackBar as TextOnlySnackBar } from '@angular/material/legacy-snack-bar';\nimport { DomSanitizer } from '@angular/platform-browser';\nimport { Router, ActivatedRoute } from '@angular/router';\nimport { Store } from '@ngrx/store';\nimport { AppConfigService,  TokenService} from '@wf1/core-ui';\nimport { ApplicationStateService } from '../../../services/application-state.service';\nimport { RootState } from '../../../store';\nimport { UploadImageDialogComponent } from './upload-image-dialog/upload-image-dialog.component';\nimport { DocumentManagementService } from '../../../services/document-management.service';\nimport { WatchlistService } from '../../../services/watchlist-service';\n\n@Component({\n  selector: 'image-gallery-panel',\n  templateUrl: './image-gallery-panel.component.html',\n  styleUrls: ['./image-gallery-panel.component.scss'],\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class ImageGalleryPanel extends BaseComponent implements OnInit, OnChanges {\n  @Input() public incident\n\n  public searchState = {\n    sortParam: 'attachmentTitle',\n    sortDirection: 'DESC'\n  };\n  private loaded = false\n  public uploadProgress = 0\n  public uploadStatus = ''\n  public statusBar\n\n  public attachments: AttachmentResource[] = []\n  public externalUriList: any[] = []\n\n  constructor(protected router: Router,\n              protected route: ActivatedRoute,\n              protected sanitizer: DomSanitizer,\n              protected store: Store<RootState>,\n              protected fb: UntypedFormBuilder,\n              protected dialog: MatDialog,\n              protected applicationStateService: ApplicationStateService,\n              protected tokenService: TokenService,\n              protected snackbarService: MatSnackBar,\n              protected overlay: Overlay,\n              protected cdr: ChangeDetectorRef,\n              protected appConfigService: AppConfigService,\n              protected http: HttpClient,\n              protected watchlistService: WatchlistService,\n              protected incidentAttachmentsService: IncidentAttachmentsService,\n              protected incidentAttachmentService: IncidentAttachmentService,\n              private externalUriService: ExternalUriService,\n              private documentManagementService: DocumentManagementService) {\n    super(router, route, sanitizer, store, fb, dialog, applicationStateService, tokenService, snackbarService, overlay, cdr, appConfigService, http, watchlistService);\n  }\n\n  ngOnInit() {\n    if (this.incident) {\n      this.loadPage();\n    }\n  }\n\n  loadPage() {\n    // this gets all INFO attachments. Because we dont have a proper\n    // filter for PDF maps at the moment, this means no paging as we'll\n    // have to manually filter.\n    this.incidentAttachmentsService.getIncidentAttachmentList(\n      '' + this.incident.wildfireYear,\n      '' + this.incident.incidentNumberSequence,\n      undefined,\n      'false',\n      'false',\n      undefined,\n      ['INFO'],\n      undefined,\n      undefined,\n      undefined,\n      undefined,\n      '1000',\n      this.searchState.sortParam + ',' + this.searchState.sortDirection,\n      'body'\n    ).toPromise().then( ( docs ) => {\n      docs.collection.sort((a, b) => {\n        const dir = this.searchState.sortDirection === 'desc' ? -1 : 1\n        if(a[this.searchState.sortParam] < b[this.searchState.sortParam]) return -dir;\n        else if(a[this.searchState.sortParam] > b[this.searchState.sortParam]) return dir;\n        else return 0;\n      })\n      // remove any non-image types\n      for (const doc of docs.collection) {\n        const idx = docs.collection.indexOf(doc)\n        if (idx && !['image/jpg', 'image/jpeg', 'image/png', 'image/gif', 'image/bmp', 'image/tiff'].includes(doc.mimeType.toLowerCase())) {\n          docs.collection.splice(idx, 1)\n        }\n      }\n      this.attachments = docs.collection\n      this.cdr.detectChanges();\n    }).catch(err => {\n      this.snackbarService.open('Failed to load Image Attachments: ' + err, 'OK', { duration: 10000, panelClass: 'snackbar-error' });\n    })\n\n    this.externalUriService.getExternalUriList('' + this.incident.wildfireIncidentGuid, '' + 1, '' + 100, 'response', undefined, undefined)\n    .toPromise().then((response) => {\n      this.externalUriList = []\n      const uris = response.body\n      for (const uri of uris.collection) {\n        if (uri.externalUriCategoryTag.includes('video') && uri.primaryInd === true) {\n          this.externalUriList.push(uri)\n        }\n      }\n      this.cdr.detectChanges()\n    }).catch(err => {\n      console.error('Failed to sync video URLs')\n    })\n  }\n\n  ngOnchanges(changes: SimpleChanges) {\n    this.updateTable();\n  }\n\n  ngDoCheck() {\n    this.updateTable();\n  }\n\n  updateTable () {\n    if (!this.loaded && this.incident) {\n      this.loadPage();\n      this.loaded = true\n    }\n  }\n\n  sortData(event) {\n    this.loaded = false\n    this.searchState.sortParam = event.active\n    this.searchState.sortDirection = event.direction\n    this.loadPage();\n  }\n\n  upload () {\n    const self = this;\n    let dialogRef = this.dialog.open(UploadImageDialogComponent, {\n      width: '350px',\n    });\n    dialogRef.afterClosed().subscribe(result => {\n      if (result && result.file) {\n        // upload to WFDM\n        //self.documentManagementService.makeDocumentUrl()\n        self.uploadFile(result.file, ( percent, loaded, total ) => {\n          self.uploadProgress = percent\n          self.uploadStatus = `Uploaded ${ Math.floor(loaded / 1048576) }mb of ${ Math.floor(loaded / 1048576) }mb`\n          if (!self.statusBar) {\n            self.statusBar = this.snackbarService.open(self.uploadStatus, 'OK', { duration: 10000, panelClass: 'snackbar-success' });\n          } else {\n            (self.statusBar as MatSnackBarRef<TextOnlySnackBar>).instance.data.message = self.uploadStatus\n          }\n        }).then(doc => {\n          self.attachmentCreator(doc.fileId, doc.filePath, result.file.type, 'Incident Photo', 'INFO', result.title).then(() => {\n            this.snackbarService.open('File Uploaded Successfully', 'OK', { duration: 10000, panelClass: 'snackbar-success' });\n            this.loadPage();\n          }).catch(err => {\n            this.snackbarService.open('Failed to Upload Attachment: ' + JSON.stringify(err.message), 'OK', { duration: 10000, panelClass: 'snackbar-error' });\n          }).finally(() => {\n            self.loaded = false;\n            this.cdr.detectChanges();\n          })\n        }).catch(err => {\n          this.snackbarService.open('Failed to Upload Attachment: ' + JSON.stringify(err.message), 'OK', { duration: 10000, panelClass: 'snackbar-error' });\n        })\n      }\n    });\n  }\n\n  uploadFile( file: File, progressCallback: ( percent: number, loaded: number, total: number ) => void ): Promise<any> {\n    return this.documentManagementService.uploadDocument( {\n        file: file,\n        onProgress: progressCallback\n    } )\n  }\n\n  attachmentCreator (fileId: string, uploadPath: string, mimeType: string, description: string, category: string, title: string) {\n    const attachment = {\n      '@type': 'http://wfim.nrs.gov.bc.ca/v1/attachment',\n      type: 'http://wfim.nrs.gov.bc.ca/v1/attachment',\n      sourceObjectNameCode: 'INCIDENT PHOTO',\n      fileName: uploadPath,\n      attachmentDescription: description,\n      attachmentTypeCode: category,\n      fileIdentifier: fileId,\n      mimeType: mimeType,\n      sourceObjectUniqueId: '' + this.incident.wildfireIncidentGuid,\n      archived: false,\n      privateIndicator: false,\n      commsSuitable: true,\n      attachmentTitle: title\n    } as AttachmentResource;\n\n    return this.incidentAttachmentsService.createIncidentAttachment(\n      '' + this.incident.wildfireYear,\n      '' + this.incident.incidentNumberSequence,\n      undefined,\n      attachment, 'response').toPromise()\n  }\n\n  /**\n   * This should be moved into the IM API\n   */\n  async removePrimaryFlags (guid: string) {\n    for (const attachment of this.attachments) {\n      const isPrimary = (attachment as any).primaryInd as Boolean\n      if (isPrimary && attachment.attachmentGuid !== (guid as any).event) {\n        (attachment as any).primaryInd = false\n        await this.incidentAttachmentService.updateIncidentAttachment(this.incident.wildfireYear, this.incident.incidentNumberSequence, attachment.attachmentGuid, undefined, attachment)\n        .toPromise().catch(err => {\n          // Ignore this\n          console.error(err)\n        })\n      }\n    }\n\n    for (const videoLink of this.externalUriList) {\n      if (videoLink.primaryInd === true) {\n        videoLink.primaryInd = false\n        await this.externalUriService.updateExternalUri(videoLink.externalUriGuid, videoLink)\n        .toPromise().catch(err => {\n          // Ignore this\n          console.error(err)\n        })\n      }\n    }\n\n    this.loadPage()\n  }\n}\n","<ng-container class=\"wfone-base-container\">\n  <div class=\"header-panel\">\n    <span style=\"font-size: 24px;\">Images</span>\n    <button mat-button color=\"primary\" class=\"primary-button\" (click)=\"upload()\">Upload Image</button>\n  </div>\n  <div class=\"image-gallery\">\n    <image-card-panel *ngFor=\"let image of attachments\" [attachment]=\"image\" [incident]=\"incident\" (loadPage)=\"loadPage()\" (removePrimaryFlags)=\"removePrimaryFlags($event)\"></image-card-panel>\n  </div>\n</ng-container>\n","import { Component } from '@angular/core';\nimport { MatLegacyDialogRef as MatDialogRef } from '@angular/material/legacy-dialog';\nimport { AttachmentResource } from '@wf1/incidents-rest-api/model/attachmentResource';\n\nexport class DialogData {\n    public attachment: AttachmentResource;\n}\n\n@Component({\n    selector: 'upload-image-dialog',\n    templateUrl: 'upload-image-dialog.component.html',\n    styleUrls: ['./upload-image-dialog.component.scss']\n})\nexport class UploadImageDialogComponent {\n  public title = ''\n  public file: File;\n\n    constructor (\n      public dialogRef: MatDialogRef<UploadImageDialogComponent>\n    ) {}\n\n    pdfInputChange (fileInputEvent: Event) {\n      this.title = (fileInputEvent.target as any).files[0].name\n      this.file = (fileInputEvent.target as any).files[0]\n    }\n\n    returnResult () {\n      return {\n        title: this.title,\n        file: this.file\n      }\n    }\n}\n","<div class=\"dialog-container\">\n  <h1 mat-dialog-title>Upload Image</h1>\n  <div class=\"dialog-content\" mat-dialog-content>\n    <input #pdfInput hidden=\"true\" type=\"file\" onclick=\"this.value=null\" (change)=\"pdfInputChange($event)\" accept=\"image/*\"/>\n    <button mat-flat-button color=\"primary\" (click)=\"pdfInput.click()\">Browse</button>\n    <mat-form-field class=\"item-full-width\" appearance=\"standard\" floatLabel=\"always\">\n      <mat-label class=\"label\">Title</mat-label>\n      <input matInput #input maxlength=\"150\" type=\"text\" placeholder=\"Title\" [(ngModel)]=\"title\" [value]=\"title\" required>\n      <mat-hint align=\"end\">{{input.value?.length || 0}}/150</mat-hint>\n    </mat-form-field>\n  </div>\n  <div class=\"dialog-actions\" mat-dialog-actions>\n  \t<button mat-raised-button color=\"primary\" [mat-dialog-close]=\"returnResult()\" (disabled)=\"file === null\">Save</button>\n\t  <button mat-raised-button [mat-dialog-close]=\"false\">Cancel</button>\n  </div>\n</div>\n","\nexport class CustomImageUploader {\n  private loader\n  private reader\n\n  constructor( loader ) {\n    this.loader = loader\n  }\n\n  // Starts the upload process.\n  // Note that this current writes a data url to the html directly\n  // we could replace this in the future to write to the document store\n  // and use URL's to our aws bucket to fetch, to save on size.\n  upload() {\n    return new Promise((resolve, reject) => {\n      const reader = this.reader = new window.FileReader()\n\n      reader.addEventListener('load', () => {\n        resolve({ default: reader.result })\n      })\n\n      reader.addEventListener('error', err => {\n        reject(err)\n      })\n\n      reader.addEventListener('abort', () => {\n        reject()\n      })\n\n      this.loader.file.then(file => {\n        reader.readAsDataURL(file)\n      })\n    })\n  }\n\n  // Aborts the upload process.\n  abort() {\n    this.reader.abort()\n  }\n}\n","<ng-container [formGroup]=\"formGroup\" class=\"incident-form\">\n  <mat-card class=\"info-card news-form-card\">\n    <fieldset class=\"field-set\">\n      <legend style=\"display: none\">Info Card</legend>\n      <div class=\"news-form\">\n        <div class=\"field size-third\">\n          <mat-form-field class=\"item-full-width\" appearance=\"standard\" floatLabel=\"always\">\n            <mat-label class=\"label\">Fire Name</mat-label>\n            <input matInput class=\"disabled-input\" type=\"text\" [(ngModel)]=\"incident.fireName\" formControlName=\"fireName\" disabled>\n          </mat-form-field>\n        </div>\n        <div class=\"field size-third\">\n          <mat-form-field class=\"item-full-width\" appearance=\"standard\" floatLabel=\"always\">\n            <mat-label class=\"label\">Traditional Territory</mat-label>\n            <input matInput class=\"disabled-input\" type=\"text\" [(ngModel)]=\"incident.traditionalTerritory\" formControlName=\"traditionalTerritory\" disabled>\n          </mat-form-field>\n        </div>\n        <div class=\"field size-third radio-checkbox-group\">\n            <mat-label id=\"fireOfNote\">Wildfire Of Note</mat-label>\n            <span class='material-icons-outlined fire-icon'>local_fire_department</span>\n            <mat-radio-group matInput aria-label=\"Wildfire of Note\" formControlName=\"fireOfNote\" [(ngModel)]=\"incident.fireOfNote\">\n              <mat-radio-button [value]=\"false\">No</mat-radio-button>\n              <mat-radio-button [value]=\"true\">Yes</mat-radio-button>\n            </mat-radio-group>\n        </div>\n        <div class=\"field size-full\">\n          <mat-form-field class=\"item-full-width\" appearance=\"outline\" floatLabel=\"always\">\n            <mat-label class=\"label required\">Location</mat-label>\n            <input matInput type=\"text\" formControlName=\"location\" [(ngModel)]=\"incident.location\" [placeholder]=\"incident.incidentData ? incident.incidentData.incidentLocation.geographicDescription : ''\">\n          </mat-form-field>\n        </div>\n      </div>\n    </fieldset>\n  </mat-card>\n  <mat-card class=\"info-card news-form-card\">\n    <fieldset class=\"field-set\">\n      <legend style=\"display: none\">Info Card</legend>\n      <div class=\"news-form\">\n        <div class=\"field size-unset\">\n          <mat-form-field appearance=\"standard\" floatLabel=\"always\">\n            <mat-label class=\"label\">Size Type</mat-label>\n            <mat-select appWFSingleSelect\n              aria-label=\"Size Type\"\n              formControlName=\"sizeType\"\n              [options]=\"sizeTypeOptions\"\n              [(ngModel)]=\"incident.sizeType\"\n              (valueChange)=\"setSizeTypeDisclaimer($event)\"\n              >\n                <mat-option *ngFor = \"let item of sizeTypeOptions\" [value]=\"item.id\">\n                  <span>{{item.optionValue}}</span>\n                </mat-option>\n              </mat-select>\n          </mat-form-field>\n        </div>\n        <div class=\"field size-unset\">\n          <mat-form-field appearance=\"standard\" floatLabel=\"always\">\n            <mat-label class=\"label\">Size</mat-label>\n            <input matInput class=\"disabled-input mat-form-field-disabled\" type=\"text\" [(ngModel)]=\"incident.sizeHectares\" formControlName=\"sizeHectares\" readonly>\n          </mat-form-field>\n        </div>\n        <div class=\"field size-full\">\n          <mat-form-field class=\"item-full-width\" appearance=\"outline\" floatLabel=\"always\">\n            <mat-label class=\"label required\">General Disclaimer and Comments</mat-label>\n            <textarea matInput\n                cdkTextareaAutosize\n                #autosize=\"cdkTextareaAutosize\"\n                cdkAutosizeMinRows=\"1\"\n                cdkAutosizeMaxRows=\"5\"\n                [(ngModel)]=\"incident.sizeComments\"\n                formControlName=\"sizeComments\"></textarea>\n          </mat-form-field>\n        </div>\n      </div>\n    </fieldset>\n  </mat-card>\n  <mat-card class=\"info-card news-form-card\">\n    <fieldset class=\"field-set\">\n      <legend style=\"display: none\">Info Card</legend>\n      <div class=\"news-form\">\n        <div class=\"field size-third\">\n          <mat-form-field appearance=\"standard\" floatLabel=\"always\">\n            <mat-label class=\"label required\">Cause</mat-label>\n            <mat-select appWFSingleSelect appWFPlaceholder=\"Select...\"\n              aria-label=\"Cause\"\n              formControlName=\"cause\"\n              [(ngModel)]=\"incident.cause\"\n              [options]=\"causeOptions\"\n              (valueChange)=\"setCauseDisclaimer($event)\"\n              disabled>\n                <mat-option value=\"\">\n                  <span class=\"placeholder\">Select...</span>\n                </mat-option>\n                <mat-option *ngFor = \"let item of causeOptions\" [value]=\"item.id\">\n                  <span>{{item.optionValue}}</span>\n                </mat-option>\n              </mat-select>\n          </mat-form-field>\n        </div>\n        <div class=\"field size-full\">\n          <mat-form-field class=\"item-full-width\" appearance=\"outline\" floatLabel=\"always\">\n            <mat-label class=\"label required\">General Disclaimer and Comments</mat-label>\n            <textarea matInput\n                cdkTextareaAutosize\n                #autosize=\"cdkTextareaAutosize\"\n                cdkAutosizeMinRows=\"1\"\n                cdkAutosizeMaxRows=\"5\"\n                [(ngModel)]=\"incident.causeComments\"\n                formControlName=\"causeComments\"></textarea>\n          </mat-form-field>\n        </div>\n      </div>\n    </fieldset>\n  </mat-card>\n</ng-container>\n","import { Component, Input } from '@angular/core';\nimport { UntypedFormGroup } from '@angular/forms';\n\nexport class OptionDisclaimer {\n  public id: number;\n  public optionValue: string;\n  public disclaimer: string;\n}\n\n@Component({\n  selector: 'incident-details-panel',\n  templateUrl: './incident-details-panel.component.html',\n  styleUrls: ['./incident-details-panel.component.scss']\n})\nexport class IncidentDetailsPanel {\n  @Input() public readonly formGroup: UntypedFormGroup\n  @Input() public incident\n\n  sizeTypeOptions: OptionDisclaimer[] = [\n    {id: 2, optionValue: \"Select...\", disclaimer: \"Fire size is based on most current information available.\"},\n    {id: 0, optionValue: \"Mapped\", disclaimer: \"Fire size is based on the last known mapped size in hectares.\"},\n    {id: 1, optionValue: \"Estimated\", disclaimer: \"Fire size is based on the last known estimated size in hectares.\"}\n  ]\n\n  // IM db only contains \"Human\", \"Natural\" and \"Undetermined\", but in ticket https://apps.nrs.gov.bc.ca/int/jira/browse/WFNEWS-510\n  // was requested to add \"General\", \"Human\", \"Lightning\" and \"Under Investigation\"\n  // We resolved to keep the IM values in the UI\n  causeOptions: OptionDisclaimer[] = [\n    {id: 1, optionValue: \"Human\", disclaimer: \"Humans start wildfires in several ways, either by accident or intentionally.\"},\n    {id: 2, optionValue: \"Lightning\", disclaimer: \"When lightning strikes an object it can release enough heat to ignite a tree or other fuels.\"},\n    {id: 3, optionValue: \"Under Investigation\", disclaimer: \"Wildfire investigations often take time and can be very complex. Investigations may be carried out by one or more agencies, including the BC Wildfire Service, the Compliance and Enforcement Branch, the RCMP, or other law enforcement agencies, and may be cross jurisdictional.\"}\n  ]\n\n  setSizeTypeDisclaimer (value) {\n    this.formGroup.controls['sizeComments'].setValue(this.sizeTypeOptions.find(c => c.id === Number(value)).disclaimer);\n  }\n\n  setCauseDisclaimer (value) {\n    this.formGroup.controls['causeComments'].setValue(this.causeOptions.find(c => c.id === Number(value)).disclaimer);\n  }\n}\n","import { Component, Inject } from '@angular/core';\nimport { MAT_LEGACY_DIALOG_DATA as MAT_DIALOG_DATA, MatLegacyDialogRef as MatDialogRef } from '@angular/material/legacy-dialog';\nimport { AttachmentResource } from '@wf1/incidents-rest-api/model/attachmentResource';\n\nexport class DialogData {\n    public attachment: AttachmentResource;\n}\n\n@Component({\n    selector: 'edit-map-dialog',\n    templateUrl: 'edit-map-dialog.component.html',\n    styleUrls: ['./edit-map-dialog.component.scss']\n})\nexport class EditMapDialogComponent {\n\n    constructor(\n        public dialogRef: MatDialogRef<EditMapDialogComponent>,\n        @Inject(MAT_DIALOG_DATA) public data: DialogData\n    ) {}\n\n}\n","<div class=\"dialog-container\">\n  <h1 mat-dialog-title>Edit Map Title</h1>\n  <div class=\"dialog-content\" mat-dialog-content>\n    <mat-form-field class=\"item-full-width\" appearance=\"standard\" floatLabel=\"always\">\n      <mat-label class=\"label\">Title</mat-label>\n      <input matInput #input maxlength=\"150\" type=\"text\" placeholder=\"Title\" [(ngModel)]=\"data.attachment.attachmentTitle\" [value]=\"data.attachment.attachmentTitle\" required>\n      <mat-hint align=\"end\">{{input.value?.length || 0}}/150</mat-hint>\n    </mat-form-field>\n  </div>\n  <div class=\"dialog-actions\" mat-dialog-actions>\n  \t<button mat-raised-button color=\"primary\" [mat-dialog-close]=\"true\" [disabled]=\"data.attachment.attachmentTitle === null || data.attachment.attachmentTitle === ''\">Save</button>\n\t  <button mat-raised-button [mat-dialog-close]=\"false\">Cancel</button>\n  </div>\n</div>\n","import { ChangeDetectionStrategy, ChangeDetectorRef, Component, Input, OnChanges, OnInit, SimpleChanges } from '@angular/core';\nimport { DefaultService as IncidentAttachmentsService, DefaultService as IncidentAttachmentService, AttachmentResource } from '@wf1/incidents-rest-api';\nimport { BaseComponent } from \"../../base/base.component\";\nimport * as moment from 'moment';\nimport { Overlay } from '@angular/cdk/overlay';\nimport { HttpClient } from '@angular/common/http';\nimport { UntypedFormBuilder } from '@angular/forms';\nimport { MatLegacyDialog as MatDialog } from '@angular/material/legacy-dialog';\nimport { MatLegacySnackBar as MatSnackBar, MatLegacySnackBarRef as MatSnackBarRef, LegacyTextOnlySnackBar as TextOnlySnackBar } from '@angular/material/legacy-snack-bar';\nimport { DomSanitizer } from '@angular/platform-browser';\nimport { Router, ActivatedRoute } from '@angular/router';\nimport { Store } from '@ngrx/store';\nimport { AppConfigService, TokenService } from '@wf1/core-ui';\nimport { ApplicationStateService } from '../../../services/application-state.service';\nimport { RootState } from '../../../store';\nimport { MessageDialogComponent } from '../../message-dialog/message-dialog.component';\nimport { EditMapDialogComponent } from './edit-map-dialog/edit-map-dialog.component';\nimport { UploadMapDialogComponent } from './upload-map-dialog/upload-map-dialog.component';\nimport { DocumentManagementService } from '../../../services/document-management.service';\nimport { WatchlistService } from '../../../services/watchlist-service';\n\n@Component({\n  selector: 'maps-panel',\n  templateUrl: './maps-panel.component.html',\n  styleUrls: ['./maps-panel.component.scss'],\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class MapsPanel extends BaseComponent implements OnInit, OnChanges {\n  @Input() public incident\n\n  public searchState = {\n    sortParam: 'attachmentTitle',\n    sortDirection: 'DESC'\n  };\n  private loaded = false\n  public uploadProgress = 0\n  public uploadStatus = ''\n  public statusBar\n\n  public columnsToDisplay = [\"fileName\", \"attachmentTitle\", \"uploadedTimestamp\", \"edit\", \"download\", \"delete\"];\n  public attachments: AttachmentResource[] = []\n\n  constructor(protected router: Router,\n              protected route: ActivatedRoute,\n              protected sanitizer: DomSanitizer,\n              protected store: Store<RootState>,\n              protected fb: UntypedFormBuilder,\n              protected dialog: MatDialog,\n              protected applicationStateService: ApplicationStateService,\n              protected tokenService: TokenService,\n              protected snackbarService: MatSnackBar,\n              protected overlay: Overlay,\n              protected cdr: ChangeDetectorRef,\n              protected appConfigService: AppConfigService,\n              protected http: HttpClient,\n              protected incidentAttachmentsService: IncidentAttachmentsService,\n              protected incidentAttachmentService: IncidentAttachmentService,\n              private documentManagementService: DocumentManagementService,\n              protected watchlistService: WatchlistService) {\n    super(router, route, sanitizer, store, fb, dialog, applicationStateService, tokenService, snackbarService, overlay, cdr, appConfigService, http, watchlistService);\n  }\n\n  ngOnInit() {\n    if (this.incident) {\n      this.loadPage();\n    }\n  }\n\n  loadPage() {\n    // this gets all INFO attachments. Because we dont have a proper\n    // filter for PDF maps at the moment, this means no paging as we'll\n    // have to manually filter.\n    this.incidentAttachmentsService.getIncidentAttachmentList(\n      '' + this.incident.wildfireYear,\n      '' + this.incident.incidentNumberSequence,\n      undefined,\n      'false',\n      'false',\n      undefined,\n      ['INCID_MAP'],\n      undefined,\n      undefined,\n      undefined,\n      undefined,\n      '1000',\n      this.searchState.sortParam + ',' + this.searchState.sortDirection,\n      'body'\n    ).toPromise().then( ( docs ) => {\n      docs.collection.sort((a, b) => {\n        const dir = this.searchState.sortDirection === 'desc' ? -1 : 1\n        if(a[this.searchState.sortParam] < b[this.searchState.sortParam]) return -dir;\n        else if(a[this.searchState.sortParam] > b[this.searchState.sortParam]) return dir;\n        else return 0;\n      })\n      // remove any non-pdf types\n      for (const doc of docs.collection) {\n        const idx = docs.collection.indexOf(doc)\n        if (idx && !doc.mimeType.toLowerCase().includes('pdf')) {\n          docs.collection.splice(idx, 1)\n        }\n      }\n      this.attachments = docs.collection\n      this.cdr.detectChanges();\n    }).catch(err => {\n      this.snackbarService.open('Failed to load Map Attachments: ' + err, 'OK', { duration: 10000, panelClass: 'snackbar-error' });\n    })\n  }\n\n  ngOnchanges(changes: SimpleChanges) {\n    this.updateTable();\n  }\n\n  ngDoCheck() {\n    this.updateTable();\n  }\n\n  updateTable () {\n    if (!this.loaded && this.incident) {\n      this.loadPage();\n      this.loaded = true\n    }\n  }\n\n  sortData(event) {\n    this.loaded = false\n    this.searchState.sortParam = event.active\n    this.searchState.sortDirection = event.direction\n    this.loadPage();\n  }\n\n  convertToDate(value: string) {\n    if (value) {\n      return moment(value).format('YYYY-MM-DD hh:mm:ss')\n    }\n  }\n\n  upload () {\n    const self = this;\n    let dialogRef = this.dialog.open(UploadMapDialogComponent, {\n      width: '350px',\n    });\n    dialogRef.afterClosed().subscribe(result => {\n      if (result && result.file) {\n        // upload to WFDM\n        //self.documentManagementService.makeDocumentUrl()\n        self.uploadFile(result.file, ( percent, loaded, total ) => {\n          self.uploadProgress = percent\n          self.uploadStatus = `Uploaded ${ Math.floor(loaded / 1048576) }mb of ${ Math.floor(loaded / 1048576) }mb`\n          if (!self.statusBar) {\n            self.statusBar = this.snackbarService.open(self.uploadStatus, 'OK', { duration: 10000, panelClass: 'snackbar-success' });\n          } else {\n            (self.statusBar as MatSnackBarRef<TextOnlySnackBar>).instance.data.message = self.uploadStatus\n          }\n        }).then(doc => {\n          self.attachmentCreator(doc.fileId, doc.filePath, result.file.type, 'Perimeter Map', 'INCID_MAP', result.title).then(() => {\n            this.snackbarService.open('File Uploaded Successfully', 'OK', { duration: 10000, panelClass: 'snackbar-success' });\n            this.loadPage()\n          }).catch(err => {\n            this.snackbarService.open('Failed to Upload Attachment: ' + JSON.stringify(err.message), 'OK', { duration: 10000, panelClass: 'snackbar-error' });\n          }).finally(() => {\n            self.loaded = false;\n            this.cdr.detectChanges();\n          })\n        }).catch(err => {\n          this.snackbarService.open('Failed to Upload Attachment: ' + JSON.stringify(err.message), 'OK', { duration: 10000, panelClass: 'snackbar-error' });\n        })\n      }\n    });\n  }\n\n  uploadFile( file: File, progressCallback: ( percent: number, loaded: number, total: number ) => void ): Promise<any> {\n    return this.documentManagementService.uploadDocument( {\n        file: file,\n        onProgress: progressCallback\n    } )\n  }\n\n  attachmentCreator (fileId: string, uploadPath: string, mimeType: string, description: string, category: string, title: string) {\n    const attachment = {\n      '@type': 'http://wfim.nrs.gov.bc.ca/v1/attachment',\n      type: 'http://wfim.nrs.gov.bc.ca/v1/attachment',\n      sourceObjectNameCode: 'INCIDENT',\n      fileName: uploadPath,\n      attachmentDescription: description,\n      attachmentTypeCode: category,\n      fileIdentifier: fileId,\n      mimeType: mimeType,\n      commsSuitable: true,\n      attachmentTitle: title\n    } as AttachmentResource;\n\n    return this.incidentAttachmentsService.createIncidentAttachment(\n      '' + this.incident.wildfireYear,\n      '' + this.incident.incidentNumberSequence,\n      undefined,\n      attachment, 'response').toPromise()\n  }\n\n  edit (item: AttachmentResource) {\n    let dialogRef = this.dialog.open(EditMapDialogComponent, {\n      width: '350px',\n      data: {\n        attachment: item\n      }\n    });\n    dialogRef.afterClosed().subscribe(result => {\n      if (result) {\n        this.incidentAttachmentService.updateIncidentAttachment(this.incident.wildfireYear, this.incident.incidentNumberSequence, item.attachmentGuid,undefined, item)\n        .toPromise().then(() => {\n          this.snackbarService.open('Attachment Updated Successfully', 'OK', { duration: 10000, panelClass: 'snackbar-success' });\n          this.loaded = false;\n        }).catch(err => {\n          this.snackbarService.open('Failed to Update Attachment: ' + JSON.stringify(err.message), 'OK', { duration: 10000, panelClass: 'snackbar-error' });\n          this.loaded = false;\n        })\n      }\n      this.cdr.detectChanges();\n    });\n  }\n\n  download (item: AttachmentResource) {\n    this.documentManagementService.downloadDocument(item.fileIdentifier).toPromise().then(response => {\n      const blob = (response as any).body\n      if (blob) {\n        let fileName = item.attachmentTitle || item.fileName;\n        if (!fileName.endsWith('.pdf')) {\n          fileName += '.pdf'\n        }\n\n        const url = window.URL.createObjectURL(blob);\n        const anchor = document.createElement(\"a\");\n        anchor.download = fileName;\n        anchor.href = url;\n        anchor.click();\n        anchor.remove();\n      } else {\n        throw Error('File could not be found')\n      }\n    }).catch(err => {\n      this.snackbarService.open('Failed to Download Attachment: ' + JSON.stringify(err.message), 'OK', { duration: 10000, panelClass: 'snackbar-error' });\n    })\n  }\n\n  delete (item: AttachmentResource) {\n    let dialogRef = this.dialog.open(MessageDialogComponent, {\n      width: '350px',\n      data: {\n          title: 'Are you sure you want to continue?',\n          message: 'This will permenantly delete this attachment. This action cannot be undone.',\n      }\n    });\n    dialogRef.afterClosed().subscribe(result => {\n      if (result) {\n        this.incidentAttachmentService.deleteIncidentAttachment(this.incident.wildfireYear, this.incident.incidentNumberSequence, item.attachmentGuid)\n        .toPromise().then(() => {\n          this.snackbarService.open('Attachment Deleted Successfully', 'OK', { duration: 10000, panelClass: 'snackbar-success' });\n          this.loaded = false;\n          this.cdr.detectChanges();\n        }).catch(err => {\n          this.snackbarService.open('Failed to Delete Attachment: ' + JSON.stringify(err.message), 'OK', { duration: 10000, panelClass: 'snackbar-error' });\n          this.loaded = false;\n        })\n      }\n    });\n  }\n}\n","<ng-container class=\"wfone-base-container\">\n  <div class=\"header-panel\">\n    <span style=\"font-size: 24px;\">Maps</span>\n    <button mat-button color=\"primary\" class=\"primary-button\" (click)=\"upload()\">Upload Map</button>\n  </div>\n  <div class=\"table-wrapper flex-y-grow\" *ngIf=\"attachments; else loading\">\n    <table style = \"width: fit-content;\" mat-table matSort [dataSource]=\"attachments\"\n            [matSortActive]=\"this.searchState.sortParam\"\n            [matSortDirection]=\"this.searchState.sortDirection.toLowerCase()\"\n            (matSortChange)=\"sortData($event)\"\n            aria-label=\"Map PDF Table\">\n        <ng-container matColumnDef = \"fileName\">\n            <th mat-header-cell *matHeaderCellDef mat-sort-header>File Name</th>\n            <td mat-cell style=\"cursor: pointer;\" *matCellDef=\"let item\" [matTooltip]=\"item.fileName\"><span #el >{{item.fileName}}</span></td>\n        </ng-container>\n\n        <ng-container matColumnDef = \"attachmentTitle\">\n            <th mat-header-cell *matHeaderCellDef mat-sort-header>Map Title</th>\n            <td mat-cell style=\"cursor: pointer;\" *matCellDef=\"let item\"><span #el >{{item.attachmentTitle}}</span></td>\n        </ng-container>\n\n        <ng-container matColumnDef = \"uploadedTimestamp\">\n          <th mat-header-cell *matHeaderCellDef mat-sort-header>Date Uploaded</th>\n          <td mat-cell style=\"cursor: pointer;\" *matCellDef=\"let item\"><span #el >{{convertToDate(item.uploadedTimestamp)}}</span></td>\n        </ng-container>\n\n        <ng-container matColumnDef = \"edit\">\n            <th mat-header-cell *matHeaderCellDef>Edit</th>\n            <td mat-cell style=\"cursor: pointer;\" *matCellDef=\"let item\"><mat-icon (click)=\"edit(item)\">edit</mat-icon></td>\n        </ng-container>\n\n        <ng-container matColumnDef = \"download\">\n          <th mat-header-cell *matHeaderCellDef>Download</th>\n          <td mat-cell style=\"cursor: pointer;\" *matCellDef=\"let item\"><mat-icon (click)=\"download(item)\">download</mat-icon></td>\n        </ng-container>\n\n        <ng-container matColumnDef = \"delete\">\n          <th mat-header-cell *matHeaderCellDef>Delete</th>\n          <td mat-cell style=\"cursor: pointer;\" *matCellDef=\"let item\"><mat-icon (click)=\"delete(item)\">delete</mat-icon></td>\n        </ng-container>\n\n        <tr mat-header-row *matHeaderRowDef=\"columnsToDisplay;sticky:true\"></tr>\n        <tr mat-row *matRowDef=\"let item; columns: columnsToDisplay\"></tr>\n    </table>\n</div>\n<ng-template #loading><mat-spinner [diameter]=\"40\"></mat-spinner></ng-template>\n</ng-container>\n","import { Component } from '@angular/core';\nimport { MatLegacyDialogRef as MatDialogRef } from '@angular/material/legacy-dialog';\nimport { AttachmentResource } from '@wf1/incidents-rest-api/model/attachmentResource';\n\nexport class DialogData {\n    public attachment: AttachmentResource;\n}\n\n@Component({\n    selector: 'upload-map-dialog',\n    templateUrl: 'upload-map-dialog.component.html',\n    styleUrls: ['./upload-map-dialog.component.scss']\n})\nexport class UploadMapDialogComponent {\n  public title = ''\n  public file: File;\n\n    constructor (\n      public dialogRef: MatDialogRef<UploadMapDialogComponent>\n    ) {}\n\n    pdfInputChange (fileInputEvent: Event) {\n      this.title = (fileInputEvent.target as any).files[0].name\n      this.file = (fileInputEvent.target as any).files[0]\n    }\n\n    returnResult () {\n      return {\n        title: this.title,\n        file: this.file\n      }\n    }\n}\n","<div class=\"dialog-container\">\n  <h1 mat-dialog-title>Upload Map</h1>\n  <div class=\"dialog-content\" mat-dialog-content>\n    <input #pdfInput hidden=\"true\" type=\"file\" onclick=\"this.value=null\" (change)=\"pdfInputChange($event)\" accept=\".pdf\"/>\n    <button mat-flat-button color=\"primary\" (click)=\"pdfInput.click()\">Browse</button>\n    <mat-form-field class=\"item-full-width\" appearance=\"standard\" floatLabel=\"always\">\n      <mat-label class=\"label\">Title</mat-label>\n      <input matInput #input maxlength=\"150\" type=\"text\" placeholder=\"Title\" [(ngModel)]=\"title\" [value]=\"title\" required>\n      <mat-hint align=\"end\">{{input.value?.length || 0}}/150</mat-hint>\n    </mat-form-field>\n  </div>\n  <div class=\"dialog-actions\" mat-dialog-actions>\n  \t<button mat-raised-button color=\"primary\" [mat-dialog-close]=\"returnResult()\" [disabled]=\"file === null || title === null || title === ''\">Save</button>\n\t  <button mat-raised-button [mat-dialog-close]=\"false\">Cancel</button>\n  </div>\n</div>\n","import { Component } from '@angular/core';\nimport { MatLegacyDialogRef as MatDialogRef } from '@angular/material/legacy-dialog';\nimport { AttachmentResource } from '@wf1/incidents-rest-api/model/attachmentResource';\n\nexport class DialogData {\n    public attachment: AttachmentResource;\n}\n\n@Component({\n    selector: 'publish-dialog',\n    templateUrl: 'publish-dialog.component.html',\n    styleUrls: ['./publish-dialog.component.scss']\n})\nexport class PublishDialogComponent {\n  public title = ''\n  public file: File;\n\n    constructor (\n      public dialogRef: MatDialogRef<PublishDialogComponent>\n    ) {}\n\n    pdfInputChange (fileInputEvent: Event) {\n      this.title = (fileInputEvent.target as any).files[0].name\n      this.file = (fileInputEvent.target as any).files[0]\n    }\n\n    returnResult () {\n      return {\n        publish: true\n      }\n    }\n}\n","<div class=\"dialog-container\">\n  <h1 mat-dialog-title>Publish incident</h1>\n  <div class=\"dialog-content publish-dialog-content\" mat-dialog-content>\n    Are you sure you want to publish?\n  </div>\n  <div class=\"dialog-actions\" mat-dialog-actions>\n  \t<button mat-raised-button color=\"primary\" [mat-dialog-close]=\"returnResult()\">Yes</button>\n\t  <button mat-raised-button [mat-dialog-close]=\"false\">Cancel</button>\n  </div>\n</div>\n","import { Component, ElementRef, Input, OnInit, ViewChild } from '@angular/core';\nimport { UntypedFormGroup } from '@angular/forms';\n\n@Component({\n  selector: 'response-details-panel',\n  templateUrl: './response-details-panel.component.html',\n  styleUrls: ['./response-details-panel.component.scss']\n})\nexport class ResponseDetailsPanel implements OnInit {\n  @Input() public readonly formGroup: UntypedFormGroup;\n  @Input() public incident;\n\n  @ViewChild(\"initialAttackCrews\") initialAttackCrews: ElementRef;\n  @ViewChild(\"unitCrews\") unitCrews: ElementRef;\n  @ViewChild(\"helicopters\") helicopters: ElementRef;\n  @ViewChild(\"airtankers\") airtankers: ElementRef;\n  @ViewChild(\"pieces\") pieces: ElementRef;\n  @ViewChild(\"structure\") structure: ElementRef;\n\n  responseDisclaimer: string = `The BC Wildfire Service relies on thousands of people each year to respond to wildfires. This includes firefighters, air crew, equipment operators, and support staff. For more information on resources assigned to this incident, please contact the information officer listed for this incident.`;\n  incidentManagementComments: string = `An Incident Management Team has been assigned to this wildfire.`;\n\n  ngOnInit() {\n    this.formGroup.controls['responseComments'].setValue(this.responseDisclaimer);\n  }\n\n  onWildfireCrewsChecked(event) {\n    if(event.checked) {\n      this.formGroup.controls[\"crewsComments\"].setValue(this.crewCommentsValue(this.initialAttackCrews.nativeElement.value, this.unitCrews.nativeElement.value));\n    } else {\n      this.formGroup.controls[\"crewsComments\"].setValue(\"\");\n    }\n  }\n\n  onAviationChecked(event) {\n    if(event.checked) {\n      this.formGroup.controls[\"aviationComments\"].setValue(this.aviationCommentsValue(this.helicopters.nativeElement.value, this.airtankers.nativeElement.value));\n    } else {\n      this.formGroup.controls[\"aviationComments\"].setValue(\"\");\n    }\n  }\n\n  onIncidentManagementTeamsChecked(event) {\n    if(event.checked) {\n      this.formGroup.controls[\"incidentManagementComments\"].setValue(this.incidentManagementComments);\n    } else {\n      this.formGroup.controls[\"incidentManagementComments\"].setValue(\"\");\n    }\n  }\n\n  onHeavyEquipmentChecked(event) {\n    if(event.checked) {\n      this.formGroup.controls[\"heavyEquipmentComments\"].setValue(this.heavyEquipmentCommentsValue(this.pieces.nativeElement.value));\n    } else {\n      this.formGroup.controls[\"heavyEquipmentComments\"].setValue(\"\");\n    }\n  }\n\n  onStructureProtectionChecked(event) {\n    if(event.checked) {\n      this.formGroup.controls[\"structureProtectionComments\"].setValue(this.structureProtectionCommentsValue());\n    } else {\n      this.formGroup.controls[\"structureProtectionComments\"].setValue(\"\");\n    }\n  }\n\n  crewCommentsValue(initialAttack, unityCrews) {\n    if (initialAttack || unityCrews){\n      return `There are currently ${initialAttack && initialAttack > 0 ? initialAttack : 0} Initial Attack and ${unityCrews && unityCrews > 0 ? unityCrews : 0} Unit Crews responding to this wildfire.`;\n    }\n  }\n\n  aviationCommentsValue(helicopters, airtankers) {\n    if (helicopters || airtankers) {\n      return `There are currently ${helicopters && helicopters > 0 ? helicopters : 0} helicopters and ${airtankers && airtankers > 0 ? airtankers : 0} airtankers responding to this wildfire.`;\n    }\n  }\n\n  heavyEquipmentCommentsValue(pieces) {\n    if (pieces && pieces > 0) {\n      return `There are currently ${pieces} pieces of heavy equipment responding to this wildfire.`;\n    }\n  }\n\n  structureProtectionCommentsValue() {\n    //if (structure && structure > 0) {\n      return `Structure protection is responding to this incident.`;\n    //}\n  }\n\n  crewsValueChange() {\n    if(this.incident.wildifreCrewsInd){\n      this.formGroup.controls[\"crewsComments\"].setValue(this.crewCommentsValue(this.initialAttackCrews.nativeElement.value, this.unitCrews.nativeElement.value));\n    }\n  }\n\n  aviationValueChange() {\n    if(this.incident.aviationInd){\n      this.formGroup.controls[\"aviationComments\"].setValue(this.aviationCommentsValue(this.helicopters.nativeElement.value, this.airtankers.nativeElement.value));\n    }\n  }\n\n  heavyEquipmentValueChange() {\n    if(this.incident.heavyEquipmentInd){\n      this.formGroup.controls[\"heavyEquipmentComments\"].setValue(this.heavyEquipmentCommentsValue(this.pieces.nativeElement.value));\n    }\n  }\n\n  structuretValueChange() {\n    if(this.incident.structureProtectionInd){\n      this.formGroup.controls[\"structureProtectionComments\"].setValue(this.structureProtectionCommentsValue());\n    }\n  }\n}\n","<ng-container [formGroup]=\"formGroup\" class=\"incident-form\">\n  <mat-card class=\"info-card news-form-card\">\n    <fieldset class=\"field-set\">\n      <legend style=\"display: none\">General Disclaimer Card</legend>\n      <div class=\"news-form\">\n        <div class=\"field size-full\">\n          <mat-form-field class=\"item-full-width\" appearance=\"outline\" floatLabel=\"always\">\n            <mat-label class=\"label required\">General Disclaimer and Comments</mat-label>\n            <textarea matInput\n                cdkTextareaAutosize\n                #autosize=\"cdkTextareaAutosize\"\n                cdkAutosizeMinRows=\"1\"\n                cdkAutosizeMaxRows=\"5\"\n                [(ngModel)]=\"incident.responseComments\"\n                formControlName=\"responseComments\"\n                ></textarea>\n          </mat-form-field>\n        </div>\n      </div>\n    </fieldset>\n  </mat-card>\n  <mat-card class=\"info-card news-form-card\">\n    <mat-card-title>\n      Wildfire Crews\n    </mat-card-title>\n    <fieldset class=\"field-set\">\n      <legend style=\"display: none\">Response card</legend>\n      <div class=\"news-form\">\n        <div class=\"field size-unset\">\n          <mat-form-field appearance=\"standard\" floatLabel=\"always\">\n            <mat-label class=\"label\">Initial Attack Crews</mat-label>\n            <input matInput type=\"number\" #initialAttackCrews (change)=\"crewsValueChange()\">\n          </mat-form-field>\n          <mat-form-field appearance=\"standard\" floatLabel=\"always\">\n            <mat-label class=\"label\">Unit Crews</mat-label>\n            <input matInput type=\"number\" #unitCrews (change)=\"crewsValueChange()\">\n          </mat-form-field>\n        </div>\n        <div class=\"field size-third\">\n          <mat-checkbox [(ngModel)]=\"incident.wildifreCrewsInd\" formControlName=\"wildifreCrewsInd\" class=\"example-margin\" (change)=\"onWildfireCrewsChecked($event)\">Crews</mat-checkbox>\n        </div>\n        <div class=\"field size-full\">\n          <mat-form-field class=\"item-full-width\" appearance=\"outline\" floatLabel=\"always\">\n            <mat-label class=\"label required\">General Disclaimer and Comments</mat-label>\n            <textarea matInput\n                cdkTextareaAutosize\n                #autosize=\"cdkTextareaAutosize\"\n                cdkAutosizeMinRows=\"1\"\n                cdkAutosizeMaxRows=\"5\"\n                [(ngModel)]=\"incident.crewsComments\"\n                formControlName=\"crewsComments\"></textarea>\n          </mat-form-field>\n        </div>\n      </div>\n    </fieldset>\n  </mat-card>\n  <mat-card class=\"info-card news-form-card\">\n    <mat-card-title>\n      Aviation\n    </mat-card-title>\n    <fieldset class=\"field-set\">\n      <legend style=\"display: none\">Arial Response Card</legend>\n      <div class=\"news-form\">\n        <div class=\"field size-unset\">\n          <mat-form-field appearance=\"standard\" floatLabel=\"always\">\n            <mat-label class=\"label\">Helicopters</mat-label>\n            <input matInput type=\"number\" #helicopters (change)=\"aviationValueChange()\">\n          </mat-form-field>\n          <mat-form-field appearance=\"standard\" floatLabel=\"always\">\n            <mat-label class=\"label\">Airtankers</mat-label>\n            <input matInput type=\"number\" #airtankers (change)=\"aviationValueChange()\">\n          </mat-form-field>\n        </div>\n        <div class=\"field size-third\">\n          <mat-checkbox [(ngModel)]=\"incident.aviationInd\" formControlName=\"aviationInd\" class=\"example-margin\" (change)=\"onAviationChecked($event)\">Wildfire Aviation</mat-checkbox>\n        </div>\n        <div class=\"field size-full\">\n          <mat-form-field class=\"item-full-width\" appearance=\"outline\" floatLabel=\"always\">\n            <mat-label class=\"label required\">General Disclaimer and Comments</mat-label>\n            <textarea matInput\n                cdkTextareaAutosize\n                #autosize=\"cdkTextareaAutosize\"\n                cdkAutosizeMinRows=\"1\"\n                cdkAutosizeMaxRows=\"5\"\n                [(ngModel)]=\"incident.aviationComments\"\n                formControlName=\"aviationComments\"></textarea>\n          </mat-form-field>\n        </div>\n      </div>\n    </fieldset>\n  </mat-card>\n  <mat-card class=\"info-card news-form-card\">\n    <mat-card-title>\n      Incident Management Team\n    </mat-card-title>\n    <fieldset class=\"field-set\">\n      <legend style=\"display: none\">Incident Management Response Card</legend>\n      <div class=\"news-form\">\n        <div class=\"field size-third\">\n          <mat-checkbox [(ngModel)]=\"incident.incidentManagementInd\" formControlName=\"incidentManagementInd\" class=\"example-margin\" (change)=\"onIncidentManagementTeamsChecked($event)\">Incident Management Team</mat-checkbox>\n        </div>\n        <div class=\"field size-full\">\n          <mat-form-field class=\"item-full-width\" appearance=\"outline\" floatLabel=\"always\">\n            <mat-label class=\"label required\">General Disclaimer and Comments</mat-label>\n            <textarea matInput\n                cdkTextareaAutosize\n                #autosize=\"cdkTextareaAutosize\"\n                cdkAutosizeMinRows=\"1\"\n                cdkAutosizeMaxRows=\"5\"\n                [(ngModel)]=\"incident.incidentManagementComments\"\n                formControlName=\"incidentManagementComments\"></textarea>\n          </mat-form-field>\n        </div>\n      </div>\n    </fieldset>\n  </mat-card>\n  <mat-card class=\"info-card news-form-card\">\n    <mat-card-title>\n      Heavy Equipment\n    </mat-card-title>\n    <fieldset class=\"field-set\">\n      <legend style=\"display: none\">Equipment Response Card</legend>\n      <div class=\"news-form\">\n        <div class=\"field size-unset\">\n          <mat-form-field appearance=\"standard\" floatLabel=\"always\">\n            <mat-label class=\"label\">Heavy Equipment Pieces</mat-label>\n            <input matInput type=\"number\" #pieces (change)=\"heavyEquipmentValueChange()\">\n          </mat-form-field>\n        </div>\n        <div class=\"field size-third\">\n          <mat-checkbox [(ngModel)]=\"incident.heavyEquipmentInd\"  formControlName=\"heavyEquipmentInd\" class=\"example-margin\" (change)=\"onHeavyEquipmentChecked($event)\">Heavy Equipment</mat-checkbox>\n        </div>\n        <div class=\"field size-full\">\n          <mat-form-field class=\"item-full-width\" appearance=\"outline\" floatLabel=\"always\">\n            <mat-label class=\"label required\">General Disclaimer and Comments</mat-label>\n            <textarea matInput\n                cdkTextareaAutosize\n                #autosize=\"cdkTextareaAutosize\"\n                cdkAutosizeMinRows=\"1\"\n                cdkAutosizeMaxRows=\"5\"\n                [(ngModel)]=\"incident.heavyEquipmentComments\"\n                formControlName=\"heavyEquipmentComments\"></textarea>\n          </mat-form-field>\n        </div>\n      </div>\n    </fieldset>\n  </mat-card>\n  <mat-card class=\"info-card news-form-card\">\n    <mat-card-title>\n      Structure Protection\n    </mat-card-title>\n    <fieldset class=\"field-set\">\n      <legend style=\"display: none\">Structure Protection Response Card</legend>\n      <div class=\"news-form\">\n        <!-- div class=\"field size-unset\">\n          <mat-form-field appearance=\"standard\" floatLabel=\"always\">\n            <mat-label class=\"label\">Structure protection</mat-label>\n            <input matInput type=\"number\" #structure (change)=\"structuretValueChange()\">\n          </mat-form-field>\n        </div -->\n        <div class=\"field size-third\">\n          <mat-checkbox [(ngModel)]=\"incident.structureProtectionInd\" formControlName=\"structureProtectionInd\" class=\"example-margin\"  (change)=\"onStructureProtectionChecked($event)\">Structure Protection</mat-checkbox>\n        </div>\n        <div class=\"field size-full\">\n          <mat-form-field class=\"item-full-width\" appearance=\"outline\" floatLabel=\"always\">\n            <mat-label class=\"label required\">General Disclaimer and Comments</mat-label>\n            <textarea matInput\n                cdkTextareaAutosize\n                #autosize=\"cdkTextareaAutosize\"\n                cdkAutosizeMinRows=\"1\"\n                cdkAutosizeMaxRows=\"5\"\n                [(ngModel)]=\"incident.structureProtectionComments\"\n                formControlName=\"structureProtectionComments\"></textarea>\n          </mat-form-field>\n        </div>\n      </div>\n    </fieldset>\n  </mat-card>\n</ng-container>\n","import { Component, Input } from '@angular/core';\nimport { convertToStageOfControlDescription } from '../../../utils';\n\n@Component({\n  selector: 'summary-panel',\n  templateUrl: './summary-panel.component.html',\n  styleUrls: ['./summary-panel.component.scss']\n})\nexport class SummaryPanel {\n  @Input() public incident;\n\n  public convertToStageOfControlDescription = convertToStageOfControlDescription\n}\n","<ng-container class=\"incident-form\">\n  <mat-card class=\"info-card news-form-card\">\n    <fieldset class=\"field-set\">\n      <legend style=\"display: none\">Tombstone Details Card</legend>\n      <div class=\"news-form\">\n        <div class=\"field size-quarter\">\n          <div class=\"label\">Discovery Date</div>\n          <div><strong>{{incident.discoveryDate}}</strong></div>\n        </div>\n        <div class=\"field size-quarter\">\n          <div class=\"label\">Fire Centre</div>\n          <div><strong>{{incident.fireCentreOrgUnitName}}</strong></div>\n        </div>\n        <div class=\"field size-quarter\">\n          <div class=\"label\">Stage of Control</div>\n          <div><strong>{{incident.incidentData ? convertToStageOfControlDescription(incident.incidentData.incidentSituation.stageOfControlCode) : ''}}</strong></div>\n        </div>\n        <div class=\"field size-quarter\">\n          <div class=\"label\">Response Type</div>\n          <div><strong style=\"text-transform: capitalize;\">{{incident.incidentData && incident.incidentData.responseTypeCode ? incident.incidentData.responseTypeCode.toLowerCase() : ''}}</strong></div>\n        </div>\n      </div>\n    </fieldset>\n  </mat-card>\n</ng-container>\n","import { Component, Inject } from '@angular/core';\nimport { MAT_LEGACY_DIALOG_DATA as MAT_DIALOG_DATA, MatLegacyDialogRef as MatDialogRef } from '@angular/material/legacy-dialog';\n\nexport class DialogData {\n    public video: any;\n}\n\n@Component({\n    selector: 'edit-video-dialog',\n    templateUrl: 'edit-video-dialog.component.html',\n    styleUrls: ['./edit-video-dialog.component.scss']\n})\nexport class EditVideoDialogComponent {\n\n    constructor(\n        public dialogRef: MatDialogRef<EditVideoDialogComponent>,\n        @Inject(MAT_DIALOG_DATA) public data: DialogData\n    ) {}\n\n\n}","<div class=\"dialog-container\">\n    <h1 mat-dialog-title>Edit Video Details</h1>\n    <div class=\"dialog-content\" mat-dialog-content>\n      <mat-form-field class=\"item-full-width\" appearance=\"standard\" floatLabel=\"always\">\n        <mat-label class=\"label\">Video Title (150 character limit)</mat-label>\n        <input matInput type=\"text\" placeholder=\"Title\" [(ngModel)]=\"data.video.externalUriDisplayLabel\" [value]=\"data.video.externalUriDisplayLabel\" required>\n      </mat-form-field>\n    </div>\n    <div class=\"dialog-content\" mat-dialog-content>\n      <mat-form-field class=\"item-full-width\" appearance=\"standard\" floatLabel=\"always\">\n        <mat-label class=\"label\">Video URL</mat-label>\n        <input matInput #input maxlength=\"150\" type=\"text\" placeholder=\"Title\" [(ngModel)]=\"data.video.externalUri\" [value]=\"data.video.externalUri\" required>\n        <mat-hint align=\"end\">{{input.value?.length || 0}}/150</mat-hint>\n      </mat-form-field>\n    </div>\n    <div class=\"dialog-actions\" mat-dialog-actions>\n        <button mat-raised-button color=\"primary\" [mat-dialog-close]=\"data.video\">Save</button>\n        <button mat-raised-button [mat-dialog-close]=\"false\">Cancel</button>\n    </div>\n  </div>\n","import { Component } from '@angular/core';\nimport { MatLegacyDialogRef as MatDialogRef } from '@angular/material/legacy-dialog';\nimport { AttachmentResource } from '@wf1/incidents-rest-api/model/attachmentResource';\n\nexport class DialogData {\n    public attachment: AttachmentResource;\n}\n\n@Component({\n    selector: 'upload-video-dialog',\n    templateUrl: 'upload-video-dialog.component.html',\n    styleUrls: ['./upload-video-dialog.component.scss']\n})\nexport class UploadVideoDialogComponent {\n  public title = ''\n  public url = '';\n\n    constructor (\n      public dialogRef: MatDialogRef<UploadVideoDialogComponent>\n    ) {}\n\n    returnResult () {\n      return {\n        title: this.title,\n        url: this.url\n      }\n    }\n}","<div class=\"dialog-container\">\n    <h1 mat-dialog-title>Add Video</h1>\n    <div class=\"dialog-content\" mat-dialog-content>\n      <mat-form-field class=\"item-full-width\" appearance=\"standard\" floatLabel=\"always\">\n        <mat-label class=\"label\">Video Title (150 character limit)</mat-label>\n        <input matInput type=\"text\" placeholder=\"Title\" [(ngModel)]=\"title\" [value]=\"title\" required>\n      </mat-form-field>\n      <mat-form-field class=\"item-full-width\" appearance=\"standard\" floatLabel=\"always\">\n        <mat-label class=\"label\">Video URL</mat-label>\n        <input matInput #input maxlength=\"150\" type=\"text\" placeholder=\"URL\" [(ngModel)]=\"url\" [value]=\"url\" required>\n        <mat-hint align=\"end\">{{input.value?.length || 0}}/150</mat-hint>\n      </mat-form-field>\n    </div>\n    <div class=\"dialog-actions\" mat-dialog-actions>\n        <button mat-raised-button color=\"primary\" [mat-dialog-close]=\"returnResult()\" [disabled]=\"url === null || title === null\">Save</button>\n        <button mat-raised-button [mat-dialog-close]=\"false\">Cancel</button>\n    </div>\n  </div>\n","import { ChangeDetectorRef, Component, EventEmitter, Input, Output} from '@angular/core';\nimport * as moment from 'moment';\nimport { DefaultService as ExternalUriService } from '@wf1/incidents-rest-api';\nimport { MatLegacySnackBar as MatSnackBar } from '@angular/material/legacy-snack-bar';\nimport { MatLegacyDialog as MatDialog } from '@angular/material/legacy-dialog';\nimport { EditVideoDialogComponent } from '../edit-video-dialog/edit-video-dialog.component';\nimport { convertToYoutubeId } from '../../../../utils';\n\n@Component({\n  selector: 'video-card-panel',\n  templateUrl: './video-card-panel.component.html',\n  styleUrls: ['./video-card-panel.component.scss']\n})\nexport class VideoCardPanel{\n  @Input() public incident\n  @Input() public video: any\n  @Output('loadPage') loadPage: EventEmitter<any> = new EventEmitter();\n  @Output('removePrimaryFlags') removePrimaryFlags: EventEmitter<any> = new EventEmitter();\n\n  public convertToYoutubeId = convertToYoutubeId\n\n  public includeInPublicGallery = false;\n\n  public imageSrc = null;\n  public loaded = false;\n\n  constructor (protected externalUriService: ExternalUriService,\n               protected snackbarService: MatSnackBar,\n               protected dialog: MatDialog,\n               protected cdr: ChangeDetectorRef) { /* Empty */}\n\n  changePrimary () {\n    this.video.primaryInd = !this.video.primaryInd;\n    if (this.video.primaryInd) {\n      this.removePrimaryFlags.emit({ event: this.video.externalUriGuid })\n      // safety catch\n      this.video.primaryInd = true\n    }\n    this.updateExternalUri(this.video.externalUri, this.video.externalUriDisplayLabel);\n  }\n\n  get isPrimary () {\n    if (!Object.prototype.hasOwnProperty.call(this.video, 'primaryInd')) {\n      this.video.primaryInd = false\n    }\n\n    return this.video.primaryInd\n  }\n\n  set isPrimary (primary) {\n    (this.video as any).primaryInd = primary\n  }\n\n  edit () {\n    let dialogRef = this.dialog.open(EditVideoDialogComponent, {\n      width: '600px',\n      data: {\n        video: this.video\n      }\n    });\n    dialogRef.afterClosed().subscribe(result => {\n      if (result) {\n        this.updateExternalUri(result.externalUri, result.externalUriDisplayLabel);\n      }\n      this.cdr.detectChanges();\n    });\n  }\n\n  remove() {\n      this.externalUriService.deleteExternalUri(this.video.externalUriGuid,'response').toPromise().then(() => {\n        this.snackbarService.open('Video Deleted Successfully', 'OK', { duration: 0, panelClass: 'snackbar-success' });\n        this.loaded = false\n        this.loadPage.emit()\n      }).catch(err => {\n        this.snackbarService.open('Failed to Delete Video: ' + JSON.stringify(err.message), 'OK', { duration: 0, panelClass: 'snackbar-error' });\n        this.loaded = false;\n      })\n  }\n\n  updateExternalUri (externalUri: string, externalUriDisplayLabel: string) {\n    this.video.externalUri = externalUri\n    this.video.externalUriDisplayLabel = externalUriDisplayLabel\n\n      this.externalUriService.updateExternalUri(this.video.externalUriGuid,this.video,'response').toPromise().then(() => {\n        this.snackbarService.open('Video Updated Successfully', 'OK', { duration: 0, panelClass: 'snackbar-success' });\n        this.loaded = false\n        this.loadPage.emit()\n      }).catch(err => {\n        this.snackbarService.open('Failed to Update Video: ' + JSON.stringify(err.message), 'OK', { duration: 0, panelClass: 'snackbar-error' });\n        this.loaded = false;\n      })\n  }\n\n  convertToDate(value: string | number | Date): string {\n    if (value) {\n      return moment(value).format('YYYY-MM-DD hh:mm:ss')\n    }\n  }\n\n  navigateToYoutube (attachment: any) {\n    window.open(attachment.videoUrl, \"_blank\");\n  }\n}\n","<div class=\"image-panel\">\n    <div class=\"image-container\">\n      <div style=\"width: 650px;\">\n        <youtube-player\n          videoId={{convertToYoutubeId(video.externalUri)}}\n          suggestedQuality=\"highres\"\n          [startSeconds]=\"1\"\n          [endSeconds]=\"20\"\n          [height]=\"250\"\n          [width]=\"400\">\n        </youtube-player>\n      </div>\n    </div>\n    <div class=\"info-panel\">\n      <div class=\"row\">Video Title: <strong>{{video.externalUriDisplayLabel}}</strong></div>\n      <div class=\"row\">Date Uploaded: <strong>{{convertToDate(video.createdTimestamp)}}</strong></div>\n      <div class=\"divider action\"></div>\n      <div class=\"action\">\n        <mat-icon (click)=\"edit()\">edit</mat-icon> Edit Video Details\n      </div>\n      <div class=\"action\">\n        <mat-icon (click)=\"remove()\">delete</mat-icon> Remove Video\n      </div>\n      <div class=\"action\">\n        <mat-radio-button [checked]=\"isPrimary\" (change)=\"changePrimary()\">Set as Primary Video</mat-radio-button>\n      </div>\n    </div>\n\n  </div>\n","import { ChangeDetectionStrategy, ChangeDetectorRef, Component, Input, OnChanges, OnInit, SimpleChanges } from '@angular/core';\nimport { DefaultService as ExternalUriService, DefaultService as  IncidentAttachmentService, ExternalUriResource } from '@wf1/incidents-rest-api';\nimport { BaseComponent } from \"../../base/base.component\";\nimport { Overlay } from '@angular/cdk/overlay';\nimport { HttpClient } from '@angular/common/http';\nimport { UntypedFormBuilder } from '@angular/forms';\nimport { MatLegacyDialog as MatDialog } from '@angular/material/legacy-dialog';\nimport { MatLegacySnackBar as MatSnackBar } from '@angular/material/legacy-snack-bar';\nimport { DomSanitizer } from '@angular/platform-browser';\nimport { Router, ActivatedRoute } from '@angular/router';\nimport { Store } from '@ngrx/store';\nimport { TokenService, AppConfigService } from '@wf1/core-ui';\nimport { ApplicationStateService } from '../../../services/application-state.service';\nimport { RootState } from '../../../store';\nimport { UploadVideoDialogComponent } from './upload-video-dialog/upload-video-dialog.component';\nimport { WatchlistService } from '../../../services/watchlist-service';\nimport { PagedCollection } from '../../../conversion/models';\n\n@Component({\n  selector: 'video-gallery-panel',\n  templateUrl: './video-gallery-panel.component.html',\n  styleUrls: ['./video-gallery-panel.component.scss'],\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class VideoGalleryPanel extends BaseComponent implements OnInit, OnChanges {\n  @Input() public incident\n\n  public searchState = {\n    sortParam: 'attachmentTitle',\n    sortDirection: 'DESC'\n  };\n  private loaded = false\n  public uploadProgress = 0\n  public uploadStatus = ''\n  public statusBar;\n  public pageNumber = 1;\n  public pageRowCount = 20;\n\n\n  public attachments: any[] = [];\n  public externalUriList: PagedCollection = {\n    pageNumber: 1,\n    pageRowCount: 20,\n    totalRowCount: null,\n    totalPageCount: null,\n    collection: []\n  };\n\n  constructor(protected router: Router,\n              protected route: ActivatedRoute,\n              protected sanitizer: DomSanitizer,\n              protected store: Store<RootState>,\n              protected fb: UntypedFormBuilder,\n              protected dialog: MatDialog,\n              protected applicationStateService: ApplicationStateService,\n              protected tokenService: TokenService,\n              protected snackbarService: MatSnackBar,\n              protected overlay: Overlay,\n              protected cdr: ChangeDetectorRef,\n              protected appConfigService: AppConfigService,\n              protected http: HttpClient,\n              protected externalUriService: ExternalUriService,\n              protected incidentAttachmentService: IncidentAttachmentService,\n              private watchListServce: WatchlistService,\n\n              ) {\n    super(router, route, sanitizer, store, fb, dialog, applicationStateService, tokenService, snackbarService, overlay, cdr, appConfigService, http, watchListServce);\n  }\n\n  ngOnInit() {\n    if (this.incident) {\n      this.loadPage();\n    }\n  }\n\n  loadPage() {\n    this.externalUriService.getExternalUriList(\n      '' + this.incident.wildfireIncidentGuid,\n      '' + 1,\n      '' + 100,\n      'response',\n      undefined,\n      undefined\n    ).toPromise().then( (response) => {\n      this.externalUriList.collection = []\n      const uris = response.body;\n      for (const uri of uris.collection) {\n        if (uri.externalUriCategoryTag.includes('video')) {\n          this.externalUriList.collection.push(uri)\n        }\n      }\n      this.cdr.detectChanges();\n    }).catch(err => {\n      this.snackbarService.open('Failed to load videos links: ' + err, 'OK', { duration: 0, panelClass: 'snackbar-error' });\n    })\n\n    this.incidentAttachmentService.getIncidentAttachmentList('' + this.incident.wildfireYear, '' + this.incident.incidentNumberSequence, undefined, 'false', 'false', undefined, ['INFO'], undefined, undefined, undefined, undefined, '1000', this.searchState.sortParam + ',' + this.searchState.sortDirection, 'body')\n    .toPromise().then((docs) => {\n      docs.collection.sort((a, b) => {\n        const dir = this.searchState.sortDirection === 'desc' ? -1 : 1\n        if(a[this.searchState.sortParam] < b[this.searchState.sortParam]) return -dir;\n        else if(a[this.searchState.sortParam] > b[this.searchState.sortParam]) return dir;\n        else return 0;\n      })\n      // remove any non-image types\n      for (const doc of docs.collection) {\n        const idx = docs.collection.indexOf(doc)\n        if (!(doc as any).primaryInd && idx && !['image/jpg', 'image/jpeg', 'image/png', 'image/gif', 'image/bmp', 'image/tiff'].includes(doc.mimeType.toLowerCase())) {\n          docs.collection.splice(idx, 1)\n        }\n      }\n      this.attachments = docs.collection\n      this.cdr.detectChanges();\n    }).catch(err => {\n      console.error('Failed to sync with Primary Images')\n    })\n  }\n\n  ngOnchanges(changes: SimpleChanges) {\n    this.updateTable();\n  }\n\n  ngDoCheck() {\n    this.updateTable();\n  }\n\n  updateTable () {\n    if (!this.loaded && this.incident) {\n      this.loadPage();\n      this.loaded = true\n    }\n  }\n\n  sortData(event) {\n    this.loaded = false\n    this.searchState.sortParam = event.active\n    this.searchState.sortDirection = event.direction\n    this.loadPage();\n  }\n\n  upload () {\n    const self = this;\n    let dialogRef = this.dialog.open(UploadVideoDialogComponent, {\n      width: '600px',\n    });\n    dialogRef.afterClosed().subscribe(result => {\n      if (result.title && result.url) {\n        self.uploadVideoLink (result.title, result.url).then(() => {\n          this.snackbarService.open('Video Added Successfully', 'OK', { duration: 10000, panelClass: 'snackbar-success' });\n          this.loadPage()\n        }).catch(err => {\n          this.snackbarService.open('Failed to Added Video: ' + JSON.stringify(err.message), 'OK', { duration: 10000, panelClass: 'snackbar-error' });\n        }).finally(() => {\n          self.loaded = false;\n          this.cdr.detectChanges();\n        })\n      }\n\n    });\n  }\n\n  uploadVideoLink( title: string, url: string) {\n    if(!this.matchYoutubeUrl(url)){\n      this.snackbarService.open('This is not a youtube link', 'OK', { duration: 0, panelClass: 'snackbar-error' });\n    }\n    else{\n      const resource = {\n        externalUriDisplayLabel: title,\n        externalUri: url,\n        publishedInd: false,\n        privateInd: false,\n        archivedInd: false,\n        primaryInd: false,\n        externalUriCategoryTag: 'video',\n        sourceObjectNameCode: 'INCIDENT',\n        sourceObjectUniqueId: '' + this.incident.wildfireIncidentGuid,\n        '@type': 'http://wfim.nrs.gov.bc.ca/v1/externalUri',\n        type: 'http://wfim.nrs.gov.bc.ca/v1/externalUri'\n      } as ExternalUriResource;\n\n      return this.externalUriService.createExternalUri(\n        resource,\n        'response'\n       ).toPromise()\n      }\n    }\n\n    matchYoutubeUrl(url) {\n      const p = /^(?:https?:\\/\\/)?(?:m\\.|www\\.)?(?:youtu\\.be\\/|youtube\\.com\\/(?:embed\\/|v\\/|watch\\?v=|watch\\?.+&v=))((\\w|-){11})(?:\\S+)?$/;\n      if(url.match(p)){\n          return url.match(p)[1];\n      }\n      else{\n        return false;\n      }\n    }\n\n  /**\n   * This should be moved into the IM API\n   */\n    async removePrimaryFlags (guid: string) {\n      for (const attachment of this.attachments) {\n        const isPrimary = (attachment as any).primaryInd as Boolean\n        if (isPrimary) {\n          (attachment as any).primaryInd = false\n          await this.incidentAttachmentService.updateIncidentAttachment(this.incident.wildfireYear, this.incident.incidentNumberSequence, attachment.attachmentGuid, undefined, attachment)\n          .toPromise().catch(err => {\n            // Ignore this\n            console.error(err)\n          })\n        }\n      }\n\n      for (const videoLink of this.externalUriList.collection) {\n        if (videoLink.primaryInd && videoLink.externalUriGuid !== (guid as any).event) {\n          videoLink.primaryInd = false\n          await this.externalUriService.updateExternalUri(videoLink.externalUriGuid, videoLink)\n          .toPromise().catch(err => {\n            // Ignore this\n            console.error(err)\n          })\n        }\n      }\n\n      this.loadPage()\n    }\n}\n","<ng-container class=\"wfone-base-container\">\n    <div class=\"header-panel\">\n      <span style=\"font-size: 24px;\">Videos</span>\n      <button mat-button color=\"primary\" class=\"primary-button\" (click)=\"upload()\">Add Video</button>\n    </div>\n    <div class=\"image-gallery\">\n      <video-card-panel *ngFor=\"let video of externalUriList.collection\" [video]=\"video\" [incident]=\"incident\" (loadPage)=\"loadPage()\" (removePrimaryFlags)=\"removePrimaryFlags($event)\"></video-card-panel>\n    </div>\n  </ng-container>\n","import {DomSanitizer} from '@angular/platform-browser';\nimport {UntypedFormGroup} from '@angular/forms';\nimport { ErrorState, ValidationError } from '../../store/application/application.state';\nimport { getDisplayErrorMessage } from '../../utils/error-messages';\n\nexport class BaseComponentModel {\n    public base = [];\n    DISPLAY_ERROR_MESSAGE = getDisplayErrorMessage;\n\n    formControlNameErrorMap = new Map();\n    formControlNameErrors = new Map();\n    errorState: ErrorState[];\n    validationErrors: ValidationError[];\n    formGroup: UntypedFormGroup;\n\n    constructor(protected sanitizer: DomSanitizer) {\n        this.sanitizer.bypassSecurityTrustResourceUrl('');\n    }\n\n    public clone(): BaseComponentModel {\n        const clonedModel: BaseComponentModel = new BaseComponentModel(this.sanitizer);\n        clonedModel.base = this.base;\n        return clonedModel;\n    }\n\n    public setErrorState(errorState: ErrorState[]) {\n        this.errorState = errorState;\n        this.validationErrors = [];\n        for (const error of this.errorState) {\n            if (error.validationErrors) {\n                this.validationErrors.push.apply(this.validationErrors, error.validationErrors);\n            }\n        }\n        this.formControlNameErrors = new Map();\n        Object.keys(this.formGroup.controls).forEach(element => {\n            const elementErrors = this.setErrors(element);\n            if (elementErrors) {\n                this.formControlNameErrors.set(element, elementErrors);\n            }\n        });\n        this.updateValidators();\n    }\n\n\n    setErrors(formControl: string) {\n        const formControlErrorTemplates = this.formControlNameErrorMap.get(formControl) as string[];\n        if (this.validationErrors && formControlErrorTemplates && formControlErrorTemplates.length > 0) {\n            const formControlValidationErrors = this.validationErrors.filter(validationError => formControlErrorTemplates.includes(validationError.message));\n            const valErrors = formControlValidationErrors.map(validationError => this.DISPLAY_ERROR_MESSAGE(validationError));\n            if (valErrors && valErrors.length > 0) {\n                return {msgs: '<span>' + valErrors.join('</span><br/><span>') + '</span>'};\n            } else {\n                return null;\n            }\n        } else {\n            return null;\n        }\n    }\n\n    public getErrors(formControl: string) {\n        return this.formControlNameErrors.get(formControl);\n    }\n\n    protected updateValidators() {\n        this.formControlNameErrorMap.forEach((value: string[], key: string) => {\n            this.formGroup.controls[key].updateValueAndValidity({onlySelf: true, emitEvent: false});\n            this.formGroup.controls[key].markAsTouched({onlySelf: true});\n        });\n    }\n}\n","import {\n    AfterViewInit,\n    ChangeDetectorRef,\n    Directive,\n    Injectable,\n    Input,\n    OnChanges,\n    OnInit,\n    SimpleChanges\n} from '@angular/core';\nimport {ActivatedRoute, Router} from '@angular/router';\nimport {DomSanitizer} from '@angular/platform-browser';\nimport {Store} from '@ngrx/store';\nimport {BaseComponentModel} from './base.component.model';\nimport {\n    DATE_FORMATS,\n    getElementInnerText,\n    hasValues,\n    isElementTruncated,\n    ResourcesRoutes\n} from '../../../app/utils';\nimport {AbstractControl, UntypedFormBuilder, UntypedFormGroup} from '@angular/forms';\nimport {Overlay} from '@angular/cdk/overlay';\nimport {ApplicationStateService} from '../../services/application-state.service';\nimport {AppConfigService, TokenService} from '@wf1/core-ui';\nimport {HttpClient} from '@angular/common/http';\nimport {MatLegacyDialog as MatDialog} from '@angular/material/legacy-dialog';\nimport {MatLegacySnackBar as MatSnackBar} from '@angular/material/legacy-snack-bar';\nimport {PaginationInstance} from 'ngx-pagination';\nimport { RootState } from '../../store';\nimport { ErrorState, LoadState } from '../../store/application/application.state';\nimport { CONSTANTS } from \"../../../app/utils/index\";\nimport { CommonUtilityService } from '../../services/common-utility.service';\nimport { WatchlistService } from '../../services/watchlist-service';\n\n@Directive()\n@Injectable()\nexport class BaseComponent implements OnInit, OnChanges, AfterViewInit {\n    @Input() loadState: LoadState;\n    @Input() errorState: ErrorState[];\n    @Input() saveErrorState: ErrorState[];\n    @Input() severeErrorState?: ErrorState[];\n    displayLabel = 'Data';\n    showingErrorDialog = false;\n    backRoute: ResourcesRoutes = null;\n    backRouteQueryParams: any;\n    backRouteLabel: string = null;\n    summaryString: string = null;\n    isConnected = true;\n    protected model: BaseComponentModel;\n    public viewModel: BaseComponentModel;\n    isLoading: boolean;\n    componentId = '';\n    mobile = this.getIsMobileResolution();\n\n    CONSTANTS = CONSTANTS;\n\n\n\n    SAVE_FAIL_TEXT = 'Save failed';\n    SAVE_SUCCESS_TEXT = 'Saved Successfully';\n\n\n    DATE_FORMATS = DATE_FORMATS;\n\n\n    unsavedChangesMessage = 'Unsaved Changes';\n\n    isUnsaved = false;\n    getElementInnerText = getElementInnerText;\n    isElementTruncated = isElementTruncated;\n\n    config: PaginationInstance = {\n        id: 'Paginator',\n        itemsPerPage: 5,\n        currentPage: 1,\n        totalItems: 0\n    };\n\n    public paginatorLabels: any = {\n        previousLabel: '',\n        nextLabel: '',\n    };\n\n    public simplePaginatorLabels: any = {\n        previousLabel: 'Back',\n        nextLabel: 'Next',\n    };\n\n    constructor(protected router: Router,\n                protected route: ActivatedRoute,\n                protected sanitizer: DomSanitizer,\n                protected store: Store<RootState>,\n                protected fb: UntypedFormBuilder,\n                protected dialog: MatDialog,\n                protected applicationStateService: ApplicationStateService,\n                protected tokenService: TokenService,\n                protected snackbarService: MatSnackBar,\n                protected overlay: Overlay,\n                protected cdr: ChangeDetectorRef,\n                protected appConfigService: AppConfigService,\n                protected http: HttpClient,\n                protected watchlistService: WatchlistService,\n                protected commonUtilityService?: CommonUtilityService) {\n        this.initModels();\n    }\n\n    getPagingConfig(): PaginationInstance {\n        return this.config;\n    }\n\n    initModels() {\n      /* empty, for override purposes only */\n    }\n\n    loadPage() {\n      /* empty, for override purposes only */\n    }\n\n    reload() {\n      /* empty, for override purposes only */\n    }\n\n    ngOnInit() {\n        this.loadPage();\n    }\n\n    ngAfterViewInit() {\n      /* empty */\n    }\n\n    ngOnChanges(changes: SimpleChanges) {\n        if (changes.loadState && changes.loadState.currentValue) {\n            this.isLoading = changes.loadState.currentValue.isLoading;\n            const previousValue = changes.loadState.previousValue;\n            if (!this.isLoading && previousValue && previousValue.isLoading) {\n                this.invokeAfterLoaded();\n            }\n        }\n        if (changes.errorState) {\n            this.errorState = changes.errorState.currentValue as ErrorState[];\n            if (this.viewModel.formGroup) {\n                this.viewModel.setErrorState(this.errorState);\n            }\n        }\n    }\n\n\n    invokeAfterLoaded() {\n      /* empty, for override purposes only */\n    }\n\n    protected updateView(): void {\n        this.viewModel = this.model.clone();\n    }\n\n    getIsMobileResolution(): boolean {\n        return this.applicationStateService.getIsMobileResolution();\n    }\n\n    redirectWithOAuth(redirectRoutePath: string) {\n        const baseUrl = this.appConfigService.getConfig().application.baseUrl;\n        const url = baseUrl;\n        window.location.href = url;\n    }\n\n    getAsFormGroup(ac: AbstractControl): UntypedFormGroup {\n        return ac as UntypedFormGroup;\n    }\n\n    disableSaveForm(form?: UntypedFormGroup): boolean {\n        const fg = form ? form : this.viewModel.formGroup;\n        return !fg.dirty || !fg.valid;\n    }\n\n    disableBatchSaveForm(arrayProperty: string, form?: UntypedFormGroup): boolean {\n        const fg = form ? form : this.viewModel.formGroup;\n        //Check form array for dirty flag\n        const fgArray: UntypedFormGroup[] = fg?.controls[arrayProperty]['controls'];\n\n        const arrayHasDirtyFlag = fgArray.some(contactFg => contactFg.dirty);\n        const arrayHasInvalidFlag = fgArray.some(contactFg => !contactFg.valid);\n\n        /*\n         * Disable if\n         * 1) the form array and main form is not dirty OR\n         * 2) a form array form group is invalid\n         */\n        if (!arrayHasDirtyFlag && !fg.dirty) {\n            return true;\n        }\n        if (arrayHasInvalidFlag) {\n            return true;\n        }\n\n        return false;\n    }\n\n    unsavedForm(form?: UntypedFormGroup, arrayProperty?: string): boolean {\n        const fg = form ? form : this.viewModel.formGroup;\n        if (arrayProperty) {\n            this.unsavedBatchForm(arrayProperty);\n        } else {\n            this.doUnsavedStateUpdateIfNeeded(this.componentId, fg.dirty);\n        }\n        return fg.dirty;\n    }\n\n    unsavedBatchForm(arrayProperty: string): boolean {\n        const fg = this.viewModel.formGroup;\n        //Check form array for dirty flag\n        const fgArray: UntypedFormGroup[] = fg?.controls[arrayProperty]['controls'];\n        const arrayHasDirtyFlag = fgArray.some(contactFg => contactFg.dirty);\n        const hasAddedUnsavedItem = this.hasAddedUnsavedItemNotBlank(fg, arrayProperty);\n        this.doUnsavedStateUpdateIfNeeded(this.componentId, arrayHasDirtyFlag || fg.dirty || hasAddedUnsavedItem);\n        return this.isUnsaved;\n    }\n\n    doUnsavedStateUpdateIfNeeded(componentId: string, newUnsavedState: boolean) {\n        this.isUnsaved = newUnsavedState;\n    }\n\n    hasAddedUnsavedItemNotBlank(fgMain: UntypedFormGroup, arrayProperty: string) {\n        const controls = fgMain?.controls[arrayProperty]['controls'];\n        const ret = controls.some(ac => {\n                const fg: UntypedFormGroup = <UntypedFormGroup>ac;\n                if (!fg.get('id').value && controls.length > 1) { //not a default empty entry\n                    return true;\n                } else if (!fg.get('id').value && controls.length == 1) { //check if empty entry\n                    const item = fg.getRawValue();\n                    if (!hasValues(item)) {\n                        return false;\n                    } else {\n                        return true;\n                    }\n                } else {\n                    return false;\n                }\n            }\n        );\n        return ret;\n    }\n\n    getActionRowClass() {\n        return 'space-between';\n    }\n}\n","import { AfterViewInit, Directive, Injectable, Input, OnChanges, SimpleChanges } from \"@angular/core\";\nimport { BaseComponent } from \"../../base/base.component\";\nimport { PaginationInstance } from \"ngx-pagination\";\nimport { PagedCollection } from \"../../../conversion/models\";\nimport { PagingInfoRequest, PagingSearchState } from \"../../../store/application/application.state\";\nimport { NavigationEnd } from \"@angular/router\";\n\n@Directive()\n@Injectable()\nexport class CollectionComponent extends BaseComponent implements OnChanges, AfterViewInit {\n  @Input() collection: PagedCollection;\n  @Input() searchState: PagingSearchState;\n  baseRoute = undefined;\n  searchText = undefined;\n  collectionData: any[];\n  initPagingRequest: PagingInfoRequest;\n  currentSort;\n  currentSortLabel;\n  currentSortDirection;\n  currentPage;\n  columnsToSortBy = [];\n  showEntriesSelection = 20; // default\n  showEntriesOptions = [\n    { label: \"5\", value: 5 },\n    { label: \"10\", value: 10 },\n    { label: \"20\", value: 20 },\n    { label: \"50\", value: 50 },\n    { label: \"100\", value: 100 },\n  ];\n\n  summaryString = \"\";\n\n\n  isFirstLoad = true;\n\n  initSortingAndPaging(initPaging: PagingInfoRequest) {\n    // extending class needs to call this to init\n    this.initPagingRequest = initPaging;\n    this.currentSort = this.searchState.sortParam;\n    this.currentSortDirection = this.searchState.sortDirection;\n\n    const currentSortObj = this.columnsToSortBy.find(col => col.def == this.currentSort);\n    if (currentSortObj) {\n      this.currentSortLabel = currentSortObj.label;\n    }\n    this.currentPage = this.searchState && this.searchState.pageIndex ? this.searchState.pageIndex : this.initPagingRequest.pageNumber;\n    this.showEntriesSelection = Number(this.searchState && this.searchState.pageSize ? this.searchState.pageSize : this.initPagingRequest.pageRowCount);\n  }\n\n  getPagingConfig(): PaginationInstance {\n    return {\n      ...super.getPagingConfig(),\n      id: this.componentId + \"Paginator\",\n      itemsPerPage: this.showEntriesSelection,\n      totalItems: this.collection && this.collection.totalRowCount ? this.collection.totalRowCount : 0\n    };\n  }\n\n  ngAfterViewInit() {\n    super.ngAfterViewInit();\n    this.baseRoute = this.router.url;\n    if (this.isFirstLoad && this.baseRoute && this.router.url == this.baseRoute) {\n      this.isFirstLoad = false;\n      this.router.events.forEach((event) => {\n        if (event instanceof NavigationEnd) {\n          if (event.url == this.baseRoute) {\n            this.doSearch();\n          }\n        }\n      });\n    }\n  }\n\n  ngOnChanges(changes: SimpleChanges) {\n    super.ngOnChanges(changes);\n    if (changes.collection && changes.collection.currentValue) {\n      this.updateCollection(changes.collection.currentValue);\n      setTimeout(() => {\n        this.fixPaginationA11y();\n      });\n    }\n    if (changes.searchState) {\n      this.searchState = changes.searchState.currentValue ? changes.searchState.currentValue : this.initPagingRequest;\n      this.searchText = this.searchState.query;\n      setTimeout(() => {\n        this.cdr.detectChanges();\n      });\n    }\n  }\n\n  fixPaginationA11y() {\n    let paginationUlEls = document.getElementsByClassName(\"ngx-pagination\");\n    if (paginationUlEls && paginationUlEls.length) {\n      let el = <HTMLUListElement>paginationUlEls[0];\n      let aEls = el.getElementsByTagName(\"a\");\n      for (let i = 0; i < aEls.length; i++) {\n        aEls.item(i).removeAttribute(\"aria-label\");\n      }\n      el.removeAttribute(\"role\");\n      el.removeAttribute(\"aria-label\");\n      el.parentElement.setAttribute(\"role\", \"navigation\");\n      el.parentElement.setAttribute(\"aria-label\", \"Pagination\");\n    }\n  }\n\n  updateCollection(collection: PagedCollection) {\n    this.collection = collection;\n    this.collectionData = this.collection.collection;\n    this.config = this.getPagingConfig();\n    this.config.currentPage = this.collection.pageNumber;\n    this.summaryString = this.getSummaryString(this.config.id);\n  }\n\n  onPageChange(number: number) {\n    if (number >= 1) {\n      this.config.currentPage = number;\n    }\n    else {\n      this.config.currentPage += (number === -1 && this.config.currentPage > 1) ? -1 : 1\n    }\n    this.doSearch();\n  }\n\n  onShowEntriesChange() {\n    this.config.itemsPerPage = this.showEntriesSelection;\n    this.config.currentPage = 1;\n    this.doSearch();\n  }\n\n  sortData(data) {\n    this.currentSort = data.active;\n    this.currentSortDirection = data.direction;\n    const currentSortObj = this.columnsToSortBy.find(col => col.def == this.currentSort);\n    if (currentSortObj) {\n      this.currentSortLabel = currentSortObj.label;\n    }\n    this.doSearch();\n  }\n\n  searchTextUpdated() {\n    this.config.currentPage = 1;\n    this.doSearch();\n  }\n\n  onChangeFilters() {\n    this.config.currentPage = 1;\n  }\n\n  doSearch() {\n    // extending class needs to override this to dispatch a search action\n  }\n\n  doSort() {\n    this.columnsToSortBy = this.columnsToSortBy.map(col => {\n      const newCol = { ...col };\n      newCol.dir = this.currentSortDirection == \"DESC\" ? \"ASC\" : \"DESC\";\n      if (col.def == this.currentSort) {\n        this.currentSortLabel = col.label;\n      }\n      return newCol;\n    });\n    this.doSearch();\n  }\n\n  getSummaryString(configId?: string) {\n    let showNum = Number(this.showEntriesSelection);\n    if (configId === 'loadWildfiresPaginator') {\n      showNum = 10;\n    }\n    if (this.collection && this.collection.totalRowCount && this.collection.totalRowCount > 0) {\n      let start = (this.collection.pageNumber - 1) * showNum + 1;\n      let end = (start + showNum) - 1;\n      const total = this.collection.totalRowCount ? this.collection.totalRowCount : 0;\n\n      if (start < 0) {\n        start = 0;\n      }\n      if (end < 0) {\n        end = 0;\n      }\n      if (end > total) {\n        end = total;\n      }\n      return `Showing ${start} to ${end} of ${total}`;\n\n    } else {\n      return this.CONSTANTS.NO_RECORDS_MESSAGE;\n    }\n  }\n\n  selectFilterUpdated(property, value) {\n    this[property] = value;\n    this.cdr.detectChanges();\n    this.onChangeFilters();\n  }\n\n  selectShowEntriesUpdated(property, value) {\n    this[property] = value;\n    this.onShowEntriesChange();\n  }\n\n  selectSortParamUpdated(property, value) {\n    this[property] = value;\n    this.doSort();\n  }\n\n  //click and enter key handling for item level action (support for accessibility)\n  defaultItemClickAction(item) {\n    if (this.defaultItemActionPermitted(item)) {\n      this.doDefaultItemAction(item);\n    }\n  }\n\n  defaultItemKeyEnterAction(event, item) {\n    let enterKey = \"Enter\";\n    let spaceKey = \" \";\n    if (this.defaultItemActionPermitted(item) && (event.key == enterKey || event.key == spaceKey)) {\n      this.doDefaultItemAction(item);\n    }\n  }\n\n  defaultItemActionPermitted(item) {\n    return false; //implementing classes need to override if they have a item level action\n  }\n\n  doDefaultItemAction(item) {\n    return; //implementing classes need to override if they have a item level action\n  }\n}\n","import { AfterViewInit, Component, OnInit } from '@angular/core';\nimport { AreaRestrictionsOption, BansAndProhibitionsOption, EvacOrderOption } from '../../conversion/models';\nimport { AGOLService } from '../../services/AGOL-service';\nimport { CommonUtilityService } from '../../services/common-utility.service';\nimport { haversineDistance } from '../../services/wfnews-map.service/util';\nimport { convertToDateWithDayOfWeek as DateTimeConvert } from '../../utils';\nimport * as L from 'leaflet';\nimport { AppConfigService } from '@wf1/core-ui';\n\n@Component({\n  selector: 'current-alert-component',\n  templateUrl: './current-alert-component.component.html',\n  styleUrls: ['./current-alert-component.component.scss']\n})\nexport class CurrentAlertComponentComponent implements OnInit, AfterViewInit {\n  public evacOrders : EvacOrderOption[] = []\n  public areaRestrictions: AreaRestrictionsOption[] = []\n  public bansAndProhibitions: BansAndProhibitionsOption[] = []\n  public currentLat: number;\n  public currentLong: number;\n  public nearmeChecked: boolean;\n  public alertTypeOptions = [\n    'All',\n    'Area Restrictions',\n    'Bans & Prohibitions',\n    'Evacuation Orders and Alerts',\n  ]\n  public selectedAlertType = 'All'\n\n  constructor(private agolService: AGOLService, private commonUtilityService: CommonUtilityService, private appConfigService: AppConfigService) {}\n  public convertToDateWithDayOfWeek = DateTimeConvert;\n\n  ngOnInit() {\n    this.useMyCurrentLocation()\n  }\n\n  createMap (id: string, item: any, type: string) {\n    const location = item && item.centroid ? [Number(item.centroid.y || 0), Number(item.centroid.x || 0)] : [0, 0]\n    const map = L.map(id, {\n      attributionControl: false,\n      zoomControl: false,\n      dragging: false,\n      doubleClickZoom: false,\n      boxZoom: false,\n      trackResize: false\n    }).setView(location, 12)\n\n    if (item.geometry) {\n      map.fitBounds(new L.LatLngBounds([item.geometry.ymin, item.geometry.xmin], [item.geometry.ymax, item.geometry.xmax]));\n    }\n\n    L.tileLayer('https://tile.openstreetmap.org/{z}/{x}/{y}.png', {\n      attribution: '&copy; <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a> contributors'\n    }).addTo(map)\n\n    let databcUrl = this.appConfigService.getConfig()['mapServices']['openmapsBaseUrl'].toString()\n\n    if (type.toLocaleLowerCase() === 'evac') {\n      L.tileLayer.wms(databcUrl, {\n        layers: 'WHSE_HUMAN_CULTURAL_ECONOMIC.EMRG_ORDER_AND_ALERT_AREAS_SP',\n        styles: '6885',\n        format: 'image/png',\n        transparent: true,\n        version: '1.1.1'\n      }).addTo(map);\n    } else if (type.toLocaleLowerCase() === 'ban') {\n      L.tileLayer.wms(databcUrl, {\n        layers: 'WHSE_LAND_AND_NATURAL_RESOURCE.PROT_BANS_AND_PROHIBITIONS_SP',\n        styles: '7733',\n        format: 'image/png',\n        transparent: true,\n        version: '1.1.1'\n      }).addTo(map);\n    } else if (type.toLocaleLowerCase() === 'area') {\n      L.tileLayer.wms(databcUrl, {\n        layers: 'WHSE_LAND_AND_NATURAL_RESOURCE.PROT_RESTRICTED_AREAS_SP',\n        styles: '7735',\n        format: 'image/png',\n        transparent: true,\n        version: '1.1.1'\n      }).addTo(map);\n    }\n  }\n\n  async ngAfterViewInit () {\n    await Promise.all([this.getEvacOrders(), this.getBansProhibitions(), this.getAreaRestrictions()])\n  }\n\n  selectAlertUpdated(event:string){\n    this.evacOrders = [];\n    this.areaRestrictions = [];\n    this.bansAndProhibitions = [];\n    let long = null;\n    let lat = null\n    if(this.nearmeChecked){\n      long = this.currentLong\n      lat = this.currentLat\n    }\n    switch(event) {\n      case 'All': {\n        this.getEvacOrders(long, lat);\n        this.getBansProhibitions(long, lat);\n        this.getAreaRestrictions(long, lat)\n        break;\n      }\n      case 'Area Restrictions': {\n        this.getAreaRestrictions(long, lat)\n        break;\n      }\n      case 'Bans & Prohibitions': {\n        this.getBansProhibitions(long, lat);\n        break;\n      }\n      case 'Evacuation Orders and Alerts': {\n        this.getEvacOrders(long, lat);\n        break;\n      }\n      default: {\n         break;\n      }\n   }\n  }\n\n  nearmeToggleChanged(){\n    this.selectAlertUpdated(this.selectedAlertType)\n  }\n\n  async getEvacOrders (currentLong: number = null, currentLat: number = null): Promise<void> {\n    const response = await this.agolService.getEvacOrders((currentLong && currentLat) ? {x: currentLong, y: currentLat} : null, { returnCentroid: true, returnGeometry: false}).toPromise()\n\n    if (response.features) {\n      for (const element of response.features) {\n        const extentResponse = await this.agolService.getEvacOrdersByEventNumber(element.attributes.EVENT_NUMBER, { returnExtent: true}).toPromise()\n\n        this.evacOrders.push({\n          eventName: element.attributes.EVENT_NAME,\n          eventType: element.attributes.EVENT_TYPE,\n          orderAlertStatus: element.attributes.ORDER_ALERT_STATUS,\n          issuingAgency: element.attributes.ISSUING_AGENCY,\n          preOcCode: element.attributes.PREOC_CODE,\n          emrgOAAsysID: element.attributes.EMRG_OAA_SYSID,\n          centroid: element.centroid,\n          geometry: extentResponse.extent,\n          dateModified: element.attributes.DATE_MODIFIED,\n          noticeType: 'evac'\n        })\n      }\n    }\n  }\n\n  async getAreaRestrictions(currentLong: number = null, currentLat: number = null): Promise<void> {\n    const response = await this.agolService.getAreaRestrictions((currentLong && currentLat) ? {x: currentLong, y: currentLat} : null, { returnCentroid: true, returnGeometry: false}).toPromise()\n    if (response.features) {\n      for (const element of response.features) {\n        const extentResponse = await this.agolService.getAreaRestrictionsByID(element.attributes.PROT_RA_SYSID, { returnExtent: true}).toPromise()\n        this.areaRestrictions.push ({\n          protRsSysID: element.attributes.PROT_RA_SYSID,\n          name: element.attributes.NAME,\n          accessStatusEffectiveDate: element.attributes.ACCESS_STATUS_EFFECTIVE_DATE,\n          fireCentre: element.attributes.FIRE_CENTRE_NAME,\n          fireZone: element.attributes.FIRE_ZONE_NAME,\n          bulletinUrl: element.attributes.BULLETIN_URL,\n          centroid: element.centroid,\n          geometry: extentResponse.extent,\n          noticeType: 'area'\n        })\n      }\n    }\n  }\n\n  async getBansProhibitions(currentLong: number = null, currentLat: number = null): Promise<void> {\n    const response = await this.agolService.getBansAndProhibitions((currentLong && currentLat) ? {x: currentLong, y: currentLat} : null, { returnCentroid: true, returnGeometry: true}).toPromise()\n    if (response.features) {\n      // there is no Status column in BanAndProhibitions\n      for (const element of response.features) {\n        const extentResponse = await this.agolService.getBansAndProhibitionsById(element.attributes.PROT_BAP_SYSID, { returnExtent: true }).toPromise()\n        this.bansAndProhibitions.push({\n          protBsSysID: element.attributes.PROT_BAP_SYSID,\n          type: element.attributes.TYPE,\n          accessStatusEffectiveDate: element.attributes.ACCESS_STATUS_EFFECTIVE_DATE,\n          fireCentre: element.attributes.FIRE_CENTRE_NAME,\n          fireZone: element.attributes.FIRE_ZONE_NAME,\n          bulletinUrl: element.attributes.BULLETIN_URL,\n          accessProhibitionDescription: element.attributes.ACCESS_PROHIBITION_DESCRIPTION,\n          centroid: element.centroid,\n          geometry: extentResponse.extent,\n          noticeType: 'bans'\n        })\n      }\n    }\n  }\n\n  async useMyCurrentLocation() {\n    const location = await this.commonUtilityService.getCurrentLocationPromise()\n    if( location ){\n        this.currentLat = Number(location.coords.latitude);\n        this.currentLong = Number(location.coords.longitude);\n    }\n  }\n\n  calculateDistance (lat: number, long: number): string {\n    let result = '---';\n    if (lat && long && this.currentLat && this.currentLong) {\n      result = (haversineDistance(lat, this.currentLat, long, this.currentLong) / 1000).toFixed(2);\n    }\n    return result;\n  }\n\n  openBcGovGuide() {\n    let url = 'https://www2.gov.bc.ca/gov/content/safety/wildfire-status/fire-bans-and-restrictions'\n    window.open(url, \"_blank\");\n  }\n\n  convertRestriction(value: string) {\n    let text = value.split(', ')\n    for (let i = 0; i < text.length; i++) {\n      if((text[i] === 'Category 2') || (text[i] === 'Category 3')) {\n        text[i] = text[i] + ' Open Fire'\n      }\n    }\n    return text.toString()\n  }\n}\n","<div class=\"container\">\n  <div class=\"headers\">\n      <div class=\"field\">\n          <mat-label class=\"label\">Notice Type</mat-label>\n          <select appWFSingleSelect appWFPlaceholder=\"Select...\"\n                  aria-label=\"Type\"\n                  [options]=\"alertTypeOptions\"\n                  [(ngModel)]=\"selectedAlertType\"\n                  (updated)=\"selectAlertUpdated($event)\">\n              <option *ngFor = \"let item of alertTypeOptions\" value=\"{{item}}\">\n                  <span>{{item}}</span>\n              </option>\n          </select>\n      </div>\n\n      <div class=\"field\">\n          <div class=\"toggle-bar\">\n              <span>All Notices</span>\n              <mat-slide-toggle [(ngModel)]=\"nearmeChecked\" (change)=\"nearmeToggleChanged()\" [disabled] = \"!(currentLat && currentLong)\">Notices Near Me</mat-slide-toggle>\n          </div>\n      </div>\n  </div>\n\n  <div class=\"contents\">\n      <div class=\"left-panels\">\n          <div class=\"panel-title\">Definitions and Details</div>\n          <mat-expansion-panel [expanded]=\"true\">\n              <mat-expansion-panel-header>\n              <mat-panel-title>\n                  Evacuation Orders and Alerts\n              </mat-panel-title>\n              </mat-expansion-panel-header>\n              <panel-evacuation-orders-and-alerts></panel-evacuation-orders-and-alerts>\n          </mat-expansion-panel>\n\n          <mat-expansion-panel>\n              <mat-expansion-panel-header>\n              <mat-panel-title>\n                  Bans and Prohibitions\n              </mat-panel-title>\n              </mat-expansion-panel-header>\n              <panel-bans-prohibitions></panel-bans-prohibitions>\n          </mat-expansion-panel>\n\n          <mat-expansion-panel>\n              <mat-expansion-panel-header>\n              <mat-panel-title>\n                  Area Restrictions\n              </mat-panel-title>\n              </mat-expansion-panel-header>\n              <panel-area-restrictions></panel-area-restrictions>\n          </mat-expansion-panel>\n      </div>\n\n      <div class=\"notice-list\">\n        <div class=\"panel-title\">Current Notices</div>\n        <div *ngIf=\"!(evacOrders.length || bansAndProhibitions.length || areaRestrictions.length)\">\n            There is currently no notice available in your area.\n        </div>\n        <mat-expansion-panel (opened)=\"createMap('evac-' + evac.emrgOAAsysID, evac, 'evac')\" [expanded]=\"false\" *ngFor=\"let evac of evacOrders\">\n          <mat-expansion-panel-header class=\"exp-panel\">\n            <div class=\"notice-item\">\n              <div class=\"item-header\">{{evac.eventName}}</div>\n              <span class=\"label\"><wf-icon class=\"icon\" iconName=\"error\" iconSize=\"small\"></wf-icon><span style=\"padding-left: 10px; margin-top: 5px;\">Evacuation Orders and Alerts</span></span>\n              <div class=\"item-row\">\n                  <span class=\"item-title\">Last Updated: </span>\n                  <span class=\"item-content\">{{convertToDateWithDayOfWeek(evac.dateModified)}}</span>\n              </div>\n              <div class=\"item-row\">\n                  <span class=\"item-title\">Agency: </span>\n                  <span class=\"item-content\">{{evac.issuingAgency}}</span>\n              </div>\n              <div class=\"item-row\">\n                  <span class=\"item-title\">Status: </span>\n                  <span class=\"item-content\">{{evac.orderAlertStatus}}</span>\n              </div>\n              <div class=\"item-row\" *ngIf=\"this.currentLat && this.currentLong\">\n                  <span class=\"item-title\">Distance: </span>\n                  <span class=\"item-content\">{{calculateDistance(evac.centroid.y, evac.centroid.x)}} km from My Location</span>\n              </div>\n            </div>\n          </mat-expansion-panel-header>\n          <div [id]=\"'evac-' + evac.emrgOAAsysID\" class=\"mini-map\"></div>\n        </mat-expansion-panel>\n\n        <mat-expansion-panel (opened)=\"createMap('ban-' + ban.protBsSysID, ban, 'ban')\" [expanded]=\"false\" *ngFor=\"let ban of bansAndProhibitions\">\n          <mat-expansion-panel-header class=\"exp-panel\">\n            <div class=\"notice-item\">\n              <div class=\"item-header\" style=\"background: url('../../../assets/images/external-link.svg') center right no-repeat; background-size: 18px;\" (click)=\"openBcGovGuide()\">{{ban.type}}</div>\n              <span class=\"label\"><wf-icon class=\"icon\" iconName=\"block\" iconSize=\"small\"></wf-icon><span style=\"padding-left: 10px; margin-top: 5px;\">Bans and Prohibitions</span></span>\n              <div class=\"item-row\">\n                  <span class=\"item-title\">Last Updated: </span>\n                  <span class=\"item-content\">{{convertToDateWithDayOfWeek(ban.accessStatusEffectiveDate)}}</span>\n              </div>\n              <div class=\"item-row\">\n                  <span class=\"item-title\">Fire Centre: </span>\n                  <span class=\"item-content\">{{ban.fireCentre}}</span>\n              </div>\n              <div class=\"item-row\">\n                  <span class=\"item-title\">Restrictions: </span>\n                  <span class=\"item-content\">{{convertRestriction(ban.accessProhibitionDescription)}}</span>\n              </div>\n              <div class=\"item-row\" *ngIf=\"this.currentLat && this.currentLong\">\n                  <span class=\"item-title\">Distance: </span>\n                  <span class=\"item-content\">{{calculateDistance(ban.centroid.y, ban.centroid.x)}} km from My Location</span>\n              </div>\n          </div>\n        </mat-expansion-panel-header>\n        <div [id]=\"'ban-' + ban.protBsSysID\" class=\"mini-map\"></div>\n      </mat-expansion-panel>\n      <mat-expansion-panel (opened)=\"createMap('area-' + area.protRsSysID, area, 'area')\" [expanded]=\"false\" *ngFor=\"let area of areaRestrictions\">\n        <mat-expansion-panel-header class=\"exp-panel\">\n          <div class=\"notice-item\">\n              <div class=\"item-header\">{{area.name}} </div>\n              <span class=\"label\"><span class=\"icon signpost mat-icon\"></span><span style=\"padding-left: 10px;\">Area Restrictions</span></span>\n              <div class=\"item-row\">\n                  <span class=\"item-title\">Last Updated: </span>\n                  <span class=\"item-content\">{{convertToDateWithDayOfWeek(area.accessStatusEffectiveDate)}}</span>\n              </div>\n              <div class=\"item-row\">\n                  <span class=\"item-title\">Fire Centre: </span>\n                  <span class=\"item-content\">{{area.fireCentre}}</span>\n              </div>\n              <div class=\"item-row\">\n                  <span class=\"item-title\">Status: </span>\n                  <span class=\"item-content\">Active</span>\n              </div>\n              <div class=\"item-row\" *ngIf=\"this.currentLat && this.currentLong\">\n                  <span class=\"item-title\">Distance: </span>\n                  <span class=\"item-content\">{{calculateDistance(area.centroid.y, area.centroid.x)}} km from My Location</span>\n              </div>\n          </div>\n        </mat-expansion-panel-header>\n        <div [id]=\"'area-' + area.protRsSysID\" class=\"mini-map\"></div>\n      </mat-expansion-panel>\n    </div>\n  </div>\n</div>\n","import { Component, Inject } from '@angular/core';\nimport { MAT_LEGACY_DIALOG_DATA as MAT_DIALOG_DATA, MatLegacyDialogRef as MatDialogRef } from '@angular/material/legacy-dialog';\n\nexport class DialogData {\n    public title: string;\n    public message: string;\n}\n\n@Component({\n    selector: 'disclaimer-dialog',\n    templateUrl: 'disclaimer-dialog.component.html',\n    styleUrls: ['./disclaimer-dialog.component.scss']\n})\nexport class DisclaimerDialogComponent {\n    dontShowAgain = false;\n\n    constructor(\n        public dialogRef: MatDialogRef<DisclaimerDialogComponent>,\n        @Inject(MAT_DIALOG_DATA) public data: any\n    ) {\n    }\n\n    cancel() {\n        this.dialogRef.close({dontShowAgain: this.dontShowAgain})\n    }\n\n}\n","<ng-container>\n    <div class=\"dialog-container\">\n        <div class=\"header\">\n            <div class=\"pm-logo\">\n                <img src=\"/assets/images/logo/bcwfservice-logo.png\" width=\"160\" height=\"60\" alt=\"image\">\n            </div>\n        </div>\n        <div class=\"dialog-content\" mat-dialog-content>\n            <div class=\"panel\">\n                <div class=\"disclaimer-content\">\n                    <span>BC Wildfire Service Disclaimer.</span>\n                    <div class=\"text\">\n                        <div>The wildfire incident data described below is updated when practicable and the occurrence of individual fire updates will vary.  The information is intended for general purposes only and should not be relied on as accurate, because fires are dynamic and circumstances may change quickly. This map was designed to keep people in B.C. informed about the current wildfire situation. It is not intended to be used as a risk assessment tool for insurance purposes.</div>\n\n                        <div>Wildfire perimeters for the current fire season, including both active fires and fires that have been declared out, are obtained from various sources. When data becomes available, it is refreshed from operational systems every five minutes to the public map.  The levels of current fire activity within the mapped fire perimeters can vary widely, so therefore the data may not reflect the current fire situation. This information should only be used for reference purposes. In the event that the fire perimeters overlay areas where private property or infrastructure is present, the perimeters do not indicate what level of damage (if any) may have occurred.</div> \n\n                        <div>The Province receives Evacuation Orders and Alerts information from local governments and First Nations when it becomes available. The BC Wildfire Service and GeoBC make no warranties or guarantees, either expressed or implied, as to the completeness, accuracy or correctness of the data, nor accept any liability arising from any incorrect, incomplete or misleading information contained therein. Emergency data may not reflect the current emergency situation, and therefore should only be used for reference purposes. \n                            <b>For the latest Evacuation Orders and Alerts information, please consult the appropriate local government. For further information regarding the Evacuation Orders and Alerts data, please contact the individual(s) identified in the </b>\n                            <a href=\"https://catalogue.data.gov.bc.ca/dataset/7efd46d0-b5d3-4dff-af80-d376c42aec33\" target=\"_blank\" rel=\"noopener\">\n                                data catalogue.\n                            </a>\n                        </div>\n\n                        <div>Fire prohibitions and restrictions apply to all public and private land, unless specified otherwise (in a local government bylaw, for example). Please check with local government authorities for any other restrictions before lighting any fire. The \"Fire Danger Rating\" layer on this map is intended for general information only and should not be relied on as accurate for a specific location due to variability in local site and weather conditions. Information is updated on a daily basis as soon as is practicable. Where discrepancies exist between this layer and the source information located on the \n                            <a href=\"https://www2.gov.bc.ca/gov/content/safety/wildfire-status/wildfire-situation/fire-danger\" target=\"_blank\" rel=\"noopener\">\n                                Fire Danger Rating\n                            </a>\n                            webpage, the source information shall take precedence.  For regulated forest operations, the danger class value must be derived from weather data representative of the site on which operations are being conducted. Where discrepancies exist between the colour display on the weather maps and the numerical values posted for the weather stations, the posted numerical values shall take precedence .</div> \n\n                        <div>More information regarding the\n                            <a href=\"https://www2.gov.bc.ca/gov/content/safety/wildfire-status/fire-bans-and-restrictions/ofts\" target=\"_blank\" rel=\"noopener\">\n                                Open Fire Tracking System \n                            </a>\n                            (OFTS),\n                            <a href=\"https://www2.gov.bc.ca/gov/content/safety/wildfire-status/prevention/for-industry-commercial-operators/hazard-assessment-abatement\" target=\"_blank\" rel=\"noopener\">\n                                Fuel Hazard Assessment and Abatement,\n                            </a>\n                            <a href=\"https://www2.gov.bc.ca/gov/content/safety/wildfire-status/prevention/vegetation-and-fuel-management/prescribed-burning\" target=\"_blank\" rel=\"noopener\">\n                                Prescribed Burning,\n                            </a>\n                            and\n                            <a href=\"https://www2.gov.bc.ca/gov/content/safety/wildfire-status/wildfire-situation/fire-danger/fire-weather\" target=\"_blank\" rel=\"noopener\">\n\n                                Weather Stations\n                            </a>\n                            can be found on the corresponding webpages.</div> \n\n                        <div>Coordinates provided within the datasets are approximate (based on information provided by outside sources and agencies) and are updated when practicable. The actual extent of wildfires and treatment areas may be different than what is indicated by the provided coordinates.</div> \n\n                        <div>\n                            - Data Catalogue:\n                        </div>\n                        <div style=\"padding-left: 1rem\">\n                            <a href=\"https://catalogue.data.gov.bc.ca/dataset/2790e3f7-6395-4230-8545-04efb5a18800\" target=\"_blank\" rel=\"noopener\">\n                            - Fire Points\n                            </a>\n                        </div>\n                        <div style=\"padding-left: 1rem\">\n                            <a href=\"https://catalogue.data.gov.bc.ca/dataset/cdfc2d7b-c046-4bf0-90ac-4897232619e1\" target=\"_blank\" rel=\"noopener\">\n                            - Fire Perimeters\n                            </a>\n                        </div>\n                        <div>\n                            <a href=\"https://www.drivebc.ca/\" target=\"_blank\" rel=\"noopener\">\n                            -         DriveBC\n                            </a>\n                        </div>\n                        <div>\n                            <a href=\"https://www.emergencyinfobc.gov.bc.ca/\" target=\"_blank\" rel=\"noopener\">\n                            -         EmergencyInfoBC\n                            </a>\n                        </div>\n                        <div>\n                            <a href=\"https://www2.gov.bc.ca/gov/content/data/geographic-data-services/web-based-mapping/agol/terms-of-use\" target=\"_blank\" rel=\"noopener\">\n                            -         B.C. Map Hub Terms of Use\n                            </a>\n                        </div>\n                        <div>\n                            <a href=\"https://www2.gov.bc.ca/gov/content/safety/wildfire-status\" target=\"_blank\" rel=\"noopener\">\n                                https://www2.gov.bc.ca/gov/content/safety/wildfire-status\n                            </a>\n                        </div>\n                        <div>\n                            <a href=\"https://www.facebook.com/BCForestFireInfo/\" target=\"_blank\" rel=\"noopener\">\n                                https://www.facebook.com/BCForestFireInfo/\n                            </a>\n                        </div>\n                        <div>\n                            <a href=\"https://twitter.com/BCGovFireInfo\" target=\"_blank\" rel=\"noopener\">\n                                https://twitter.com/BCGovFireInfo\n                            </a>\n                        </div>\n                        <div>\n                            <a href=\"https://firesmartbc.ca/\" target=\"_blank\" rel=\"noopener\">\n                                https://firesmartbc.ca/\n                            </a>\n                        </div>\n\n                        To report a wildfire, call 1 800 663-5555 toll-free OR *5555 on most cellular networks. \n                    </div>\n\n                </div>\n            </div>\n        </div>\n        <div class=\"button-wrapper\">\n            <mat-checkbox [(ngModel)]=\"dontShowAgain\" style=\"flex: 1; text-align: left;\">Don't show again</mat-checkbox>\n            <button mat-raised-button color=\"primary\" class=\"cancel-button\" (click)=\"cancel()\" >OK</button>\n        </div>\n    </div>\n</ng-container>","import {AfterViewInit, Component} from \"@angular/core\";\nimport { AppConfigService } from \"@wf1/core-ui/public_api\";\nimport {BaseComponent} from \"../base/base.component\";\n\n@Component({\n  selector: 'wfnews-error-page',\n  templateUrl: './error-page.component.html',\n  styleUrls: ['./error-page.component.scss']\n})\nexport class ErrorPageComponent extends BaseComponent implements AfterViewInit {\n  appConfig: AppConfigService\n}","<div class=\"unauthorized-page\">\n  <div>\n    <h1>WFNEWS Error Page</h1>\n  </div>\n  <div>\n    <h2 style=\"color:red\">You do not have sufficient permissions to access this application</h2>\n  </div>\n</div>","import { ChangeDetectorRef, Component } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { EvacOrderOption } from '../../conversion/models';\nimport { AGOLService } from '../../services/AGOL-service';\nimport { MapConfigService } from '../../services/map-config.service';\nimport { PublishedIncidentService } from '../../services/published-incident-service';\nimport { WatchlistService } from '../../services/watchlist-service';\nimport { convertToFireCentreDescription, ResourcesRoutes, convertFireNumber } from '../../utils';\n\n\n@Component({\n    selector: 'incident-identify-panel',\n    templateUrl: './incident-identify-panel.component.html',\n    styleUrls: ['./incident-identify-panel.component.scss'],\n})\nexport class IncidentIdentifyPanelComponent {\n  public incident: any\n  public evacOrders : EvacOrderOption[] = []\n  public loaded = false\n  public failedToLoad = false\n\n  public featureSet\n  public identifiedFeatures = []\n  public index = 0\n  convertToFireCentreDescription = convertToFireCentreDescription\n  convertFireNumber = convertFireNumber\n\n  constructor (protected cdr: ChangeDetectorRef,\n               private agolService: AGOLService,\n               private publishedIncidentService: PublishedIncidentService,\n               private router: Router,\n               private watchlistService: WatchlistService,\n               private mapConfigService: MapConfigService,\n               ) {}\n\n  // if we want the \"next\" functionality, pass in the identify set\n  async setIncident (incidentRef, identifyList, setIndex = true) {\n    this.loaded = false;\n    this.featureSet = identifyList;\n    // clear the feature list\n    this.identifiedFeatures = [];\n    let count = 1 // index counter for the next/previous buttons\n    for (const fid in identifyList) {\n      if (Object.prototype.hasOwnProperty.call(identifyList, fid)) {\n        const feature = identifyList[fid];\n        if (['active-wildfires-fire-of-note', 'active-wildfires-out-of-control', 'active-wildfires-holding', 'active-wildfires-under-control', 'bcws-activefires-publicview-inactive'].includes(feature.layerId)) {\n          this.identifiedFeatures.push(feature)\n          // if we want to reset the index, we need to compare the input feature ID to the identified feature ID\n          if (setIndex) {\n            const sourceId = feature.properties.FIRE_NUMBER ? feature.properties.FIRE_NUMBER : feature.properties.incident_number_label\n            const compareId = incidentRef.FIRE_NUMBER ? incidentRef.FIRE_NUMBER : incidentRef.incident_number_label\n            if (sourceId && compareId && sourceId === compareId) {\n              this.index = count;\n            }\n            count++;\n          }\n        }\n      }\n    }\n\n    // get the fire number, either from a perimeter or active fire feature\n    const id = incidentRef.FIRE_NUMBER ? incidentRef.FIRE_NUMBER : incidentRef.incident_number_label\n    const year = incidentRef.fire_year\n\n    this.publishedIncidentService.fetchPublishedIncident(id, year).toPromise().then(async result => {\n      this.incident = result;\n\n      this.incident.geometry = {\n        x: result.longitude,\n        y: result.latitude\n      };\n\n      // date formatting\n      const options: Intl.DateTimeFormatOptions = { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' };\n      this.incident.discoveryDate = this.incident.discoveryDate? new Date(this.incident.discoveryDate).toLocaleTimeString(\"en-US\", options) : 'Pending';\n      this.incident.declaredOutDate = this.incident.declaredOutDate ? new Date(this.incident.declaredOutDate).toLocaleTimeString(\"en-US\", options) : 'Pending'\n      this.incident.lastUpdatedTimestamp = this.incident.lastUpdatedTimestamp ? new Date(this.incident.lastUpdatedTimestamp).toLocaleTimeString(\"en-US\", options) : 'Pending';\n\n      // load evac orders nearby\n      await this.getEvacOrders().catch(e => console.error(e))\n      await this.getExternalUriEvacOrders().catch(e => console.error(e))\n      // then, set loaded to true and refresh the page\n      this.loaded = true;\n\n      this.cdr.detectChanges();\n    }).catch(err => {\n      console.error('Failed to load Fire Info', err);\n      this.loaded = true;\n      this.failedToLoad = true;\n    });\n  }\n\n  close () {\n    (document.getElementsByClassName('incident-details').item(0) as HTMLElement).remove();\n    (document.getElementsByClassName('identify-panel').item(0) as HTMLElement).style.display = 'none';\n  }\n\n  goToIncidentDetail () {\n    // this.router.navigate([ResourcesRoutes.PUBLIC_INCIDENT], { queryParams: { incidentNumber: this.incident.incidentNumberLabel } })\n    const url = this.router.serializeUrl(\n      this.router.createUrlTree([ResourcesRoutes.PUBLIC_INCIDENT], { queryParams: { fireYear: this.incident.fireYear, incidentNumber: this.incident.incidentNumberLabel } })\n    )\n    window.open(url, '_blank')\n  }\n\n  next () {\n    this.index = this.index + 1;\n    if (this.index > this.identifiedFeatures.length) {\n      this.index = 1;\n    }\n\n    this.setIncident(this.identifiedFeatures[this.index - 1].properties, this.featureSet, false).catch(e => console.error(e))\n  }\n\n  previous () {\n    this.index = this.index - 1;\n    if (this.index <= 0) {\n      this.index = this.identifiedFeatures.length;\n    }\n\n    this.setIncident(this.identifiedFeatures[this.index - 1].properties, this.featureSet, false).catch(e => console.error(e))\n  }\n\n  onWatchlist (): boolean {\n    return this.watchlistService.getWatchlist().includes(this.incident.fireYear + ':' + this.incident.incidentNumberLabel)\n  }\n\n  addToWatchlist () {\n    this.watchlistService.saveToWatchlist(this.incident.fireYear, this.incident.incidentNumberLabel)\n  }\n\n  removeFromWatchlist () {\n    this.watchlistService.removeFromWatchlist(this.incident.fireYear, this.incident.incidentNumberLabel)\n  }\n\n  getEvacOrders () {\n    return this.agolService.getEvacOrdersByEventNumber(this.incident.incidentNumberLabel, { returnCentroid: true, returnGeometry: false}).toPromise().then(response => {\n      if (response.features) {\n        for (const element of response.features) {\n          this.evacOrders.push({\n            eventName: element.attributes.EVENT_NAME,\n            eventType: element.attributes.EVENT_TYPE,\n            orderAlertStatus: element.attributes.ORDER_ALERT_STATUS,\n            issuingAgency: element.attributes.ISSUING_AGENCY,\n            preOcCode: element.attributes.PREOC_CODE,\n            emrgOAAsysID: element.attributes.EMRG_OAA_SYSID,\n            centroid: element.centroid\n          })\n        }\n      }\n    })\n  }\n\n  async getExternalUriEvacOrders () {\n    return this.publishedIncidentService.fetchExternalUri(this.incident.incidentNumberLabel).toPromise().then(results => {\n      if (results && results.collection && results.collection.length > 0) {\n        for (const uri of results.collection) {\n          if (uri.externalUriCategoryTag.includes('EVAC-ORDER')) {\n            this.evacOrders.push({\n              eventName: uri.externalUriDisplayLabel,\n              eventType: uri.externalUriCategoryTag.split(':')[1],\n              orderAlertStatus: uri.externalUriCategoryTag.split(':')[1],\n              issuingAgency: 'Pending',\n              preOcCode: 'NA',\n              emrgOAAsysID: 0,\n              uri: uri.externalUri,\n              centroid: [0, 0]\n            })\n          }\n        }\n      }\n    }).catch(err => {\n      console.error(err)\n    })\n  }\n\n  ZoomIn() {\n    const long = Number(this.incident.longitude);\n    const lat = Number(this.incident.latitude);\n\n    this.mapConfigService.getMapConfig().then(() => {\n      const SMK = window['SMK'];\n      let viewer = null;\n      for (const smkMap in SMK.MAP) {\n        if (Object.prototype.hasOwnProperty.call(SMK.MAP, smkMap)) {\n          viewer = SMK.MAP[smkMap].$viewer;\n        }\n      }\n      viewer.panToFeature(window['turf'].point([long, lat]), 15)\n    })\n\n  }\n}\n","<div *ngIf=\"!loaded\" class=\"loading-spinner\">\n  <mat-spinner [diameter]=\"40\"></mat-spinner>\n</div>\n<div class=\"incident-details\" *ngIf=\"loaded && failedToLoad\">\n  <div class=\"header\">\n    <div class=\"smk-command-button smk-move smk-icon\"><div class=\"smk-command\"><em title=\"Close Panel\" (click)=\"close()\" class=\"material-icons button\">close</em></div></div>\n  </div>\n  <div class=\"loading-spinner\">\n    <div>The Incident could not be found.</div>\n  </div>\n</div>\n<div class=\"incident-details\" *ngIf=\"loaded && !failedToLoad\">\n  <div class=\"header\">\n    <div class=\"smk-command-button smk-move smk-icon\"><div class=\"smk-command\"><em title=\"Close Panel\" (click)=\"close()\" class=\"material-icons button\">close</em></div></div>\n    <button class=\"zoom-to-button\"(click)=\"ZoomIn()\">Zoom to</button>\n    <div *ngIf=\"identifiedFeatures.length > 1\" class=\"smk-command-button smk-move smk-icon\"><div class=\"smk-command\"><em (click)=\"next()\" class=\"button material-icons\">navigate_next</em></div></div>\n    <span *ngIf=\"identifiedFeatures.length > 1\" class=\"smk-position\" style=\"margin-top: 6px;\">{{identifiedFeatures.length}}</span> <span *ngIf=\"identifiedFeatures.length > 1\" style=\"margin-top: 5px;\">of</span> <span *ngIf=\"identifiedFeatures.length > 1\" class=\"smk-position\" style=\"margin-top: 6px;\">{{index}}</span>\n    <div *ngIf=\"identifiedFeatures.length > 1\" class=\"smk-command-button smk-move smk-icon\"><div class=\"smk-command\"><em (click)=\"previous()\" class=\"button material-icons\">navigate_before</em></div></div>\n  </div>\n  <div class=\"title-bar\">\n    <div class=\"title\">{{incident.incidentName}} <span *ngIf=\"incident.fireOfNoteInd\" #el class=\"fire-icon-container\"><img class=\"icon\" height=\"24\" width=\"24\" src=\"/assets/images/local_fire_department.png\" alt=\"local_fire_department\"></span> <span #el style=\"cursor: pointer;\" (click)=\"onWatchlist() ? removeFromWatchlist() : addToWatchlist()\"><mat-icon style=\"color:#1A5A96\">{{onWatchlist() ? 'bookmark' : 'bookmark_border'}}</mat-icon></span></div>\n    <div class=\"subtitle\"><a href=\"https://www2.gov.bc.ca/gov/content/safety/wildfire-status/about-bcws/fire-centres\" rel=\"noopener\" target=\"_blank\">{{convertToFireCentreDescription(incident.fireCentreName || incident.fireCentre || incident.fireCentreCode)}}</a></div>\n  </div>\n  <div class=\"nav-button\" *ngIf=\"incident.stageOfControlCode !== 'OUT'\">\n    <button style=\"background: #1a5a96; color: white;\" mat-button color=\"primary\" (click)=\"goToIncidentDetail()\">Full Incident Details</button>\n  </div>\n  <div class=\"info-panel\">\n    <div><span class=\"label\">Fire Number: </span><span class=\"paragraph-format\">{{convertFireNumber(incident)}}</span></div>\n    <div><span class=\"label\">Last Updated: </span><span class=\"paragraph-format\">{{incident.lastUpdatedTimestamp}}</span></div>\n    <div><span class=\"label\">Discovered On: </span><span class=\"paragraph-format\">{{incident.discoveryDate}}</span></div>\n    <div *ngIf=\"incident.stageOfControlCode === 'OUT'\"><span class=\"label\">Declared Out: </span><span>{{incident.declaredOutDate}}</span></div>\n  </div>\n  <div class=\"divider\"></div>\n  <div class=\"info-panel\">\n    <div class=\"gutter\"><span class=\"label\">Size: </span><span class=\"paragraph-format\">{{incident.incidentSizeEstimatedHa ? incident.incidentSizeEstimatedHa.toLocaleString() : 0}} Hectares</span></div>\n    <div class=\"paragraph-format\">{{incident.incidentSizeDetail || 'Fire size is estimated and based on the most current information available.'}}</div>\n    <div *ngIf=\"incident.incidentLocation\">\n      <div class=\"gutter\"><span class=\"label\">Location</span></div>\n      <div class=\"paragraph-format\">{{incident.incidentLocation}}</div>\n    </div>\n    <div *ngIf=\"incident.traditionalTerritoryDetail\">\n      <div class=\"gutter\"><span class=\"label\">Traditional Territory</span></div>\n      <div class=\"paragraph-format\">{{incident.traditionalTerritoryDetail}}</div>\n    </div>\n  </div>\n  <!-- Evac Orders-->\n  <div *ngIf=\"evacOrders.length > 0\" class=\"divider\"></div>\n  <div style=\"padding-top: 7px;\" *ngIf=\"evacOrders.length > 0\">\n    <h4>Active Evacuation Orders and Alerts</h4>\n    <div class=\"evac-list\" *ngFor=\"let evac of evacOrders\">\n      <mat-icon [class]=\"evac.orderAlertStatus === 'Alert' ? 'alert' : 'order'\" style=\"text-decoration: none;\">{{ evac.orderAlertStatus === 'Alert' ? 'warning' : 'error' }} </mat-icon>\n      <a *ngIf=\"evac.uri\" [class]=\"'label ' + evac.orderAlertStatus === 'Alert' ? 'alert' : 'order'\" [href]=\"evac.uri\" target=\"_blank\" rel=\"noopener\">{{evac.eventName}} {{ evac.orderAlertStatus }}</a>\n      <div *ngIf=\"!evac.uri\" [class]=\"'label ' + evac.orderAlertStatus === 'Alert' ? 'alert' : 'order'\">{{evac.eventName}} {{ evac.orderAlertStatus }}</div>\n      <div class=\"issued-by\">(Issued By: {{evac.issuingAgency}})</div>\n    </div>\n  </div>\n  <div class=\"divider\"></div>\n  <!-- Response Icons-->\n  <div *ngIf=\"incident.fireOfNoteInd && (incident.wildfireCrewResourcesInd || incident.wildfireAviationResourceInd || incident.incidentMgmtCrewRsrcInd || incident.heavyEquipmentResourcesInd || incident.structureProtectionRsrcInd)\">\n    <h4>Current Resources on Response</h4>\n    <div class=\"icon-bar\">\n      <div *ngIf=\"incident.wildfireCrewResourcesInd\" class=\"resource-icon\">\n        <img class=\"image-size\" src=\"../../../assets/images/svg-icons/wildfire-crews.svg\" alt=\"Wildfire Crews\" />\n        <div class=\"image-label\">Wildfire Crews</div>\n      </div>\n      <div *ngIf=\"incident.wildfireAviationResourceInd\" class=\"resource-icon\">\n        <img class=\"image-size\" src=\"../../../assets/images/svg-icons/aviation.svg\" alt=\"Aviation\" />\n        <div class=\"image-label\">Aviation</div>\n      </div>\n      <div *ngIf=\"incident.incidentMgmtCrewRsrcInd\" class=\"resource-icon\">\n        <img class=\"image-size\" src=\"../../../assets/images/svg-icons/incident-management-teams.svg\" alt=\"Incident Management Team\" />\n        <div class=\"image-label\">Incident Management Team</div>\n      </div>\n      <div *ngIf=\"incident.heavyEquipmentResourcesInd\" class=\"resource-icon\">\n        <img class=\"image-size\" src=\"../../../assets/images/svg-icons/heavy_equipment.svg\" alt=\"Heavy Equipment\" />\n        <div class=\"image-label\">Heavy Equipment</div>\n      </div>\n      <div *ngIf=\"incident.structureProtectionRsrcInd\" class=\"resource-icon\">\n        <img class=\"image-size\" src=\"../../../assets/images/svg-icons/structure-protection.svg\" alt=\"Structure Protection\" />\n        <div class=\"image-label\">Structure Protection</div>\n      </div>\n    </div>\n  </div>\n</div>\n","import { Component, Inject } from '@angular/core';\nimport { MAT_LEGACY_DIALOG_DATA as MAT_DIALOG_DATA, MatLegacyDialogRef as MatDialogRef } from '@angular/material/legacy-dialog';\n\nexport class DialogData {\n    public title: string;\n    public message: string;\n}\n\n@Component({\n    selector: 'message-dialog',\n    templateUrl: 'message-dialog.component.html',\n    styleUrls: ['./message-dialog.component.scss']\n})\nexport class MessageDialogComponent {\n\n    constructor(\n        public dialogRef: MatDialogRef<MessageDialogComponent>,\n        @Inject(MAT_DIALOG_DATA) public data: DialogData\n    ) {}\n\n}\n","<div class=\"error-dialog\">\n  <h1>{{data.title}}</h1>\n\t<div class=\"message\">\n\t\t<strong>{{data.message}}</strong>\n\t</div>\n  <div mat-dialog-actions>\n  \t<button mat-raised-button color=\"primary\" [mat-dialog-close]=\"true\">Ok</button>\n\t  <button mat-raised-button color=\"warn\" [mat-dialog-close]=\"false\">Cancel</button>\n  </div>\n</div>\n","import { Component, Inject } from \"@angular/core\";\nimport { MatSnackBarRef, MAT_SNACK_BAR_DATA } from \"@angular/material/snack-bar\";\n\nexport type NotificationConfig = {\n    title: string\n    body: string\n}\n\n@Component( {\n    selector: 'wfone-notification-snackbar',\n    template: '',\n    styleUrls: [ './notification-snackbar.component.scss' ]\n} )\nexport class NotificationSnackbarComponent {\n    constructor(\n        public snackBarRef: MatSnackBarRef<NotificationSnackbarComponent>,\n        @Inject(MAT_SNACK_BAR_DATA) public data: NotificationConfig\n    ) { }\n\n    get title() {\n        return this.data.title\n    }\n\n    get body() {\n        return this.data.body\n    }\n}\n","import { Component, OnInit } from '@angular/core';\nimport { AreaRestrictionsOption } from '../../conversion/models';\nimport { AGOLService } from '../../services/AGOL-service';\nimport { MapConfigService } from '../../services/map-config.service';\nimport { snowPlowHelper } from '../../utils';\nimport L from 'leaflet';\nimport { AppConfigService } from '@wf1/core-ui';\nimport { Router } from '@angular/router';\n\n@Component({\n    selector: 'panel-area-restrictions',\n    templateUrl: './panel-area-restrictions.component.html',\n    styleUrls: ['./panel-area-restrictions.component.scss'],\n})\nexport class PanelAreaRestrictionsComponent implements OnInit {\n  areaRestrictions : AreaRestrictionsOption[] = []\n  public snowPlowHelper = snowPlowHelper\n\n  constructor(private agolService: AGOLService,\n              private mapConfigService: MapConfigService,\n              private appConfigService: AppConfigService,\n              private router: Router) {\n  }\n\n  ngOnInit() {\n    this.getAreaRestrictions();\n  }\n\n  zoomToArea (area) {\n    this.snowplow('area_restriction_map_click', `${area.protRsSysID}:${area.name}`)\n    this.mapConfigService.getMapConfig().then(() => {\n      const SMK = window['SMK'];\n      let viewer = null;\n      for (const smkMap in SMK.MAP) {\n        if (Object.prototype.hasOwnProperty.call(SMK.MAP, smkMap)) {\n          viewer = SMK.MAP[smkMap].$viewer;\n        }\n      }\n      viewer.panToFeature(window['turf'].point([area.centroid.x, area.centroid.y]), 10)\n\n      const map = viewer.map;\n      let latlngPoint = new L.LatLng(area.centroid.y, area.centroid.x);\n      map.fireEvent('click', {\n        latlng: latlngPoint,\n        layerPoint: map.latLngToLayerPoint(latlngPoint),\n        containerPoint: map.latLngToContainerPoint(latlngPoint)\n      });\n\n      setTimeout(() => {\n        for (const set in viewer.identified.featureSet) {\n          if (Object.prototype.hasOwnProperty.call(viewer.identified.featureSet, set)) {\n            const feature = viewer.identified.featureSet[set]\n            if (feature.type === 'Feature' && feature.layerId === 'area-restrictions') {\n              viewer.identified.pick(feature.id)\n              break;\n            }\n          }\n        }\n      }, 1000)\n      viewer.identified.remove('weather-stations')\n    })\n  }\n\n  async snowplow (action: string, link: string) {\n    const url = this.appConfigService.getConfig().application.baseUrl.toString() + this.router.url.slice(1)\n    this.snowPlowHelper(url, {\n      action: action,\n      text: link\n    })\n  }\n\n  getAreaRestrictions () {\n    this.agolService.getAreaRestrictions(null, { returnCentroid: true, returnGeometry: false}).subscribe(response => {\n      if (response.features) {\n        for (const element of response.features) {\n          this.areaRestrictions.push({\n            protRsSysID: element.attributes.PROT_RA_SYSID,\n            name: element.attributes.NAME,\n            accessStatusEffectiveDate: element.attributes.ACCESS_STATUS_EFFECTIVE_DATE,\n            fireCentre: element.attributes.FIRE_CENTRE_NAME,\n            fireZone: element.attributes.FIRE_ZONE_NAME,\n            bulletinUrl: element.attributes.BULLETIN_URL,\n            centroid: element.centroid\n          })\n        }\n      }\n    })\n  }\n}\n","<div class=\"panel-header\">Area Restrictions</div>\n<section>\n    <h1>LEGEND & DEFINITIONS</h1>\n    <article>\n      <h2 class=\"black\">Area Restrictions</h2>\n      <h3>Forest Use Restrictions</h3>\n      <p class=\"paragraph-format\">\n        Forest Use Restrictions refer to area closures or restrictions and activity restrictions necessary or desirable to limit the risk of a fire, to address a public safety concern, or to avoid interference with fire control.\n      </p>\n      <h3>Regulations</h3>\n      <p class=\"paragraph-format\">\n        A person must not remain in or enter the restricted area without the prior written authorization of an official designated for the purposes of the Wildfire Act, unless the person enters the area only in the course of:\n      </p>\n      <div class=\"list-rows paragraph-format\">\n        <ul>\n          <li>Travelling to or from his or her residence;</li>\n          <li>Using a highway as defined in the transportation act;</li>\n          <li>Travelling through or entering the area as a person acting in an official capacity that is connected or involved in incident operations; or</li>\n          <li>Travelling through or entering the area for a purpose approved by an official of supporting wildfire suppression activities</li>\n        </ul>\n      </div>\n    </article>\n</section>\n<section>\n  <h1>CURRENT AREA RESTRICTIONS</h1>\n  <article>\n    <div class=\"restriction-list\" *ngFor=\"let area of areaRestrictions\">\n      <div class=\"label\" (mouseup)=\"zoomToArea(area)\">{{area.name}}</div>\n      <div *ngIf=\"area.bulletinUrl\" style=\"margin-left: auto;\"><a (click)=\"snowplow('area_restriction_outbound_click', area.bulletinUrl)\" [href]=\"area.bulletinUrl\"><mat-icon>link</mat-icon></a></div>\n    </div>\n    <div *ngIf=\"areaRestrictions.length === 0\" class=\"paragraph-format\">There are no current Area Restrictions</div>\n  </article>\n</section>\n<section>\n    <h1>MORE INFORMATION</h1>\n    <article>\n        <p><a (click)=\"snowplow('area_restriction_outbound_click', 'https://www2.gov.bc.ca/gov/content/safety/wildfire-status/fire-bans-and-restrictions')\" href=\"https://www2.gov.bc.ca/gov/content/safety/wildfire-status/fire-bans-and-restrictions\" target=\"_blank\" rel=\"noopener\">Current Restrictions Information</a></p>\n        <p><a (click)=\"snowplow('area_restriction_outbound_click', 'http://www.sitesandtrailsbc.ca/closures.aspx')\" href=\"http://www.sitesandtrailsbc.ca/closures.aspx\" target=\"_blank\" rel=\"noopener\">Recreation Sites and Trails Closures</a></p>\n        <p><a (click)=\"snowplow('area_restriction_outbound_click', 'https://bcparks.ca/wildfire/')\" href=\"https://bcparks.ca/wildfire/\" target=\"_blank\" rel=\"noopener\">BC Parks Closures</a></p>\n    </article>\n</section>\n","import { Component } from '@angular/core';\n\n@Component({\n    selector: 'panel-bans-prohibitions',\n    templateUrl: './panel-bans-prohibitions.component.html',\n    styleUrls: ['./panel-bans-prohibitions.component.scss'],\n})\nexport class PanelBansAndProhibitionsComponent {\n\n}\n","<div class=\"panel-header\">Bans and Prohibitions</div>\n<section>\n    <h1>LEGEND & DEFINITIONS</h1>\n    <article>\n        <h2 class=\"yellow\">Bans and Prohibitions</h2>\n        <h3>Category 3 Open Fires</h3>\n        <div class=\"list-rows paragraph-format\">\n          <ul>\n            <li>Any fire larger than 2 metres high and 3 metres wide</li>\n            <li>3 or more concurrently burning piles each no larger than 2 metres high and 3 metres wide</li>\n            <li>1 or more burning windrows</li>\n            <li>Stubble or grass burning over an area greater than 0.2 hectares</li>\n          </ul>\n          <img class=\"image-size\" src=\"../../../assets/images/Category 3 Image.svg\" alt=\"Category 3\" />\n        </div>\n        <h3>Category 2 Open Fires</h3>\n        <div class=\"list-rows paragraph-format\">\n          <ul>\n            <li>1 to 2 concurrently burning piles each no larger than 2 metres high and 3 metres wide</li>\n            <li>Stubble or grass burning over an area greater than 0.2 hectares</li>\n          </ul>\n          <img class=\"image-size\" src=\"../../../assets/images/Category 2 Size.svg\" alt=\"Category 2\" />\n        </div>\n        <h3>Category 1 Campfires</h3>\n        <div class=\"list-rows paragraph-format\">\n          <ul>\n            <li>Any fire smaller than 0.5 metres high by 0.5 metres wide</li>\n          </ul>\n          <img class=\"image-size\" src=\"../../../assets/images/CampFireSize.svg\" alt=\"Campfire Size\" />\n        </div>\n    </article>\n</section>\n<section>\n    <h1>MORE INFORMATION</h1>\n    <article>\n        <p><a href=\"https://www2.gov.bc.ca/gov/content/safety/wildfire-status/fire-bans-and-restrictions\" target=\"_blank\" rel=\"noopener\">Current Fire Bans and Restrictions</a></p>\n        <p><a href=\"https://www2.gov.bc.ca/gov/content/safety/wildfire-status/fire-bans-and-restrictions/forest-use-restrictions\" target=\"_blank\" rel=\"noopener\">Learn more about Forest Use Restrictions</a></p>\n        <p><a href=\"https://www2.gov.bc.ca/gov/content/safety/wildfire-status/fire-bans-and-restrictions/open-burning\" target=\"_blank\" rel=\"noopener\">Learn more about Open Burning</a></p>\n    </article>\n</section>\n","import { Component, OnInit } from '@angular/core';\nimport { EvacOrderOption } from '../../conversion/models';\nimport { AGOLService } from '../../services/AGOL-service';\nimport { MapConfigService } from '../../services/map-config.service';\nimport { snowPlowHelper } from '../../utils';\nimport L from 'leaflet';\nimport { AppConfigService } from '@wf1/core-ui';\nimport { Router } from '@angular/router';\n\n@Component({\n    selector: 'panel-evacuation-orders-and-alerts',\n    templateUrl: './panel-evacuation-orders-and-alerts.component.html',\n    styleUrls: ['./panel-evacuation-orders-and-alerts.component.scss'],\n})\nexport class PanelEvacuationOrdersAndAlertsComponent implements OnInit {\n  public evacOrders : EvacOrderOption[] = []\n\n  public snowPlowHelper = snowPlowHelper\n\n  constructor(private agolService: AGOLService,\n              private mapConfigService: MapConfigService,\n              private appConfigService: AppConfigService,\n              private router: Router) {\n  }\n\n  ngOnInit() {\n    this.getEvacOrders();\n  }\n\n  async snowplow (action: string, link: string, area: string | null = null) {\n    const url = this.appConfigService.getConfig().application.baseUrl.toString() + this.router.url.slice(1)\n    const snowPlowPackage = {\n      action: action.toLowerCase(),\n      text: link\n    }\n\n    if (area) {\n      snowPlowPackage['area'] = area\n    }\n\n    this.snowPlowHelper(url, snowPlowPackage)\n  }\n\n  zoomToEvac (evac) {\n    this.snowplow(`${evac.orderAlertStatus}_list_click`, `${evac.emrgOAAsysID}:${evac.eventName}`, evac.issuingAgency)\n    this.mapConfigService.getMapConfig().then(() => {\n      const SMK = window['SMK'];\n      let viewer = null;\n      for (const smkMap in SMK.MAP) {\n        if (Object.prototype.hasOwnProperty.call(SMK.MAP, smkMap)) {\n          viewer = SMK.MAP[smkMap].$viewer;\n        }\n      }\n      viewer.panToFeature(window['turf'].point([evac.centroid.x, evac.centroid.y]), 10)\n\n      const map = viewer.map;\n      let latlngPoint = new L.LatLng(evac.centroid.y, evac.centroid.x);\n      map.fireEvent('click', {\n        latlng: latlngPoint,\n        layerPoint: map.latLngToLayerPoint(latlngPoint),\n        containerPoint: map.latLngToContainerPoint(latlngPoint)\n      });\n\n      setTimeout(() => {\n        for (const set in viewer.identified.featureSet) {\n          if (Object.prototype.hasOwnProperty.call(viewer.identified.featureSet, set)) {\n            const feature = viewer.identified.featureSet[set]\n            if (feature.type === 'Feature' && feature.layerId === 'evacuation-orders-and-alerts-wms' && feature.properties.ISSUING_AGENCY === evac.issuingAgency) {\n              viewer.identified.pick(feature.id)\n              break;\n            }\n          }\n        }\n      }, 1000)\n      viewer.identified.remove('weather-stations')\n    })\n  }\n\n  getEvacOrders () {\n    this.agolService.getEvacOrders(null, { returnCentroid: true, returnGeometry: false}).subscribe(response => {\n      if (response.features) {\n        for (const element of response.features) {\n          this.evacOrders.push({\n            eventName: element.attributes.EVENT_NAME,\n            eventType: element.attributes.EVENT_TYPE,\n            orderAlertStatus: element.attributes.ORDER_ALERT_STATUS,\n            issuingAgency: element.attributes.ISSUING_AGENCY,\n            preOcCode: element.attributes.PREOC_CODE,\n            emrgOAAsysID: element.attributes.EMRG_OAA_SYSID,\n            centroid: element.centroid\n          })\n        }\n      }\n    })\n  }\n}\n","<div class=\"panel-header\">Evacuation Orders and Alerts</div>\n<section>\n    <h1>LEGEND & DEFINITIONS</h1>\n    <article>\n        <h2 class=\"orange\">Evacuation Alert</h2>\n        <p class=\"paragraph-format\">\n            An Evacuation Alert is a warning about a potential threat to life and/or property.\n            It is intended to give you time to be ready for a possible evacuation.\n            Residents will be given as much advance notice as possible prior to evacuation, however, you may receive limited notice due to changing conditions.\n        </p>\n    </article>\n    <article>\n        <h2 class=\"red\">Evacuation Order</h2>\n        <p class=\"paragraph-format\">\n            You are at risk.\n            Leave the area immediately.\n            You are encouraged to register all family members at the nearest reception centre so emergency responders know you are safe.\n        </p>\n    </article>\n</section>\n<section class=\"current-orders\">\n  <h1>CURRENT ORDERS / ALERTS</h1>\n  <article>\n    <div class=\"evac-list\" *ngFor=\"let evac of evacOrders\">\n      <div [ngClass]=\"evac.orderAlertStatus === 'Alert' ? 'status orange' : ' status red'\">{{evac.orderAlertStatus}}</div>\n      <div class=\"label\" (mouseup)=\"zoomToEvac(evac)\">{{evac.eventName}}</div>\n      <div class=\"issued-by\">(Issued By: {{evac.issuingAgency}})</div>\n    </div>\n    <div *ngIf=\"evacOrders.length === 0\" class=\"paragraph-format\">There are no current Evacuation Orders or Alerts</div>\n  </article>\n</section>\n<section>\n    <h1>MORE INFORMATION</h1>\n    <article>\n        <p><a (click)=\"snowplow('orders_outbound_click', 'https://www.emergencyinfobc.gov.bc.ca/')\" href=\"https://www.emergencyinfobc.gov.bc.ca/\" target=\"_blank\" rel=\"noopener\">Current Evacuation Advisory Information</a></p>\n        <p><a (click)=\"snowplow('orders_outbound_click', 'https://www2.gov.bc.ca/gov/content/safety/emergency-management/preparedbc/evacuation-recovery/evacuee-guidance')\" href=\"https://www2.gov.bc.ca/gov/content/safety/emergency-management/preparedbc/evacuation-recovery/evacuee-guidance\" target=\"_blank\" rel=\"noopener\">Evacuee Guidance</a></p>\n        <p><a (click)=\"snowplow('orders_outbound_click', 'https://www2.gov.bc.ca/gov/content/governments/local-governments/facts-framework/systems')\" href=\"https://www2.gov.bc.ca/gov/content/governments/local-governments/facts-framework/systems\" target=\"_blank\" rel=\"noopener\">Local Government System in B.C</a></p>\n        <p><a (click)=\"snowplow('orders_outbound_click', 'https://www2.gov.bc.ca/gov/content/safety/emergency-management/preparedbc/evacuation-recovery/emergency-alerts')\"href=\"https://www2.gov.bc.ca/gov/content/safety/emergency-management/preparedbc/evacuation-recovery/emergency-alerts\" target=\"_blank\" rel=\"noopener\">B.C. Emergency Alerts</a></p>\n    </article>\n</section>\n","import { Component } from '@angular/core';\n\n@Component({\n    selector: 'panel-fire-danger',\n    templateUrl: './panel-fire-danger.component.html',\n    styleUrls: ['./panel-fire-danger.component.scss'],\n})\nexport class PanelFireDangerComponent {\n\n}\n","<div class=\"panel-header\">Fire Danger</div>\n<section>\n    <h1>LEGEND & DEFINITIONS</h1>\n    <article>\n      <h2 class=\"red\">Extreme</h2>\n      <p class=\"paragraph-format\">\n        Extremely dry forest fuels and the fire risk is very serious. New fires will start easily, spread rapidly, and challenge fire suppression efforts. General forest activities may be restricted, including open burning, industrial activities and campfires\n      </p>\n      <h2 class=\"orange\">High</h2>\n      <p class=\"paragraph-format\">\n        Forest Fuels are very dry and the fire risk is serious. New fires may start easily, burn vigorously, and challenge fire suppression efforts. Extreme caution must be used in any forest activities. Open burning and industrial activities may be restricted.\n      </p>\n      <h2 class=\"yellow\">Moderate</h2>\n      <p class=\"paragraph-format\">\n        Forest fuels are drying and there is an increased risk of surface fires starting. Carry out any forest activities with caution.\n      </p>\n      <h2 class=\"green\">Low</h2>\n      <p class=\"paragraph-format\">\n        Fires may start easily and spread quickly but there will be minimal involvement of deeper fuel layers or larger fuels.\n      </p>\n      <h2 class=\"blue\">Very Low</h2>\n      <p class=\"paragraph-format\">\n        Dry forest fuels are at a very low risk of catching fire.\n      </p>\n    </article>\n</section>\n<section>\n    <h1>MORE INFORMATION</h1>\n    <article>\n        <p><a href=\"https://www2.gov.bc.ca/gov/content/safety/wildfire-status/wildfire-situation/fire-danger \" target=\"_blank\" rel=\"noopener\">Learn more about Fire Danger Rating</a></p>\n    </article>\n</section>\n","import { Component } from '@angular/core';\n\n@Component({\n    selector: 'panel-local-authority',\n    templateUrl: './panel-local-authority.component.html',\n    styleUrls: ['./panel-local-authority.component.scss'],\n})\nexport class PanelLocalAuthorityComponent {\n\n}\n","<div class=\"panel-header\">Local Authorities</div>\n<section>\n    <h1>LEGEND & DEFINITIONS</h1>\n    <article>\n      <p class=\"paragraph-format\">\n        If a wildfire is directly threatening your community, the best information sources related to evacuations are your municipality, regional district, Indigenous community or local authority. Evacuation Alerts or Orders must be authorized and are implemented by local authorities.\n      </p>\n    </article>\n</section>\n<section>\n  <h1>MORE INFORMATION</h1>\n  <article>\n      <p><a href=\"https://www.emergencyinfobc.gov.bc.ca/\" target=\"_blank\" rel=\"noopener\">Current Evacuation Advisory Information</a></p>\n      <p><a href=\"https://www2.gov.bc.ca/gov/content/safety/emergency-management/preparedbc/evacuation-recovery/evacuee-guidance\" target=\"_blank\" rel=\"noopener\">Evacuee Guidance</a></p>\n      <p><a href=\"https://www2.gov.bc.ca/gov/content/governments/local-governments/facts-framework/systems\" target=\"_blank\" rel=\"noopener\">Local Government System in B.C</a></p>\n      <p><a href=\"https://www2.gov.bc.ca/gov/content/safety/emergency-management/preparedbc/evacuation-recovery/emergency-alerts\" target=\"_blank\" rel=\"noopener\">B.C. Emergency Alerts</a></p>\n  </article>\n</section>\n","import { Component } from '@angular/core';\n\n@Component({\n    selector: 'panel-road-conditions',\n    templateUrl: './panel-road-conditions.component.html',\n    styleUrls: ['./panel-road-conditions.component.scss'],\n})\nexport class PanelRoadConditionsComponent {\n\n}\n","<div class=\"panel-header\">Current Road Conditions</div>\n<section>\n    <h1>LEGEND & DEFINITIONS</h1>\n    <article>\n      <h2 class=\"road-conditions\">Road Conditions</h2>\n      <p class=\"paragraph-format\">\n        Road conditions could include flooding, slippery sections and compact snow.\n      </p>\n      <h2 class=\"incidents\">Incidents</h2>\n      <p class=\"paragraph-format\">\n        Incidents affecting traffic such as a stalled vehicle, hydro lines down or a collision.\n      </p>\n      <h2 class=\"planned-events\">Current Planned Events</h2>\n      <p class=\"paragraph-format\">\n        Planned events that are presently in progress such as maintenance, construction or utility work.\n      </p>\n      <h2 class=\"future-events\">Future Planned Events</h2>\n      <p class=\"paragraph-format\">\n        Events scheduled to occur at a specific future time and location such as maintenance, construction work, special events, etc.\n      </p>\n      <h2 class=\"weather-conditions\">Weather Conditions</h2>\n      <p class=\"paragraph-format\">\n        Environment Canada Weather warnings and forecast information for a specific location.\n      </p>\n      <h2 class=\"major-severity-event\">Major Severity - Events or Incidents</h2>\n      <p class=\"paragraph-format\"></p>\n      <h2 class=\"major-severity-road-op\">Major Severity - Road Operations</h2>\n      <p class=\"paragraph-format\"></p>\n      <h2 class=\"moderate-severity-road-op\">Moderate Severity - Road Operations</h2>\n      <p class=\"paragraph-format\"></p>\n      <h2 class=\"minor-severity-road-op\">Minor Severity - Road Operations</h2>\n      <p class=\"paragraph-format\"></p>\n    </article>\n    <article>\n      <h2 class=\"curret-conditions\">Current Highway Conditions</h2>\n      <div class=\"conditions-content\">\n        <p class=\"phone\"></p><p class=\"paragraph-format\">1 800 550-4997</p>\n      </div>\n    </article>\n</section>\n<section>\n    <h1>MORE INFORMATION</h1>\n    <article>\n        <p><a href=\"https://www.drivebc.ca/#mapView&ll=53.461646%2C-119.621042&z=6\" target=\"_blank\" rel=\"noopener\">Drive BC Road Conditions</a></p>\n        <p><a href=\"https://www2.gov.bc.ca/gov/content/industry/natural-resource-use/resource-roads/local-road-safety-information\" target=\"_blank\" rel=\"noopener\">Resource Road Safety Information</a></p>\n        <p><a href=\"https://www.tranbc.ca/current-travel-advisories/\" target=\"_blank\" rel=\"noopener\">TranBC: Current Road Advisories and Information</a></p>\n    </article>\n</section>\n","import { Component } from '@angular/core';\n\n@Component({\n    selector: 'panel-smoke-forecast',\n    templateUrl: './panel-smoke-forecast.component.html',\n    styleUrls: ['./panel-smoke-forecast.component.scss'],\n})\nexport class PanelSmokeForecastComponent {\n}\n","<div class=\"panel-header\">Smoke Forecast</div>\n<section>\n    <h1>LEGEND & DEFINITIONS</h1>\n    <article>\n        <img alt=\"Firesmoke Legend\" src=\"../../../assets/images/firesmoke-legend.png\" />\n        <h3>Smoke Forecast</h3>\n        <p class=\"paragraph-format\">\n          The unit of measure for our smoke forecasts is \"micrograms of PM2.5 per cubic meter (µg/m³)\" at ground level. PM2.5 (particulate matter 2.5) is fine inhalable particles that are 2.5 micrometers and smaller. PM2.5 poses the highest risk to health from smoke, and the Canadian Council of Ministers of the Environment (CCME) in their most recent air quality report has set the following standards for exposure to this carcinogen:\n        </p>\n        <div class=\"list-rows paragraph-format\">\n          <ul>\n            <li>27 µg/m³ (daily average),</li>\n            <li>8.8 µg/m³ (annual mean).</li>\n          </ul>\n        </div>\n        <h3>Wildfire Smoke and Your Health</h3>\n        <p class=\"paragraph-format\">\n          Forest fire smoke is a complex and dynamic mixture of gases and very small particles that can irritate the respiratory system and cause systemic inflammation.\n        </p>\n        <p>Advice to minimize health effects:</p>\n        <div class=\"list-rows paragraph-format\">\n          <ul>\n            <li>If you have a chronic condition, have rescue medication on hand at all times and a plan to follow if your rescue medication cannot bring your condition under control.</li>\n            <li>Look for indoor environments that might be less smoky, such as shopping malls, community centres and libraries.</li>\n            <li>Avoid physical exertion because the amount of smoke you breathe increases as your breathing rate increases.</li>\n            <li>Keep hydrated as it helps your body deal with inflammation.</li>\n          </ul>\n        </div>\n        <p class=\"paragraph-format\">\n          If you are feeling unwell, remember you can call 8-1-1, a free-of-charge provincial health information and advice phone line available in British Columbia. If you or a loved one is experiencing a medical emergency, please call 9-1-1.\n        </p>\n    </article>\n</section>\n<section>\n    <h1>MORE INFORMATION</h1>\n    <article>\n        <p><a href=\"https://www2.gov.bc.ca/gov/content/environment/air-land-water/air/air-quality/aqhi\" target=\"_blank\" rel=\"noopener\">BC Air Quality Health Index</a></p>\n        <p><a href=\"https://firesmoke.ca/forecasts/ \" target=\"_blank\" rel=\"noopener\">Smoke Forecast Map</a></p>\n        <p><a href=\"https://www2.gov.bc.ca/gov/content/safety/wildfire-status/wildfire-situation/air-quality\" target=\"_blank\" rel=\"noopener\">Wildfires and Air Quality</a></p>\n    </article>\n</section>\n","import { ChangeDetectionStrategy, Component } from '@angular/core';\nimport { PanelWildfireStageOfControlComponent } from './panel-wildfire-stage-of-control.component';\n\n@Component({\n    selector: 'panel-wildfire-stage-of-control',\n    templateUrl: './panel-wildfire-stage-of-control.component.html',\n    styleUrls: [\n        '../common/base-collection/collection.component.scss',\n        './panel-wildfire-stage-of-control.component.scss'],\n    changeDetection: ChangeDetectionStrategy.OnPush\n\n})\nexport class PanelWildfireStageOfControlComponentDesktop extends PanelWildfireStageOfControlComponent {\n\n}\n","<mat-tab-group mat-align-tabs=\"center\" [(selectedIndex)]=\"tabIndex\" (selectedTabChange)=\"onTabChanged($event);\">\n        <mat-tab label=\"Legend\">\n            <div class=\"panel-header\">Wildfire Stages of Control</div>\n\n            <section>\n                <h1>LEGEND & DEFINITIONS</h1>\n                <article>\n                    <p class=\"paragraph-format\">\n                        The BC Wildfire Service uses stages of control to report on wildfire progress.\n                    </p>\n                </article>\n                <article>\n                    <h2 class=\"black\">\n                        <div class=\"fire-icon-container\">\n                          <img class=\"icon\" height=\"24\" width=\"24\" src=\"/assets/images/local_fire_department.png\" alt=\"local_fire_department\">\n                        </div>\n                        Wildfire of Note\n                    </h2>\n                    <p class=\"paragraph-format\">\n                        A wildfire that is highly visible or poses a potential threat to public safety.\n                    </p>\n                </article>\n                <article>\n                    <h2 class=\"red\">Out of Control</h2>\n                    <p class=\"paragraph-format\">\n                        A wildfire that is continuing to spread and is not responding to suppression efforts.\n                    </p>\n                </article>\n                <article>\n                    <h2 class=\"yellow\">Being Held</h2>\n                    <p class=\"paragraph-format\">\n                        A  wildfire that is not likely to spread beyond predetermined boundaries under current conditions.\n                    </p>\n                </article>\n                <article>\n                    <h2 class=\"green\">Under Control</h2>\n                    <p class=\"paragraph-format\">\n                        A wildfire that will not spread any further due to suppression efforts.\n                    </p>\n                </article>\n                <article>\n                    <h2 class=\"grey\">Out</h2>\n                    <p class=\"paragraph-format\">\n                        A wildfire that is extinguished.  Suppression efforts are complete.\n                    </p>\n                </article>\n            </section>\n            <section>\n                <h1>MORE INFORMATION</h1>\n                <article>\n                    <p>\n                        <a href=\"https://www2.gov.bc.ca/gov/content/safety/wildfire-status/wildfire-response/management-strategies/stages-of-control\" target=\"_blank\" rel=\"noopener\">Wildfire Stages of Control</a>\n                    </p>\n                    <p>\n                        <a href=\"https://www2.gov.bc.ca/gov/content/safety/wildfire-status/wildfire-response/plan-prepare-stay-informed\" target=\"_blank\" rel=\"noopener\">Plan, Prepare, Stay Informed</a>\n                    </p>\n                </article>\n            </section>\n        </mat-tab>\n    <mat-tab label=\"Wildfires List\">\n        <div class=\"wildfire-list-toggle-title\" style=\"display:flex\">\n            <div style=\"width: 80%\">Choose Wildfires to display</div>\n            <div>{{collection? collection.totalRowCount: 0}} Results</div>\n        </div>\n        <div class=\"wildfire-checkboxs\">\n            <mat-checkbox aria-label=\"active\" (change)=\"stageOfControlChanges($event)\" [(ngModel)]=\"activeWildfiresInd\">Active Wildfires</mat-checkbox>\n            <mat-checkbox aria-label=\"out\" (change)=\"stageOfControlChanges($event)\" [(ngModel)]=\"outWildfiresInd\">Out Wildfires</mat-checkbox>\n            <mat-checkbox aria-label=\"new\" (change)=\"stageOfControlChanges($event)\" [(ngModel)]=\"newFires\">New Wildfires</mat-checkbox>\n            <mat-checkbox aria-label=\"fire-of-note\" (change)=\"stageOfControlChanges($event)\" [(ngModel)]=\"wildfiresOfNoteInd\">Wildfires of Note</mat-checkbox>\n        </div>\n        <div *ngIf=\"loading\">\n          <mat-spinner style=\"margin: auto;\" *ngIf=\"!loaded\" [diameter]=\"50\"></mat-spinner>\n        </div>\n        <div *ngIf=\"!loading\">\n          <div *ngIf=\"collectionData\">\n            <div class = \"incident-item\" *ngFor=\"let incident of collectionData\" (click)=\"openPreview(incident)\" (mouseenter)=\"onPanelMouseEnter(incident)\" (mouseleave)=\"onPanelMouseExit(incident)\">\n              <mat-progress-bar [id]=\"incident.incidentName\" mode=\"determinate\" [value]=\"progressValues.get(incident.incidentName)\"></mat-progress-bar>\n              <div class=\"item-header\" style=\"color: #1a5a96\">{{incident.incidentName}}\n                <span #el style=\"cursor: pointer;\" (click)=\"onWatchlist(incident) ? removeFromWatchlist(incident) : addToWatchlist(incident)\" (click)=\"onClickBookmark($event)\">\n                    <mat-icon style=\"color:#1A5A96; vertical-align: middle;\">{{onWatchlist(incident) ? 'bookmark' : 'bookmark_border'}}</mat-icon>\n                </span>\n                </div>\n                <div class=\"item-row\">\n                    <span class=\"item-title\">Last Updated: </span>\n                    <span class=\"item-content\">{{convertToDateWithDayOfWeek(incident.newsCreatedTimestamp)}}</span>\n                </div>\n                <div class=\"item-row\">\n                    <span class=\"item-title\">Fire Centre: </span>\n                    <span class=\"item-content\">{{convertToFireCentreDescription(incident.fireCentreName || incident.fireCentre || incident.fireCentreCode)}}</span>\n                </div>\n                <div class=\"item-row\">\n                    <span class=\"item-title\">Distance from My Location: </span>\n                    <span class=\"item-content\">{{calculateDistance(Number(incident.latitude), Number(incident.longitude))}} km</span>\n                </div>\n                <div class=\"tags\">\n                    <span *ngIf=\"incident.fireOfNoteInd\" class=\"wildifire-of-note-tag\">\n                        <span class='material-icons-outlined fire-icon' style=\"vertical-align:middle\">local_fire_department</span>\n                        Wildfire of Note\n                    </span>\n                    <span class=\"stage-of-control-status-indicator {{incident.stageOfControlCode}}\">\n                        <span class=\"circle-icon {{incident.stageOfControlCode}}\"></span>\n                        {{convertToStageOfControlDescription(incident.stageOfControlCode)}}\n                    </span>\n                </div>\n            </div>\n        </div>\n        <div class=\"bottom-summary flex-y-fixed\">\n          <div class=\"showing-summary\" style=\"flex: 75%;\">{{summaryString}}</div>\n          <span class=\"paging-control {{isFirstPage}}\" (click)=\"onPageChange(-1)\"><mat-icon>chevron_left</mat-icon>Back</span>\n          <span class=\"paging-control {{isLastPage}}\" (click)=\"onPageChange(0)\">Next<mat-icon>chevron_right</mat-icon></span>\n        </div>\n      </div>\n    </mat-tab>\n\n</mat-tab-group>\n<ng-template #listIdentifyContainer></ng-template>\n","import {DomSanitizer} from \"@angular/platform-browser\";\nimport { BaseComponentModel } from \"../base/base.component.model\";\n\nexport class PanelWildfireStageOfControlComponentModel extends BaseComponentModel {\n\n    constructor(protected sanitizer: DomSanitizer) {\n        super(sanitizer);\n\n    }\n\n    public clone(): PanelWildfireStageOfControlComponentModel {\n        let clonedModel: PanelWildfireStageOfControlComponentModel = new PanelWildfireStageOfControlComponentModel(this.sanitizer);\n        return clonedModel;\n    }\n}\n","import { Overlay } from '@angular/cdk/overlay';\nimport { HttpClient } from '@angular/common/http';\nimport { ChangeDetectorRef, ComponentFactoryResolver, ComponentRef, Directive, Injector, Input, NgZone, OnChanges, OnDestroy, OnInit, SimpleChanges, Type, ViewChild, ViewContainerRef } from '@angular/core';\nimport { UntypedFormBuilder } from '@angular/forms';\nimport { MatLegacyDialog as MatDialog } from '@angular/material/legacy-dialog';\nimport { MatLegacySnackBar as MatSnackBar } from '@angular/material/legacy-snack-bar';\nimport { DomSanitizer } from '@angular/platform-browser';\nimport { Router, ActivatedRoute } from '@angular/router';\nimport { Store } from '@ngrx/store';\nimport { TokenService, AppConfigService } from '@wf1/core-ui';\nimport { PagedCollection } from '../../conversion/models';\nimport { ApplicationStateService } from '../../services/application-state.service';\nimport { CommonUtilityService } from '../../services/common-utility.service';\nimport { WatchlistService } from '../../services/watchlist-service';\nimport { haversineDistance } from '../../services/wfnews-map.service/util';\nimport { RootState } from '../../store';\nimport { searchWildfires } from '../../store/wildfiresList/wildfiresList.action';\nimport { LOAD_WILDFIRES_COMPONENT_ID } from '../../store/wildfiresList/wildfiresList.stats';\nimport { snowPlowHelper, convertToDateWithDayOfWeek as DateTimeConvert, convertToStageOfControlDescription as StageOfControlConvert, convertToFireCentreDescription } from '../../utils';\nimport { CollectionComponent } from '../common/base-collection/collection.component';\nimport { IncidentIdentifyPanelComponent } from '../incident-identify-panel/incident-identify-panel.component';\nimport { PanelWildfireStageOfControlComponentModel } from './panel-wildfire-stage-of-control.component.model';\nimport * as L from 'leaflet'\nimport { MatLegacyCheckboxChange as MatCheckboxChange } from '@angular/material/legacy-checkbox';\nimport { MatLegacyTabChangeEvent as MatTabChangeEvent } from '@angular/material/legacy-tabs';\nconst delay = t => new Promise(resolve => setTimeout(resolve, t));\n\n@Directive()\nexport class PanelWildfireStageOfControlComponent extends CollectionComponent implements OnChanges, OnInit, OnDestroy {\n  @ViewChild('listIdentifyContainer', { read: ViewContainerRef }) listIdentifyContainer: ViewContainerRef;\n  @Input() collection: PagedCollection\n\n  public snowPlowHelper = snowPlowHelper\n\n  activeWildfiresInd = true;\n  outWildfiresInd = false;\n  wildfiresOfNoteInd = false;\n  newFires = false;\n  currentLat: number;\n  currentLong: number;\n\n  private zone: NgZone;\n  private componentRef: ComponentRef<any>;\n  private mapPanProgressBar;\n  private progressValues = new Map<string, number>();\n  private lastPanned = '';\n\n  private viewer\n  private map\n\n  private handlePanelEnterTimeout\n  private handlePanelExitTImeout\n  private markerAnimation\n  private highlightLayer\n  private initInterval\n  private mapEventDebounce\n  private ignorePan = true\n  private ignorePanDebounce\n\n  private marker: any\n  public isFirstPage: string;\n  public isLastPage: string;\n\n  public loading = true\n  public tabIndex = 0\n\n  public readonly url = this.appConfigService.getConfig().application.baseUrl.toString() + this.router.url.slice(1)\n\n  public convertToDateWithDayOfWeek = DateTimeConvert;\n  public convertToStageOfControlDescription = StageOfControlConvert;\n  public convertToFireCentreDescription = convertToFireCentreDescription;\n\n  constructor(protected injector: Injector, protected componentFactoryResolver: ComponentFactoryResolver, router: Router, route: ActivatedRoute, sanitizer: DomSanitizer, store: Store<RootState>, fb: UntypedFormBuilder, dialog: MatDialog, applicationStateService: ApplicationStateService, tokenService: TokenService, snackbarService: MatSnackBar, overlay: Overlay, cdr: ChangeDetectorRef, appConfigService: AppConfigService, http: HttpClient, watchlistService: WatchlistService, commonUtilityService?: CommonUtilityService) {\n    super(router, route, sanitizer, store, fb, dialog, applicationStateService, tokenService, snackbarService, overlay, cdr, appConfigService, http, watchlistService, commonUtilityService);\n    this.zone = this.injector.get(NgZone)\n  }\n\n  ngOnDestroy(): void {\n    const panel = document.getElementsByClassName('incident-details')\n    if (panel && panel.length !== 0) {\n      (panel.item(0) as HTMLElement).remove();\n    }\n\n    (document.getElementsByClassName('identify-panel').item(0) as HTMLElement).style.display = 'none';\n\n    const SMK = window['SMK'];\n    for (const smkMap in SMK.MAP) {\n      if (Object.prototype.hasOwnProperty.call(SMK.MAP, smkMap)) {\n        if (this.highlightLayer && this.highlightLayer._leaflet_id) {\n          SMK.MAP[smkMap].$viewer.map.removeLayer(this.highlightLayer);\n        }\n      }\n    }\n\n    clearInterval(this.initInterval)\n    clearInterval(this.mapPanProgressBar)\n    clearInterval(this.markerAnimation)\n    clearTimeout(this.ignorePanDebounce)\n  }\n\n  initModels() {\n    this.model = new PanelWildfireStageOfControlComponentModel(this.sanitizer);\n    this.viewModel = new PanelWildfireStageOfControlComponentModel(this.sanitizer);\n  }\n\n  getViewModel(): PanelWildfireStageOfControlComponentModel {\n    return <PanelWildfireStageOfControlComponentModel>this.viewModel;\n  }\n\n  private mapEventHandler(ignorePan) {\n    if (!ignorePan) {\n      if (this.mapEventDebounce) {\n        clearTimeout(this.mapEventDebounce);\n        this.mapEventDebounce = null;\n      }\n      this.mapEventDebounce = setTimeout(() => {\n        if (this.tabIndex === 1) {\n          this.doSearch();\n        }\n      }, 500);\n    }\n  }\n\n  bindMapEvents() {\n    this.initInterval = setInterval(() => {\n      try {\n        const SMK = window['SMK'];\n        this.viewer = null;\n        for (const smkMap in SMK.MAP) {\n          if (Object.prototype.hasOwnProperty.call(SMK.MAP, smkMap)) {\n            this.viewer = SMK.MAP[smkMap].$viewer;\n          }\n        }\n        this.map = this.viewer.map;\n        if (!this.highlightLayer) {\n          this.highlightLayer = window['L'].layerGroup().addTo(this.map);\n          this.map.on('zoomend', () => {\n            this.mapEventHandler(false);\n          });\n          this.map.on('moveend', () => {\n            this.mapEventHandler(this.ignorePan);\n          });\n\n          console.warn('... Hooking list to map ...')\n          clearInterval(this.initInterval);\n          this.initInterval = null;\n          this.onChangeFilters();\n          this.doSearch();\n        }\n      } catch (err) {\n        console.warn('... Waiting on SMK init to hook map events ...')\n      }\n    }, 1000)\n  }\n\n  onTabChanged (event: MatTabChangeEvent) {\n    this.onChangeFilters();\n    this.doSearch();\n\n    this.snowPlowHelper(this.url, {\n      action: 'incident_tab_change',\n      text: `${event.index}:${event.tab.textLabel}`\n    })\n  }\n\n  ngOnChanges(changes: SimpleChanges) {\n    super.ngOnChanges(changes);\n    if (changes.collection && changes.collection.currentValue) {\n      this.isFirstPage = null;\n      this.isLastPage = null;\n      let collection = changes.collection.currentValue;\n      if (collection.pageNumber === 1 && collection.pageNumber === collection.totalPageCount) {\n        //total results less than pageRowCount:10, no need for pagination\n        this.isFirstPage = 'FIRST';\n        this.isLastPage = 'LAST';\n      }\n      else if (collection.pageNumber === 1) {\n        //first page\n        this.isFirstPage = 'FIRST';\n        this.isLastPage = null;\n\n      }\n      else if (collection.pageNumber === collection.totalPageCount) {\n        //last page\n        this.isFirstPage = null;\n        this.isLastPage = 'LAST'\n      }\n    }\n  }\n\n  ngOnInit() {\n    this.updateView();\n    this.config = this.getPagingConfig();\n    this.baseRoute = this.router.url;\n    this.componentId = LOAD_WILDFIRES_COMPONENT_ID\n    this.useMyCurrentLocation();\n    // trigger the bind events after a slight delay\n    // otherwise the interval for syncing with SMK\n    // won't always fire\n    setTimeout(() => {\n      this.bindMapEvents()\n    }, 3000)\n  }\n\n  async useMyCurrentLocation() {\n    this.searchText = undefined;\n\n    const location = await this.commonUtilityService.getCurrentLocationPromise()\n    if (location) {\n      this.currentLat = Number(location.coords.latitude);\n      this.currentLong = Number(location.coords.longitude);\n    }\n  }\n\n  doSearch() {\n    if (!this.activeWildfiresInd && !this.outWildfiresInd && !this.newFires && !this.wildfiresOfNoteInd) {\n      this.collectionData = []\n      this.collection = null\n      this.searchState = null\n      this.loading = false\n      this.summaryString = 'No records to display.'\n      this.isFirstPage = 'FIRST'\n      this.isLastPage = 'LAST'\n      setTimeout(() => {\n        this.cdr.detectChanges();\n      });\n      return;\n    }\n\n    let bbox = undefined\n    // Fetch the maps bounding box\n    this.loading = true\n    try {\n      const SMK = window['SMK'];\n      let viewer = null;\n      for (const smkMap in SMK.MAP) {\n        if (Object.prototype.hasOwnProperty.call(SMK.MAP, smkMap)) {\n          viewer = SMK.MAP[smkMap].$viewer;\n        }\n      }\n      const map = viewer.map;\n      const bounds = map.getBounds();\n      bbox = `${bounds._northEast.lng},${bounds._northEast.lat},${bounds._southWest.lng},${bounds._southWest.lat}`\n      // this.onChangeFilters()  // why is this here? It will reset the pagination?!?\n    } catch (err) {\n      console.log('SMK initializing... wait to fetch bounds.')\n    }\n\n    // set stages of control to return\n    const stageOfControlList = []\n    if (this.outWildfiresInd) {\n      stageOfControlList.push('OUT')\n    }\n    if(this.activeWildfiresInd) {\n      stageOfControlList.push('OUT_CNTRL')\n      stageOfControlList.push('HOLDING')\n      stageOfControlList.push('UNDR_CNTRL')\n    }\n\n    // We use a boolean in the postgres model so this shouldn't be needed\n    //if(this.wildfiresOfNoteInd) {\n    //  stageOfControlList.push('FIRE_OF_NOTE')\n    //}\n\n    this.store.dispatch(searchWildfires(this.componentId, {\n      pageNumber: this.config.currentPage,\n      pageRowCount: 10,\n      sortColumn: this.currentSort,\n      sortDirection: this.currentSortDirection,\n      query: undefined\n    }, undefined, this.wildfiresOfNoteInd, stageOfControlList, this.newFires, bbox, this.displayLabel, undefined, undefined, undefined,\n      () => {\n        this.loading = false\n        this.cdr.detectChanges()\n      }));\n\n    // set a timeout to turn of the loading indicator\n    setTimeout(() => {\n      this.loading = false\n      this.cdr.detectChanges()\n    }, 5000)\n  }\n\n  stageOfControlChanges(event: MatCheckboxChange) {\n    this.snowPlowHelper(this.url, {\n      action: 'incident_list_options',\n      text: `${event.source.ariaLabel.toUpperCase()}-${event.checked}`\n    })\n    this.onChangeFilters()\n    this.doSearch()\n  }\n\n  calculateDistance(lat: number, long: number): string {\n    let result = '---';\n    if (lat && long && this.currentLat && this.currentLong) {\n      result = (haversineDistance(lat, this.currentLat, long, this.currentLong) / 1000).toFixed(2);\n    }\n    return result;\n  }\n\n  public Number(value: string): number {\n    return Number(value);\n  }\n\n  private handlePanelEnter(incident: any) {\n    // force an exit cleanup\n    this.onPanelMouseExit(null)\n    this.ignorePan = true\n    if (this.ignorePanDebounce) {\n      clearTimeout(this.ignorePanDebounce)\n      this.ignorePanDebounce = null\n    }\n\n    const SMK = window['SMK'];\n    this.viewer = null;\n    for (const smkMap in SMK.MAP) {\n      if (Object.prototype.hasOwnProperty.call(SMK.MAP, smkMap)) {\n        this.viewer = SMK.MAP[smkMap].$viewer;\n      }\n    }\n    this.map = this.viewer.map;\n\n    if (this.lastPanned !== incident.incidentName) {\n      this.progressValues.set(incident.incidentName, 0);\n      this.mapPanProgressBar = setInterval(() => {\n        this.progressValues.set(incident.incidentName, this.progressValues.get(incident.incidentName) + 10);\n        if (this.progressValues.get(incident.incidentName) >= 100) {\n          this.lastPanned = incident.incidentName\n          this.viewer.panToFeature(window['turf'].point([incident.longitude + 1, incident.latitude]), this.map._zoom);\n          clearInterval(this.mapPanProgressBar);\n          this.mapPanProgressBar = null;\n        }\n        this.cdr.detectChanges();\n      }, 100);\n    }\n\n    this.addMarker(incident);\n  }\n\n  private addMarker(incident: any) {\n    const pointerIcon = L.divIcon({\n      iconSize: [20, 20],\n      iconAnchor: [12, 12],\n      popupAnchor: [10, 0],\n      shadowSize: [0, 0],\n      className: 'animated-icon'\n    });\n\n    if (this.marker) {\n      this.marker.remove()\n      this.marker = null\n    }\n\n    this.marker = L.marker([Number(incident.latitude), Number(incident.longitude)], { icon: pointerIcon })\n    this.marker.on('add', function () {\n      const icon: any = document.querySelector('.animated-icon')\n\n      if (incident.fireOfNoteInd) {\n        icon.style.backgroundColor = '#aa0d0d'\n      } else if (incident.stageOfControlCode === 'OUT_CNTRL') {\n        icon.style.backgroundColor = '#FF0000'\n      } else if (incident.stageOfControlCode === 'HOLDING') {\n        icon.style.backgroundColor = '#FFFF00'\n      } else if (incident.stageOfControlCode === 'UNDR_CNTRL') {\n        icon.style.backgroundColor = '#98E600'\n      }\n\n      if (this.markerAnimation) {\n        clearInterval(this.markerAnimation)\n      }\n\n      this.markerAnimation = setInterval(() => {\n        icon.style.width = icon.style.width === \"10px\" ? \"20px\" : \"10px\"\n        icon.style.height = icon.style.height === \"10px\" ? \"20px\" : \"10px\"\n        icon.style.marginLeft = icon.style.width === \"20px\" ? '-10px' : '-5px'\n        icon.style.marginTop = icon.style.width === \"20px\" ? '-10px' : '-5px'\n        icon.style.boxShadow = icon.style.width === \"20px\" ? '4px 4px 4px rgba(0, 0, 0, 0.65)' : '0px 0px 0px transparent'\n      }, 1000)\n    })\n    this.marker.addTo(this.map)\n  }\n\n  onPanelMouseEnter(incident: any) {\n    if (this.map) {\n      // clear any existing timer\n      if (this.handlePanelEnterTimeout) {\n        clearTimeout(this.handlePanelEnterTimeout)\n      }\n\n      // debounce on mouse enter\n      this.handlePanelEnterTimeout = setTimeout(() => {\n        this.handlePanelEnter(incident)\n      }, 500)\n    }\n  }\n\n  onPanelMouseExit(incident: any) {\n    if (this.handlePanelEnterTimeout) {\n      clearTimeout(this.handlePanelEnterTimeout)\n    }\n    if (this.mapPanProgressBar) {\n      clearInterval(this.mapPanProgressBar);\n      this.mapPanProgressBar = null;\n    }\n    if (this.markerAnimation) {\n      clearInterval(this.markerAnimation)\n    }\n    if (incident) {\n      this.progressValues.set(incident.incidentName, 0);\n    } else {\n      for (const key of this.progressValues.keys()) {\n        this.progressValues.set(key, 0);\n      }\n    }\n    this.highlightLayer.clearLayers();\n    if (this.marker) {\n      this.marker.remove()\n      this.marker = null\n    }\n\n    if (this.ignorePanDebounce) {\n      clearTimeout(this.ignorePanDebounce)\n    }\n    this.ignorePanDebounce = setTimeout(() => {\n      this.ignorePan = false;\n      this.ignorePanDebounce = null;\n    }, 1000);\n  }\n\n  openPreview(incident: any) {\n    this.onPanelMouseEnter(incident);\n\n    this.snowPlowHelper(this.url, {\n      action: 'wildfire_list_click',\n      text: incident.incidentName,\n      id: incident.incidentNumberLabel\n    })\n\n\n    incident.incident_number_label = incident.incidentNumberLabel;\n    const self = this;\n    this.zone.run(function () {\n      let compRef = self.makeComponent(IncidentIdentifyPanelComponent);\n      (compRef.instance as any).setIncident(incident, {});\n      const panel = (document.getElementsByClassName('identify-panel').item(0) as HTMLElement);\n      panel.appendChild(compRef.location.nativeElement);\n      self.cdr.detectChanges();\n      (document.getElementsByClassName('identify-panel').item(0) as HTMLElement).style.display = 'block';\n      setTimeout(() => {\n        const identifyPanel = (document.getElementsByClassName('smk-panel').item(0) as HTMLElement)\n        if (identifyPanel) {\n          identifyPanel.remove();\n        }\n      }, 200);\n    })\n  }\n\n  makeComponent<C>(component: Type<C>): ComponentRef<C> {\n    if (this.componentRef) {\n      this.componentRef.destroy()\n    }\n    if (this.listIdentifyContainer) {\n      this.listIdentifyContainer.clear();\n    }\n    this.componentRef = this.listIdentifyContainer.createComponent(this.componentFactoryResolver.resolveComponentFactory(component))\n    return this.componentRef;\n  }\n\n  onWatchlist(incident: any): boolean {\n    return this.watchlistService.getWatchlist().includes(incident.fireYear + ':' + incident.incidentNumberLabel)\n  }\n\n  addToWatchlist(incident: any) {\n    this.watchlistService.saveToWatchlist(incident.fireYear, incident.incidentNumberLabel)\n  }\n\n  removeFromWatchlist(incident: any) {\n    this.watchlistService.removeFromWatchlist(incident.fireYear, incident.incidentNumberLabel)\n  }\n\n  onClickBookmark(event: Event) {\n    event.stopPropagation()\n  }\n}\n","import { Component, ChangeDetectionStrategy, Input, OnInit, ChangeDetectorRef } from \"@angular/core\";\nimport lgZoom from 'lightgallery/plugins/zoom';\nimport lgFullscreen from 'lightgallery/plugins/fullscreen';\nimport lgThumbnail from 'lightgallery/plugins/thumbnail';\nimport { BeforeSlideDetail, InitDetail } from 'lightgallery/lg-events';\nimport { PublishedIncidentService } from \"../../../services/published-incident-service\";\nimport { AppConfigService } from \"@wf1/core-ui\";\nimport { convertToYoutubeId } from \"../../../utils\";\nimport { LightGallery } from \"lightgallery/lightgallery\";\nimport { ActivatedRoute, ParamMap } from \"@angular/router\";\n\n@Component({\n  selector: 'incident-gallery-panel',\n  templateUrl: './incident-gallery-panel.component.html',\n  styleUrls: ['./incident-gallery-panel.component.scss'],\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class IncidentGalleryPanel implements OnInit {\n  @Input() public incident;\n  @Input() public showImageWarning;\n  \n  public convertToYoutubeId = convertToYoutubeId\n  public constructor(private publishedIncidentService: PublishedIncidentService, private appConfigService: AppConfigService, private cdr: ChangeDetectorRef,\n                    private router: ActivatedRoute) { }\n\n  currentMediaType: string;\n  mediaTypeOptions: string[] = [\"All\",\"Images\",\"Videos\"];\n  imagesAndVideosStub: any[];\n  allImagesAndVideosStub: any[];\n  \n  private lightGallery!: LightGallery\n  private refreshGallery = false\n  public showVideos = true\n  public showImages = true\n  isPreview: boolean;\n\n  settings = {\n    counter: true,\n    plugins: [lgZoom, lgFullscreen, lgThumbnail],\n    download: true,\n    showZoomInOutIcons: true,\n    fullScreen: true,\n    actualSize: true,\n    thumbnail: true\n  };\n\n  ngAfterViewChecked(): void {\n    if (this.refreshGallery && this.lightGallery) {\n        this.lightGallery.refresh()\n        this.refreshGallery = false\n    }\n  }\n\n  onInit = (detail: InitDetail): void => {\n    this.lightGallery = detail.instance\n  }\n\n  onBeforeSlide = (detail: BeforeSlideDetail): void => {\n    // unused\n  };\n\n  onMediaTypeFilterChanged(event) {\n    if(event === \"Images\") {\n      this.showImages = true\n      this.showVideos = false\n    } else if(event === \"Videos\") {\n      this.showImages = false\n      this.showVideos = true\n    } else {\n      this.showImages = true\n      this.showVideos = true\n    }\n  }\n\n  get videos () {\n    return this.allImagesAndVideosStub.filter(item => item.type === \"video\")\n  }\n\n  get images () {\n    return this.allImagesAndVideosStub.filter(item => item.type === \"image\")\n  }\n\n  ngOnInit() {\n    this.loadPage();\n    this.currentMediaType = \"All\";\n    this.onMediaTypeFilterChanged(\"All\");\n\n    this.router.queryParams.subscribe((params: ParamMap) => {\n      if(params && params['preview']) {\n        this.isPreview = true;\n      }\n    });\n  }\n\n  handleImageFallback (item: any, index: number) {\n    const imgComponent = document.getElementById(index + '-img-thumb')\n    if (imgComponent) {\n      (imgComponent as any).src = item.href\n    }\n  }\n\n  loadPage() {\n    this.imagesAndVideosStub = []\n    this.allImagesAndVideosStub = []\n    // fetch the Videos\n    this.publishedIncidentService.fetchExternalUri(this.incident.incidentNumberLabel).toPromise().then(results => {\n      if (results && results.collection && results.collection.length > 0) {\n        for (const uri of results.collection) {\n          if (!uri.externalUriCategoryTag.includes('EVAC-ORDER')) {\n            this.allImagesAndVideosStub.push({\n              title: uri.externalUriDisplayLabel,\n              uploadedDate: new Date(uri.createdTimestamp).toLocaleDateString(),\n              fileName: '',\n              type: 'video',\n              href: uri.externalUri\n            })\n          }\n          this.cdr.detectChanges()\n        }\n      }\n\n      // fetch image attachments\n      this.publishedIncidentService.fetchPublishedIncidentAttachments(this.incident.incidentNumberLabel).toPromise().then(results => {\n        // Loop through the attachments, for each one, create a ref, and set href to the bytes\n        if (results && results.collection && results.collection.length > 0) {\n          for (const attachment of results.collection) {\n            // do a mime type check here\n            if (attachment.mimeType && ['image/jpg', 'image/jpeg', 'image/png', 'image/gif', 'image/bmp', 'image/tiff'].includes(attachment.mimeType.toLowerCase())) {\n              this.allImagesAndVideosStub.push({\n                title: attachment.attachmentTitle,\n                uploadedDate: new Date(attachment.createdTimestamp).toLocaleDateString(),\n                fileName: attachment.attachmentFileName,\n                type: 'image',\n                href: `${this.appConfigService.getConfig().rest['wfnews']}/publicPublishedIncidentAttachment/${this.incident.incidentNumberLabel}/attachments/${attachment.attachmentGuid}/bytes`,\n                thumbnail: `${this.appConfigService.getConfig().rest['wfnews']}/publicPublishedIncidentAttachment/${this.incident.incidentNumberLabel}/attachments/${attachment.attachmentGuid}/bytes?thumbnail=true`\n              })\n            }\n          }\n        }\n        this.cdr.detectChanges()\n        this.lightGallery.refresh()\n        setTimeout(() => {\n          this.refreshGallery = true\n        }, 5000)\n      })\n    })\n  }\n}\n","<div class=\"panel\">\n    <div class=\"header-row\">\n      <h4>Image/Video Gallery\n          <div *ngIf=\"showImageWarning\" class=\"preview-warning\">Warning: Uploaded Images or Videos cannot be previewed</div>\n      </h4>\n    </div>\n    <div class=\"content-panel\">\n      <div *ngIf=\"videos && videos.length || images && images.length; else showDisclaimer\">\n          <div class=\"media-types\">\n              <div>Media Type</div>\n              <mat-select appWFSingleSelect appWFPlaceholder=\"Select...\"\n                          aria-label=\"Type\" [options]=\"mediaTypeOptions\"\n                          [value]=\"currentMediaType\"\n                          (valueChange)=\"onMediaTypeFilterChanged($event)\"\n                          class=\"media-selector\">\n                  <mat-option value=\"\">\n                      <span class=\"placeholder\">Select...</span>\n                  </mat-option>\n                  <mat-option *ngFor = \"let mediaType of mediaTypeOptions\" value=\"{{mediaType}}\">\n                      <span>{{mediaType}}</span>\n                  </mat-option>\n              </mat-select>\n          </div>\n          <div>\n            <lightgallery *ngIf=\"showImages\" [settings]=\"settings\" [onBeforeSlide]=\"onBeforeSlide\" [onInit]=\"onInit\" class=\"gallery-container\">\n              <a *ngFor=\"let item of images; let i = index\"\n                  [attr.data-index]=\"i\"\n                  data-lg-size=\"480-475-480, 800-791-800, 1406-1390\"\n                  class=\"gallery-item\"\n                  [href]=\"item.href\"\n                  [data-src]=\"item.href\"\n                  [data-responsive]=\"item.href + ' 800'\"\n                  style=\"padding: 5px;\">\n                  <img [id]=\"i + '-img-thumb'\" width=\"150\" alt=\"Image\" class=\"img-responsive\" [src]=\"item.thumbnail\" (error)=\"handleImageFallback(item, i)\"/>\n              </a>\n            </lightgallery>\n\n            <div *ngIf=\"showVideos\">\n                <youtube-player *ngFor=\"let item of videos\"\n                    style=\"padding: 5px;\"\n                    videoId={{convertToYoutubeId(item.href)}}\n                    suggestedQuality=\"highres\"\n                    [startSeconds]=\"1\"\n                    [endSeconds]=\"20\"\n                    [height]=\"250\"\n                    [width]=\"400\">\n                </youtube-player>\n            </div>\n          </div>\n        </div>\n      <ng-template #showDisclaimer>\n        <div *ngIf=\"!isPreview\">There are currently no images or videos associated with this incident</div>\n      </ng-template>\n    </div>\n</div>\n","import { Component, ChangeDetectionStrategy, Input, AfterViewInit } from \"@angular/core\"\nimport { EvacOrderOption } from \"../../../conversion/models\"\nimport * as L from 'leaflet'\nimport { AppConfigService } from \"@wf1/core-ui\"\nimport { WatchlistService } from \"../../../services/watchlist-service\"\nimport { convertToFireCentreDescription, convertFireNumber, ResourcesRoutes } from \"../../../utils\"\nimport * as moment from \"moment\"\nimport { MatLegacyDialog as MatDialog } from \"@angular/material/legacy-dialog\"\nimport { ContactUsDialogComponent } from \"../../admin-incident-form/contact-us-dialog/contact-us-dialog.component\"\nimport { Router } from \"@angular/router\"\nimport { Location } from '@angular/common';\n\n\n@Component({\n  selector: 'incident-header-panel',\n  templateUrl: './incident-header-panel.component.html',\n  styleUrls: ['./incident-header-panel.component.scss'],\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class IncidentHeaderPanel implements AfterViewInit {\n  @Input() public incident: any\n  @Input() public evacOrders: EvacOrderOption[] = []\n  @Input() public extent: any\n  convertToFireCentreDescription = convertToFireCentreDescription\n  convertFireNumber = convertFireNumber\n\n  private map: any\n\n  constructor (private appConfigService: AppConfigService, private watchlistService: WatchlistService, private dialog: MatDialog, private router: Router, private location: Location\n    ) {\n    /* Empty, just here for injection */\n  }\n\n  ngAfterViewInit(): void {\n    // Configure the map\n    const location = [Number(this.incident.latitude), Number(this.incident.longitude)]\n    this.map = L.map('map', {\n      attributionControl: false,\n      zoomControl: false,\n      dragging: false,\n      doubleClickZoom: false,\n      boxZoom: false,\n      trackResize: false,\n      scrollWheelZoom: false\n    }).setView(location, 9)\n    // configure map data\n    L.tileLayer('https://tile.openstreetmap.org/{z}/{x}/{y}.png', {\n      attribution: '&copy; <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a> contributors'\n    }).addTo(this.map);\n\n    let databcUrl = this.appConfigService.getConfig()['mapServices']['openmapsBaseUrl'].toString()\n    L.tileLayer.wms(databcUrl, {\n      layers: 'WHSE_HUMAN_CULTURAL_ECONOMIC.EMRG_ORDER_AND_ALERT_AREAS_SP',\n      styles: '6885',\n      format: 'image/png',\n      transparent: true,\n      version: '1.1.1'\n    }).addTo(this.map);\n    L.tileLayer.wms(databcUrl, {\n      layers: 'WHSE_LAND_AND_NATURAL_RESOURCE.PROT_CURRENT_FIRE_POLYS_SP',\n      styles: '1751_1752',\n      format: 'image/png',\n      transparent: true,\n      version: '1.1.1'\n    }).addTo(this.map);\n\n    const icon = L.icon({\n      iconUrl: \"/assets/images/local_fire_department.png\",\n      iconSize: [35, 35],\n      shadowAnchor: [4, 62],\n      popupAnchor: [1, -34],\n      shadowSize: [41, 41]\n    });\n\n    if(this.incident.fireOfNoteInd) {\n      L.marker(location, {icon: icon}).addTo(this.map);\n    }\n    else{\n      let colorToDisplay;\n      switch(this.incident.stageOfControlCode) {\n        case 'OUT_CNTRL':\n          colorToDisplay = '#FF0000'\n          break;\n        case 'HOLDING':\n          colorToDisplay = '#ffff00'\n          break;\n        case 'UNDR_CNTRL':\n          colorToDisplay = '#98E600'\n          break;\n        case 'OUT':\n          colorToDisplay = '#999999'\n          break;\n        default:\n          colorToDisplay = 'white';\n      }\n      L.circleMarker(location,{radius:15,fillOpacity:1,color:'black', fillColor:colorToDisplay}).addTo(this.map)\n    }\n\n    if (this.extent) {\n      this.map.fitBounds(new L.LatLngBounds([this.extent.ymin, this.extent.xmin], [this.extent.ymax, this.extent.xmax]));\n    }\n  }\n\n  onWatchlist (): boolean {\n    return this.watchlistService.getWatchlist().includes(this.incident.fireYear + ':' + this.incident.incidentNumberLabel)\n  }\n\n  addToWatchlist () {\n    this.watchlistService.saveToWatchlist(this.incident.fireYear, this.incident.incidentNumberLabel)\n  }\n\n  removeFromWatchlist () {\n    this.watchlistService.removeFromWatchlist(this.incident.fireYear, this.incident.incidentNumberLabel)\n  }\n\n  displaySizeType (incidentSizeDetail: string) {\n    if (incidentSizeDetail && incidentSizeDetail.includes('estimated')) {\n      return '(Estimated)'\n    }\n    else if (incidentSizeDetail && incidentSizeDetail.includes('mapped')) {\n      return '(Mapped)'\n    }\n    else {\n      return null;\n    }\n  }\n\n  hideOnMobileView () {\n    return ((window.innerWidth < 768 && window.innerHeight < 1024) || (window.innerWidth < 1024 && window.innerHeight < 768))\n  }\n\n  convertoToMobileFormate (dateString) {\n    const formattedDate = moment(dateString, \"dddd, MMMM D, YYYY [at] h:mm:ss A\").format(\"MMMM D, YYYY\");\n    return formattedDate\n\n  }\n\n  openContactUsWindow() {\n    this.dialog.open(ContactUsDialogComponent, {\n      width: '350px',\n      data: {\n        fireCentre: convertToFireCentreDescription(this.incident.contactOrgUnitIdentifer || this.incident.fireCentreName || this.incident.fireCentreCode || this.incident.fireCentre),\n        email: this.incident.contactEmailAddress,\n        phoneNumber: this.incident.contactPhoneNumber\n      }\n    });\n  }\n\n  backToMap() {\n    setTimeout(() => {\n      this.router.navigate([ResourcesRoutes.ACTIVEWILDFIREMAP]);\n    }, 100);\n  }\n\n  shareContent() {\n    const currentUrl = this.location.path();\n    if (navigator.share) {\n      navigator.share({\n        url: currentUrl // The URL user wants to share\n      })\n        .then(() => console.log('Sharing succeeded.'))\n        .catch((error) => console.error('Error sharing:', error));\n    }\n  }\n\n}\n","<div class=\"header-container forPrint\" id=\"toprint-header\">\n  <div class=\"mobile-header\" *ngIf=\"hideOnMobileView()\">\n    <span class=\"material-icons\" (click)=\"backToMap()\">arrow_back</span>\n    <span>Wildfire</span>\n    <span class=\"material-icons\" (click)=\"shareContent()\">share</span>  \n  </div>\n  <div id=\"map\" class=\"map-container\" *ngIf=\"hideOnMobileView()\">\n  </div>\n  <div class=\"incident-details\">\n    <div class=\"header\">\n    </div>\n    <div class=\"title-bar\">\n      <div class=\"title\">{{incident.incidentName}} <span *ngIf=\"incident.fireOfNoteInd\" #el class=\"fire-icon-container\"><img class=\"icon\" height=\"24\" width=\"24\" src=\"/assets/images/local_fire_department.png\" alt=\"local_fire_department\"></span> <span #el *ngIf=\"!hideOnMobileView()\" class=\"no-print\" style=\"cursor: pointer;\" (click)=\"onWatchlist() ? removeFromWatchlist() : addToWatchlist()\"><mat-icon style=\"color:#1A5A96\">{{onWatchlist() ? 'bookmark' : 'bookmark_border'}}</mat-icon></span></div>\n      <div *ngIf=\"!hideOnMobileView()\" class=\"subtitle\"><a href=\"https://www2.gov.bc.ca/gov/content/safety/wildfire-status/about-bcws/fire-centres\" rel=\"noopener\" target=\"_blank\">{{convertToFireCentreDescription(this.incident.fireCentreName || incident.fireCentre || incident.fireCentreCode)}}</a></div>\n    </div>\n    <div *ngIf=\"!hideOnMobileView()\">\n      <div class=\"info-panel\">\n        <div><span class=\"label\">Fire Number: </span><span>{{convertFireNumber(incident)}}</span></div>\n        <div><span class=\"label\">Last Updated: </span><span>{{incident.lastUpdatedTimestamp}}</span></div>\n        <div *ngIf=\"incident.discoveryDate\"><span class=\"label\">Discovered On: </span><span>{{incident.discoveryDate}}</span></div>\n        <div *ngIf=\"incident.stageOfControlCode === 'OUT'\"><span class=\"label\">Declared Out: </span><span>{{incident.declaredOutDate}}</span></div>\n      </div>\n      <div class=\"divider\"></div>\n      <div class=\"info-panel\">\n        <div class=\"gutter\"><span class=\"label\">Size: </span><span>{{incident.incidentSizeEstimatedHa ? incident.incidentSizeEstimatedHa.toLocaleString() : 0}} Hectares </span> <span>{{displaySizeType(incident.incidentSizeDetail)}}</span></div>\n        <div class=\"paragraph-format\">{{incident.incidentSizeDetail || 'Fire size is estimated and based on the most current information available.'}}</div>\n        <div class=\"gutter\" *ngIf=\"incident.incidentLocation\"><span class=\"label\">Location</span></div>\n        <div class=\"paragraph-format\">{{incident.incidentLocation}}</div>\n        <div class=\"gutter\" *ngIf=\"incident.traditionalTerritoryDetail\"><span class=\"label\">Traditional Territory</span></div>\n        <div class=\"paragraph-format\">{{incident.traditionalTerritoryDetail}}</div>\n      </div>\n     <!-- Evac Orders-->\n      <div *ngIf=\"evacOrders.length > 0\" class=\"divider\"></div>\n      <div style=\"padding-top: 7px;\" *ngIf=\"evacOrders.length > 0\">\n        <h4>Active Evacuation Orders and Alerts</h4>\n        <div class=\"evac-list\" *ngFor=\"let evac of evacOrders\">\n          <mat-icon [class]=\"evac.orderAlertStatus === 'Alert' ? 'alert' : 'order'\" style=\"text-decoration: none;\">{{ evac.orderAlertStatus === 'Alert' ? 'warning' : 'error' }} </mat-icon>\n          <a *ngIf=\"evac.uri\" [class]=\"'label ' + evac.orderAlertStatus === 'Alert' ? 'alert' : 'order'\" [href]=\"evac.uri\" target=\"_blank\" rel=\"noopener\">{{evac.eventName}} {{ evac.orderAlertStatus }}</a>\n          <div *ngIf=\"!evac.uri\" [class]=\"'label ' + evac.orderAlertStatus === 'Alert' ? 'alert' : 'order'\">{{evac.eventName}} {{ evac.orderAlertStatus }}</div>\n          <div class=\"issued-by\">(Issued By: {{evac.issuingAgency}})</div>\n        </div>\n      </div>\n    </div>\n    <div *ngIf=\"hideOnMobileView()\">\n        <div class=\"header-content\">\n          <div class=\"item\" style=\"width: 45%;\"> Last updated <span>{{convertoToMobileFormate(incident.lastUpdatedTimestamp)}}</span></div>\n          <mat-icon svgIcon=\"dot\" style=\"width: 10px; height: 10px;\" ></mat-icon>\n          <div class=\"item\" style=\"width: 45%;\"> Fire Number <span>{{convertFireNumber(incident)}}</span></div>\n        </div>\n        <div class=\"header-content\">\n          <div class=\"item\" style=\"width: 45%;\"> Discovered on <span>{{convertoToMobileFormate(incident.discoveryDate)}}</span></div>\n          <mat-icon svgIcon=\"dot\" style=\"width: 10px; height: 10px;\" ></mat-icon>\n          <div class=\"item\" style=\"width: 45%;\"> Fire Size <span>{{incident.incidentSizeEstimatedHa ? incident.incidentSizeEstimatedHa.toLocaleString() : 0}} Hectares </span></div>\n        </div>\n\n        <div class=\"header-content\">\n          <div class=\"item\">\n            <button mat-button class=\"mobile-button\">\n              <span class=\"material-icons-outlined\">notifications_active</span>\n              Notification On\n            </button>\n          </div>\n          <div class=\"item\">\n            <button mat-button class=\"mobile-button\" (click)=\"openContactUsWindow()\">\n              Contact Us\n            </button>\n          </div>\n      </div>\n    </div>\n  </div>\n  <div id=\"map\" class=\"map-container\" *ngIf=\"!hideOnMobileView()\">\n  </div>\n</div>\n\n<sticky-widget *ngIf=\"!hideOnMobileView()\"></sticky-widget>","import { Component } from '@angular/core';\nimport { IncidentInfoPanel } from '../incident-info-panel/incident-info-panel.component';\n\n@Component({\n  selector: 'incident-info-panel-mobile',\n  templateUrl: './incident-info-panel-mobile.component.html',\n  styleUrls: ['./incident-info-panel-mobile.component.scss']\n})\nexport class IncidentInfoPanelMobileComponent extends IncidentInfoPanel {\n\n  getTooltipText() {\n    return `What is a Hectare?\n\n    A hectare is a unit of area equal to 10,000 square meters or around 2.5 acres of land.\n    `;\n  }\n\n  navigateToMap(){\n    //to do, need to wait for the mobile map screen ticket\n  }\n\n  navigateToEvac(evac){\n    //to do. need to wait for the screen design\n  }\n\n  navigateToAreaRestriction(area){\n    //to do. need to wait for the screen design\n  }\n\n  scrollToSection(event,sectionId) {\n    const section = document.getElementById(sectionId);\n    section.scrollIntoView({ behavior: 'smooth' });\n  }\n\n  callFireCentre(phoneNumber:string) {\n    const parsedPhoneNumber = parseInt(phoneNumber.replace(/-/g, \"\"));\n    window.open(`tel:${parsedPhoneNumber}`, '_system');\n  }\n\n  emailFireCentre(recipientEmail:string) {\n    const mailtoUrl = `mailto:${recipientEmail}`;\n    window.location.href = mailtoUrl;\n  }\n  \n}\n","\n<div class=\"panel\">\n    <div class=\"warning-card\" *ngFor=\"let evac of evacOrders\" (click)=\"navigateToEvac(evac)\">\n        <span class=\"container\">\n            <span class=\"material-icons\">error</span>\n            <span>Evacuation Order: {{evac.eventName}} issued by {{evac.issuingAgency}}</span>\n        </span>\n    </div>\n\n  <div class=\"content-panel\">\n      <div>\n        <div class=\"content-panel-stack\">\n            <h1>Summary</h1>\n            <h4 >Stage of Control</h4>\n            <div class=\"sub-title\">\n                <div *ngIf=\"incident.fireOfNoteInd\"><img class=\"icon\" height=\"22\" width=\"22\" src=\"/assets/images/local_fire_department.png\" alt=\"local_fire_department\">Wildfire Of Note</div>\n                <div style=\"display: flex; align-items: baseline;\">\n                    <span *ngIf=\"!incident.fireOfNoteInd\" class=\"circle-icon {{incident.stageOfControlCode}}\"></span>\n                    <span>{{getStageOfControlLabel(incident.stageOfControlCode)}}</span>\n                </div>\n            </div>\n            <div class=\"current-resources\" *ngIf=\"incident.wildfireCrewResourcesInd || incident.wildfireAviationResourceInd || incident.incidentMgmtCrewRsrcInd || incident.heavyEquipmentResourcesInd || incident.structureProtectionRsrcInd\">\n                <h4>Current Resources</h4>\n                <div *ngIf=\"incident.wildfireCrewResourcesInd\"> \n                    <img class=\"image-size\" src=\"../../../assets/images/svg-icons/wildfire-crews-mobile.svg\" alt=\"Wildfire Crews\" />\n                    Wildfire Crews\n                </div>\n                <div *ngIf=\"incident.wildfireAviationResourceInd\"> \n                    <img class=\"image-size\" src=\"../../../assets/images/svg-icons/aviation-mobile.svg\" alt=\"Aviation\" />\n                    Aviation Crews\n                </div>\n                <div *ngIf=\"incident.incidentMgmtCrewRsrcInd\"> \n                    <img class=\"image-size\" src=\"../../../assets/images/svg-icons/incident-management-teams-mobile.svg\" alt=\"Incident Management Team\" />\n                    Incident Management Teams\n                </div>\n                <div *ngIf=\"incident.heavyEquipmentResourcesInd\"> \n                    <img class=\"image-size\" src=\"../../../assets/images/svg-icons/heavy_equipment-mobile.svg\" alt=\"Heavy Equipment\" />\n                    Heavy Equipment\n                </div>\n                <div *ngIf=\"incident.structureProtectionRsrcInd\">\n                    <img class=\"image-size\" src=\"../../../assets/images/svg-icons/structure-protection-mobile.svg\" alt=\"Structure Protection Units\" />\n                    Structure Protection Units\n                </div>\n                <div style=\"padding-top:16px\" (click)=\"scrollToSection(event, 'currentResourcesSection')\">\n                    <span> Jump to current resources section</span>\n                    <mat-icon>chevron_right</mat-icon>\n                </div>\n            </div>\n            <div class=\"divider\"></div>\n        </div>\n\n        <div class=\"content-panel-stack\">\n            <h1>Stage of Control</h1>\n            <div *ngIf=\"incident.fireOfNoteInd\">\n                <div class=\"sub-title\">\n                    <h4><img class=\"icon\" height=\"22\" width=\"22\" src=\"/assets/images/local_fire_department.png\" alt=\"local_fire_department\">Wildfire Of Note</h4>\n                </div>\n                <div class=\"sub-content\">\n                    This wildfire is highly visible or poses a potential threat to public safety.\n                </div>\n            </div>\n            <div>\n                <div class=\"sub-title\">\n                    <span *ngIf=\"!incident.fireOfNoteInd\" class=\"circle-icon {{incident.stageOfControlCode}}\"></span>\n                    <h4>{{getStageOfControlLabel(incident.stageOfControlCode)}}</h4>                    \n                </div>\n                <div class=\"sub-content\" style=\"display: flex; align-items: baseline;\">\n                    {{getStageOfControlDescription(incident.stageOfControlCode)}}\n                </div>\n            </div>\n            <div class=\"divider\"></div>\n        </div>\n\n        <div class=\"content-panel-stack\">\n            <h1>Fire Size</h1>\n            <div class=\"sub-content\" style=\"color:#3e4347; display: flex; align-items: baseline;\">{{incident.incidentSizeEstimatedHa ? incident.incidentSizeEstimatedHa.toLocaleString() : 0}} Hectares \n                <button mat-icon-button [matTooltip]=\"getTooltipText()\" #tooltip=\"matTooltip\" (click)=\"tooltip.toggle()\"><mat-icon>help_outline</mat-icon></button>\n            </div>\n            <div class=\"sub-content\">\n                {{incident.incidentSizeDetail || 'Fire size is estimated and based on the most current information available.'}}\n            </div>\n            <div class=\"divider\"></div>\n        </div>\n\n        <div class=\"content-panel-stack\">\n            <h1>Location</h1>\n            <div *ngIf=\"incident.incidentLocation\">\n                <div class=\"sub-title\" style=\"color:#2c2c2c\"> Description</div>\n                <div class=\"sub-content\">\n                    {{incident.incidentLocation}}\n                </div>\n            </div>\n            <div *ngIf=\"incident.traditionalTerritoryDetail\">\n                <div class=\"sub-title\" style=\"color:#2c2c2c\"> Traditional Territory</div>\n                <div class=\"sub-content\">\n                    {{incident.traditionalTerritoryDetail}}\n                </div>\n            </div>\n\n            <button mat-button class=\"mobile-button\" (click)=\"navigateToMap()\">\n                <span class=\"material-icons-outlined\">map</span>\n                View on Wildfire Map\n            </button>\n            <div class=\"divider\"></div>\n        </div>\n\n        <div class=\"content-panel-stack\">\n            <h1>Suspected Cause</h1>\n\n            <div class=\"sub-title\"><h4>{{getCauseLabel(incident.generalIncidentCauseCatId)}}</h4></div>\n            <div class=\"sub-content\">\n                {{getCauseDescription(incident.generalIncidentCauseCatId)}}\n            </div>\n            <div class=\"divider\"></div>\n        </div>\n\n        <div class=\"content-panel-stack\">\n            <h1>Evacuation Notices</h1>\n            <div class=\"sub-title\" *ngIf=\"!evacOrders || evacOrders.length <= 0 ; else displayEvacOrders\">There are no current evacuation orders or alerts associated with this incident.</div>\n            <ng-template #displayEvacOrders>\n                <div class=\"evac-order-card\" *ngFor=\"let evac of evacOrders\">\n                    <span class=\"container\">\n                        <span class=\"material-icons\">error</span>\n                        <span>Evacuation Order: {{evac.eventName}} issued by {{evac.issuingAgency}}</span>\n                    </span>\n                </div>\n                <div class=\"sub-title\"><h4>What is an Evacuation Order?</h4></div>\n                <div class=\"sub-content\">\n                    You are at risk. Leave the area immediately. You are encouraged to register all family members at the nearest reception centre so emergency responders know you are safe.\n                </div>\n            </ng-template>\n            <div class=\"divider\"></div>\n        </div>\n\n        <div class=\"content-panel-stack\">\n            <h1>Area Restrictions</h1>\n            <div class=\"sub-title\" *ngIf=\"!areaRestrictions || areaRestrictions.length <= 0 ; else displayAreaRestrictions\">There are no current area restrictions near this incident.</div>\n            <ng-template #displayAreaRestrictions>\n                <div class=\"evac-order-card\" *ngFor=\"let area of areaRestrictions\" (click)=\"navigateToAreaRestriction(area)\">\n                    <span class=\"container\">\n                        <span class=\"material-icons\">error</span>\n                        <span> Area Restriction: {{area.eventName}}</span>\n                    </span>\n                </div>\n                <div class=\"sub-title\"><h4>What is an Area Restrictions?</h4></div>\n                <div class=\"sub-content\">\n                    Area restrictions or forest use restrictions refer to area closures and activity restrictions necessary to limit the risk of a fire, address a public safety concern or avoid interference with fire control.                </div>\n            </ng-template>\n            <div class=\"divider\"></div>\n        </div>\n\n        <div class=\"content-panel-stack\" *ngIf=\"incident.responseTypeCode\">\n            <h1>Response Type</h1>\n            <div>\n                <div class=\"sub-title\"><h4>{{incident.responseTypeCode.toLowerCase()}}</h4></div>\n                <div class=\"sub-content\">{{getResponseTypeDescription(incident.responseTypeCode)}}</div>\n            </div>\n            <div class=\"divider\"></div>\n        </div>\n\n        <div class=\"content-panel-stack\" id=\"currentResourcesSection\" *ngIf=\"(incident.wildfireCrewResourcesInd || incident.wildfireAviationResourceInd || incident.incidentMgmtCrewRsrcInd || incident.heavyEquipmentResourcesInd || incident.structureProtectionRsrcInd)\">\n            <h1>Current Resources</h1>\n            <div class=\"sub-content\">The BC Wildfire Service relies on thousands of people each year to respond to wildfires. This includes firefighters, air crew, equipment operators, and support staff. For more information on resources assigned to this incident, please contact the information officer listed in the “Contact Us” section.</div>\n            <div class=\"resource-section\" *ngIf=\"incident.wildfireCrewResourcesInd\">\n                <a href=\"https://www2.gov.bc.ca/gov/content/safety/wildfire-status/wildfire-response/wildfire-personnel-and-response-tools/wildfire-crews\" target=\"_blank\" rel=\"noopener\">\n                    <div class=\"resource-section-content\">\n                        <span>\n                            <img class=\"image-size\" src=\"../../../assets/images/svg-icons/wildfire-crews-mobile.svg\" alt=\"Wildfire Crews\" />\n                            <h4>Wildfire Crews</h4>\n                        </span>\n                        <div class=\"sub-content\">\n                        <div>{{incident.wildfireCrewResourcesDetail}}</div>\n                        </div>\n                    </div>\n                </a>\n            </div>\n            <div class=\"resource-section\" *ngIf=\"incident.wildfireAviationResourceInd\">\n                <a href=\"https://www2.gov.bc.ca/gov/content/safety/wildfire-status/wildfire-response/wildfire-personnel-and-response-tools/wildfire-aviation\" target=\"_blank\" rel=\"noopener\">\n                    <div class=\"resource-section-content\">\n                        <span>\n                            <img class=\"image-size\" src=\"../../../assets/images/svg-icons/aviation-mobile.svg\" alt=\"Wildfire Crews\" />\n                            <h4>Wildfire Aviation</h4>\n                        </span>\n                        <div class=\"sub-content\">\n                        <div>{{incident.wildfireAviationResourceDetail}}</div>\n                        </div>\n                    </div>\n                </a>\n            </div>\n            <div class=\"resource-section\" *ngIf=\"incident.incidentMgmtCrewRsrcInd\">\n                <a href=\"https://www2.gov.bc.ca/gov/content/safety/wildfire-status/wildfire-response/wildfire-personnel-and-response-tools/incident-management\" target=\"_blank\" rel=\"noopener\">\n                    <div class=\"resource-section-content\">\n                        <span>\n                            <img class=\"image-size\" src=\"../../../assets/images/svg-icons/incident-management-teams-mobile.svg\" alt=\"Wildfire Crews\" />\n                            <h4>Incident Management Team</h4>\n                        </span>\n                        <div class=\"sub-content\">\n                        <div>{{incident.incidentMgmtCrewRsrcDetail}}</div>\n                        </div>\n                    </div>\n                </a>\n            </div>\n            <div class=\"resource-section\" *ngIf=\"incident.heavyEquipmentResourcesInd\">\n                <a href=\"https://www2.gov.bc.ca/gov/content/safety/wildfire-status/wildfire-response/wildfire-personnel-and-response-tools/heavy-equipment\" target=\"_blank\" rel=\"noopener\">\n\n                    <div class=\"resource-section-content\">\n                        <span>\n                            <img class=\"image-size\" src=\"../../../assets/images/svg-icons/heavy_equipment-mobile.svg\" alt=\"Wildfire Crews\" />\n                            <h4>Heavy Equipment</h4>\n                        </span>\n                        <div class=\"sub-content\">\n                        <div>{{incident.heavyEquipmentResourcesDetail}}</div>\n                        </div>\n                    </div>\n                </a>\n            </div>\n\n            <div class=\"resource-section\" *ngIf=\"incident.structureProtectionRsrcInd\">\n                <a href=\"https://www2.gov.bc.ca/gov/content/safety/wildfire-status/wildfire-response/wildfire-personnel-and-response-tools/structure-protection\" target=\"_blank\" rel=\"noopener\">\n                    <div class=\"resource-section-content\">\n                        <span>\n                            <img class=\"image-size\" src=\"../../../assets/images/svg-icons/structure-protection-mobile.svg\" alt=\"Wildfire Crews\" />\n                            <h4>Structure Protection</h4>\n                        </span>\n                        <div class=\"sub-content\">\n                        <div>{{incident.structureProtectionRsrcDetail}}</div>\n                        </div>\n                    </div>\n                </a>\n            </div>\n            <div class=\"divider\"></div>\n        </div>\n\n        <div class=\"content-panel-stack\">\n            <h1>Contact Us</h1>\n            <div>\n                <div style=\"display: flex;\"><span class=\"material-icons-outlined\" style=\"padding-right: 10px;\">badge</span><span>{{convertToFireCentreDescription(incident.contactOrgUnitIdentifer || incident.fireCentreName || incident.fireCentreCode || incident.fireCentre)}}</span></div>\n                <div style=\"display: flex;\"><span class=\"material-icons-outlined\" style=\"padding-right: 10px;\">email</span><span>{{incident.contactEmailAddress}}</span></div>\n                <div style=\"display: flex;\"><span class=\"material-icons\" style=\"padding-right: 10px;\">call</span><span>{{incident.contactPhoneNumber}}</span></div>\n            </div>\n            <div style=\"display: flex; justify-content: space-between; padding-top: 24px;\">\n                <button mat-button class=\"mobile-button\" (click)=\"callFireCentre(incident.contactPhoneNumber)\">\n                    <span class=\"material-icons\">call</span>\n                    Call Us\n                </button>\n                <button mat-button class=\"mobile-button\" (click)=\"emailFireCentre(incident.contactEmailAddress)\">\n                    <span class=\"material-icons-outlined\">email</span>\n                    Email Us\n                </button>\n            </div>\n            <div class=\"divider\"></div>\n        </div>\n\n    </div>\n  </div>\n","import { Component, ChangeDetectionStrategy, Input, AfterViewInit, ChangeDetectorRef } from \"@angular/core\";\nimport { AreaRestrictionsOption, EvacOrderOption } from \"../../../conversion/models\";\nimport { toCanvas } from 'qrcode'\nimport { convertToFireCentreDescription, findFireCentreByName, convertToYoutubeId, isMobileView } from '../../../utils'\nimport { PublishedIncidentService } from \"../../../services/published-incident-service\";\nimport { AppConfigService } from \"@wf1/core-ui\";\nimport { MatLegacySnackBar as MatSnackBar } from \"@angular/material/legacy-snack-bar\";\nimport { ActivatedRoute, ParamMap } from \"@angular/router\";\nimport { Observable } from \"rxjs\";\nimport { HttpClient } from \"@angular/common/http\";\n\n@Component({\n  selector: 'incident-info-panel',\n  templateUrl: './incident-info-panel.component.html',\n  styleUrls: ['./incident-info-panel.component.scss'],\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class IncidentInfoPanel implements AfterViewInit {\n  @Input() public incident: any\n  @Input() public evacOrders: EvacOrderOption[] = []\n  @Input() public areaRestrictions : AreaRestrictionsOption[] = []\n\n  showWarning: boolean;\n\n  public convertToFireCentreDescription = convertToFireCentreDescription\n  public findFireCentreByName = findFireCentreByName\n  public convertToYoutubeId = convertToYoutubeId\n  public isMobileView = isMobileView\n\n  public constructor(private publishedIncidentService: PublishedIncidentService, private snackbarService: MatSnackBar, private appConfigService: AppConfigService,\n                     private cdr: ChangeDetectorRef,\n                     private router: ActivatedRoute,\n                     private http: HttpClient) {}\n  public primaryMedia = null\n\n  handleImageFallback (href: string) {\n    const imgComponent = document.getElementById('primary-image-container')\n    if (imgComponent) {\n      (imgComponent as any).src = href\n    }\n  }\n\n  ngAfterViewInit(): void {\n    if (!this.incident.contactEmailAddress || !this. incident.contactPhoneNumber) {\n      this.getFireCentreContacts().subscribe(data => {\n        const fc = findFireCentreByName(convertToFireCentreDescription(this.incident.fireCentreName || this.incident.fireCentre || this.incident.fireCentreCode))\n        if (!this.incident.contactEmailAddress) this.incident.contactEmailAddress = data[+fc.code].url\n        if (!this.incident.contactPhoneNumber) this.incident.contactPhoneNumber = data[+fc.code].phone\n        this.cdr.detectChanges()\n      });\n    }\n\n    const canvas = document.getElementById('qr-code')\n    if (canvas) {\n      toCanvas(canvas, window.location.href, function (error) {\n        if (error) console.error(error)\n      })\n    }\n\n    this.router.queryParams.subscribe((params: ParamMap) => {\n      this.showWarning = params['preview']\n    });\n\n    this.fetchPrimaryImage()\n  }\n\n  public getStageOfControlLabel (code: string) {\n    if (code.toUpperCase().trim() === 'OUT') return 'Out'\n    else if (code.toUpperCase().trim() === 'OUT_CNTRL') return 'Out of Control'\n    else if (code.toUpperCase().trim() === 'HOLDING') return 'Being Held'\n    else if (code.toUpperCase().trim() === 'UNDR_CNTRL') return 'Under Control'\n    else return 'Unknown'\n  }\n\n  public getStageOfControlDescription (code: string) {\n    if (code.toUpperCase().trim() === 'OUT') return 'A wildfire that is extinguished. Suppression efforts are complete.'\n    else if (code.toUpperCase().trim() === 'OUT_CNTRL') return 'A wildfire that is continuing to spread and is not responding to suppression efforts.'\n    else if (code.toUpperCase().trim() === 'HOLDING') return 'A wildfire that is not likely to spread beyond predetermined boundaries under current conditions.'\n    else if (code.toUpperCase().trim() === 'UNDR_CNTRL') return 'A wildfire that will not spread any further due to suppression efforts.'\n    else return 'Unknown stage of control'\n  }\n\n  public getCauseLabel (code: number) {\n    if (code === 1) return 'Human'\n    else if (code === 2) return 'Lightning / Natural'\n    else if (code === 3) return 'Under Investigation'\n    else return 'Unknown'\n  }\n\n  public getCauseDescription (code: number) {\n    if (code === 1) return 'A wildfire started by humans or human activity.'\n    else if (code === 2) return 'When lightning strikes an object it can release enough heat to ignite a tree or other fuels.'\n    else if (code === 3) return 'A wildfire of undetermined cause, including a wildfire that is currently under investigation, as well as one where the investigation has been completed.'\n    else return 'A wildfire of undetermined cause, including a wildfire that is currently under investigation, as well as one where the investigation has been completed.'\n  }\n\n  public getResponseTypeDescription (code: string) {\n    if (code === 'MONITOR') return 'When a fire is being monitored, this means BC Wildfire Service is observing and analyzing the fire but it\\'s not immediately suppressed. It may be allowed to burn to achieve ecological or resource management objectives and is used on remote fires that do not threaten values.'\n    else if (code === 'MODIFIED') return 'During a modified response, a wildfire is managed using a combination of techniques with the goal to minimize costs and damage while maximizing ecological benefits from the fire. This response method is used when there is no immediate threat to values.'\n    else if (code === 'FULL') return 'The BC Wildfire Service uses a full response when there is threat to public safety and/or property and other values, such as infrastructure or timber. Immediate action is taken. During a full response, a wildfire is suppressed and controlled until it is deemed \"out\".'\n  }\n\n  public printPage() {\n    const printContents = document.getElementsByClassName('page-container')[0].innerHTML\n\n    const appRoot = document.body.removeChild(document.getElementById(\"app-root\"));\n\n    document.body.innerHTML = printContents\n\n    const canvas = document.getElementById('qr-code')\n    toCanvas(canvas, window.location.href, function (error) {\n      if (error) console.error(error)\n      window.print()\n      document.body.innerHTML = \"\";\n      document.body.appendChild(appRoot);\n    })\n  }\n\n  public copyToClipboard () {\n    navigator.clipboard.writeText(window.location.href);\n    this.snackbarService.open('URL Copied to Clipboard!', 'OK', { duration: 100000, panelClass: 'snackbar-success-v2' });\n  }\n\n  public fetchPrimaryImage () {\n    // By default, check if we have a Video as a primary image first\n    // if we dont have a video, check images\n    // otherwise, dont show the media box.\n    // fetch videos\n    this.publishedIncidentService.fetchExternalUri(this.incident.incidentNumberLabel).toPromise().then(results => {\n      let setMedia = false\n      if (results && results.collection && results.collection.length > 0) {\n        for (const uri of results.collection) {\n          if (uri.primaryInd && !uri.externalUriCategoryTag.includes('EVAC-ORDER')) {\n            this.primaryMedia = {\n              title: uri.externalUriDisplayLabel,\n              uploadedDate: new Date(uri.createdTimestamp).toLocaleDateString(),\n              fileName: '',\n              type: 'video',\n              href: uri.externalUri\n            }\n            setMedia = true;\n            this.cdr.detectChanges()\n            break\n          }\n        }\n      }\n\n      if (!setMedia) {\n        // fetch image attachments\n        this.publishedIncidentService.fetchPublishedIncidentAttachments(this.incident.incidentNumberLabel? this.incident.incidentNumberLabel : this.incident.incidentNumberLabelFull).toPromise().then(results => {\n          // Loop through the attachments, for each one, create a ref, and set href to the bytes\n          if (results && results.collection && results.collection.length > 0) {\n            for (const attachment of results.collection) {\n              // do a mime type check here\n              if (attachment.primary) {\n                this.primaryMedia = {\n                  title: attachment.attachmentTitle,\n                  uploadedDate: new Date(attachment.createdTimestamp).toLocaleDateString(),\n                  fileName: attachment.attachmentFileName,\n                  type: 'image',\n                  href: `${this.appConfigService.getConfig().rest['wfnews']}/publicPublishedIncidentAttachment/${this.incident.incidentNumberLabel}/attachments/${attachment.attachmentGuid}/bytes`,\n                  thumbnail: `${this.appConfigService.getConfig().rest['wfnews']}/publicPublishedIncidentAttachment/${this.incident.incidentNumberLabel}/attachments/${attachment.attachmentGuid}/bytes?thumbnail=true`\n                }\n                break;\n              }\n            }\n          }\n          this.cdr.detectChanges()\n        })\n      }\n    }).catch(err => {\n      console.error(err)\n    })\n  }\n\n  public getFireCentreContacts (): Observable<any> {\n    return this.http.get('../../../../assets/data/fire-center-contacts-agol.json')\n  }\n}\n","<incident-overview-panel [incident]=\"incident\" class=\"show-print\"></incident-overview-panel>\n<div class=\"panel forPrint\" id=\"toprint\">\n  <div class=\"header-row no-print\">\n    <h4>Wildfire Information</h4>\n    <div class=\"header-button-container no-print\">\n      <a style=\"text-decoration: none;\" href=\"https://www.facebook.com/BCForestFireInfo/\" target=\"_blank\" rel=\"noopener\"><svg class=\"icon facebook\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 448 512\"><path fill=\"#3b5998\" d=\"M400 32H48A48 48 0 0 0 0 80v352a48 48 0 0 0 48 48h137.25V327.69h-63V256h63v-54.64c0-62.15 37-96.48 93.67-96.48 27.14 0 55.52 4.84 55.52 4.84v61h-31.27c-30.81 0-40.42 19.12-40.42 38.73V256h68.78l-11 71.69h-57.78V480H400a48 48 0 0 0 48-48V80a48 48 0 0 0-48-48z\"/></svg></a>\n      <a style=\"text-decoration: none;\" href=\"https://mobile.twitter.com/bcgovfireinfo\" target=\"_blank\" rel=\"noopener\"><svg class=\"icon twitter\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 512 512\"><path fill=\"#1da1f2\" d=\"M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z\"/></svg></a>\n      <mat-icon (click)=\"copyToClipboard()\" class=\"button no-print\">share</mat-icon>\n      <button class=\"print-button no-print\" (click)=\"printPage()\"><span>Print</span>\n        <mat-icon class=\"button\">print</mat-icon>\n      </button>\n    </div>\n  </div>\n  <div class=\"content-panel\">\n    <div class=\"content-panel-stack\">\n      <div>\n        <h1>Stage of Control</h1>\n        <div *ngIf=\"incident.fireOfNoteInd\" class=\"content-panel-subtitle\">Wildfire Of Note</div>\n        <div *ngIf=\"incident.fireOfNoteInd\" class=\"content-panel-body\">This wildfire is highly visible or poses a potential threat to public safety.</div>\n        <div class=\"content-panel-subtitle\">{{getStageOfControlLabel(incident.stageOfControlCode)}}</div>\n        <div class=\"content-panel-body\">{{getStageOfControlDescription(incident.stageOfControlCode)}}</div>\n        <div id=\"spacer\" style=\"padding: 12px;\"></div>\n        <h1>Suspected Cause</h1>\n        <div class=\"content-panel-subtitle\">{{getCauseLabel(incident.generalIncidentCauseCatId)}}</div>\n        <div class=\"content-panel-body\">\n          <div [innerHTML]=\"incident.incidentCauseDetail || getCauseDescription(incident.generalIncidentCauseCatId)\"></div>\n        </div>\n        <div *ngIf=\"incident.responseTypeCode\">\n          <h1>Response Type</h1>\n          <div class=\"content-panel-subtitle\" style=\"text-transform: capitalize;\">{{incident.responseTypeCode.toLowerCase()}}</div>\n          <div class=\"content-panel-body\">\n            <div [innerHTML]=\"getResponseTypeDescription(incident.responseTypeCode)\"></div>\n          </div>\n        </div>\n      </div>\n      <div>\n        <!-- Image/video section: fetch from aws cache -->\n        <div *ngIf=\"primaryMedia !== null\">\n          <div *ngIf=\"showWarning; else primaryImage\" class=\"preview-warning\">Warning: Primary Video/Image selection cannot be previewd</div>\n          <ng-template #primaryImage>\n            <div style=\"text-align: center;\">\n              <img id=\"primary-image-container\" *ngIf=\"primaryMedia.type === 'image'\" style=\"max-width: 100%; height: auto; max-height: 500px; border-radius: 16px;\" [alt]=\"primaryMedia.title\" [src]=\"primaryMedia.thumbnail\" width=\"500\" height=\"500\" (error)=\"handleImageFallback(primaryMedia.href)\" />\n              <youtube-player class=\"no-print\" *ngIf=\"primaryMedia.type === 'video'\"\n                videoId={{convertToYoutubeId(primaryMedia.href)}}\n                suggestedQuality=\"highres\"\n                [startSeconds]=\"1\"\n                [endSeconds]=\"20\"\n                [height]=\"250\"\n                [width]=\"400\">\n              </youtube-player>\n            </div>\n          </ng-template>\n        </div>\n        <!-- contact section-->\n        <h1>Incident Contact Information</h1>\n        <div style=\"display: flex;\"><mat-icon style=\"padding-right: 10px;\">contact_mail</mat-icon><span>{{convertToFireCentreDescription(incident.contactOrgUnitIdentifer || incident.fireCentreName || incident.fireCentreCode || incident.fireCentre)}}</span></div>\n        <div style=\"display: flex;\"><mat-icon style=\"padding-right: 10px;\">mail</mat-icon><span>{{incident.contactEmailAddress}}</span></div>\n        <div style=\"display: flex;\"><mat-icon style=\"padding-right: 10px;\">phone_in_talk</mat-icon><span>{{incident.contactPhoneNumber}}</span></div>\n      </div>\n    </div>\n    <div class=\"spacer-bottom\"></div>\n  </div>\n  <div class=\"content-panel\">\n    <div class=\"spacer-top\"></div>\n    <div class=\"content-panel-stack\">\n      <div>\n        <h1>Evacuation Orders and Alerts\n          <div *ngIf=\"showWarning\" class=\"preview-warning\">Warning: Manually entered Evacuation Orders and Alerts cannot be previewed</div>\n        </h1>\n        <div class=\"content-panel-subtitle\">Evacuation Information</div>\n        <div *ngFor=\"let evac of evacOrders\">\n          <a *ngIf=\"evac.uri\" [href]=\"evac.uri ? evac.uri && evac.uri !== '' : ''\" target=\"_blank\" rel=\"noopener\" class=\"content-panel-link\">{{evac.eventName}} {{ evac.orderAlertStatus }} ({{evac.issuingAgency}})</a>\n          <div *ngIf=\"!evac.uri\" class=\"content-panel-link\">{{evac.eventName}} {{ evac.orderAlertStatus }} ({{evac.issuingAgency}})</div>\n        </div>\n        <div *ngIf=\"!evacOrders || evacOrders.length <= 0\">There are no current evacuation orders or alerts associated with this incident.</div>\n        <div style=\"padding: 10px;\"></div>\n        <div class=\"content-panel-subtitle\">What is an Evacuation Order?</div>\n        <div class=\"content-panel-body\">You are at risk. Leave the area immediately. You are encouraged to register all family members at the nearest reception centre so emergency responders know you are safe.</div>\n        <div class=\"learn-more-button-container\">\n          <a class=\"learn-more-button no-print\" href=\"https://www2.gov.bc.ca/gov/content/safety/emergency-management/preparedbc/evacuation-recovery/evacuee-guidance#stages\" target=\"_blank\" rel=\"noopener\">Learn More</a>\n          <p class=\"show-print\">Learn More: <a href=\"https://www2.gov.bc.ca/gov/content/safety/emergency-management/preparedbc/evacuation-recovery/evacuee-guidance#stages\">https://www2.gov.bc.ca/gov/content/safety/emergency-management/preparedbc/evacuation-recovery/evacuee-guidance#stages</a></p>\n        </div>\n      </div>\n      <div>\n        <h1>Area Restrictions\n          <div *ngIf=\"showWarning\" class=\"preview-warning\" style=\"text-align: left !important;\">Warning: Manually entered Area Restrictions cannot be previewed</div>\n        </h1>\n        <div class=\"content-panel-subtitle\">Area Restriction Information</div>\n        <div *ngFor=\"let area of areaRestrictions\">\n          <a [href]=\"area.bulletinUrl\" target=\"_blank\" rel=\"noopener\" class=\"content-panel-link no-print\">{{area.name}}</a>\n          <p class=\"show-print\">{{area.name}} Link: <a [href]=\"area.bulletinUrl\" target=\"_blank\" rel=\"noopener\" class=\"content-panel-link show-print\">{{area.bulletinUrl}}</a></p>\n        </div>\n        <div *ngIf=\"!areaRestrictions || areaRestrictions.length <= 0\">There are no current area restrictions near this incident.</div>\n        <div style=\"padding: 10px;\"></div>\n        <div class=\"content-panel-subtitle\">What is an Area Restriction?</div>\n        <div class=\"content-panel-body\">Area restrictions or forest use restrictions refer to area closures or restrictions and activity restrictions necessary or desirable to limit the risk of a fire, to address a public safety concern or to avoid interference with fire control.</div>\n        <div class=\"learn-more-button-container\">\n          <a class=\"learn-more-button no-print\" href=\"https://www2.gov.bc.ca/gov/content/safety/wildfire-status/fire-bans-and-restrictions/forest-use-restrictions\" target=\"_blank\" rel=\"noopener\">Learn More</a>\n          <p class=\"show-print\">Learn More: <a href=\"https://www2.gov.bc.ca/gov/content/safety/wildfire-status/fire-bans-and-restrictions/forest-use-restrictions\">https://www2.gov.bc.ca/gov/content/safety/wildfire-status/fire-bans-and-restrictions/forest-use-restrictions</a></p>\n        </div>\n      </div>\n    </div>\n    <div class=\"spacer-bottom\"></div>\n  </div>\n  <div class=\"content-panel\">\n    <div class=\"spacer-top\"></div>\n    <h1>Response</h1>\n    <div class=\"content-panel-body\">\n      {{incident.resourceDetail || 'For further information on response, please contact the information officer assigned to this incident.'}}\n    </div>\n    <div class=\"learn-more-button-container\">\n      <a class=\"learn-more-button no-print\" href=\"https://www2.gov.bc.ca/gov/content/safety/wildfire-status/wildfire-response\" target=\"_blank\" rel=\"noopener\">Learn More</a>\n      <p class=\"show-print\">Learn More: <a href=\"https://www2.gov.bc.ca/gov/content/safety/wildfire-status/wildfire-response\">https://www2.gov.bc.ca/gov/content/safety/wildfire-status/wildfire-response</a></p>\n    </div>\n    <div class=\"spacer-bottom\"></div>\n  </div>\n  <div class=\"content-panel\" style=\"border-bottom: none;\">\n    <div class=\"spacer-top\"></div>\n    <h1>Current Resources</h1>\n    <div *ngIf=\"incident.resourceDetail\" class=\"content-panel-body\">\n      <div>The BC Wildfire Service relies on thousands of people each year to respond to wildfires. This includes firefighters, air crew, equipment operators, and support staff. For more information on resources assigned to this incident, please contact the information officer listed for this incident.</div>\n    </div>\n    <div *ngIf=\"(incident.wildfireCrewResourcesInd || incident.wildfireAviationResourceInd || incident.incidentMgmtCrewRsrcInd || incident.heavyEquipmentResourcesInd || incident.structureProtectionRsrcInd); else defaultResourcesContent\">\n      <!-- Wildfire Resources -->\n      <div *ngIf=\"incident.wildfireCrewResourcesInd && incident.wildfireCrewResourcesDetail\" class=\"resource-panel\">\n        <div *ngIf=\"!isMobileView()\" class=\"resource-panel-icon\">\n          <img class=\"image-size\" src=\"../../../assets/images/svg-icons/wildfire-crews.svg\" alt=\"Wildfire Crews\" />\n        </div>\n        <div class=\"resource-panel-content\">\n          <img *ngIf=\"isMobileView()\" class=\"image-size\" src=\"../../../assets/images/svg-icons/wildfire-crews.svg\" alt=\"Wildfire Crews\" />\n          <h3>Wildfire Crews</h3>\n          <div class=\"content-panel-body\">\n            <div [innerHTML]=\"incident.wildfireCrewResourcesDetail\"></div>\n          </div>\n          <div class=\"learn-more-button-container\">\n            <a class=\"learn-more-button no-print\" href=\"https://www2.gov.bc.ca/gov/content/safety/wildfire-status/wildfire-response/wildfire-personnel-and-response-tools/wildfire-crews\" target=\"_blank\" rel=\"noopener\">Learn More</a>\n            <p class=\"show-print\">Learn More: <a href=\"https://www2.gov.bc.ca/gov/content/safety/wildfire-status/wildfire-response/wildfire-personnel-and-response-tools/wildfire-crews\">https://www2.gov.bc.ca/gov/content/safety/wildfire-status/wildfire-response/wildfire-personnel-and-response-tools/wildfire-crews</a></p>\n          </div>\n        </div>\n      </div>\n      <!-- Wildfire Aviation -->\n      <div *ngIf=\"incident.wildfireAviationResourceInd && incident.wildfireAviationResourceDetail\"  class=\"resource-panel\">\n        <div *ngIf=\"!isMobileView()\" class=\"resource-panel-icon\">\n          <img class=\"image-size\" src=\"../../../assets/images/svg-icons/aviation.svg\" alt=\"Aviation\" />\n        </div>\n        <div class=\"resource-panel-content\">\n          <img *ngIf=\"isMobileView()\" class=\"image-size\" src=\"../../../assets/images/svg-icons/aviation.svg\" alt=\"Aviation\" />\n          <h3>Wildfire Aviation</h3>\n          <div class=\"content-panel-body\">\n            <div [innerHTML]=\"incident.wildfireAviationResourceDetail\"></div>\n          </div>\n          <div class=\"learn-more-button-container\">\n            <a class=\"learn-more-button no-print\" href=\"https://www2.gov.bc.ca/gov/content/safety/wildfire-status/wildfire-response/wildfire-personnel-and-response-tools/wildfire-aviation\" target=\"_blank\" rel=\"noopener\">Learn More</a>\n            <p class=\"show-print\">Learn More: <a href=\"https://www2.gov.bc.ca/gov/content/safety/wildfire-status/wildfire-response/wildfire-personnel-and-response-tools/wildfire-aviation\">https://www2.gov.bc.ca/gov/content/safety/wildfire-status/wildfire-response/wildfire-personnel-and-response-tools/wildfire-aviation</a></p>\n          </div>\n        </div>\n      </div>\n      <!-- Incident Management Teams -->\n      <div *ngIf=\"incident.incidentMgmtCrewRsrcInd && incident.incidentMgmtCrewRsrcDetail\"  class=\"resource-panel\">\n        <div *ngIf=\"!isMobileView()\" class=\"resource-panel-icon\">\n          <img class=\"image-size\" src=\"../../../assets/images/svg-icons/incident-management-teams.svg\" alt=\"Incident Management Team\" />\n        </div>\n        <div class=\"resource-panel-content\">\n          <img *ngIf=\"isMobileView()\" class=\"image-size\" src=\"../../../assets/images/svg-icons/incident-management-teams.svg\" alt=\"Aviation\" />\n          <h3>Incident Management Team</h3>\n          <div class=\"content-panel-body\">\n            <div [innerHTML]=\"incident.incidentMgmtCrewRsrcDetail\"></div>\n          </div>\n          <div class=\"learn-more-button-container\">\n            <a class=\"learn-more-button no-print\" href=\"https://www2.gov.bc.ca/gov/content/safety/wildfire-status/wildfire-response/wildfire-personnel-and-response-tools/incident-management\" target=\"_blank\" rel=\"noopener\">Learn More</a>\n            <p class=\"show-print\">Learn More: <a href=\"https://www2.gov.bc.ca/gov/content/safety/wildfire-status/wildfire-response/wildfire-personnel-and-response-tools/incident-management\">https://www2.gov.bc.ca/gov/content/safety/wildfire-status/wildfire-response/wildfire-personnel-and-response-tools/incident-management</a></p>\n          </div>\n        </div>\n      </div>\n      <!-- Heavy Equipment -->\n      <div *ngIf=\"incident.heavyEquipmentResourcesInd && incident.heavyEquipmentResourcesDetail\"  class=\"resource-panel\">\n        <div *ngIf=\"!isMobileView()\" class=\"resource-panel-icon\">\n          <img class=\"image-size\" src=\"../../../assets/images/svg-icons/heavy_equipment.svg\" alt=\"Heavy Equipment\" />\n        </div>\n        <div class=\"resource-panel-content\">\n          <img *ngIf=\"isMobileView()\" class=\"image-size\" src=\"../../../assets/images/svg-icons/heavy_equipment.svg\" alt=\"Aviation\" />\n          <h3>Heavy Equipment</h3>\n          <div class=\"content-panel-body\">\n            <div [innerHTML]=\"incident.heavyEquipmentResourcesDetail\"></div>\n          </div>\n          <div class=\"learn-more-button-container\">\n            <a class=\"learn-more-button no-print\" href=\"https://www2.gov.bc.ca/gov/content/safety/wildfire-status/wildfire-response/wildfire-personnel-and-response-tools/heavy-equipment\" target=\"_blank\" rel=\"noopener\">Learn More</a>\n            <p class=\"show-print\">Learn More: <a href=\"https://www2.gov.bc.ca/gov/content/safety/wildfire-status/wildfire-response/wildfire-personnel-and-response-tools/heavy-equipment\">https://www2.gov.bc.ca/gov/content/safety/wildfire-status/wildfire-response/wildfire-personnel-and-response-tools/heavy-equipment</a></p>\n          </div>\n        </div>\n      </div>\n      <!-- Structure Protection -->\n      <div *ngIf=\"incident.structureProtectionRsrcInd && incident.structureProtectionRsrcDetail\"  class=\"resource-panel\">\n        <div *ngIf=\"!isMobileView()\" class=\"resource-panel-icon\">\n          <img class=\"image-size\" src=\"../../../assets/images/svg-icons/structure-protection.svg\" alt=\"Heavy Equipment\" />\n        </div>\n        <div class=\"resource-panel-content\">\n          <img *ngIf=\"isMobileView()\" class=\"image-size\" src=\"../../../assets/images/svg-icons/structure-protection.svg\" alt=\"Aviation\" />\n          <h3>Structure Protection</h3>\n          <div class=\"content-panel-body\">\n            <div [innerHTML]=\"incident.structureProtectionRsrcDetail\"></div>\n          </div>\n          <div class=\"learn-more-button-container\">\n            <a class=\"learn-more-button no-print\" href=\"https://www2.gov.bc.ca/gov/content/safety/wildfire-status/wildfire-response/wildfire-personnel-and-response-tools/structure-protection\" target=\"_blank\" rel=\"noopener\">Learn More</a>\n            <p class=\"show-print\">Learn More: <a href=\"https://www2.gov.bc.ca/gov/content/safety/wildfire-status/wildfire-response/wildfire-personnel-and-response-tools/structure-protection\">https://www2.gov.bc.ca/gov/content/safety/wildfire-status/wildfire-response/wildfire-personnel-and-response-tools/structure-protection</a></p>\n          </div>\n        </div>\n      </div>\n    </div>\n    <ng-template #defaultResourcesContent>\n      For more information on resources deployed to this incident, please contact the information officer assigned to this wildfire.\n    </ng-template>\n  </div>\n  <div id=\"qr-code-panel\" class=\"qr-code\" style=\"text-align: center;\">\n    <h5 style=\"padding: 0px; margin: 0px;\">View in your browser</h5>\n    <canvas id=\"qr-code\"></canvas>\n    <p>Scan this QR Code to view this information in your web browser</p>\n  </div>\n</div>\n","import { Component, OnInit } from '@angular/core';\nimport { IncidentMapsPanel } from '../incident-maps-panel/incident-maps-panel.component';\n\n@Component({\n  selector: 'incident-maps-panel-mobile',\n  templateUrl: './incident-maps-panel-mobile.component.html',\n  styleUrls: ['./incident-maps-panel-mobile.component.scss']\n})\nexport class IncidentMapsPanelMobileComponent extends IncidentMapsPanel{\n\n  limit:number = 10;\n\n  convertDate(dateString) {\n    if (dateString) {\n      const date = new Date(dateString);\n      const options: Intl.DateTimeFormatOptions = { month: \"short\", day: \"numeric\", year: \"numeric\" };\n      const formattedDate: string = date.toLocaleDateString(\"en-US\", options);\n      return formattedDate\n    }\n  }\n\n  loadMore() {\n    this.limit += 10;\n  }\n  \n}\n","\n<div class=\"panel\">\n  <div class=\"content-panel\">\n        <div class=\"content-panel-stack\">\n            <h1>Wildfire Maps</h1>\n            <div *ngIf=\"showMapsWarning\" class=\"preview-warning\">Warning: Uploaded Maps cannot be previewed</div>\n            <div class=\"contents\">\n                <div *ngIf=\"maps && maps.length; else showDisclaimer\">\n                    <div class=\"sub-title\">Click to download the PDF</div>\n                    <div *ngFor=\"let map of maps | slice:0:limit\">\n                        <div style=\"display: flex; padding-top: 27px;\">\n                            <div class=\"file-pdf-icon\" (click)=\"downloadMap(map.link, map.name)\"></div>\n                            <div class=\"file-info\">\n                                <div class=\"document-title\">{{map.name}}</div>\n                                <div class=\"document-date\">{{convertDate(map.date)}}</div>\n                            </div>\n                        </div>\n                    </div>\n                    <div class=\"load-more-row\" style=\"display: flex; justify-content: center; padding-top: 32px;\">\n                        <button mat-button class=\"load-more-button\" (click)=\"loadMore()\" [disabled]=\"maps.length <= limit\">\n                            <span style=\"font-size: 16px;\">\n                                Load More\n                            </span>\n                        </button>\n                    </div>\n                </div>\n                <ng-template #showDisclaimer>\n                    <div *ngIf=\"!isPreview\">There are currently no maps associated with this incident.</div>\n                </ng-template>\n            </div>\n        </div>\n    </div>\n</div>\n\n","import { Component, ChangeDetectionStrategy, Input, OnInit, ChangeDetectorRef } from \"@angular/core\";\nimport { MatLegacySnackBar as MatSnackBar } from \"@angular/material/legacy-snack-bar\";\nimport { HttpClient, HttpEventType, HttpRequest, HttpResponse } from \"@angular/common/http\";\nimport { PublishedIncidentService } from \"../../../services/published-incident-service\";\nimport { AppConfigService } from \"@wf1/core-ui\";\nimport { ActivatedRoute, ParamMap } from \"@angular/router\";\n\nexport class DownloadableMap {\n  name :string;\n  link :string;\n  date :string;\n}\n\n@Component({\n  selector: 'incident-maps-panel',\n  templateUrl: './incident-maps-panel.component.html',\n  styleUrls: ['./incident-maps-panel.component.scss'],\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class IncidentMapsPanel implements OnInit {\n  @Input() public incident;\n  @Input() public showMapsWarning;\n\n  maps: DownloadableMap[];\n  isPreview: boolean;\n  \n  constructor(private snackbarService: MatSnackBar,\n              private httpClient: HttpClient,\n              private publishedIncidentService: PublishedIncidentService,\n              private appConfigService: AppConfigService,\n              protected cdr: ChangeDetectorRef,\n              private router: ActivatedRoute) {\n  }\n\n  ngOnInit() {\n    const self = this;\n    this.loadMaps().then(docs => {\n      self.maps = docs.map(doc => {\n        return { name: doc.attachmentTitle,\n          link: `${this.appConfigService.getConfig().rest['wfnews']}/publicPublishedIncidentAttachment/${self.incident.incidentNumberLabel}/attachments/${doc.attachmentGuid}/bytes`,\n          date: new Date(doc.createdTimestamp).toDateString()\n        };\n      });\n      this.cdr.detectChanges();\n    });\n\n    this.router.queryParams.subscribe((params: ParamMap) => {\n      if(params && params['preview']) {\n        this.isPreview = true;\n      }\n    });\n  }\n\n  loadMaps(): Promise<any> {\n    return this.publishedIncidentService.fetchAttachments(this.incident.incidentNumberLabel).toPromise()\n      .then( ( docs ) => {\n        // remove any non-image types\n        const data = []\n        for (const doc of docs.collection) {\n          if (doc.mimeType && ['image/jpg', 'image/jpeg', 'image/png', 'image/gif', 'image/bmp', 'image/tiff'].includes(doc.mimeType.toLowerCase())) {\n            // splice is not longer needed here as we return a new object\n          } else {\n            data.push(doc)\n          }\n        }\n        return data;\n      }).catch(err => {\n        this.snackbarService.open('Failed to load Map Attachments: ' + err, 'OK', { duration: 10000, panelClass: 'snackbar-error' });\n    })\n  }\n\n  downloadMap(mapLink, fileName) {\n    const url = mapLink;\n    let request = this.httpClient.request( new HttpRequest( 'GET', url, {\n        reportProgress: true,\n        responseType: 'blob'\n    }));\n\n    request.subscribe(\n      ( ev ) => {\n          if ( ev.type == HttpEventType.Sent ) {\n            this.snackbarService.open('Generating PDF. Please wait...', 'Close', { duration: 10000, panelClass: 'snackbar-info' });\n          }\n          else if ( ev instanceof HttpResponse ) {\n            this.downloadFile(ev as HttpResponse<Blob>, fileName);\n            this.snackbarService.open('PDF downloaded successfully.', 'Close', { duration: 10000, panelClass: 'snackbar-success-v2' });\n          }\n      },\n      ( err ) => this.snackbarService.open('PDF downloaded failed.', 'Close', { duration: 10000, panelClass: 'snackbar-error' })\n    )\n  }\n\n  downloadFile (data: HttpResponse<Blob>, fileName: string) {\n    if (!fileName.endsWith('.pdf')) {\n      fileName += '.pdf'\n    }\n\n    const downloadedFile = new Blob([data.body], { type: data.body.type });\n    const a = document.createElement('a');\n    a.setAttribute('style', 'display:none;');\n    document.body.appendChild(a);\n    a.download = fileName;\n    a.href = URL.createObjectURL(downloadedFile);\n    a.target = '_blank';\n    a.click();\n    document.body.removeChild(a);\n  }\n}\n","<div class=\"panel\">\n    <div class=\"header-row\">\n      <h4>Wildfire Maps\n        <div *ngIf=\"showMapsWarning\" class=\"preview-warning\">Warning: Uploaded Maps cannot be previewed</div>\n      </h4>\n    </div>\n    <div class=\"content-panel\">\n        <div class=\"content-panel-stack\" *ngIf=\"maps && maps.length; else showDisclaimer\">\n            <div *ngFor=\"let map of maps\">\n                <div style=\"display: flex;\">\n                    <div class=\"file-pdf-icon\" (click)=\"downloadMap(map.link, map.name)\"></div>\n                    <div>\n                        <div class=\"document-title\">{{map.name}}</div>\n                        <div class=\"document-date\">{{map.date}}</div>\n                    </div>\n                </div>\n            </div>\n        </div>\n        <ng-template #showDisclaimer>\n            <div *ngIf=\"!isPreview\">There are currently no maps associated with this incident.</div>\n        </ng-template>\n    </div>\n</div>\n","import { Component } from '@angular/core';\nimport { IncidentOverviewPanel } from '../incident-overview-panel/incident-overview-panel.component';\n\n@Component({\n  selector: 'incident-overview-panel-mobile',\n  templateUrl: './incident-overview-panel-mobile.component.html',\n  styleUrls: ['./incident-overview-panel-mobile.component.scss']\n})\nexport class IncidentOverviewPanelMobileComponent extends IncidentOverviewPanel {\n  \n}\n","\n<div class=\"panel\">\n  <div class=\"content-panel\">\n        <div class=\"content-panel-stack\">\n            <h1>Wildfire Details</h1>\n            <div class=\"contents\">\n                <ckeditor id=\"ck-doc\" [editor]=\"Editor\" [data]=\"incident.incidentOverview || '<p>For more information on this incident, please contact the information officers assigned.</p>'\" (ready)=\"onReady($event)\"></ckeditor>\n            </div>\n        </div>\n    </div>\n</div>\n","import { Component, ChangeDetectionStrategy, Input } from \"@angular/core\";\nimport { DomSanitizer } from \"@angular/platform-browser\";\nimport * as Editor from '@ckeditor/ckeditor5-build-decoupled-document';\n\n@Component({\n  selector: 'incident-overview-panel',\n  templateUrl: './incident-overview-panel.component.html',\n  styleUrls: ['./incident-overview-panel.component.scss'],\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class IncidentOverviewPanel {\n  @Input() public incident\n\n  public Editor = Editor\n\n  constructor (private sanitizer: DomSanitizer) { }\n\n  formatHtml (html: string) {\n    return html // We don't want to execute script tags:: this.sanitizer.bypassSecurityTrustHtml(html)\n  }\n\n  public printPage() {\n    const printContents = document.getElementsByClassName('page-container')[0].innerHTML\n    const originalContents = document.body.innerHTML\n    document.body.innerHTML = printContents\n    window.print()\n    document.body.innerHTML = originalContents\n  }\n\n  public onReady( editor ) {\n    editor.enableReadOnlyMode('ck-doc')\n  }\n}\n","<div class=\"panel forPrint\" id=\"toprint\">\n  <div class=\"header-row\">\n    <h4>Wildfire Information</h4>\n  </div>\n  <div class=\"content-panel\">\n    <ckeditor id=\"ck-doc\" [editor]=\"Editor\" [data]=\"incident.incidentOverview || '<p>For more information on this incident, please contact the information officers assigned.</p>'\" (ready)=\"onReady($event)\"></ckeditor>\n  </div>\n</div>\n","import { HttpClient } from \"@angular/common/http\"\nimport { ChangeDetectorRef, Component, OnInit } from \"@angular/core\"\nimport { ActivatedRoute, ParamMap } from \"@angular/router\"\nimport { AreaRestrictionsOption, EvacOrderOption } from \"../../conversion/models\"\nimport { AGOLService } from \"../../services/AGOL-service\"\nimport { PublishedIncidentService } from \"../../services/published-incident-service\"\nimport { findFireCentreByName, hideOnMobileView } from \"../../utils\"\n@Component({\n  selector: 'public-incident-page',\n  templateUrl: './public-incident-page.component.html',\n  styleUrls: ['./public-incident-page.component.scss']\n})\nexport class PublicIncidentPage implements OnInit {\n  public isLoading = true\n  public loadingFailed = false\n\n  public incidentNumber: string\n  public fireYear: string\n  public incident: any\n  public evacOrders: EvacOrderOption[] = []\n  public areaRestrictions : AreaRestrictionsOption[] = []\n  public extent: any = null\n\n  showImageWarning: boolean;\n  showMapsWarning: boolean;\n\n  findFireCentreByName = findFireCentreByName\n  hideOnMobileView = hideOnMobileView\n\n\n  constructor(private router: ActivatedRoute,\n              protected cdr: ChangeDetectorRef,\n              private agolService: AGOLService,\n              private publishedIncidentService: PublishedIncidentService,\n              protected http: HttpClient) {\n\n  }\n\n  ngOnInit() {\n    this.router.queryParams.subscribe((params: ParamMap) => {\n      if (params && params['incidentNumber'] && params['fireYear']) {\n        this.incidentNumber = params['incidentNumber']\n        this.fireYear = params['fireYear']\n        // Load the incident from the API\n        this.publishedIncidentService.fetchPublishedIncident(this.incidentNumber, this.fireYear).toPromise().then(async result => {\n          this.incident = result\n          // set geometry\n          this.incident.geometry = {\n            x: result.longitude,\n            y: result.latitude\n          }\n          // format dates, booleans\n          // date formatting options\n          const options: Intl.DateTimeFormatOptions = { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' }\n          // set date strings\n          this.incident.discoveryDate = this.incident.discoveryDate ? new Date(this.incident.discoveryDate).toLocaleTimeString(\"en-US\", options) : 'Pending'\n          this.incident.declaredOutDate = this.incident.declaredOutDate ? new Date(this.incident.declaredOutDate).toLocaleTimeString(\"en-US\", options) : 'Pending'\n          this.incident.lastUpdatedTimestamp = this.incident.lastUpdatedTimestamp ? new Date(this.incident.lastUpdatedTimestamp).toLocaleTimeString(\"en-US\", options) : 'Pending'\n          // check the contact info\n          if (!this.incident.contactOrgUnitIdentifer) {\n            this.http.get('../../../../assets/data/fire-center-contacts-agol.json').subscribe(data => {\n              if (!this.incident.fireCentreCode) {\n                this.incident.fireCentreCode = findFireCentreByName(this.incident.fireCentreName).code\n              }\n\n              this.incident.contactPhoneNumber = data[this.incident.fireCentreCode].phone\n              this.incident.contactEmailAddress = data[this.incident.fireCentreCode].url\n              this.cdr.detectChanges();\n            });\n          }\n          // fetch the fire perimetre\n          await this.getFirePerimetre()\n          // load evac orders and area restrictions nearby\n          await this.getEvacOrders()\n          await this.getExternalUriEvacOrders()\n          await this.getAreaRestrictions()\n          // activate page\n          this.isLoading = false\n          this.cdr.detectChanges()\n        }).catch(err => {\n          console.error(err)\n          this.isLoading = false\n          this.loadingFailed = true\n        })\n      } else {\n        if(params && params['preview']) {\n          this.loadPreview()\n        } else {\n          this.isLoading = false\n          this.loadingFailed = true\n        }\n      }\n    })\n  }\n\n  async loadPreview () {\n    this.incident = JSON.parse(localStorage.getItem(\"preview_incident\"))\n    // fetch the fire perimetre\n    await this.getFirePerimetre()\n    // load evac orders and area restrictions nearby\n    await this.getEvacOrders()\n    await this.getExternalUriEvacOrders()\n    await this.getAreaRestrictions()\n\n    this.publishedIncidentService.fetchPublishedIncidentAttachments(this.incident.incidentNumberLabelFull).toPromise().then(results => {\n      if (results && results.collection && results.collection.length > 0) {\n        this.showImageWarning = true;\n        this.cdr.detectChanges();\n      }\n    });\n\n    this.publishedIncidentService.fetchAttachments(this.incident.incidentNumberLabelFull).toPromise()\n      .then((docs) => {\n        // remove any non-image types\n        const data = []\n        for (const doc of docs.collection) {\n          if (doc.mimeType && ['image/jpg', 'image/jpeg', 'image/png', 'image/gif', 'image/bmp', 'image/tiff'].includes(doc.mimeType.toLowerCase())) {\n            // splice is not longer needed here as we return a new object\n          } else {\n            data.push(doc)\n          }\n        }\n\n        if(data.length > 0) {\n          this.showMapsWarning = true;\n          this.cdr.detectChanges();\n        }\n      })\n\n    // activate page\n    this.isLoading = false\n    this.cdr.detectChanges()\n  }\n\n  async getFirePerimetre () {\n    return this.agolService.getFirePerimetre(this.incidentNumber, { returnCentroid: true, returnGeometry: true, returnExtent: true}).toPromise().then(response => {\n      if (response.extent) {\n        this.extent = response.extent\n      }\n    })\n  }\n\n  async getEvacOrders () {\n    return this.agolService.getEvacOrdersByEventNumber(this.incidentNumber, { returnCentroid: true, returnGeometry: false}).toPromise().then(response => {\n      if (response.features) {\n        for (const element of response.features) {\n          this.evacOrders.push({\n            eventName: element.attributes.EVENT_NAME,\n            eventType: element.attributes.EVENT_TYPE,\n            orderAlertStatus: element.attributes.ORDER_ALERT_STATUS,\n            issuingAgency: element.attributes.ISSUING_AGENCY,\n            preOcCode: element.attributes.PREOC_CODE,\n            emrgOAAsysID: element.attributes.EMRG_OAA_SYSID,\n            uri: null,\n            centroid: element.centroid\n          })\n        }\n      }\n    })\n  }\n\n  async getExternalUriEvacOrders () {\n    return this.publishedIncidentService.fetchExternalUri(this.incident.incidentNumberLabel).toPromise().then(results => {\n      if (results && results.collection && results.collection.length > 0) {\n        for (const uri of results.collection) {\n          if (uri.externalUriCategoryTag.includes('EVAC-ORDER')) {\n            this.evacOrders.push({\n              eventName: uri.externalUriDisplayLabel,\n              eventType: uri.externalUriCategoryTag.split(':')[1],\n              orderAlertStatus: uri.externalUriCategoryTag.split(':')[1],\n              issuingAgency: 'Pending',\n              preOcCode: 'NA',\n              emrgOAAsysID: 0,\n              uri: uri.externalUri,\n              centroid: [0, 0]\n            })\n          }\n        }\n      }\n    }).catch(err => {\n      console.error(err)\n    })\n  }\n\n  async getAreaRestrictions () {\n    return this.agolService.getAreaRestrictions({ x: +this.incident.longitude, y: +this.incident.latitude}).toPromise().then(response => {\n      if (response.features) {\n        for (const element of response.features) {\n          this.areaRestrictions.push({\n            protRsSysID: element.attributes.PROT_RA_SYSID,\n            name: element.attributes.NAME,\n            accessStatusEffectiveDate: element.attributes.ACCESS_STATUS_EFFECTIVE_DATE,\n            fireCentre: element.attributes.FIRE_CENTRE_NAME,\n            fireZone: element.attributes.FIRE_ZONE_NAME,\n            bulletinUrl: element.attributes.BULLETIN_URL\n          })\n        }\n      }\n    })\n  }\n}\n","<div *ngIf=\"!isLoading && !loadingFailed\" class=\"page forPrint\" >\n  <div class=\"page-container\">\n    <div>\n      <incident-header-panel [incident]=\"incident\" [evacOrders]=\"evacOrders\" [extent]=\"extent\"></incident-header-panel>\n    </div>\n    <div>\n      <mat-tab-group mat-stretch-tabs>\n        <mat-tab label=\"Overview\">\n          <incident-info-panel *ngIf=\"!hideOnMobileView()\"[incident]=\"incident\" [evacOrders]=\"evacOrders\" [areaRestrictions]=\"areaRestrictions\"></incident-info-panel>\n          <incident-info-panel-mobile *ngIf=\"hideOnMobileView()\" [incident]=\"incident\" [evacOrders]=\"evacOrders\" [areaRestrictions]=\"areaRestrictions\"></incident-info-panel-mobile>\n        </mat-tab>\n        <mat-tab label=\"Details\">\n          <incident-overview-panel *ngIf=\"!hideOnMobileView()\" [incident]=\"incident\"></incident-overview-panel>\n          <incident-overview-panel-mobile *ngIf=\"hideOnMobileView()\" [incident]=\"incident\" ></incident-overview-panel-mobile>\n\n        </mat-tab>\n        <mat-tab label=\"Gallery\">\n          <ng-template matTabContent>\n            <incident-gallery-panel [incident]=\"incident\" [showImageWarning]=\"showImageWarning\"></incident-gallery-panel>\n          </ng-template>\n        </mat-tab>\n        <mat-tab label=\"Maps\">\n          <incident-maps-panel *ngIf=\"!hideOnMobileView()\" [incident]=\"incident\" [showMapsWarning]=\"showMapsWarning\"></incident-maps-panel>\n          <incident-maps-panel-mobile *ngIf=\"hideOnMobileView()\" [incident]=\"incident\" [showMapsWarning]=\"showMapsWarning\"></incident-maps-panel-mobile>\n\n        </mat-tab>\n      </mat-tab-group>\n    </div>\n  </div>\n</div>\n<div *ngIf=\"!isLoading && loadingFailed\" class=\"page-container\">\n  failed to load...\n</div>\n<div *ngIf=\"isLoading\">\n  <mat-spinner style=\"margin: auto;\" *ngIf=\"!loaded\" [diameter]=\"50\"></mat-spinner>\n</div>\n","import {AfterViewInit, Component} from \"@angular/core\";\nimport { AppConfigService } from \"@wf1/core-ui/public_api\";\nimport {BaseComponent} from \"../base/base.component\";\n\n@Component({\n  selector: 'wfnews-sign-out-page',\n  templateUrl: './sign-out-page.component.html',\n  styleUrls: ['./sign-out-page.component.scss']\n})\nexport class SignOutPageComponent extends BaseComponent implements AfterViewInit {\n  appConfig: AppConfigService\n\n  ngOnInit() {\n\n    this.tokenService.clearLocalStorageToken()\n    const siteminderUrlPrefix = this.appConfigService.getConfig().application['siteminderUrlPrefix'].toString();\n    const baseUrl = this.appConfigService.getConfig().application.baseUrl\n    window.location.href = siteminderUrlPrefix + baseUrl + \"&retnow=1\";\n    \n  }\n\n  ngOnDestroy() {\n    // unused\n  }\n\n}","<div class=\"unauthorized-page\">\n  <div class=\"sign-out\">\n    <h1>WFNEWS Sign Out Page</h1>\n    <h2>Signing you out!</h2>\n  </div>\n</div>\n","import { HttpClient } from '@angular/common/http';\nimport { Component, OnInit } from '@angular/core';\nimport { UntypedFormControl, UntypedFormGroup, Validators } from '@angular/forms';\nimport { MatLegacyDialogRef as MatDialogRef } from '@angular/material/legacy-dialog';\nimport { MatLegacySnackBar as MatSnackBar } from '@angular/material/legacy-snack-bar';\nimport { AppConfigService } from '@wf1/core-ui';\n\n@Component({\n    selector: 'contact-widget-dialog',\n    templateUrl: 'contact-widget-dialog.component.html',\n    styleUrls: ['./contact-widget-dialog.component.scss']\n})\nexport class ContactWidgetDialogComponent implements OnInit {\n\n    public contactForm: UntypedFormGroup;\n    contactInformationConfig: any;\n    public closeColor;\n\n    constructor (\n      private dialogRef: MatDialogRef<ContactWidgetDialogComponent>,\n      private snackbarService: MatSnackBar,\n      private appConfig: AppConfigService,\n      private httpClient: HttpClient\n    ) {}\n\n    ngOnInit() {\n        this.appConfig.loadAppConfig()\n            .then(() => {\n                this.contactInformationConfig = this.appConfig.getConfig().externalAppConfig['contactInformation'];\n            })\n            .catch((e) => {\n                console.warn('Failed initializing app', e);\n            });\n\n        this.contactForm = new UntypedFormGroup({\n            name: new UntypedFormControl('', [Validators.required]),\n            email: new UntypedFormControl('', [Validators.required, Validators.email]),\n            subject: new UntypedFormControl('', [Validators.required]),\n            message: new UntypedFormControl('', [Validators.required, Validators.maxLength(500)])\n        });\n    }\n\n    public error = (controlName: string, errorName: string) =>{\n        return this.contactForm.controls[controlName].hasError(errorName);\n    }\n\n    get mailErrorMessages(): string {\n        let error = \"\";\n        const emailControl: UntypedFormControl = (this.contactForm.get('email') as UntypedFormControl);\n\n        if(emailControl.hasError('email'))\n            error += \"A valid email is required\";\n\n        return error;\n     }\n\n    onSubmit() {\n        this.dialogRef.close();\n        const url = `${this.appConfig.getConfig().rest['wfnews']}/mail`;\n\n        this.httpClient.post(url, {\n          \"@type\": 'MailResource',\n          \"type\": 'http://wfnews.nrs.gov.bc.ca/v1/mail',\n          name: this.contactForm.get('name').value,\n          subject: this.contactForm.get('subject').value,\n          emailAddress: this.contactForm.get('email').value,\n          messageBody: this.contactForm.get('message').value\n        }).toPromise().then(() => {\n          this.snackbarService.open('Thank you! Our Team will contact you as soon as possible.', null, { duration: 10000, panelClass: 'snackbar-success-v2' });\n        }).catch(err => {\n          this.snackbarService.open('Your request could not be processed at this time. Please try again later.', null, { duration: 10000, panelClass: 'snackbar-error' });\n        })\n    }\n}\n","<ng-container [formGroup]=\"contactForm\">\n    <div class=\"dialog-container contact-widget-dialog-container\">\n        <h1 mat-dialog-title>Contact Information <mat-icon [color]=\"closeColor\"\n          (mouseover)=\"closeColor = 'warn'\"\n          (mouseout)=\"closeColor = null\" [mat-dialog-close]=\"false\" style=\"cursor: pointer;\">close</mat-icon></h1>\n        <div class=\"dialog-content\" mat-dialog-content>\n            <div class=\"contact-widget-dialog-content\">\n                <div class=\"panel left-panel\">\n                    <div class=\"\">\n                        Select a wildfire to view contact information associated with a specific incident.\n                    </div>\n                    <div class=\"pt-3\">\n                        Submit general feedback and questions using this form and we will get back to you as soon as\n                        possible.\n                    </div>\n                    <div class=\"form\">\n                        <div class=\"row\">\n                            <div class=\"field\">\n                                <mat-label class=\"label required\">Name<span style=\"color: red\">*</span></mat-label>\n                                <input matInput type=\"text\" formControlName=\"name\" aria-label=\"Name\" />\n                            </div>\n                            <div class=\"field\">\n                                <mat-label class=\"label required\">Email<span style=\"color: red\">*</span></mat-label>\n                                <input  matInput type=\"text\" formControlName=\"email\" aria-label=\"Email\" />\n                                <mat-error style=\"font-size: 15px; padding-top: 7px; \">{{ mailErrorMessages }}</mat-error>\n                            </div>\n                        </div>\n                        <div class=\"row\">\n                            <div class=\"field\">\n                                <mat-label class=\"label\">Subject</mat-label>\n                                <input matInput type=\"text\" formControlName=\"subject\" aria-label=\"Subject\" />\n                            </div>\n                        </div>\n                        <div class=\"row\">\n                            <div class=\"field\">\n                                <mat-label class=\"label\">Message<span style=\"color: red\">*</span></mat-label>\n                                <textarea rows=\"3\" style=\"height:auto;\" matInput formControlName=\"message\" aria-label=\"Message\" maxlength=\"500\"></textarea>\n                            </div>\n                        </div>\n                        <div class=\"row submit-row\">\n                            <button class=\"contact-submit\" (click)=\"onSubmit()\" [disabled]=\"!contactForm.valid\">Submit Message</button>\n                        </div>\n                    </div>\n                </div>\n                <div class=\"panel right-panel\">\n                    <div class=\"contact-info\">\n                        <div class=\"title\">Report a Wildfire</div>\n                        <div class=\"detail\">\n                            <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 448 512\"><path d=\"M400 32H48C21.49 32 0 53.49 0 80v352c0 26.51 21.49 48 48 48h352c26.51 0 48-21.49 48-48V80c0-26.51-21.49-48-48-48zM94 416c-7.033 0-13.057-4.873-14.616-11.627l-14.998-65a15 15 0 0 1 8.707-17.16l69.998-29.999a15 15 0 0 1 17.518 4.289l30.997 37.885c48.944-22.963 88.297-62.858 110.781-110.78l-37.886-30.997a15.001 15.001 0 0 1-4.289-17.518l30-69.998a15 15 0 0 1 17.16-8.707l65 14.998A14.997 14.997 0 0 1 384 126c0 160.292-129.945 290-290 290z\"/></svg><a style=\"color: #1A5A96;text-decoration:none;\" href=\"tel:{{contactInformationConfig['reportAWildfirePhone']}}\">{{contactInformationConfig['reportAWildfirePhone']}}</a>\n                        </div>\n                    </div>\n                    <div class=\"contact-info\">\n                        <div class=\"title\">Wildfire Information Line</div>\n                        <div class=\"detail\">\n                            <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 448 512\"><path d=\"M400 32H48C21.49 32 0 53.49 0 80v352c0 26.51 21.49 48 48 48h352c26.51 0 48-21.49 48-48V80c0-26.51-21.49-48-48-48zM94 416c-7.033 0-13.057-4.873-14.616-11.627l-14.998-65a15 15 0 0 1 8.707-17.16l69.998-29.999a15 15 0 0 1 17.518 4.289l30.997 37.885c48.944-22.963 88.297-62.858 110.781-110.78l-37.886-30.997a15.001 15.001 0 0 1-4.289-17.518l30-69.998a15 15 0 0 1 17.16-8.707l65 14.998A14.997 14.997 0 0 1 384 126c0 160.292-129.945 290-290 290z\"/></svg><a style=\"color: #1A5A96;text-decoration:none;\" href=\"tel:{{contactInformationConfig['wildFireInformationLine']}}\">{{contactInformationConfig['wildFireInformationLine']}}</a>\n                        </div>\n                    </div>\n                    <div class=\"contact-info\">\n                        <div class=\"title\">Burn Registration Line</div>\n                        <div class=\"detail\">\n                            <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 448 512\"><path d=\"M400 32H48C21.49 32 0 53.49 0 80v352c0 26.51 21.49 48 48 48h352c26.51 0 48-21.49 48-48V80c0-26.51-21.49-48-48-48zM94 416c-7.033 0-13.057-4.873-14.616-11.627l-14.998-65a15 15 0 0 1 8.707-17.16l69.998-29.999a15 15 0 0 1 17.518 4.289l30.997 37.885c48.944-22.963 88.297-62.858 110.781-110.78l-37.886-30.997a15.001 15.001 0 0 1-4.289-17.518l30-69.998a15 15 0 0 1 17.16-8.707l65 14.998A14.997 14.997 0 0 1 384 126c0 160.292-129.945 290-290 290z\"/></svg><a style=\"color: #1A5A96;text-decoration:none;\" href=\"tel:{{contactInformationConfig['burnRegistrationLine']}}\">{{contactInformationConfig['burnRegistrationLine']}}</a>\n                        </div>\n                    </div>\n                    <div class=\"contact-info\">\n                        <div class=\"title\">Social Media</div>\n                        <div class=\"detail\">\n                            <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 448 512\"><path d=\"M400 32H48A48 48 0 0 0 0 80v352a48 48 0 0 0 48 48h137.25V327.69h-63V256h63v-54.64c0-62.15 37-96.48 93.67-96.48 27.14 0 55.52 4.84 55.52 4.84v61h-31.27c-30.81 0-40.42 19.12-40.42 38.73V256h68.78l-11 71.69h-57.78V480H400a48 48 0 0 0 48-48V80a48 48 0 0 0-48-48z\"/></svg><a style=\"color: #1A5A96;text-decoration:none;\" target=\"_blank\" rel=noopener href=\"{{contactInformationConfig['socialMedia']['facebook']}}\"> BC Wildfire Service </a>\n                        </div>\n                        <div class=\"detail\">\n                            <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 448 512\"><path d=\"M400 32H48C21.5 32 0 53.5 0 80v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V80c0-26.5-21.5-48-48-48zm-48.9 158.8c.2 2.8.2 5.7.2 8.5 0 86.7-66 186.6-186.6 186.6-37.2 0-71.7-10.8-100.7-29.4 5.3.6 10.4.8 15.8.8 30.7 0 58.9-10.4 81.4-28-28.8-.6-53-19.5-61.3-45.5 10.1 1.5 19.2 1.5 29.6-1.2-30-6.1-52.5-32.5-52.5-64.4v-.8c8.7 4.9 18.9 7.9 29.6 8.3a65.447 65.447 0 0 1-29.2-54.6c0-12.2 3.2-23.4 8.9-33.1 32.3 39.8 80.8 65.8 135.2 68.6-9.3-44.5 24-80.6 64-80.6 18.9 0 35.9 7.9 47.9 20.7 14.8-2.8 29-8.3 41.6-15.8-4.9 15.2-15.2 28-28.8 36.1 13.2-1.4 26-5.1 37.8-10.2-8.9 13.1-20.1 24.7-32.9 34z\"/></svg><a style=\"color: #1A5A96;text-decoration:none;\" target=\"_blank\" rel=noopener href=\"{{contactInformationConfig['socialMedia']['twitter']}}\"> @BCGovFireInfo </a>\n                        </div>\n                    </div>\n                    <div class=\"contact-info\">\n                        <div class=\"title\">More Information</div>\n                        <div class=\"detail\">\n                            <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 448 512\"><path d=\"M448 80v352c0 26.51-21.49 48-48 48H48c-26.51 0-48-21.49-48-48V80c0-26.51 21.49-48 48-48h352c26.51 0 48 21.49 48 48zm-88 16H248.029c-21.313 0-32.08 25.861-16.971 40.971l31.984 31.987L67.515 364.485c-4.686 4.686-4.686 12.284 0 16.971l31.029 31.029c4.687 4.686 12.285 4.686 16.971 0l195.526-195.526 31.988 31.991C358.058 263.977 384 253.425 384 231.979V120c0-13.255-10.745-24-24-24z\"/></svg><a style=\"color: #1A5A96;text-decoration:none;\" rel=noopener target=\"_blank\" href=\"{{contactInformationConfig['moreInformationLink']}}\">Wildfire Contact Channels </a>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</ng-container>\n","import { ChangeDetectorRef, Component, OnDestroy } from '@angular/core';\nimport { MatLegacyDialog as MatDialog } from '@angular/material/legacy-dialog';\nimport { Router } from '@angular/router';\nimport { PublishedIncidentService } from '../../services/published-incident-service';\nimport { WatchlistService } from '../../services/watchlist-service';\nimport { ResourcesRoutes, isMobileView as mobileView } from '../../utils';\nimport { ContactWidgetDialogComponent } from './contact-widget-dialog/contact-widget-dialog.component';\n\n@Component({\n    selector: 'sticky-widget',\n    templateUrl: 'sticky-widget.component.html',\n    styleUrls: ['./sticky-widget.component.scss']\n})\nexport class StickyWidgetComponent implements OnDestroy {\n  public showWatchlist = false\n  public watchlist: any[] = []\n  private closeProgressInterval: any\n  public progressValue = 0\n\n  public isMobileView = mobileView\n\n  constructor(protected dialog: MatDialog, protected cdr: ChangeDetectorRef, private router: Router, private watchlistService: WatchlistService, private publishedIncidentService: PublishedIncidentService) {}\n\n  ngOnDestroy(): void {\n    clearInterval(this.closeProgressInterval)\n  }\n\n  openContactForm() {\n    this.dialog.open(ContactWidgetDialogComponent, {\n      width: '950px',\n    });\n  }\n\n  openIncident (incident: any) {\n    const url = this.router.serializeUrl(\n      this.router.createUrlTree([ResourcesRoutes.PUBLIC_INCIDENT], { queryParams: { fireYear: incident.fireYear, incidentNumber: incident.incidentNumberLabel } })\n    )\n    window.open(url, '_blank')\n  }\n\n  removeFromWatchlist (incident: any) {\n    this.watchlistService.removeFromWatchlist(incident.fireYear, incident.incidentNumberLabel)\n    this.showWatchlist = !this.showWatchlist\n    this.loadWatchlist()\n  }\n\n  stopDelay () {\n    if (this.closeProgressInterval) {\n      clearInterval(this.closeProgressInterval)\n      this.closeProgressInterval = null\n      this.progressValue = 0\n    }\n  }\n\n  delayClose () {\n    this.closeProgressInterval = setInterval(() => {\n      if (this.progressValue > 100) {\n        this.loadWatchlist()\n        this.stopDelay()\n      } else {\n        this.progressValue += 2\n      }\n    }, 100)\n  }\n\n  async loadWatchlist () {\n    this.showWatchlist = !this.showWatchlist\n    if (this.showWatchlist) {\n      this.watchlist = []\n      const watchlistItems = this.watchlistService.getWatchlist()\n      for (const item of watchlistItems) {\n        const fireYear = item.split(':')[0]\n        const incidentNumber = item.split(':')[1]\n        const incident = await this.publishedIncidentService.fetchPublishedIncident(incidentNumber, fireYear).toPromise()\n        if (incident) {\n          const options: Intl.DateTimeFormatOptions = { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' };\n          incident.lastUpdatedTimestamp = new Date(incident.lastUpdatedTimestamp).toLocaleTimeString(\"en-US\", options);\n          this.watchlist.push(incident)\n        }\n      }\n    }\n    this.cdr.detectChanges()\n  }\n}\n","<div class=\"sticky-widget no-print\">\n    <div id=\"watchlist\" *ngIf=\"showWatchlist\" class=\"watchlist-container\" (mouseleave)=\"delayClose()\" (mouseenter)=\"stopDelay()\" (blur)=\"loadWatchlist()\">\n      <mat-progress-bar style=\"margin-left: 0px; width: 100% !important;\" mode=\"determinate\" [value]=\"progressValue\"></mat-progress-bar>\n      <div class=\"watchlist-header\">\n        <div>Watch List</div>\n        <span class=\"subtitle\">Add a fire to your watch list by clicking the <mat-icon style=\"color: #003366\">bookmark_border</mat-icon> icon.</span>\n        <div style=\"margin-left: auto; cursor: pointer;\" (click)=\"loadWatchlist()\"><mat-icon>close</mat-icon></div>\n      </div>\n      <div class=\"watchlist-items\">\n        <div class=\"watchlist-item\" *ngFor=\"let item of watchlist\">\n          <div class=\"item-title\"><span (click)=\"openIncident(item)\">{{item.incidentName}}</span><span #el style=\"cursor: pointer;\" (click)=\"removeFromWatchlist(item)\"><mat-icon style=\"color:#1A5A96\">bookmark</mat-icon></span></div>\n          <div class=\"item-body\">{{item.lastUpdatedTimestamp}}</div>\n        </div>\n        <div *ngIf=\"!watchlist || watchlist.length === 0\" style=\"margin: auto;\">\n          You have no items on your watch list\n        </div>\n      </div>\n    </div>\n    <button *ngIf=\"!showWatchlist && !isMobileView()\" class=\"btn watchlist-btn\" (click)=\"loadWatchlist()\">\n        <mat-icon>bookmark</mat-icon>Watch List\n    </button>\n    <button *ngIf=\"!isMobileView()\" class=\"btn contact-btn\" (click)=\"openContactForm()\">\n        <mat-icon>email</mat-icon>Contact Us\n    </button>\n    <button *ngIf=\"!showWatchlist && isMobileView()\" class=\"btn-fab\" mat-fab (click)=\"loadWatchlist()\">\n      <mat-icon>bookmark</mat-icon>\n    </button>\n    <button *ngIf=\"isMobileView()\" mat-fab class=\"btn-fab-primary\" (click)=\"openContactForm()\">\n        <mat-icon>email</mat-icon>\n    </button>\n</div>\n","<div class=\"smk-popup\">\n  <div class=\"popup-header\">\n    <span>Latest Weather Reading: {{convertName(hourly.hour)}} PST</span>\n  </div>\n  <div class=\"popup-title\">{{stationData.stationName}}</div>\n  <div *ngIf=\"hourly && hourly.temp\" class=\"popup-attributes\">\n    <div class=\"label\">Temperature:</div>\n    <div class=\"attribute\">{{hourly.temp}}°</div>\n  </div>\n  <div *ngIf=\"hourly && hourly.relativeHumidity\" class=\"popup-attributes\">\n    <div class=\"label\">Relative Humidity:</div>\n    <div class=\"attribute\">{{hourly.relativeHumidity}}%</div>\n  </div>\n  <div *ngIf=\"hourly && hourly.windSpeed\" class=\"popup-attributes\">\n    <div class=\"label\">Wind Speed:</div>\n    <div class=\"attribute\">{{hourly.windSpeed}} km/h</div>\n  </div>\n  <div *ngIf=\"hourly && hourly.windDirection\" class=\"popup-attributes\">\n    <div class=\"label\">Wind Direction:</div>\n    <div class=\"attribute\">{{hourly.windDirection}}° {{hourly.windCardinalDir}}</div>\n  </div>\n  <div *ngIf=\"hourly && hourly.precipitation\" class=\"popup-attributes\">\n    <div class=\"label\">Precipitation:</div>\n    <div class=\"attribute\">{{hourly.precipitation}}mm</div>\n  </div>\n  <div *ngIf=\"!hourly || (!hourly.temp && !hourly.relativeHumidity && !hourly.windSpeed && !hourly.windDirection&& !hourly.precipitation)\" class=\"popup-attributes\">\n    No Information Available\n  </div>\n  <div class=\"popup-button-container\">\n    <a class=\"popup-button\" target=\"_blank\" rel=\"noopener\" href=\"https://wfapps.nrs.gov.bc.ca/pub/wfwx-danger-summary-war/dangerSummary\">Learn More</a>\n  </div>\n</div>\n","import { Component, OnDestroy } from '@angular/core';\n\n@Component({\n  selector: 'weather-panel',\n  templateUrl: './weather-panel.component.html',\n  styleUrls: ['./weather-panel.component.scss']\n})\nexport class WeatherPanelComponent implements OnDestroy {\n  public stationData;\n  public hourly;\n  public tempWindData;\n  public precipHumidityData;\n\n  ngOnDestroy(): void {\n    (document.getElementsByClassName('smk-sidepanel').item(0) as HTMLElement).style.removeProperty('width')\n  }\n\n  setWeatherStation (station) {\n    this.stationData = station;\n    this.hourly = station.hourly[0].temperature ? station.hourly[0] : station.hourly[1]\n\n    this.tempWindData = []\n    this.precipHumidityData = [];\n\n    const tempWindDataHolder = []\n    const precipHumidityDataHolder = []\n    const temp = {\n      name: 'Temperature',\n      series: []\n    }\n    const humidity = {\n      name: 'Relative Humidity',\n      series: []\n    }\n    const precip = {\n      name: 'Precipitation',\n      series: []\n    }\n    const wind = {\n      name: 'Windspeed',\n      series: []\n    }\n    tempWindDataHolder.push(...[temp, wind]);\n    precipHumidityDataHolder.push(...[humidity, precip]);\n    for (const hour of station.hourly) {\n      const name = this.convertName(hour.hour)\n      if (hour.temp) {\n        temp.series.push({\n          name: name,\n          value: hour.temp || 0,\n        });\n      }\n      if (hour.relativeHumidity) {\n        humidity.series.push({\n          name: name,\n          value: hour.relativeHumidity || 0,\n        });\n      }\n      if (hour.precipitation) {\n        precip.series.push({\n          name: name,\n          value: hour.precipitation || 0,\n        });\n      }\n      if (hour.windSpeed) {\n        wind.series.push({\n          name: name,\n          value: hour.windSpeed || 0,\n        });\n      }\n    }\n\n    // Workaround to force update\n    this.tempWindData = [...tempWindDataHolder];\n    this.precipHumidityData = [...precipHumidityDataHolder];\n  }\n\n  convertName (name: string) {\n    return name.substring(4, 6) + '-' + name.substring(6, 8) + ' ' + name.substring(8, 10) + ':00';\n  }\n}\n","import { ChangeDetectionStrategy, Component } from \"@angular/core\";\nimport { WfAdminPanelComponent } from \"./wf-admin-panel.component\";\n\n@Component({\n    selector: 'wf-admin-panel-desktop',\n    templateUrl: './wf-admin-panel.component.desktop.html',\n    styleUrls: [\n      '../common/base-collection/collection.component.scss',\n      './wf-admin-panel.component.desktop.scss'],\n    changeDetection: ChangeDetectionStrategy.OnPush\n  })\n\nexport class WfAdminPanelComponentDesktop extends WfAdminPanelComponent {\n    columnsToDisplay = [\"fireNumber\", \"fireName\", \"fireCentre\", \"wildFireOfNote\", \"lastUpdated\"];\n}\n","<div>\n    <p class=\"dashboard-title\">Dashboard: {{currentYearString}}</p>\n    <p class =\"active-incidents\" ><strong> {{collection? collection.totalRowCount : null}} ACTIVE</strong> Fire Incidents</p>\n    <p class=\"datetime\"> {{currentDateTimeString}}</p>\n</div>\n\n<div class=\"table-search-header flex-y-fixed\">\n    <div class=\"search-and-filters\">\n        <div class=\"field search-input\">\n            <mat-label class=\"label\">Search</mat-label>\n            <input class=\"search-input\" aria-label=\"Search\" [(ngModel)]=\"searchText\" (ngModelChange)=\"searchTextUpdated()\">\n            <button mat-button matSuffix mat-icon-button class=\"input-clear-button\" *ngIf=\"searchText\"\n                    aria-label=\"Clear\" (click)=\"searchText=undefined;searchTextUpdated(); $event.stopPropagation()\"\n                    matTooltip=\"Clear\">\n                <mat-icon>close</mat-icon>\n            </button>\n        </div>\n\n        <div class=\"field\">\n            <mat-label class=\"label\">Fire Centre</mat-label>\n            <select appWFSingleSelect appWFPlaceholder=\"Select...\"\n                    aria-label=\"Type\"\n                    [options]=\"fireCentreOptions\"\n                    [selected]=\"selectedFireCentreCode\"\n                    (updated)=\"selectFilterUpdated('selectedFireCentreCode', $event)\"\n                    [(ngModel)]=\"selectedFireCentreCode\">\n                <option value=\"\">\n                    <span class=\"placeholder\">Select...</span>\n                </option>\n                <option *ngFor = \"let item of fireCentreOptions\" value=\"{{item.code}}\">\n                    <span>{{item.description}}</span>\n                </option>\n            </select>\n        </div>\n        <div class=\"fire-type-radio-button-group\">\n            <mat-label>Fire Type</mat-label>\n            <mat-radio-group class=\"radio-group\">\n                <mat-radio-button class=\"radio-button\" (change)=\"fireTypeChange($event)\" value=\"note\" [checked]=\"fireOfNotePublishedInd\">\n                    Wildfires Of Note\n                </mat-radio-button>\n                <mat-radio-button class=\"radio-button\" (change)=\"fireTypeChange($event)\" value=\"all\">\n                    All Fire Incidents\n                </mat-radio-button>\n            </mat-radio-group>\n        </div>\n\n        <div class=\"field\">\n            <button mat-raised-button color=\"primary\" (click)=\"clearSearchAndFilters()\" style=\"width: 100px;\"><mat-icon svgIcon=\"filter-cancel\"></mat-icon>Clear</button>\n        </div>\n    </div>\n\n</div>\n\n\n<div class=\"table-wrapper flex-y-grow\" *ngIf=\"collectionData; else loading\">\n    <table style = \"width: -webkit-fill-available\" mat-table matSort [dataSource]=\"collectionData | paginate:config\"\n            [matSortActive]=\"this.searchState.sortParam\"\n            [matSortDirection]=\"this.searchState.sortDirection.toLowerCase()\"\n            (matSortChange)=\"sortData($event)\"\n            aria-label=\"Incident Table\">\n        <ng-container matColumnDef = \"fireNumber\">\n            <th mat-header-cell *matHeaderCellDef mat-sort-header> Fire Number</th>\n            <td mat-cell style=\"cursor: pointer;\" *matCellDef=\"let item\" (click)=\"selectIncident(item)\"><span #el >{{item.incidentLabel}}</span></td>\n        </ng-container>\n\n        <ng-container matColumnDef = \"fireName\">\n            <th mat-header-cell *matHeaderCellDef mat-sort-header> Fire Name</th>\n            <td mat-cell style=\"cursor: pointer;\" *matCellDef=\"let item\" (click)=\"selectIncident(item)\"><span #el >{{item.incidentName}}</span></td>\n        </ng-container>\n\n        <ng-container matColumnDef = \"fireCentre\">\n            <th mat-header-cell *matHeaderCellDef mat-sort-header> Fire Centre</th>\n            <td mat-cell style=\"cursor: pointer;\" *matCellDef=\"let item\" (click)=\"selectIncident(item)\"><span #el >{{item.fireCentreOrgUnitName}}</span></td>\n        </ng-container>\n\n        <ng-container matColumnDef = \"wildFireOfNote\">\n            <th mat-header-cell *matHeaderCellDef mat-sort-header> Wildfire of Note</th>\n            <td mat-cell style=\"cursor: pointer;\" *matCellDef=\"let item\" (click)=\"selectIncident(item)\"><span #el >{{item.fireOfNotePublishedInd ? 'Yes' : 'No'}}</span></td>\n        </ng-container>\n\n        <ng-container matColumnDef = \"lastUpdated\">\n            <th mat-header-cell *matHeaderCellDef mat-sort-header style = \"text-align: center;\"> Last Updated</th>\n            <td mat-cell style=\"cursor: pointer;\" *matCellDef=\"let item\" [matTooltip]=\"convertToDate(item.lastUpdatedTimestamp)\" (click)=\"selectIncident(item)\"><span #el >{{convertToDate(item.lastUpdatedTimestamp)}}</span></td>\n        </ng-container>\n\n        <tr mat-header-row *matHeaderRowDef=\"columnsToDisplay;sticky:true\"></tr>\n        <tr mat-row *matRowDef=\"let item; columns: columnsToDisplay\"></tr>\n    </table>\n</div>\n\n<ng-template #loading><mat-spinner [diameter]=\"40\"></mat-spinner></ng-template>\n\n\n<div class=\"bottom-summary flex-y-fixed\">\n    <div class=\"showing-summary\">{{summaryString}}</div>\n    <pagination-controls style = \"text-align:center\" [id]=\"config.id\"\n                         [maxSize]=\"5\"\n                         [responsive]=\"false\"\n                         [directionLinks]=\"true\"\n                         [previousLabel]=\"paginatorLabels.previousLabel\"\n                         [nextLabel]=\"paginatorLabels.nextLabel\"\n                         [autoHide]=\"false\"\n                         (pageChange)=\"onPageChange($event)\"></pagination-controls>\n    <div class=\"show-entries-info\">\n                    <span>\n                        Show\n                    </span>\n        <select appWFSingleSelect appWFPlaceholder=\"Select...\"\n                class=\"select-showEntriesSelection\"\n                aria-label=\"Show entries\"\n                [position]=\"'top'\"\n                [selected]=\"showEntriesSelection\"\n                [options]=\"showEntriesOptions\"\n                (updated)=\"selectShowEntriesUpdated('showEntriesSelection', $event)\"\n                [(ngModel)]=\"showEntriesSelection\">\n            <option *ngFor=\"let option of showEntriesOptions\" value=\"{{option.value}}\">\n                <span>{{option.label}}</span>\n            </option>\n        </select>\n        <span>entries</span>\n    </div>\n</div>\n","import {DomSanitizer} from \"@angular/platform-browser\";\nimport { BaseComponentModel } from \"../base/base.component.model\";\n\nexport class WfAdminPanelComponentModel extends BaseComponentModel {\n\n    constructor(protected sanitizer: DomSanitizer) {\n        super(sanitizer);\n\n    }\n\n    public clone(): WfAdminPanelComponentModel {\n        let clonedModel: WfAdminPanelComponentModel = new WfAdminPanelComponentModel(this.sanitizer);\n        return clonedModel;\n    }\n}\n","import { AfterViewInit, Directive, OnChanges, SimpleChanges } from '@angular/core';\nimport * as moment from 'moment';\nimport { searchIncidents } from '../../store/incidents/incidents.action';\nimport { initIncidentsPaging, SEARCH_INCIDENTS_COMPONENT_ID } from '../../store/incidents/incidents.stats';\nimport { FireCentres, ResourcesRoutes } from '../../utils';\nimport { CollectionComponent } from '../common/base-collection/collection.component';\nimport { WfAdminPanelComponentModel } from './wf-admin-panel.component.model';\n\n@Directive()\nexport class WfAdminPanelComponent extends CollectionComponent implements OnChanges, AfterViewInit {\n\n  public currentYearString;\n  public currentDateTimeString;\n\n  displayLabel = \"Simple Incidents Search\"\n  selectedFireCentreCode = \"\";\n  fireOfNotePublishedInd = true;\n  fireCentreOptions = FireCentres;\n\n  initModels() {\n    this.model = new WfAdminPanelComponentModel(this.sanitizer);\n    this.viewModel = new WfAdminPanelComponentModel(this.sanitizer);\n  }\n\n  loadPage() {\n    this.componentId = SEARCH_INCIDENTS_COMPONENT_ID;\n    this.getCurrentYearString()\n    this.updateView();\n    this.initSortingAndPaging(initIncidentsPaging);\n    this.config = this.getPagingConfig();\n    this.baseRoute = this.router.url;\n    this.doSearch();\n  }\n\n  doSearch() {\n    this.getCurrentYearString()\n    this.store.dispatch(searchIncidents(this.componentId, {\n      pageNumber: this.config.currentPage,\n      pageRowCount: this.config.itemsPerPage,\n      sortColumn: this.currentSort,\n      sortDirection: this.currentSortDirection,\n      query: this.searchText\n    },\n      this.selectedFireCentreCode, this.fireOfNotePublishedInd, this.displayLabel));\n  }\n\n  onChangeFilters() {\n    super.onChangeFilters();\n    this.doSearch();\n  }\n\n  clearSearchAndFilters() {\n    this.searchText = null;\n    this.selectedFireCentreCode = null;\n    this.fireOfNotePublishedInd = true;\n    super.onChangeFilters();\n    this.doSearch();\n  }\n\n\n  getViewModel(): WfAdminPanelComponentModel {\n    return <WfAdminPanelComponentModel>this.viewModel;\n  }\n\n\n  ngAfterViewInit() {\n    super.ngAfterViewInit();\n  }\n\n  ngOnchanges(changes: SimpleChanges) {\n    super.ngOnChanges(changes)\n  }\n\n  getCurrentYearString() {\n    let currentYear = new Date().getFullYear()\n    if (new Date().getMonth() < 3) {\n      currentYear -= 1\n    }\n    this.currentYearString = currentYear.toString() + \"/\" + (currentYear + 1).toString();\n    const todaysDate: Date = new Date();\n    const options: Intl.DateTimeFormatOptions = {\n      day: \"numeric\", month: \"long\", year: \"numeric\",\n      hour: \"numeric\", minute: \"2-digit\"\n    };\n    const weekdays = [\"Sunday\", \"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\"];\n    const todayString = weekdays[todaysDate.getDay()];\n    const liveDateTime: string = (todayString + \" \" + todaysDate.toLocaleDateString(\"en-US\", options)).replace(\" at \", \" - \");\n    this.currentDateTimeString = liveDateTime\n  }\n\n  convertToDate(value: string) {\n    if (value) {\n      return moment(value).format('YYYY-MM-DD hh:mm:ss')\n    }\n  }\n\n  selectIncident(incident: any) {\n    setTimeout(() => {\n      this.router.navigate([ResourcesRoutes.ADMIN_INCIDENT], { queryParams: { wildFireYear: incident.wildfireYear, incidentNumberSequence: incident.incidentNumberSequence } });\n    }, 100);\n  }\n\n  fireTypeChange(event: any) {\n    this.fireOfNotePublishedInd = event.value === 'note'\n    this.doSearch()\n  }\n}\n","import { ChangeDetectorRef, Component, ComponentFactoryResolver, ComponentRef, EventEmitter, Injector, Input, NgZone, OnChanges, OnDestroy, Output, SimpleChanges, Type, ViewChild, ViewContainerRef } from '@angular/core';\nimport { PointIdService } from '../../services/point-id.service';\nimport { WFMapService } from '../../services/wf-map.service';\nimport { IncidentIdentifyPanelComponent } from '../incident-identify-panel/incident-identify-panel.component';\nimport { WeatherPanelComponent } from '../weather-panel/weather-panel.component';\n\nlet mapIndexAuto = 0;\nlet initPromise = Promise.resolve();\n\n@Component({\n  selector: 'wf-map-container',\n  templateUrl: './wf-map-container.component.html',\n  styleUrls: ['./wf-map-container.component.scss']\n})\nexport class WFMapContainerComponent implements OnDestroy, OnChanges {\n  @ViewChild('identifyContainer', { read: ViewContainerRef }) identifyContainer: ViewContainerRef;\n  @Input() mapIndex = 0;\n  @Input() mapConfig: Array<any>;\n\n  @Output() mapInitialized = new EventEmitter<any>();\n  @Output() toggleAccordion = new EventEmitter<any>();\n\n  @ViewChild('mapContainer') mapContainer;\n\n  private initPromise: Promise<any>; // = Promise.resolve()\n  private mapIndexAuto;\n  private lastClickedLocation;\n  private zone: NgZone;\n  private componentRef: ComponentRef<any>;\n\n  constructor(\n    protected wfMap: WFMapService,\n    protected pointIdService: PointIdService,\n    protected injector: Injector,\n    protected cdr: ChangeDetectorRef,\n    protected componentFactoryResolver: ComponentFactoryResolver\n  ) {\n    mapIndexAuto += 1;\n    this.mapIndexAuto = mapIndexAuto;\n\n    this.zone = this.injector.get(NgZone)\n  }\n\n\n  ngOnDestroy() {\n    this.destroyMap();\n  }\n\n  ngOnChanges(changes: SimpleChanges): void {\n    this.initMap();\n  }\n\n  initMap(): void {\n    const self = this;\n    const mapIndex = this.mapIndex || this.mapIndexAuto;\n    const mapConfig = clone(this.mapConfig);\n\n    if (!mapConfig) {\n      return;\n    }\n\n    this.destroyMap();\n\n    // initialize the map\n    initPromise = initPromise.then(function () {\n      return self.wfMap.createSMK({\n        id: mapIndex,\n        containerSel: self.mapContainer.nativeElement,\n        config: mapConfig,\n        toggleAccordion: self.toggleAccordion\n      }).then(function (smk) {\n        self.mapInitialized.emit(smk);\n\n        const hideListButtonElement = document.getElementsByClassName('smk-tool-BespokeTool--show-list');\n        hideListButtonElement[0][\"style\"][\"display\"] = 'none';\n\n        smk.$viewer.handlePick(3, function (location) {\n          self.lastClickedLocation = location\n          // If the layer is visible only\n          if (smk && smk.$viewer.displayContext.layers.itemId['weather-stations'] && smk.$viewer.displayContext.layers.itemId['weather-stations'][0].isVisible) {\n            self.addNearbyWeatherStation(smk);\n            (document.getElementsByClassName('identify-panel').item(0) as HTMLElement).style.display = 'none';\n          }\n        })\n\n        self.wfMap.setIdentifyDoneCallback(() => {\n          self.addSelectedIncidentPanels(smk);\n        })\n\n        return smk;\n      })\n    }).catch(function (e) {\n      console.warn(e);\n    });\n    this.initPromise = initPromise;\n  }\n\n  destroyMap(): void {\n    if (!this.initPromise) {\n      return;\n    }\n\n    this.initPromise = this.initPromise.then(function (smk) {\n      if (!smk) {\n        return;\n      }\n\n      smk.destroy();\n    });\n  }\n\n  addSelectedIncidentPanels (smk) {\n    const self = this;\n    const identified = smk.$viewer.identified;\n    for (const fid in identified.featureSet) {\n      if (Object.prototype.hasOwnProperty.call(identified.featureSet, fid)) {\n        const feature = identified.featureSet[fid];\n        if (['active-wildfires-fire-of-note', 'active-wildfires-out-of-control', 'active-wildfires-holding', 'active-wildfires-under-control', 'bcws-activefires-publicview-inactive', 'fire-perimeters'].includes(feature.layerId)) {\n          feature.properties.createContent = function (el) {\n            self.zone.run(function () {\n              let compRef = self.makeComponent(IncidentIdentifyPanelComponent);\n              (compRef.instance as any).setIncident(feature.properties, identified.featureSet);\n              const panel = (document.getElementsByClassName('identify-panel').item(0) as HTMLElement);\n              panel.appendChild(compRef.location.nativeElement);\n              self.cdr.detectChanges();\n              // display the panel\n              (document.getElementsByClassName('identify-panel').item(0) as HTMLElement).style.display = 'block';\n              // apply a slight debounce to clear the identify and destroy the panel\n              setTimeout(() => {\n                const identifyPanel = (document.getElementsByClassName('smk-panel').item(0) as HTMLElement)\n                identifyPanel.remove();\n                // use smk.$viewer.identified to reset the form?\n              }, 200);\n            })\n          }\n        }\n      }\n    }\n  }\n\n  addNearbyWeatherStation (smk) {\n    const self = this;\n    this.pointIdService.fetchNearestWeatherStation(this.lastClickedLocation.map.latitude, this.lastClickedLocation.map.longitude)\n    .then(function (station) {\n      smk.$viewer.identified.add('weather-stations', [{\n          type: 'Feature',\n          title: station.stationName,\n          properties: {\n              code: station.stationCode,\n              createContent: function (el) {\n                  self.zone.run(function () {\n                      let compRef = self.makeComponent(WeatherPanelComponent);\n                      (compRef.instance as any).setWeatherStation(station);\n                      el.appendChild(compRef.location.nativeElement)\n                      self.cdr.detectChanges();\n                  })\n              },\n          },\n          geometry: {\n              type: 'Point',\n              coordinates: [self.lastClickedLocation.map.longitude, self.lastClickedLocation.map.latitude]\n          }\n      }])\n    });\n  }\n\n  makeComponent<C>(component: Type<C>): ComponentRef<C> {\n    if (this.componentRef)\n        this.componentRef.destroy()\n\n    this.identifyContainer.clear()\n    this.componentRef = this.identifyContainer.createComponent(this.componentFactoryResolver.resolveComponentFactory(component))\n\n    return this.componentRef\n  }\n}\n\nfunction clone(o) {\n  return JSON.parse(JSON.stringify(o));\n}\n","<div class=\"map-container\">\n    <div #mapContainer class=\"smk-map-frame\"></div>\n</div>\n\n<ng-template #identifyContainer></ng-template>\n<sticky-widget></sticky-widget>","import { ChangeDetectorRef, Component, OnInit } from '@angular/core';\nimport { MatLegacySnackBar as MatSnackBar } from '@angular/material/legacy-snack-bar';\nimport { Router } from '@angular/router';\nimport { AppConfigService } from '@wf1/core-ui';\nimport { interval, Subscription } from 'rxjs';\nimport { PublishedIncidentService } from '../../services/published-incident-service';\nimport { snowPlowHelper } from '../../utils';\n\n@Component({\n  selector: 'wf-stats',\n  templateUrl: './wf-stats.component.html',\n  styleUrls: [ './wf-stats.component.scss' ]\n})\nexport class WFStatsComponent implements OnInit {\n  public fires = []\n  public outFires = []\n  public firesLast24 = 'Unknown'\n  public firesLast7Days = 'Unknown'\n  public thisYearCount = 'Unknown'\n  public loading = true\n  public tabIndex = 0\n  // chart data\n  public activeFiresByCentre = []\n  public fireStats = []\n  public activeFiresByCause = []\n  public activeFiresByStatus = []\n  public allFiresByCentre = []\n  public allFiresByCause = []\n  public allFiresByStatus = []\n  public url;\n  public snowPlowHelper = snowPlowHelper\n\n\n  private updateSubscription: Subscription;\n\n  public FIRE_CENTRE_COLOURS = [\n    { name: 'Coastal', value: '#519a97' },\n    { name: 'Cariboo', value: '#ca8321' },\n    { name: 'Kamloops', value: '#e96b56' },\n    { name: 'Northwest', value: '#a27ea8' },\n    { name: 'Prince George', value: '#799136' },\n    { name: 'Southeast', value: '#369dc9' }\n  ]\n\n  public CAUSE_COLOURS = [\n    { name: 'Lightning', value: '#519a97' },\n    { name: 'Person', value: '#a27ea8' },\n    { name: 'Unknown', value: '#799136' }\n  ]\n\n  public STAGE_OF_CONTROL_COLOURS = [\n    { name: 'Fire of Note', value: '#519a97' },\n    { name: 'Out of Control', value: '#a27ea8' },\n    { name: 'Being Held', value: '#799136' },\n    { name: 'Under Control', value: '#e96b56' },\n    { name: 'Out', value: '#369dc9' }\n  ]\n\n  constructor(protected appConfigService: AppConfigService,\n              protected router: Router,\n              protected snackbarService: MatSnackBar,\n              private publishedIncidentService: PublishedIncidentService,\n              protected cdr: ChangeDetectorRef) {\n  }\n\n  ngOnInit(): void {\n    this.url = this.appConfigService.getConfig().application.baseUrl.toString() + this.router.url.slice(1)\n    this.snowPlowHelper(this.url)\n    this.loadData().then(() => {\n      this.loading = false;\n      // 600000 is 10 minutes in milliseconds\n      this.updateSubscription = interval(600000).subscribe(() => {\n        this.loadData()\n      });\n    }).catch(err => {\n      this.snackbarService.open('Failed to load fire data: ' + JSON.stringify(err.message), 'OK', { duration: 10000, panelClass: 'snackbar-error' });\n    })\n  }\n\n  private async loadData (): Promise<any> {\n    this.activeFiresByCentre = [];\n    this.fireStats = [];\n    this.activeFiresByCause = [];\n    this.activeFiresByStatus = [];\n    this.fires = [];\n    this.outFires = [];\n\n    const activeIncidents = await this.publishedIncidentService.fetchPublishedIncidents().toPromise()\n    const activeFoNIncidents = await this.publishedIncidentService.fetchPublishedIncidents(0, 9999, true, false).toPromise()\n    const outIncidents = await this.publishedIncidentService.fetchOutIncidents(0, 9999).toPromise()\n\n    this.outFires = outIncidents.collection.filter(f => f.stageOfControlCode === 'OUT')\n    this.fires = activeIncidents.collection.filter(f => f.stageOfControlCode !== 'OUT').concat(activeFoNIncidents.collection.filter(f => f.stageOfControlCode !== 'OUT'))\n\n    this.firesLast24 = '' + (this.fires.filter(f => f.discoveryDate > Date.now() - 86400000).length + this.outFires.filter(f => f.discoveryDate > Date.now() - 86400000).length)\n    this.firesLast7Days = '' + (this.fires.filter(f => f.discoveryDate > Date.now() - 604800000).length + this.outFires.filter(f => f.discoveryDate > Date.now() - 604800000).length)\n    this.thisYearCount = '' + (this.fires.length + this.outFires.length)\n\n    let totalFires = 0;\n    let areaBurned = 0;\n    let lightningStart = 0;\n    let humanStart = 0;\n\n    if (this.fires) {\n      const fcData = []\n      const fcAllData = []\n      const fcStats = []\n\n      for (const fire of this.fires) {\n        this.fireValidator(fire)\n      }\n\n      for (const fire of this.outFires) {\n        this.fireValidator(fire)\n      }\n\n      let fireYear = new Date().getFullYear()\n      if (new Date().getMonth() < 3) fireYear -= 1\n\n      for (const centre of FIRE_CENTRES) {\n        const fireCount = this.fires.filter(f => f.fireCentreName && f.fireCentreName.includes(centre.name)).length\n        const outFireCount = this.outFires.filter(f => f.fireCentreName && f.fireCentreName.includes(centre.name)).length\n        fcData.push({\n          name: centre.name,\n          value: fireCount\n        })\n        fcAllData.push({\n          name: centre.name,\n          value: fireCount + outFireCount\n        })\n\n        const activeHectares = this.fires.filter(f => f.fireCentreName && f.fireCentreName.includes(centre.name) && f.fireYear === fireYear ).reduce((n, {incidentSizeMappedHa}) => n + incidentSizeMappedHa, 0);\n        const outHectares = this.outFires.filter(f => f.fireCentreName && f.fireCentreName.includes(centre.name) && f.fireYear === fireYear ).reduce((n, {incidentSizeMappedHa}) => n + incidentSizeMappedHa, 0);\n\n        fcStats.push({\n          name: centre.name,\n          lightningStarts: activeIncidents.collection.filter(f => (f.fireCentreName && f.fireCentreName.includes(centre.name)) && f.discoveryDate > Date.now() - 86400000 && f.generalIncidentCauseCatId === 2).length + outIncidents.collection.filter(f => f.fireCentreCode === centre.id && f.discoveryDate > Date.now() - 86400000 && f.generalIncidentCauseCatId === 2).length,\n          humanStarts: activeIncidents.collection.filter(f => (f.fireCentreName && f.fireCentreName.includes(centre.name)) && f.discoveryDate > Date.now() - 86400000 && f.generalIncidentCauseCatId === 1).length + outIncidents.collection.filter(f => f.fireCentreCode === centre.id && f.discoveryDate > Date.now() - 86400000 && f.generalIncidentCauseCatId === 1).length,\n          totalFires: fireCount + outFireCount,\n          areaBurned: activeHectares + outHectares\n        })\n\n        areaBurned += activeHectares + outHectares\n        totalFires += fireCount + outFireCount\n        lightningStart += fcStats[fcStats.length - 1].lightningStarts\n        humanStart += fcStats[fcStats.length - 1].humanStarts\n      }\n\n      fcStats.push({\n        name: 'All of BC',\n        lightningStarts: lightningStart,\n        humanStarts: humanStart,\n        totalFires: totalFires,\n        areaBurned: areaBurned\n      })\n\n      const causeData = []\n      const causeAllData = []\n      for (const cause of FIRE_CAUSE) {\n        const fireCount = this.fires.filter(f => f.generalIncidentCauseCatId === cause.id).length\n        const outFireCount = this.outFires.filter(f => f.generalIncidentCauseCatId === cause.id).length\n        causeData.push({\n          name: cause.name,\n          value: fireCount\n        })\n        causeAllData.push({\n          name: cause.name,\n          value: fireCount + outFireCount\n        })\n      }\n\n      const statusData = []\n      const statusAllData = []\n      for (const status of FIRE_STATUS) {\n        const fireCount = this.fires.filter(f => f.stageOfControlCode === status.id || (f.fireOfNoteInd && status.id === 'NOTE' )).length\n        if (status.id !== 'OUT') {\n          statusData.push({\n            name: status.name,\n            value: fireCount\n          })\n        }\n        statusAllData.push({\n          name: status.name,\n          value: status.id === 'OUT' ? this.outFires.length :  fireCount\n        })\n      }\n\n      // work around to get change detection on the data\n      this.activeFiresByCentre = [...fcData]\n      this.activeFiresByCause = [...causeData]\n      this.activeFiresByStatus = [...statusData]\n      this.fireStats = [...fcStats]\n\n      this.allFiresByCentre = [...fcAllData]\n      this.allFiresByCause = [...causeAllData]\n      this.allFiresByStatus = [...statusAllData]\n    }\n\n    this.cdr.detectChanges()\n  }\n\n  getFireYear (offset: number = 0) {\n    if (new Date().getMonth() <= 2) {\n      return new Date().getFullYear() - 1 + offset\n    } else {\n      return new Date().getFullYear() + offset\n    }\n  }\n\n  getFiresByCentreTotals (includeOut = false): number {\n    const arr = includeOut ? this.allFiresByCentre : this.activeFiresByCentre\n    return arr && arr.length > 0 ? arr.map(r => r.value).reduce((p, n) => p + n) : 0\n  }\n\n  fireValidator (fire: any) {\n    if (!fire.fireCentreName && (typeof fire.fireCentreCode === 'string' || fire.fireCentreCode instanceof String)) {\n      fire.fireCentreName = fire.fireCentreCode\n      fire.fireCentreCode = null\n    }\n\n    if (fire.fireCentreName && fire.fireCentreName.length < 3 && (typeof -fire.fireCentreName === 'number')) {\n      fire.fireCentreCode = fire.fireCentreName\n      fire.fireCentreName = FIRE_CENTRES.find(fc => fc.id === '' + fire.fireCentreCode).name\n    }\n  }\n}\n\nconst FIRE_CENTRES = [\n  { id: '2', name: 'Cariboo', displayOrder: 6 },\n  { id: '50', name: 'Coastal', displayOrder: 1 },\n  { id: '25', name: 'Kamloops', displayOrder: 4 },\n  { id: '42', name: 'Northwest', displayOrder: 2 },\n  { id: '34', name: 'Prince George', displayOrder: 3 },\n  { id: '8', name: 'Southeast', displayOrder: 5 }\n];\n\nconst FIRE_CAUSE = [\n  { id: 2, name: 'Lightning', displayOrder: 1 },\n  { id: 1, name: 'People', displayOrder: 2 },\n  { id: 3, name: 'Unknown', displayOrder: 3 }\n];\n\nconst FIRE_STATUS = [\n  { id: 'NOTE', name: 'Fire of Note', displayOrder: 1 },\n  { id: 'OUT_CNTRL', name: 'Out of Control', displayOrder: 2 },\n  { id: 'HOLDING', name: 'Being Held', displayOrder: 3 },\n  { id: 'UNDR_CNTRL', name: 'Under Control', displayOrder: 4 },\n  { id: 'OUT', name: 'Out', displayOrder: 5 }\n]\n","<div *ngIf=\"loading\" class=\"container\">\n  <mat-spinner style=\"margin: auto;\" *ngIf=\"!loaded\" [diameter]=\"50\"></mat-spinner>\n</div>\n<div *ngIf=\"!loading\" class=\"container\">\n  <div class=\"header-row\">\n    <div class=\"title\">\n        <h1>Wildfire Statistics</h1>\n    </div>\n  </div>\n  <div class=\"stats-container\">\n    <div class=\"summary-container\">\n      <div class=\"resource-panel\">\n        <div class=\"title\">Wildfire Summary</div>\n        <div class=\"summary-data\">\n          <div class=\"summary-data-row\"><div class=\"summary-data-cell\">{{thisYearCount}}</div><div class=\"summary-data-label\">Fires this Year</div></div>\n          <div class=\"summary-data-row\"><div class=\"summary-data-cell\">{{fires.length}}</div><div class=\"summary-data-label\">Active Fires</div></div>\n          <div class=\"summary-data-row\"><div class=\"summary-data-cell\">{{firesLast24}}</div><div class=\"summary-data-label\">Fires in the Last 24 Hours</div></div>\n        </div>\n      </div>\n      <div class=\"resource-panel\">\n        <div class=\"title\">Wildfire Cause Summary</div>\n        <div class=\"summary-data\">\n          <div *ngFor=\"let data of activeFiresByCause\" class=\"summary-data-row\"><div class=\"summary-data-cell\">{{data.value}}</div><div class=\"summary-data-label\">{{data.name === 'Unknown' ? ('Fires with Unknown Causes') : ('Fires Caused by ' + data.name)}}</div></div>\n        </div>\n      </div>\n      <div class=\"resource-panel\">\n        <div class=\"title\">Stages of Control Summary</div>\n        <div class=\"summary-data\">\n          <div *ngFor=\"let data of activeFiresByStatus\" class=\"summary-data-row\"><div class=\"summary-data-cell\">{{data.value}}</div><div class=\"summary-data-label\">{{data.name}}</div></div>\n        </div>\n      </div>\n    </div>\n    <mat-tab-group [(selectedIndex)]=\"tabIndex\">\n      <mat-tab label=\"Active Fires\">\n      </mat-tab>\n      <mat-tab label=\"Fires This Year\">\n      </mat-tab>\n    </mat-tab-group>\n    <div *ngIf=\"tabIndex === 0\" class=\"fire-date-box\">\n      <h2>Active Fires</h2>\n      <p style=\"color: black;\">\"Active Fires\" refers to fires that are actively burning at this time. It does not include fires that have been called out or extinguished.</p>\n    </div>\n    <div *ngIf=\"tabIndex === 1\" class=\"fire-date-box\">\n      <h2>Fires this Year</h2>\n      <p style=\"color: black;\">\"Fires This Year\" refers to fires that have burned sometime between <span style=\"font-weight: 700\">April 1st {{getFireYear()}} and March 31st {{getFireYear(1)}}</span></p>\n    </div>\n    <div>\n      <h2>Fire Centres</h2>\n      <div class=\"info-panel\">\n        <div class=\"info-text\">\n          <div class=\"fire-centre-table\">\n            <div class=\"row\">\n              <div class=\"cell\"><strong>Fire Centre</strong></div>\n              <div class=\"value-cell\"><strong>Total Fires</strong></div>\n            </div>\n            <div class=\"row\" *ngFor=\"let row of tabIndex === 0 ? activeFiresByCentre : allFiresByCentre\">\n              <div class=\"cell\">{{row.name}}</div>\n              <div class=\"value-cell\">{{row.value}}</div>\n            </div>\n            <div class=\"row\">\n              <div class=\"cell\">All of BC</div>\n              <div class=\"value-cell\">{{getFiresByCentreTotals(tabIndex === 1)}}</div>\n            </div>\n          </div>\n          <a class=\"learn-more-button\" rel=\"noopener\" target=\"_blank\" href=\"https://www2.gov.bc.ca/gov/content/safety/wildfire-status/about-bcws/fire-centres?keyword=fire&keyword=centre\">What is a Fire Centre?</a>\n        </div>\n        <div class=\"info-chart\">\n          <ngx-charts-bar-vertical\n            scheme=\"cool\"\n            [customColors]=\"FIRE_CENTRE_COLOURS\"\n            [gradient]=\"false\"\n            [xAxis]=\"true\"\n            [yAxis]=\"true\"\n            [legend]=\"true\"\n            [showXAxisLabel]=\"true\"\n            [showYAxisLabel]=\"true\"\n            xAxisLabel=\"Fire Centres\"\n            yAxisLabel=\"Number of Fires\"\n            [roundEdges]=\"true\"\n            [animations]=\"true\"\n            [showGridLines]=\"true\"\n            [showDataLabel]=\"true\"\n            [results]=\"tabIndex === 0 ? activeFiresByCentre : allFiresByCentre\">\n          </ngx-charts-bar-vertical>\n        </div>\n      </div>\n    </div>\n    <div>\n      <h2>Wildfire Causes</h2>\n      <div class=\"info-panel\">\n        <div class=\"info-text\">\n          <p class=\"paragraph-format\">What causes wildfires in British Columbia? There are two broad categories of causes:</p>\n          <ul class=\"paragraph-format\">\n            <li>Lightning (and a rare chance of other natural causes) causes approximately 60% of wildfires</li>\n            <li>Human activity causes approximately 40% of wildfires</li>\n          </ul>\n          <h4>Natural (lightning) caused wildfires</h4>\n          <p class=\"paragraph-format\">Most wildfires in B.C. are started by lightning strikes. When lightning strikes an object it can release enough heat to ignite a tree or other fuels.</p>\n          <p class=\"paragraph-format\">Although lightning caused fires cannot be prevented, there are ways of predicting where they might start. The risk from natural fires can also be reduced with fuel management and prescribed burning</p>\n          <h4>Human-caused wildfires</h4>\n          <p class=\"paragraph-format\">The most important thing about human-caused wildfires is that they are preventable. The easiest way to fight a wildfire is to prevent it from starting. Humans start wildfires in several ways, either by accident or intentionally. For example:</p>\n          <ul class=\"paragraph-format\">\n            <li>Vehicle and engine use</li>\n            <li>Industrial activity</li>\n            <li>Fireworks, sky-lanterns, outdoor flame lighting</li>\n            <li>Discarding burning items (cigarettes)</li>\n          </ul>\n          <a class=\"learn-more-button\" rel=\"noopener\" target=\"_blank\" href=\"https://www2.gov.bc.ca/gov/content/safety/wildfire-status/wildfire-response/what-causes-wildfire\">Learn More about Wildfire Causes</a>\n        </div>\n        <div class=\"info-chart\">\n          <ngx-charts-bar-vertical\n            scheme=\"cool\"\n            [customColors]=\"CAUSE_COLOURS\"\n            [gradient]=\"false\"\n            [xAxis]=\"true\"\n            [yAxis]=\"true\"\n            [legend]=\"true\"\n            [showXAxisLabel]=\"true\"\n            [showYAxisLabel]=\"true\"\n            xAxisLabel=\"Fire Cause\"\n            yAxisLabel=\"Number of Fires\"\n            [roundEdges]=\"true\"\n            [animations]=\"true\"\n            [showGridLines]=\"true\"\n            [showDataLabel]=\"true\"\n            [results]=\"tabIndex === 0 ? activeFiresByCause : allFiresByCause\">\n          </ngx-charts-bar-vertical>\n        </div>\n      </div>\n    </div>\n    <div>\n      <h2>Stages of Control</h2>\n      <div class=\"info-panel stages-of-control\">\n        <div class=\"info-chart\">\n          <ngx-charts-bar-vertical\n            scheme=\"cool\"\n            [customColors]=\"STAGE_OF_CONTROL_COLOURS\"\n            [gradient]=\"false\"\n            [xAxis]=\"true\"\n            [yAxis]=\"true\"\n            [legend]=\"true\"\n            [showXAxisLabel]=\"true\"\n            [showYAxisLabel]=\"true\"\n            xAxisLabel=\"Fire Status\"\n            yAxisLabel=\"Number of Fires\"\n            [roundEdges]=\"true\"\n            [animations]=\"true\"\n            [showGridLines]=\"true\"\n            [showDataLabel]=\"true\"\n            [results]=\"tabIndex === 0 ? activeFiresByStatus : allFiresByStatus\">\n          </ngx-charts-bar-vertical>\n        </div>\n        <div class=\"info-text\">\n          <p class=\"paragraph-format\">The BC Wildfire Service uses stages of control to report on wildfire progress.</p>\n          <h4>Wildfire of Note</h4>\n          <p class=\"paragraph-format\">A wildfire that is highly visible or poses a potential threat to public safety.</p>\n          <h4>Out of Control</h4>\n          <p class=\"paragraph-format\">A wildfire that is continuing to spread and is not responding to suppression efforts.</p>\n          <h4>Being Held</h4>\n          <p class=\"paragraph-format\">A wildfire that is not likely to spread beyond predetermined boundaries under current conditions.</p>\n          <h4>Under Control</h4>\n          <p class=\"paragraph-format\">A wildfire that will not spread any further due to suppression efforts.</p>\n          <h4>Out</h4>\n          <p class=\"paragraph-format\">A wildfire that is extinguished. Suppression efforts are complete.</p>\n          <a class=\"learn-more-button\" target=\"_blank\" rel=\"noopener\" href=\"https://www2.gov.bc.ca/gov/content/safety/wildfire-status/wildfire-response/management-strategies\">Discover more Wildfire Management Strategies</a>\n        </div>\n      </div>\n    </div>\n    <div *ngIf=\"tabIndex === 1\">\n      <h2>Current Statistics</h2>\n      <h5 style=\"text-align: center; margin: 0px;\">New fires are those that have been ignited within the last 24 hours</h5>\n      <div class=\"info-text\">\n        <!-- Traditional table view -->\n        <div class=\"fire-centre-table\">\n          <div class=\"row\">\n            <div class=\"cell\"><strong>Fire Centre</strong></div>\n            <div class=\"value-cell\"><strong>New Lightning Caused Fires</strong></div>\n            <div class=\"value-cell\"><strong>New Human Caused Fires</strong></div>\n            <div class=\"value-cell\"><strong>Total Fires</strong></div>\n            <div class=\"value-cell\"><strong>Total Area Burned (Hectares)</strong></div>\n          </div>\n          <div class=\"row\" *ngFor=\"let row of fireStats\">\n            <div class=\"cell\">{{row.name}}</div>\n            <div class=\"value-cell\">{{row.lightningStarts}}</div>\n            <div class=\"value-cell\">{{row.humanStarts}}</div>\n            <div class=\"value-cell\">{{row.totalFires}}</div>\n            <div class=\"value-cell\">{{row.areaBurned ? row.areaBurned.toLocaleString() : 0}}</div>\n          </div>\n        </div>\n        <a class=\"learn-more-button\" rel=\"noopener\" target=\"_blank\" href=\"https://www2.gov.bc.ca/gov/content/safety/wildfire-status/about-bcws/wildfire-statistics\">Learn More about Statistics &amp; Geospatial Data</a>\n      </div>\n    </div>\n  </div>\n</div>\n<sticky-widget></sticky-widget>\n","<div class=\"resource-panel\">\n  <div class=\"title\">{{panelInfo.title}}</div>\n  <div class=\"panel-container\">\n    <div *ngFor=\"let info of panelInfo.resources\" class=\"resource-info\">\n      <div class=\"info-title\"><a [href]=\"info.url\" target=\"_blank\">{{info.title}}</a></div>\n      <a class=\"info-subtitle\" [href]=\"info.url\" target=\"_blank\">{{info.subtitle}}</a>\n      <div class=\"info-description\">{{info.description}}</div>\n    </div>\n  </div>\n</div>\n","import { Component, Input } from '@angular/core';\nimport { ResourcePanel } from '../../../models/ResourcePanel';\n\n@Component({\n  selector: 'resource-panel',\n  templateUrl: './resource-panel.component.html',\n  styleUrls: [ './resource-panel.component.scss' ]\n})\nexport class ResourcePanelComponent {\n  @Input() panelInfo: ResourcePanel\n}\n","import { AfterViewInit, Component, OnInit } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { AppConfigService } from '@wf1/core-ui';\nimport { ResourcePanel } from '../../models/ResourcePanel';\nimport { snowPlowHelper } from '../../utils';\n\n@Component({\n  selector: 'wf-resources',\n  templateUrl: './wf-resources.component.html',\n  styleUrls: [ './wf-resources.component.scss' ]\n})\nexport class WildfirewResourcesComponent implements OnInit, AfterViewInit{\n  public url;\n  public snowPlowHelper = snowPlowHelper\n\n  constructor(protected appConfigService: AppConfigService,\n    protected router: Router) {\n}\nngOnInit(): void {\n  this.url = this.appConfigService.getConfig().application.baseUrl.toString() + this.router.url.slice(1)\n  this.snowPlowHelper(this.url)\n}\n\nngAfterViewInit () {\n  (window as any).snowplow('refreshLinkClickTracking')\n}\n\n  // This can be moved into a config, for easier changes later\n  public resourcePanels: ResourcePanel[] = [\n    {\n      title: 'Emergencies and Alerts',\n      resources: [\n        {\n          title: 'Alerts and Bulletins', subtitle: 'EmergencyInfoBC', url: 'https://www.emergencyinfobc.gov.bc.ca/latest-news/',\n          description: 'EmergencyInfoBC is active during partial and full-scale provincial emergencies. This site shares official response and recovery resources, as well as verified event information from trusted partners.'\n        },\n        {\n          title: 'Road Closures and Conditions', subtitle: 'DriveBC', url: 'https://drivebc.ca/#mapView&ll=54.004539%2C-123.75&z=6&xtg=Map%20Badge',\n          description: 'DriveBC is managed by the B.C. Ministry of Transportation and Infrastructure. Travellers in B.C. can find information on current highway conditions before they leave. '\n        },\n        {\n          title: 'Public Weather Alerts', subtitle: 'Environment Canada', url: 'https://www.weather.gc.ca/warnings/index_e.html',\n          description: 'Get current weather alerts across Canada from Environment Canada. Read about the latest events in weather summaries. '\n        },\n        {\n          title: 'Report a Wildfire', subtitle: 'BC Wildfire Service', url: 'https://www2.gov.bc.ca/gov/content/safety/wildfire-status/contact-channels/report-a-wildfire',\n          description: 'To report a wildfire, please call 1 800 663 5555 or *5555 on a cellphone. Learn more about the details emergency call takers may ask for when you are reporting a wildfire.'\n        },\n        {\n          title: 'Air Quality Health Index', subtitle: 'BC Air Quality', url: 'https://www.env.gov.bc.ca/epd/bcairquality/readings/find-stations-map.html',\n          description: 'View the latest air quality health index data on a map. Data is refreshed every 60 minutes.'\n        },\n        {\n          title: 'Local Government Maps', subtitle: 'gov.bc.ca', url: 'https://www2.gov.bc.ca/gov/content/governments/local-governments/facts-framework/local-government-maps',\n          description: 'Keep up to date on evacuation orders and alerts by following your local government, First Nation and emergency services. Find the boundaries for regional districts, electoral areas and municipalities here.'\n        }\n      ]\n    }, {\n      title: 'Preparedness and Prevention',\n      resources: [\n        {\n          title: 'Wildfire Prevention', subtitle: 'BC Wildfire Service', url: 'https://www2.gov.bc.ca/gov/content/safety/wildfire-status/prevention',\n          description: 'Wildfire prevention can happen at home, in the backcountry, and through larger-scale fire and fuel management planning. Learn what you can do to help.'\n        },\n        {\n          title: 'Get Prepared for a Wildfire', subtitle: 'Prepared BC', url: 'https://www2.gov.bc.ca/gov/content/safety/emergency-management/preparedbc/know-your-hazards/wildfires',\n          description: 'If you live in an area at risk of a wildfire, it’s important that you take time to get ready. Understand what to do before, during and after a wildfire here.'\n        },\n        {\n          title: 'FireSmart BC', subtitle: 'FireSmart BC', url: 'https://firesmartbc.ca/',\n          description: 'FireSmart is a shared responsibility. Find out what you can do to decrease the wildfire risk at home and in your community.'\n        },\n        {\n          title: 'Plan, Prepare, Stay Informed', subtitle: 'BC Wildfire Service', url: 'https://www2.gov.bc.ca/gov/content/safety/wildfire-status/wildfire-response/plan-prepare-stay-informed',\n          description: 'B.C. experiences 1,600 wildfires per year, on average. While most of these fires are put out before they threaten people and communities, it is important to be prepared especially if you live in an area prone to wildfire.'\n        },\n        {\n          title: 'Fire Danger Rating', subtitle: 'BC Wildfire Service', url: 'https://www2.gov.bc.ca/gov/content/safety/wildfire-status/wildfire-situation/fire-danger',\n          description: 'Find out the current fire danger rating (i.e. the risk of a wildfire starting) in your area and other information about fire weather.'\n        },\n        {\n          title: 'Fire Bans and Restrictions', subtitle: 'BC Wildfire Service', url: 'https://www2.gov.bc.ca/gov/content/safety/wildfire-status/fire-bans-and-restrictions',\n          description: 'Decisions on when and where to implement fire bans and restrictions are made by B.C.’s six regional fire centres. Learn about fire bans and restrictions in your area.'\n        }\n      ]\n    }, {\n      title: 'More Information',\n      resources: [\n        {\n          title: 'Wildfire Contact Channels', subtitle: 'BC Wildfire Service', url: 'https://www2.gov.bc.ca/gov/content/safety/wildfire-status/contact-channels',\n          description: 'Find the best way to connect with the BC Wildfire Service here. '\n        },\n        {\n          title: 'Wildfire News Blog', subtitle: 'BC Wildfire Service', url: 'https://blog.gov.bc.ca/bcwildfire/',\n          description: 'Read information bulletins, seasonal outlooks, wildfire status updates and wildfire stories on this site.'\n        },\n        {\n          title: 'Wildfire Response', subtitle: 'BC Wildfire Service', url: 'https://www2.gov.bc.ca/gov/content/safety/wildfire-status/wildfire-response',\n          description: 'The BC Wildfire Service is a leader in wildfire management, known for skilled personnel and a focus on safety. Learn more about wildfires in B.C. and the BC Wildfire Service here. '\n        },\n        {\n          title: 'Wildfire Statistics', subtitle: 'BC Wildfire Service', url: 'https://bcfireinfo.for.gov.bc.ca/hprScripts/WildfireNews/Statistics.asp',\n          description: 'The BC Wildfire Service compiles statistics daily, throughout the fire season. View the latest wildfire statistics in B.C. here.'\n        },\n        {\n          title: 'Fire Centres',\n          subtitle: 'BC Wildfire Service',\n          url: 'https://www2.gov.bc.ca/gov/content/safety/wildfire-status/about-bcws/fire-centres',\n          description: 'The BC Wildfire Service has divided the province into six regional fire centres. These are further divided in fire zones. Read more here.'\n        },\n        {\n          title: 'Wildfire Glossary',\n          subtitle: 'BC Wildfire Service',\n          url: 'https://www2.gov.bc.ca/gov/content/safety/wildfire-status/about-bcws/glossary',\n          description: 'Review terms commonly used to describe wildfire and fuel management here.'\n        }\n      ]\n    }\n  ]\n}\n","<div class=\"container\" style=\"height: auto !important;\">\n  <div class=\"header-row\">\n    <div class=\"title\">\n        <h1>Wildfire Resources</h1>\n    </div>\n    <div class=\"title-button-container\">\n      <div class=\"icon-container\"><svg class=\"icon facebook\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 448 512\"><path fill=\"#3b5998\" d=\"M400 32H48A48 48 0 0 0 0 80v352a48 48 0 0 0 48 48h137.25V327.69h-63V256h63v-54.64c0-62.15 37-96.48 93.67-96.48 27.14 0 55.52 4.84 55.52 4.84v61h-31.27c-30.81 0-40.42 19.12-40.42 38.73V256h68.78l-11 71.69h-57.78V480H400a48 48 0 0 0 48-48V80a48 48 0 0 0-48-48z\"/></svg><a style=\"text-decoration: none; color: #0e5fa9;\" href=\"https://www.facebook.com/BCForestFireInfo/\" target=\"_blank\" rel=\"noopener\">BC Wildfire Service</a></div>\n      <div class=\"icon-container\" style=\"padding-right: 40px;\"><svg class=\"icon twitter\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 512 512\"><path fill=\"#1da1f2\" d=\"M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z\"/></svg><a style=\"text-decoration: none; color: #0e5fa9;\" href=\"https://mobile.twitter.com/bcgovfireinfo\" target=\"_blank\" rel=\"noopener\">@BCGovFireInfo</a></div>\n    </div>\n  </div>\n  <div class=\"resource-container\">\n    <resource-panel *ngFor=\"let panel of resourcePanels\" [panelInfo]=\"panel\"></resource-panel>\n  </div>\n</div>\n<sticky-widget></sticky-widget>\n","import { Component } from '@angular/core';\n\n@Component({\n  selector: 'app-wildfires-list-header',\n  templateUrl: './wildfires-list-header.component.html',\n  styleUrls: ['./wildfires-list-header.component.scss']\n})\nexport class WildfiresListHeaderComponent {\n\n  openStageOfControlLink() {\n    let url = \"https://www2.gov.bc.ca/gov/content/safety/wildfire-status/wildfire-response/management-strategies/stages-of-control\"\n    window.open(url, \"_blank\");\n  }\n  \n}\n","<div class=\"container\">\n    <div class=\"header-row\">\n        <p class=\"dashboard-title\">Wildfires List\n        </p>\n        <button mat-raised-button color=\"primary\" class=\"stage-of-control\" (click)=\"openStageOfControlLink()\">What are Stages of Control?</button>\n    </div>\n    <mat-tab-group class=\"tab-group\">\n        <mat-tab label=\"Wildfires\">\n            <wf-list-container-desktop></wf-list-container-desktop>\n        </mat-tab>\n        <mat-tab label=\"Current Notices\">\n            <current-alert-component></current-alert-component>\n        </mat-tab>\n    </mat-tab-group>\n</div>\n<sticky-widget></sticky-widget>","import { Component } from \"@angular/core\";\nimport { WildFiresListComponent } from \"./wildfires-list.component\";\n\n@Component({\n    selector: 'wf-list-desktop',\n    templateUrl: './wildfires-list.component.desktop.html',\n    styleUrls: [\n      '../common/base-collection/collection.component.scss',\n      './wildfires-list.component.desktop.scss']\n  })\n\nexport class WildFiresListComponentDesktop extends WildFiresListComponent {\n    columnsToDisplay = [\"fireName\", \"fireNumber\", \"lastUpdated\", \"stageOfControl\", \"wildfireOfNote\", \"fireCentreName\", \"location\", \"addToWatchlist\", \"viewMap\"];\n}\n","\n<div class=\"table-search-header flex-y-fixed\">\n    <div class=\"search-and-filters\">\n        <div class=\"field search-input\">\n            <mat-label class=\"label\">Search for a Wildfire</mat-label>\n            <input [readonly]=\"isLocationName()\" matInput class=\"search-input\" aria-label=\"Search\" [(ngModel)]=\"searchText\" (ngModelChange)=\"searchTextUpdated()\">\n            <button mat-button matSuffix mat-icon-button class=\"input-clear-button\" *ngIf=\"searchText\"\n                    aria-label=\"Clear\" (click)=\"searchText=undefined;searchTextUpdated(); $event.stopPropagation()\"\n                    matTooltip=\"Clear\">\n                <mat-icon>close</mat-icon>\n            </button>\n        </div>\n\n        <div class=\"field search-input\">\n            <mat-label class=\"label\">Search for an address</mat-label>\n            <input [readonly]=\"isSearchText()\" matInput [matAutocomplete]=\"auto\" class=\"search-input\" aria-label=\"Search\" [formControl]=\"searchByLocationControl\">\n            <mat-autocomplete class=\"location-results\" #auto=\"matAutocomplete\" (optionSelected)=\"onLocationSelected($event.option.value)\">\n                <mat-option class=\"location-mat-option\" *ngFor=\"let option of filteredOptions\"\n                    [value]=\"option\">\n                    <div class=\"location-option\" #locationOptions [attr.data-loc-long]=\"option.loc[1]\" [attr.data-loc-lat]=\"option.loc[0]\">\n                        <div *ngIf=\"option.address !== ''\">\n                            <div>\n                                <span class=\"address\">{{option.address}}</span>\n                            </div>\n                            <div class=\"locality\">{{option.localityName}} ({{option.localityType}})</div>\n                        </div>\n                        <div *ngIf=\"option.address === ''\">\n                            <div>\n                                <span class=\"address\">{{option.localityName}}</span> <span> ({{option.localityType}})</span>\n                            </div>\n                        </div>\n                    </div>\n                </mat-option>\n            </mat-autocomplete>\n            <button mat-button matSuffix mat-icon-button class=\"input-clear-button\" *ngIf=\"locationName\"\n                    aria-label=\"Clear\" (click)=\"searchByLocationControl.reset();selectedLat=undefined;selectedLong=undefined;searchTextUpdated(); $event.stopPropagation()\"\n                    matTooltip=\"Clear\">\n                <mat-icon>close</mat-icon>\n            </button>\n        </div>\n\n        <div class=\"field\">\n            <mat-label class=\"label\">Search Radius (km)</mat-label>\n            <select appWFSingleSelect appWFPlaceholder=\"Select...\" [disabled]=\"!locationName\"\n                    aria-label=\"Type\"\n                    [options]=\"radiusOptions\"\n                    [selected]=\"selectedRadius\"\n                    [(ngModel)]=\"selectedRadius\"\n                    (updated)=\"selectFilterUpdated('selectedRadius', $event)\">\n                <option *ngFor = \"let item of radiusOptions\" value=\"{{item}}\">\n                    <span>{{item}}</span>\n                </option>\n            </select>\n        </div>\n\n        <div class=\"field\">\n          <div class=\"my-location-button\">\n            <button mat-raised-button (click)=\"useMyCurrentLocation()\" style=\"width: 100%\">\n              <mat-icon>my_location</mat-icon><span style=\"width: 100%;\">Find My Location</span>\n            </button>\n          </div>\n        </div>\n\n        <div class=\"field\">\n            <mat-label class=\"label\">Fire Centre</mat-label>\n            <select appWFSingleSelect appWFPlaceholder=\"Select...\"\n                    aria-label=\"Type\"\n                    [options]=\"fireCentreOptions\"\n                    [selected]=\"selectedFireCentreCode\"\n                    [(ngModel)]=\"selectedFireCentreCode\"\n                    (updated)=\"selectFilterUpdated('selectedFireCentreCode', $event)\">\n                <option value=\"\">\n                    <span class=\"placeholder\">Select...</span>\n                </option>\n                <option *ngFor = \"let item of fireCentreOptions\" value=\"{{item.code}}\">\n                    <span>{{item.description}}</span>\n                </option>\n            </select>\n        </div>\n        <div class=\"stage-of-control-checkbox-group\">\n            <mat-label>Choose Wildfires to display</mat-label>\n            <section class=\"checkbox-group\">\n                <mat-checkbox (change)=\"stageOfControlChanges($event)\" value=\"note\" [(ngModel)]=\"activeWildfiresInd\">\n                    Active Wildfires\n                </mat-checkbox>\n                <mat-checkbox (change)=\"stageOfControlChanges($event)\" value=\"all\" [(ngModel)]=\"outWildfiresInd\">\n                    Out Wildfires\n                </mat-checkbox>\n                <mat-checkbox (change)=\"stageOfControlChanges($event)\" value=\"all\" [(ngModel)]=\"newFires\">\n                    New Wildfires\n                </mat-checkbox>\n                <mat-checkbox (change)=\"stageOfControlChanges($event)\" value=\"all\" [(ngModel)]=\"wildfiresOfNoteInd\">\n                    Wildfires of Note\n                </mat-checkbox>\n            </section>\n        </div>\n                <div class=\"field\">\n            <button mat-raised-button color=\"primary\" (click)=\"clearSearchAndFilters()\" style=\"width: 100px;\"><mat-icon svgIcon=\"filter-cancel\"></mat-icon>Clear</button>\n        </div>\n\n    </div>\n\n</div>\n<p class =\"results-count\" >{{collection ? collection.totalRowCount : 0}} Results</p>\n\n\n\n<div class=\"table-wrapper flex-y-grow\" *ngIf=\"collectionData; else loading\">\n    <table  mat-table matSort [dataSource]=\"collectionData | paginate:config\"\n            [matSortActive]=\"this.searchState.sortParam\"\n            [matSortDirection]=\"this.searchState.sortDirection.toLowerCase()\"\n            (matSortChange)=\"sortData($event)\"\n            aria-label=\"Incident Table\">\n        <ng-container matColumnDef = \"fireName\">\n            <th mat-header-cell *matHeaderCellDef mat-sort-header> Fire Name</th>\n            <td mat-cell style=\"cursor: pointer;\" *matCellDef=\"let item\" (click)=\"selectIncident(item)\"><span #el >{{item.incidentName}}</span></td>\n        </ng-container>\n\n        <ng-container matColumnDef = \"fireNumber\">\n            <th mat-header-cell *matHeaderCellDef mat-sort-header> Fire Number</th>\n            <td mat-cell style=\"cursor: pointer;\" *matCellDef=\"let item\" (click)=\"selectIncident(item)\"><span #el >{{convertFireNumber(item)}}</span></td>\n        </ng-container>\n\n        <ng-container matColumnDef = \"lastUpdated\">\n            <th mat-header-cell *matHeaderCellDef mat-sort-header> Last Updated</th>\n            <td mat-cell style=\"cursor: pointer;\" *matCellDef=\"let item\" (click)=\"selectIncident(item)\"><span #el >{{convertFromTimestamp(item.lastUpdatedTimestamp)}}</span></td>\n        </ng-container>\n\n        <ng-container matColumnDef = \"stageOfControl\">\n            <th mat-header-cell *matHeaderCellDef mat-sort-header> Stage of Control</th>\n            <td mat-cell style=\"cursor: pointer;\" *matCellDef=\"let item\" (click)=\"selectIncident(item)\"><span #el >{{convertToStageOfControlDescription(item.stageOfControlCode)}}</span></td>\n        </ng-container>\n\n        <ng-container matColumnDef = \"wildfireOfNote\">\n            <th mat-header-cell *matHeaderCellDef mat-sort-header> Wildfire of Note</th>\n            <td mat-cell style=\"cursor: pointer;\" *matCellDef=\"let item\" (click)=\"selectIncident(item)\"><span #el >{{item.fireOfNoteInd? 'Yes' : 'No'}}</span></td>\n        </ng-container>\n\n        <ng-container matColumnDef = \"fireCentreName\">\n            <th mat-header-cell *matHeaderCellDef mat-sort-header> Fire Centre</th>\n            <td mat-cell style=\"cursor: pointer;\" *matCellDef=\"let item\" (click)=\"selectIncident(item)\"><span #el >{{item.fireCentreName}}</span></td>\n        </ng-container>\n\n        <ng-container matColumnDef = \"location\">\n            <th mat-header-cell *matHeaderCellDef mat-sort-header> Location</th>\n            <td mat-cell style=\"cursor: pointer;\" *matCellDef=\"let item\" (click)=\"selectIncident(item)\"><span #el >{{item.incidentLocation}}</span></td>\n        </ng-container>\n\n        <ng-container matColumnDef = \"addToWatchlist\">\n            <th mat-header-cell *matHeaderCellDef mat-non-sort-header> Add to Watch List</th>\n            <td mat-cell style=\"cursor: pointer;\" *matCellDef=\"let item\" (click)=\"onWatchlist(item) ? removeFromWatchlist(item) : addToWatchlist(item)\">\n                <span #el ><mat-icon style=\"color:#1A5A96\">{{onWatchlist(item) ? 'bookmark' : 'bookmark_border'}}</mat-icon></span>\n            </td>\n        </ng-container>\n\n        <ng-container matColumnDef = \"viewMap\">\n            <th mat-header-cell *matHeaderCellDef> View Map</th>\n            <td mat-cell style=\"cursor: pointer;\" *matCellDef=\"let item\" (click)=\"viewMap(item)\"><span #el ><mat-icon style=\"color:#1A5A96\" svgIcon=\"map\"></mat-icon></span></td>\n        </ng-container>\n\n        <tr mat-header-row *matHeaderRowDef=\"columnsToDisplay;sticky:true\"></tr>\n        <tr mat-row *matRowDef=\"let item; columns: columnsToDisplay\"></tr>\n    </table>\n</div>\n\n<ng-template #loading><mat-spinner [diameter]=\"40\"></mat-spinner></ng-template>\n\n\n<div class=\"bottom-summary flex-y-fixed\">\n    <div class=\"showing-summary\">{{summaryString}}</div>\n    <pagination-controls style = \"text-align:center\" [id]=\"config.id\"\n                         [maxSize]=\"5\"\n                         [responsive]=\"false\"\n                         [directionLinks]=\"true\"\n                         [previousLabel]=\"paginatorLabels.previousLabel\"\n                         [nextLabel]=\"paginatorLabels.nextLabel\"\n                         [autoHide]=\"false\"\n                         (pageChange)=\"onPageChange($event)\"></pagination-controls>\n    <div class=\"show-entries-info\">\n                    <span>\n                        Show\n                    </span>\n        <select appWFSingleSelect appWFPlaceholder=\"Select...\"\n                class=\"select-showEntriesSelection\"\n                aria-label=\"Show entries\"\n                [position]=\"'top'\"\n                [selected]=\"showEntriesSelection\"\n                [options]=\"showEntriesOptions\"\n                (updated)=\"selectShowEntriesUpdated('showEntriesSelection', $event)\"\n                [(ngModel)]=\"showEntriesSelection\">\n            <option *ngFor=\"let option of showEntriesOptions\" value=\"{{option.value}}\">\n                <span>{{option.label}}</span>\n            </option>\n        </select>\n        <span>entries</span>\n    </div>\n</div>\n","import {DomSanitizer} from \"@angular/platform-browser\";\nimport { BaseComponentModel } from \"../base/base.component.model\";\n\nexport class WildFiresListComponentModel extends BaseComponentModel {\n\n    constructor(protected sanitizer: DomSanitizer) {\n        super(sanitizer);\n\n    }\n\n    public clone(): WildFiresListComponentModel {\n        let clonedModel: WildFiresListComponentModel = new WildFiresListComponentModel(this.sanitizer);\n        return clonedModel;\n    }\n}\n","import { Overlay } from '@angular/cdk/overlay';\nimport { HttpClient } from '@angular/common/http';\nimport { AfterViewInit, ChangeDetectorRef, Directive, Input, OnChanges, OnInit, SimpleChanges } from '@angular/core';\nimport { UntypedFormBuilder, UntypedFormControl } from '@angular/forms';\nimport { MatLegacyDialog as MatDialog } from '@angular/material/legacy-dialog';\nimport { MatLegacySnackBar as MatSnackBar } from '@angular/material/legacy-snack-bar';\nimport { DomSanitizer } from '@angular/platform-browser';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { Store } from '@ngrx/store';\nimport { AppConfigService, TokenService } from '@wf1/core-ui';\nimport * as moment from 'moment';\nimport { debounceTime } from 'rxjs/operators';\nimport { PagedCollection } from '../../conversion/models';\nimport { ApplicationStateService } from '../../services/application-state.service';\nimport { CommonUtilityService } from '../../services/common-utility.service';\nimport { WatchlistService } from '../../services/watchlist-service';\nimport { PlaceData } from '../../services/wfnews-map.service/place-data';\nimport { RootState } from '../../store';\nimport { searchWildfires } from '../../store/wildfiresList/wildfiresList.action';\nimport { initWildfiresListPaging, SEARCH_WILDFIRES_COMPONENT_ID } from '../../store/wildfiresList/wildfiresList.stats';\nimport { convertFromTimestamp, convertToStageOfControlDescription, FireCentres, convertToFireCentreDescription, ResourcesRoutes, snowPlowHelper, convertFireNumber } from '../../utils';\nimport { CollectionComponent } from '../common/base-collection/collection.component';\nimport { WildFiresListComponentModel } from './wildfires-list.component.model';\n\n@Directive()\nexport class WildFiresListComponent extends CollectionComponent implements OnChanges, AfterViewInit, OnInit {\n\n  @Input() collection: PagedCollection;\n\n\n  public currentYearString;\n  public currentDateTimeString;\n  filteredOptions: any[];\n  placeData: PlaceData;\n  searchByLocationControl=new UntypedFormControl\n  selectedLat:number;\n  selectedLong:number;\n  url;\n  displayLabel = \"Simple Wildfires Search\"\n  selectedFireCentreCode = \"\";\n  wildfiresOfNoteInd = false;\n  newFires = false;\n  activeWildfiresInd = true;\n  outWildfiresInd = false;\n  selectedRadius = 50;\n  radiusOptions = [\n    50,\n    10,\n    20,\n    30,\n    40,\n    60,\n    70,\n    80,\n    90,\n    100,\n  ]\n  fireCentreOptions = FireCentres;\n  locationName: string;\n  sortedAddressList: string[];\n\n  convertFromTimestamp = convertFromTimestamp;\n  convertToStageOfControlDescription = convertToStageOfControlDescription\n  convertToFireCentreDescription = convertToFireCentreDescription\n  snowPlowHelper = snowPlowHelper\n  convertFireNumber = convertFireNumber;\n\n\n  constructor ( router: Router, route: ActivatedRoute, sanitizer: DomSanitizer, store: Store<RootState>, fb: UntypedFormBuilder, dialog: MatDialog, applicationStateService: ApplicationStateService, tokenService: TokenService, snackbarService: MatSnackBar, overlay: Overlay, cdr: ChangeDetectorRef, appConfigService: AppConfigService, http: HttpClient, watchlistService: WatchlistService, commonUtilityService: CommonUtilityService)\n  {\n    super(router, route, sanitizer, store, fb, dialog, applicationStateService, tokenService, snackbarService, overlay, cdr, appConfigService, http, watchlistService,commonUtilityService);\n    this.placeData = new PlaceData();\n    let self = this;\n    this.searchByLocationControl.valueChanges.pipe(debounceTime(200)).subscribe((val:string)=>{\n      this.locationName = val;\n\n      if(!val) {\n          this.filteredOptions = [];\n          this.selectedLat = undefined;\n          this.selectedLong = undefined;\n          this.searchTextUpdated();\n          return;\n      }\n\n      if (val.length > 2) {\n        this.filteredOptions = [];\n        this.placeData.searchAddresses(val).then(function (results) {\n          if (results) {\n            results.forEach((result) => {\n              self.sortedAddressList = self.commonUtilityService.sortAddressList(results, val);\n            });\n            self.filteredOptions = self.sortedAddressList;\n          }\n        });\n      }\n    });\n\n    this.url = this.appConfigService.getConfig().application.baseUrl.toString() + this.router.url.slice(1)\n    this.snowPlowHelper(this.url)\n  }\n\n  initModels() {\n    this.model = new WildFiresListComponentModel(this.sanitizer);\n    this.viewModel = new WildFiresListComponentModel(this.sanitizer);\n  }\n\n  loadPage() {\n    this.url = this.appConfigService.getConfig().application.baseUrl.toString() + this.router.url.slice(1)\n    this.placeData = new PlaceData();\n    this.componentId = SEARCH_WILDFIRES_COMPONENT_ID;\n    this.updateView();\n    this.initSortingAndPaging(initWildfiresListPaging);\n    this.config = this.getPagingConfig();\n    this.baseRoute = this.router.url;\n    this.doSearch();\n  }\n\n  ngOnChanges(changes: SimpleChanges) {\n    super.ngOnChanges(changes);\n  }\n\n  doSearch() {\n    if (!this.activeWildfiresInd && !this.outWildfiresInd && !this.newFires && !this.wildfiresOfNoteInd) {\n      this.collectionData = []\n      this.collection = null;\n      this.summaryString = 'No records to display.'\n      setTimeout(() => {\n        this.cdr.detectChanges();\n      });\n    } else {\n      // set stages of control to return\n      const stageOfControlList = []\n      if (this.outWildfiresInd) {\n        stageOfControlList.push('OUT')\n      }\n      if(this.activeWildfiresInd) {\n        stageOfControlList.push('OUT_CNTRL')\n        stageOfControlList.push('HOLDING')\n        stageOfControlList.push('UNDR_CNTRL')\n      }\n      // We use a boolean in the postgres model so this shouldn't be needed\n      //if(this.wildfiresOfNoteInd) {\n      //  stageOfControlList.push('FIRE_OF_NOTE')\n      //}\n\n      this.store.dispatch(searchWildfires(this.componentId, {\n        pageNumber: this.config.currentPage,\n        pageRowCount: this.config.itemsPerPage,\n        sortColumn: this.currentSort,\n        sortDirection: this.currentSortDirection,\n        query: this.searchText\n      },\n        this.selectedFireCentreCode, this.wildfiresOfNoteInd, stageOfControlList, this.newFires, undefined, this.displayLabel,this.selectedLat,this.selectedLong,this.selectedRadius));\n    }\n  }\n\n  onChangeFilters() {\n    super.onChangeFilters();\n    this.doSearch();\n  }\n\n  clearSearchAndFilters() {\n    this.searchText = null;\n    this.locationName = null;\n    this.selectedFireCentreCode = null;\n    this.wildfiresOfNoteInd = false;\n    this.newFires = false;\n    this.activeWildfiresInd = true;\n    this.outWildfiresInd = false;\n    this.selectedRadius = 50\n    this.selectedLat = null;\n    this.selectedLong = null;\n    super.onChangeFilters();\n    this.doSearch();\n  }\n\n\n  getViewModel(): WildFiresListComponentModel {\n    return <WildFiresListComponentModel>this.viewModel;\n  }\n\n\n  ngAfterViewInit() {\n    super.ngAfterViewInit();\n  }\n\n  ngOnchanges(changes: SimpleChanges) {\n    super.ngOnChanges(changes)\n  }\n\n  convertToDate(value: string) {\n    if (value) {\n      return moment(value).format('YYYY-MM-DD hh:mm:ss')\n    }\n  }\n\n  selectIncident(incident: any) {\n      const url = this.router.serializeUrl(\n        this.router.createUrlTree([ResourcesRoutes.PUBLIC_INCIDENT], { queryParams: { fireYear: incident.fireYear, incidentNumber: incident.incidentNumberLabel } })\n      )\n      window.open(url, '_blank')\n  }\n\n  onWatchlist (incident: any): boolean {\n    return this.watchlistService.getWatchlist().includes(incident.fireYear + ':' + incident.incidentNumberLabel)\n  }\n\n  addToWatchlist(incident: any) {\n    if (this.onWatchlist(incident)) {\n      this.removeFromWatchlist(incident)\n    } else {\n      this.watchlistService.saveToWatchlist(incident.fireYear, incident.incidentNumberLabel)\n    }\n  }\n\n  removeFromWatchlist (incident: any) {\n    this.watchlistService.removeFromWatchlist(incident.fireYear, incident.incidentNumberLabel)\n  }\n\n  viewMap(incident: any) {\n    setTimeout(() => {\n      this.router.navigate([ResourcesRoutes.ACTIVEWILDFIREMAP], { queryParams: {longitude: incident.longitude, latitude: incident.latitude} });\n    }, 100);\n\n  }\n\n\n  stageOfControlChanges(event: any) {\n    this.onChangeFilters();\n    this.doSearch()\n  }\n\n  async useMyCurrentLocation() {\n    this.searchText = undefined;\n\n    const location = await this.commonUtilityService.getCurrentLocationPromise()\n    const lat = location.coords.latitude;\n    const long = location.coords.longitude;\n    this.locationName = lat.toString() + ', ' + long.toString()\n    this.selectedLat = lat;\n    this.selectedLong = long;\n    this.doSearch()\n  }\n\n  onlyOneControlSelected() {\n    // unused\n  }\n\n  getFullAddress(location) {\n    let result = \"\";\n\n    if(location.civicNumber) {\n        result += location.civicNumber\n    }\n\n    if(location.streetName) {\n        result += \" \" + location.streetName\n    }\n\n    if(location.streetQualifier) {\n        result += \" \" + location.streetQualifier\n    }\n\n    if(location.streetType) {\n        result += \" \" + location.streetType\n    }\n\n    return result;\n  }\n\n  onLocationSelected(selectedOption) {\n    let locationControlValue = selectedOption.address ? selectedOption.address : selectedOption.localityName;\n    this.searchByLocationControl.setValue(locationControlValue.trim(), { onlySelf: true, emitEvent: false });\n    this.selectedLat=selectedOption.loc[1];\n    this.selectedLong=selectedOption.loc[0]\n    this.doSearch()\n  }\n\n  isLocationName() {\n    if (this.locationName && this.locationName !== '') {\n      return true\n    }\n  }\n\n  isSearchText() {\n    if (this.searchText && this.searchText !== '') {\n      return true\n    }\n  }\n\n}\n","import { Component } from \"@angular/core\";\nimport { AdminContainer } from \"./admin-container.component\";\nimport {Location, LocationStrategy, PathLocationStrategy} from \"@angular/common\";\n\n\n@Component({\n    selector: \"wf-admin-panel-container-desktop\",\n    template: `\n        <wf-admin-panel-desktop\n            [collection]=\"collection$ | async\"\n            [searchState]=\"searchState$ | async\"\n            [loadState]=\"loadState$ | async\"\n            [errorState]=\"errorState$ | async\"\n        ></wf-admin-panel-desktop>`,\n    providers: [Location, {provide: LocationStrategy, useClass: PathLocationStrategy}]\n})\nexport class AdminContainerDesktop extends AdminContainer{\n\n}\n","import { Directive } from \"@angular/core\";\nimport { select } from \"@ngrx/store\";\nimport { SearchState } from \"@wf1/core-ui\";\nimport { Observable } from \"rxjs\";\nimport { selectSearchState, selectIncidentsErrorState, selectIncidentsLoadState } from \"../../store/application/application.selector\";\nimport { ErrorState, LoadState } from \"../../store/application/application.state\";\nimport { selectCurrentIncidentsSearch } from \"../../store/incidents/incidents.selector\";\nimport { SEARCH_INCIDENTS_COMPONENT_ID } from \"../../store/incidents/incidents.stats\";\nimport { BaseContainer } from \"../base/base-container.component\";\n\n@Directive()\nexport class AdminContainer extends BaseContainer {\n    collection$: Observable<any> = this.store.pipe(select(selectCurrentIncidentsSearch()));\n    searchState$: Observable<SearchState> = this.store.pipe(select(selectSearchState(SEARCH_INCIDENTS_COMPONENT_ID)));\n    loadState$: Observable<LoadState> = this.store.pipe(select(selectIncidentsLoadState()));\n    errorState$: Observable<ErrorState[]> = this.store.pipe(select(selectIncidentsErrorState()));\n}","import {Directive, HostListener, Injectable, OnDestroy} from '@angular/core';\nimport {Router} from '@angular/router';\nimport {select, Store} from '@ngrx/store';\nimport {RootState} from '../../store';\nimport {ApplicationStateService} from '../../services/application-state.service';\nimport {MatLegacySnackBar as MatSnackBar} from '@angular/material/legacy-snack-bar';\nimport {Observable, Subscription} from 'rxjs';\nimport { selectFormStatesUnsaved } from '../../store/application/application.selector';\n\n@Directive()\n@Injectable()\nexport class BaseContainer implements OnDestroy {\n    unsavedForms$: Observable<boolean>;\n    hasUnsavedForms = false;\n    unsavedFormsSub: Subscription;\n    displayLabel = '';\n\n    constructor(\n        protected store: Store<RootState>,\n        protected router: Router,\n        public snackBar: MatSnackBar,\n        protected applicationStateService: ApplicationStateService\n    ) {\n        this.unsavedForms$ = this.store.pipe(select(selectFormStatesUnsaved(this.getAssociatedComponentIds())));\n        if (this.unsavedForms$) {\n            this.unsavedFormsSub = this.unsavedForms$.subscribe((value) => {\n                this.hasUnsavedForms = value;\n            });\n        }\n\n    }\n\n    ngOnDestroy() {\n        if (this.unsavedFormsSub) {\n            this.unsavedFormsSub.unsubscribe();\n        }\n    }\n\n\n\n    getAssociatedComponentIds(): string[] {\n        return [];\n    }\n\n    public getHasUnsavedForms(): boolean {\n        return this.hasUnsavedForms;\n    }\n\n    public getDisplayLabel(): string {\n        return this.displayLabel;\n    }\n\n    @HostListener('window:beforeunload', ['$event'])\n    onBeforeUnload(event) {\n        if (this.hasUnsavedForms) {\n            event.preventDefault();\n            event.returnValue = true; //force a browser confirmation before closing the tab/window\n        }\n    }\n}\n","import { Component } from \"@angular/core\";\nimport { IncidentContainer } from \"./incident-container.component\";\nimport {Location, LocationStrategy, PathLocationStrategy} from \"@angular/common\";\n\n\n@Component({\n    selector: \"wf-incident-container-desktop\",\n    template: `\n        <wf-admin-incident-desktop\n            [adminIncident]=\"adminIncident$ | async\"\n            [adminIncidentCause]=\"adminIncidentCause$ | async\"\n        ></wf-admin-incident-desktop>`,\n    providers: [Location, {provide: LocationStrategy, useClass: PathLocationStrategy}]\n})\nexport class IncidentContainerDesktop extends IncidentContainer{\n\n}","import { Directive } from \"@angular/core\";\nimport { select } from \"@ngrx/store\";\nimport { Observable } from \"rxjs\";\nimport { selectCurrentIncident, selectCurrentIncidentCause } from \"../../store/incident/incident.selector\";\nimport { BaseContainer } from \"../base/base-container.component\";\n\n@Directive()\nexport class IncidentContainer extends BaseContainer {\n    adminIncident$: Observable<any> = this.store.pipe(select(selectCurrentIncident()));\n    adminIncidentCause$: Observable<any> = this.store.pipe(select(selectCurrentIncidentCause()));\n\n}\n","import { Component } from \"@angular/core\";\nimport {Location, LocationStrategy, PathLocationStrategy} from \"@angular/common\";\nimport { PanelWildfireStageOfControlContainer } from \"./panelWildfireStageOfControl-container.component\";\n\n\n@Component({\n    selector: \"panel-wildfire-stage-of-control-container-desktop\",\n    template: `\n        <panel-wildfire-stage-of-control\n            [collection]=\"collection$ | async\"\n            [searchState]=\"searchState$ | async\"\n            [loadState]=\"loadState$ | async\"\n            [errorState]=\"errorState$ | async\"\n        ></panel-wildfire-stage-of-control>`,\n    providers: [Location, {provide: LocationStrategy, useClass: PathLocationStrategy}]\n})\nexport class PanelWildfireStageOfControlContainerDesktop extends PanelWildfireStageOfControlContainer{\n\n}\n","import { Directive } from \"@angular/core\";\nimport { select } from \"@ngrx/store\";\nimport { SearchState } from \"@wf1/core-ui\";\nimport { Observable } from \"rxjs\";\nimport { selectSearchState,selectWildfiresLoadState, selectWildfiresErrorState } from \"../../store/application/application.selector\";\nimport { ErrorState, LoadState } from \"../../store/application/application.state\";\nimport { selectCurrentWildfiresSearch } from \"../../store/wildfiresList/wildfiresList.selector\";\nimport { SEARCH_WILDFIRES_COMPONENT_ID, } from \"../../store/wildfiresList/wildfiresList.stats\";\nimport { BaseContainer } from \"../base/base-container.component\";\n\n@Directive()\nexport class PanelWildfireStageOfControlContainer extends BaseContainer {\n    collection$: Observable<any> = this.store.pipe(select(selectCurrentWildfiresSearch()));\n    searchState$: Observable<SearchState> = this.store.pipe(select(selectSearchState(SEARCH_WILDFIRES_COMPONENT_ID)));\n    loadState$: Observable<LoadState> = this.store.pipe(select(selectWildfiresLoadState()));\n    errorState$: Observable<ErrorState[]> = this.store.pipe(select(selectWildfiresErrorState()));\n}","import { Component } from \"@angular/core\";\nimport {Location, LocationStrategy, PathLocationStrategy} from \"@angular/common\";\nimport { WildfiresListContainer } from \"./wildfiresList-container.component\";\n\n\n@Component({\n    selector: \"wf-list-container-desktop\",\n    template: `\n        <wf-list-desktop\n            [collection]=\"collection$ | async\"\n            [searchState]=\"searchState$ | async\"\n            [loadState]=\"loadState$ | async\"\n            [errorState]=\"errorState$ | async\"\n        ></wf-list-desktop>`,\n    providers: [Location, {provide: LocationStrategy, useClass: PathLocationStrategy}]\n})\nexport class WildfiresListContainerDesktop extends WildfiresListContainer{\n\n}\n","import { Directive } from \"@angular/core\";\nimport { select } from \"@ngrx/store\";\nimport { SearchState } from \"@wf1/core-ui\";\nimport { Observable } from \"rxjs\";\nimport { selectSearchState,selectWildfiresLoadState, selectWildfiresErrorState } from \"../../store/application/application.selector\";\nimport { ErrorState, LoadState } from \"../../store/application/application.state\";\nimport { selectCurrentWildfiresSearch } from \"../../store/wildfiresList/wildfiresList.selector\";\nimport { SEARCH_WILDFIRES_COMPONENT_ID } from \"../../store/wildfiresList/wildfiresList.stats\";\nimport { BaseContainer } from \"../base/base-container.component\";\n\n@Directive()\nexport class WildfiresListContainer extends BaseContainer {\n    collection$: Observable<any> = this.store.pipe(select(selectCurrentWildfiresSearch()));\n    searchState$: Observable<SearchState> = this.store.pipe(select(selectSearchState(SEARCH_WILDFIRES_COMPONENT_ID)));\n    loadState$: Observable<LoadState> = this.store.pipe(select(selectWildfiresLoadState()));\n    errorState$: Observable<ErrorState[]> = this.store.pipe(select(selectWildfiresErrorState()));\n}","import {\n    AfterViewInit,\n    ChangeDetectorRef,\n    Directive,\n    ElementRef,\n    EventEmitter,\n    Input,\n    OnChanges,\n    Output,\n    SimpleChanges\n} from \"@angular/core\";\nimport { arrayEquals } from \"../utils\";\n\n@Directive({\n    selector: '[appWFSingleSelect]'\n})\nexport class SingleSelectDirective implements AfterViewInit, OnChanges {\n    @Input() appWFPlaceholder?: string;\n    @Output() updated: EventEmitter<any> = new EventEmitter();\n    @Input() options: any[];\n    @Input() selected: any;\n    @Input() position: string = \"bottom\";\n    @Input() filter: boolean = true;\n    selectHtmlElement: HTMLSelectElement;\n    multiselect;\n    \n\n    constructor(\n        private element: ElementRef,\n        private cdr: ChangeDetectorRef) {\n    }\n\n    ngAfterViewInit() {\n        this.selectHtmlElement = this.element.nativeElement;\n        let self = this;\n        this.selectHtmlElement.addEventListener(\"change\", function () {\n            self.onClick();\n        });\n\n    }\n\n    ngOnChanges(changes: SimpleChanges): void {\n        if (changes.options && !arrayEquals(changes.options.currentValue, changes.options.previousValue)) {\n            this.options = changes.options.currentValue;\n            setTimeout(() => {\n                this.cdr.detectChanges();\n                // this.multiselect.multipleSelect(\"refresh\");\n            });\n        }\n        if (changes.selected) {\n            setTimeout(() => {\n                this.selected = changes.selected.currentValue;\n                // this.multiselect.multipleSelect(\"setSelects\", [this.selected]);\n            });\n        }\n        if (changes.appWFPlaceholder) {\n            this.appWFPlaceholder = changes.appWFPlaceholder.currentValue;\n            setTimeout(() => {\n                this.cdr.detectChanges();\n                // this.multiselect.multipleSelect(\"refreshOptions\", {\"placeholder\": this.appWFPlaceholder});\n            });\n        }\n    }\n\n    onClick() {\n        let selected = \"\";\n        if (this.selectHtmlElement.selectedOptions && this.selectHtmlElement.selectedOptions.length) {\n            selected = this.selectHtmlElement.selectedOptions.item(0).value;\n        }\n        this.updated.emit(selected);\n    }\n}\n","import {Injectable, Injector} from \"@angular/core\";\nimport {HttpErrorResponse, HttpEvent, HttpHandler, HttpInterceptor, HttpRequest} from \"@angular/common/http\";\nimport {Observable} from \"rxjs\";\nimport {AppConfigService, AuthenticationInterceptor, TokenService} from \"@wf1/core-ui\";\nimport {UUID} from \"angular2-uuid\";\nimport {catchError, filter, mergeMap, switchMap, take} from \"rxjs/operators\";\nimport {Router} from \"@angular/router\";\nimport {RouterExtService} from \"../services/router-ext.service\";\nimport {MatLegacySnackBar as MatSnackBar} from \"@angular/material/legacy-snack-bar\";\nimport { ErrorHandlingInstructions } from \"../utils/user-feedback-utils\";\nimport { ApplicationStateService } from \"../services/application-state.service\";\nimport { ResourcesRoutes } from \"../utils\";\n\n@Injectable()\nexport class WfnewsInterceptor extends AuthenticationInterceptor implements HttpInterceptor {\n    private tokenService;\n    private asyncTokenRefresh;\n    private refreshSnackbar;\n\n    constructor(protected appConfig: AppConfigService, private snackbarService: MatSnackBar, protected injector: Injector,\n                private router: Router, private routerExtService: RouterExtService) {\n        super(injector);\n    }\n\n    intercept(req: HttpRequest<any>, next: HttpHandler): Observable<HttpEvent<any>> {\n        let processedRequest = req;\n        let requestId;\n        requestId = `WFNEWSUI${UUID.UUID().toUpperCase()}`.replace(/-/g, \"\");\n\n        if (this.isUrlSecured(req.url)) {\n            if (!this.tokenService) {\n                this.tokenService = this.injector.get(TokenService);\n            }\n            return this.handleLogin(req, next, this.tokenService, requestId);\n\n        } else {\n            return this.handleRequest(requestId, next, processedRequest);\n        }\n    }\n\n    handleLogin(req: HttpRequest<any>, next: HttpHandler, tokenService: TokenService, requestId: string): Observable<any> {\n        let processedRequest = req;\n\n        return tokenService.authTokenEmitter.pipe(\n            filter(token => token != null)\n            , take(1)\n            , switchMap(token => {\n                if (this.tokenService.getTokenDetails()) {\n                    let appStateService = this.injector.get(ApplicationStateService);\n                    if (!appStateService.isAdminPageAccessable()){\n                        this.router.navigate([ResourcesRoutes.ERROR_PAGE])\n                    }\n                    if (this.tokenService.isTokenExpired(this.tokenService.getTokenDetails())) {\n                        return this.refreshWindow().pipe(mergeMap((tokenResponse) => {\n                            this.tokenService.updateToken(tokenResponse);\n                            let headers = req.headers.set(\"Authorization\", `Bearer ${tokenResponse[\"access_token\"]}`)\n                                .set(\"RequestId\", requestId);\n\n                            processedRequest = req.clone({headers});\n                            if (this.asyncTokenRefresh.isComplete) {\n                                this.asyncTokenRefresh = undefined;\n                            }\n                            if (this.refreshSnackbar) {\n                                this.refreshSnackbar.dismiss();\n                                this.refreshSnackbar = undefined;\n                            }\n                            return this.handleRequest(requestId, next, processedRequest);\n                        }));\n                    } else {\n                        if (requestId) {\n                            let authToken = this.tokenService.getOauthToken();\n                            processedRequest = req.clone({\n                                headers: req.headers.set('Authorization', 'Bearer ' + authToken).set(\"RequestId\", requestId).set(\"Accept\", \"*/*\")\n                                .set(\"Cache-Control\", \"no-cache\")\n                                    .set(\"Pragma\", \"no-cache\")\n                            });\n                        }\n                        return this.handleRequest(requestId, next, processedRequest);\n                    }\n                } else {\n                    return this.handleRequest(requestId, next, processedRequest);\n                }\n            }));\n    }\n\n    handleRequest(requestId, next, processedRequest): Observable<any> {\n        return next.handle(processedRequest).pipe(\n            catchError((response: HttpErrorResponse) => {\n                const errorHandlingInstructions = this.retrieveErrorHandlingInstructions(response, processedRequest, requestId);\n                this.handleError(errorHandlingInstructions);\n                throw response;\n            }));\n    }\n\n\n    retrieveErrorHandlingInstructions(response, processedRequest, requestId): ErrorHandlingInstructions {\n        console.log(\"ERROR HANDLE\", response, processedRequest);\n        if (response.url && response.url.endsWith(\"codeTables\")) {\n            return this.createErrorHandlingInstructions(null, null, `Unable to initialize application (${response.status}). ${response.url}`);\n        } else if (response.status === 0) {\n            if (window.navigator.onLine) {\n                return this.createErrorHandlingInstructions(null, null, \"An unexpected error has occurred.\");\n            } else {\n                return this.createErrorHandlingInstructions(null, null, \"No Connectivity. Please try again when you have reconnected.\");\n            }\n        } else if (response.status === 504) {\n            return this.createErrorHandlingInstructions(null, null, \"No Connectivity. Please try again when you have reconnected.\");\n        } else if (response.status === 500) {\n            let message = \"\";\n            if (response.error && response.error.messages && response.error.messages.length > 0\n                && response.error.messages[0].message) {\n                    message = 'Error 500: ' + response.error.messages[0].message;\n            } else {\n                message = requestId ? `Server Error (500). RequestId: ${requestId}` : \"Server Error (500)\";\n            }\n\n            return this.createErrorHandlingInstructions(null,\n                null,\n                message);\n\n        } else if (response.status >= 501) {\n            return this.createErrorHandlingInstructions(null, null, `Server Error (${response.status}).`);\n        } else if (response.status == 401) {\n            let message = \"\";\n            if (response.error && response.error.messages && response.error.messages.length > 0\n                && response.error.messages[0].message) {\n                    message = 'Insufficient Permissions: ' + response.error.messages[0].message;\n            } else {\n                message = `Insufficient Permissions (${response.status}). ${response.url}`;\n            }\n\n            return this.createErrorHandlingInstructions(null,\n                null,\n                message);\n        } else if (response.status == 403) {\n            let message = \"\";\n            if (response.error && response.error.messages && response.error.messages.length > 0\n                && response.error.messages[0].message) {\n                    message = 'Insufficient Permissions: ' + response.error.messages[0].message;\n            } else {\n                message = `Insufficient Permissions (${response.status}). ${response.url}`;\n            }\n\n            return this.createErrorHandlingInstructions(null,\n                null,\n                message);\n\n        }\n\n        return null;\n    }\n\n    handleError(errorHandlingInstructions: ErrorHandlingInstructions) {\n        if (!errorHandlingInstructions) {\n            return;\n        }\n\n        if (errorHandlingInstructions.redirectToRoute) {\n            this.router.navigate([errorHandlingInstructions.redirectToRoute], {queryParams: {message: errorHandlingInstructions.redirectToRouteData}});\n        }\n    }\n\n\n    createErrorHandlingInstructions(redirectToRoute, redirectToRouteData, snackBarErrorMsg): ErrorHandlingInstructions {\n        return {\n            redirectToRoute: redirectToRoute,\n            redirectToRouteData: redirectToRouteData,\n            snackBarErrorMsg: snackBarErrorMsg\n        };\n\n    }\n\n    updateErrorPageRouteData(routeName, data) {\n        let route = this.router.config.find(r => r.path === routeName);\n        if (data) {\n            route.data = {errorMsg: data};\n        }\n    }\n\n    isUrlSecured(url: string): boolean {\n        let isSecured = false;\n        const config = this.appConfig.getConfig();\n        if (config && config.rest) {\n            let wfdmProxy = config.externalAppConfig['wfdmProxy'];\n            if(url.startsWith(wfdmProxy.toString())) {\n                return true; // if the request is from Document Service proxy\n            }\n            if (url.startsWith(config.rest['wfnews']) || url.includes('wfss-pointid-api')) {\n                return false; // if the request is from wfnews-server, no need to hanldeLogin\n            }\n            for (let endpoint in config.rest) {\n                if (url.startsWith(config.rest[endpoint])) {\n                    isSecured = true;\n                    break;\n                }\n            }\n        }\n        return isSecured;\n    }\n\n    displayRefreshErrorMessage(message: string) {\n      // unused. Why is this empty?\n    }\n\n    refreshWindow() {\n        if (this.asyncTokenRefresh) {\n            return this.asyncTokenRefresh;\n        }\n        let baseUrl = this.appConfig.getConfig().application.baseUrl;\n        let refreshPage = \"refresh-token.html\";\n        if (baseUrl && !baseUrl.endsWith(\"/\")) {\n            refreshPage = `/${refreshPage}`;\n        }\n        let clientId = this.appConfig.getConfig().webade.clientId;\n        let authorizeUrl = this.appConfig.getConfig().webade.oauth2Url;\n        let authScopes = this.appConfig.getConfig().webade.authScopes;\n\n        let redirectUrl = `${baseUrl}${refreshPage}`;\n        this.asyncTokenRefresh = this.tokenService.initRefreshTokenImplicitFlow(`${authorizeUrl}?response_type=token&client_id=${clientId}&redirect_uri=${redirectUrl}&scope=${authScopes}`\n            , \"wfim-incidents-token\",\n            (errorMessage) => {\n                this.displayRefreshErrorMessage(errorMessage);\n            });\n        return this.asyncTokenRefresh;\n\n    }\n}\n","import { Pipe, PipeTransform } from '@angular/core';\nimport { DomSanitizer } from \"@angular/platform-browser\"; \n\n@Pipe({\n  name: 'safe'\n})\nexport class SafePipe implements PipeTransform {\n\n  constructor(private sanitizer: DomSanitizer) { }\n\n  transform(url) {\n    return this.sanitizer.bypassSecurityTrustResourceUrl(url);\n  }\n}","import { HttpClient, HttpHeaders } from '@angular/common/http'\nimport { AppConfigService } from '@wf1/core-ui'\nimport { Injectable } from '@angular/core'\nimport { Observable } from 'rxjs'\n\nexport type AgolOptions = {\n  returnCentroid?: boolean,\n  returnGeometry?: boolean,\n  returnExtent?: boolean\n};\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class AGOLService {\n  constructor (private appConfigService: AppConfigService, protected http: HttpClient) { /* empty */ }\n\n  getFirePerimetre (fireNumber: string, options: AgolOptions = null) {\n    let url = this.appConfigService.getConfig().externalAppConfig['AGOLperimetres'].toString()\n    if (!url.endsWith('/')) {\n      url += '/'\n    }\n    // append query. Only search for Fire events\n    url += `query?where=FIRE_NUMBER='${fireNumber}'&geometryType=esriGeometryEnvelope&inSR=4326&spatialRel=esriSpatialRelIntersects&units=esriSRUnit_Meter&outFields=*&returnGeometry=${options && options.returnGeometry ? true : false}&returnCentroid=${options && options.returnCentroid ? true : false}&returnExtentOnly=${options && options.returnExtent ? true : false}&featureEncoding=esriDefault&outSR=4326&defaultSR=4326&returnIdsOnly=false&returnQueryGeometry=false&cacheHint=false&returnExceededLimitFeatures=true&sqlFormat=none&f=pjson&token=`\n\n    let headers = new HttpHeaders();\n    headers.append('Access-Control-Allow-Origin','*');\n    headers.append('Accept','*/*');\n    return this.http.get<any>(encodeURI(url), {headers})\n  }\n\n  getEvacOrdersByEventNumber (eventNumber: string, options: AgolOptions = null): Observable<any> {\n    let url = this.appConfigService.getConfig().externalAppConfig['AGOLevacOrders'].toString()\n    if (!url.endsWith('/')) {\n      url += '/'\n    }\n    // append query. Only search for Fire events\n    url += `query?where=EVENT_NUMBER='${eventNumber}'&geometryType=esriGeometryEnvelope&inSR=4326&spatialRel=esriSpatialRelIntersects&units=esriSRUnit_Meter&outFields=*&returnGeometry=${options && options.returnGeometry ? true : false}&returnCentroid=${options && options.returnCentroid ? true : false}&returnExtentOnly=${options && options.returnExtent ? true : false}&featureEncoding=esriDefault&outSR=4326&defaultSR=4326&returnIdsOnly=false&returnQueryGeometry=false&cacheHint=false&returnExceededLimitFeatures=true&sqlFormat=none&f=pjson&token=`\n\n    let headers = new HttpHeaders();\n    headers.append('Access-Control-Allow-Origin','*');\n    headers.append('Accept','*/*');\n    return this.http.get<any>(encodeURI(url), {headers})\n  }\n\n  getEvacOrders (location: { x: number, y: number} | null = null, options: AgolOptions = null): Observable<any> {\n    let url = this.appConfigService.getConfig().externalAppConfig['AGOLevacOrders'].toString()\n    if (!url.endsWith('/')) {\n      url += '/'\n    }\n    // append query. Only search for Fire events\n    url += `query?where=EVENT_TYPE='fire'&geometryType=esriGeometryEnvelope&inSR=4326&spatialRel=esriSpatialRelIntersects&units=esriSRUnit_Meter&outFields=*&returnGeometry=${options && options.returnGeometry ? true : false}&returnCentroid=${options && options.returnCentroid ? true : false}&returnExtentOnly=${options && options.returnExtent ? true : false}&featureEncoding=esriDefault&outSR=4326&defaultSR=4326&returnIdsOnly=false&returnQueryGeometry=false&cacheHint=false&returnExceededLimitFeatures=true&sqlFormat=none&f=pjson&token=`\n\n    if (location) {\n      // Get the incident geometry, buffer the points by x metres\n      // right now, just moving by 2 points of lat/long\n      url += `&geometry=${location.x - 1},${location.y - 1},${location.x + 1},${location.y + 1}`\n    }\n\n    let headers = new HttpHeaders();\n    headers.append('Access-Control-Allow-Origin','*');\n    headers.append('Accept','*/*');\n    return this.http.get<any>(encodeURI(url), {headers})\n  }\n\n  getAreaRestrictionsByID (sysId: string, options: AgolOptions = null): Observable<any> {\n    let url = this.appConfigService.getConfig().externalAppConfig['AGOLareaRestrictions'].toString();\n    if (!url.endsWith('/')) {\n      url += '/'\n    }\n    // append query\n    url += `query?where=PROT_RA_SYSID=${sysId}&geometryType=esriGeometryEnvelope&inSR=4326&spatialRel=esriSpatialRelIntersects&units=esriSRUnit_Meter&outFields=*&returnGeometry=${options && options.returnGeometry ? true : false}&returnCentroid=${options && options.returnCentroid ? true : false}&returnExtentOnly=${options && options.returnExtent ? true : false}&featureEncoding=esriDefault&outSR=4326&defaultSR=4326&returnIdsOnly=false&returnQueryGeometry=false&cacheHint=false&returnExceededLimitFeatures=true&sqlFormat=none&f=pjson&token=`\n\n    let headers = new HttpHeaders();\n    headers.append('Access-Control-Allow-Origin','*');\n    headers.append('Accept','*/*');\n    return this.http.get<any>(encodeURI(url),{headers})\n  }\n\n  getAreaRestrictions (location: { x: number, y: number} | null = null, options: AgolOptions = null): Observable<any> {\n    let url = this.appConfigService.getConfig().externalAppConfig['AGOLareaRestrictions'].toString();\n\n    if (!url.endsWith('/')) {\n      url += '/'\n    }\n\n    // append query\n    url += `query?where=1=1&geometryType=esriGeometryEnvelope&inSR=4326&spatialRel=esriSpatialRelIntersects&units=esriSRUnit_Meter&outFields=*&returnGeometry=${options && options.returnGeometry ? true : false}&returnCentroid=${options && options.returnCentroid ? true : false}&returnExtentOnly=${options && options.returnExtent ? true : false}&featureEncoding=esriDefault&outSR=4326&defaultSR=4326&returnIdsOnly=false&returnQueryGeometry=false&cacheHint=false&returnExceededLimitFeatures=true&sqlFormat=none&f=pjson&token=`\n\n    if (location) {\n      // Get the incident geometry, buffer the points by x metres\n      // right now, just moving by 2 points of lat/long\n      url += `&geometry=${location.x - 1},${location.y - 1},${location.x + 1},${location.y + 1}`\n    }\n\n    let headers = new HttpHeaders();\n    headers.append('Access-Control-Allow-Origin','*');\n    headers.append('Accept','*/*');\n    return this.http.get<any>(encodeURI(url),{headers})\n  }\n\n  getBansAndProhibitionsById (sysId: string, options: AgolOptions = null): Observable<any> {\n    let url = this.appConfigService.getConfig().externalAppConfig['AGOLBansAndProhibitions'].toString();\n\n    if (!url.endsWith('/')) {\n      url += '/'\n    }\n\n    // append query\n    url += `query?where=PROT_BAP_SYSID=${sysId}&geometryType=esriGeometryEnvelope&inSR=4326&spatialRel=esriSpatialRelIntersects&units=esriSRUnit_Meter&outFields=*&returnGeometry=${options && options.returnGeometry ? true : false}&returnCentroid=${options && options.returnCentroid ? true : false}&returnExtentOnly=${options && options.returnExtent ? true : false}&featureEncoding=esriDefault&outSR=4326&defaultSR=4326&returnIdsOnly=false&returnQueryGeometry=false&cacheHint=false&returnExceededLimitFeatures=true&sqlFormat=none&f=pjson&token=`\n\n    let headers = new HttpHeaders();\n    headers.append('Access-Control-Allow-Origin','*');\n    headers.append('Accept','*/*');\n    return this.http.get<any>(encodeURI(url),{headers})\n  }\n\n  getBansAndProhibitions (location: { x: number, y: number} | null = null, options: AgolOptions = null): Observable<any> {\n    let url = this.appConfigService.getConfig().externalAppConfig['AGOLBansAndProhibitions'].toString();\n\n    if (!url.endsWith('/')) {\n      url += '/'\n    }\n\n    // append query\n    url += `query?where=1=1&geometryType=esriGeometryEnvelope&inSR=4326&spatialRel=esriSpatialRelIntersects&units=esriSRUnit_Meter&outFields=*&returnGeometry=${options && options.returnGeometry ? true : false}&returnCentroid=${options && options.returnCentroid ? true : false}&returnExtentOnly=${options && options.returnExtent ? true : false}&featureEncoding=esriDefault&outSR=4326&defaultSR=4326&returnIdsOnly=false&returnQueryGeometry=false&cacheHint=false&returnExceededLimitFeatures=true&sqlFormat=none&f=pjson&token=`\n\n    if (location) {\n      // Get the incident geometry, buffer the points by x metres\n      // right now, just moving by 2 points of lat/long\n      url += `&geometry=${location.x - 1},${location.y - 1},${location.x + 1},${location.y + 1}`\n    }\n\n    let headers = new HttpHeaders();\n    headers.append('Access-Control-Allow-Origin','*');\n    headers.append('Accept','*/*');\n    return this.http.get<any>(encodeURI(url),{headers})\n  }\n\n  getAreaRestrictionsWfs () {\n    const url = 'https://openmaps.gov.bc.ca/geo/pub/WHSE_LAND_AND_NATURAL_RESOURCE.PROT_RESTRICTED_AREAS_SP/ows?service=wfs&version=1.1.0&request=GetFeature&typename=WHSE_LAND_AND_NATURAL_RESOURCE.PROT_RESTRICTED_AREAS_SP&outputFormat=application/json&SRSName=urn:x-ogc:def:crs:EPSG:4326'\n    let headers = new HttpHeaders();\n    headers.append('Access-Control-Allow-Origin','*');\n    headers.append('Accept','*/*');\n    return this.http.get<any>(encodeURI(url),{headers})\n  }\n\n  // Wont be needed when we point to our internal cache\n  getActiveFireCount (): Observable<any> {\n    let url = this.appConfigService.getConfig().externalAppConfig['AGOLactiveFirest'].toString();\n    url += `/query?f=json&where=FIRE_STATUS <> 'Out'&returnGeometry=false&spatialRel=esriSpatialRelIntersects&outFields=*&outStatistics=[{\\\"statisticType\\\":\\\"count\\\",\\\"onStatisticField\\\":\\\"OBJECTID\\\",\\\"outStatisticFieldName\\\":\\\"value\\\"}]`\n    return this.http.get<any>(encodeURI(url));\n  }\n\n  getActiveFiresNoGeom (): Observable<any> {\n    let url = this.appConfigService.getConfig().externalAppConfig['AGOLactiveFirest'].toString();\n    url += `/query?f=json&where=FIRE_STATUS <> 'Out'&returnGeometry=false&spatialRel=esriSpatialRelIntersects&outFields=*`\n    return this.http.get<any>(encodeURI(url));\n  }\n\n  getOutFiresNoGeom (): Observable<any> {\n    let url = this.appConfigService.getConfig().externalAppConfig['AGOLactiveFirest'].toString();\n    url += `/query?f=json&where=FIRE_STATUS = 'Out'&returnGeometry=false&spatialRel=esriSpatialRelIntersects&outFields=*`\n    return this.http.get<any>(encodeURI(url));\n  }\n\n  getCurrentYearFireLastXDaysStats(lastXDays: number): Observable<any> {\n    let startdate = new Date();\n    const enddate = new Date();\n    startdate.setDate(startdate.getDate() - lastXDays);\n    const sStartdate = `${startdate.getFullYear()}-${startdate.getMonth() + 1}-${startdate.getDate()} ${startdate.getHours() < 10 ? '0' : ''}${startdate.getHours()}:${startdate.getMinutes() < 10 ? '0' : ''}${startdate.getMinutes()}:${startdate.getSeconds() < 10 ? '0' : ''}${startdate.getSeconds()}`\n    const sEnddate = `${enddate.getFullYear()}-${enddate.getMonth() + 1}-${enddate.getDate()} ${enddate.getHours() < 10 ? '0' : ''}${enddate.getHours()}:${enddate.getMinutes() < 10 ? '0' : ''}${enddate.getMinutes()}:${enddate.getSeconds() < 10 ? '0' : ''}${enddate.getSeconds()}`\n\n    let url = `${this.appConfigService.getConfig().externalAppConfig['AGOLactiveFirest']}/query?f=json&` +\n        `where=IGNITION_DATE<=timestamp '${sEnddate}' AND IGNITION_DATE>=timestamp '${sStartdate}'` +\n        `&returnGeometry=false&spatialRel=esriSpatialRelIntersects&outFields=*` +\n        `&outStatistics=[{\\\"statisticType\\\":\\\"count\\\",\\\"onStatisticField\\\":\\\"OBJECTID\\\",\\\"outStatisticFieldName\\\":\\\"value\\\"}]`;\n    url = encodeURI(url);\n    return this.http.get<any>(url);\n  }\n\n  getCurrentYearFireStats(): Observable<any> {\n    let url = `${this.appConfigService.getConfig().externalAppConfig['AGOLactiveFirest']}/query?f=json&where=1=1&returnGeometry=false&spatialRel=esriSpatialRelIntersects&\n    outFields=*&outStatistics=[{\\\"statisticType\\\":\\\"count\\\",\\\"onStatisticField\\\":\\\"OBJECTID\\\",\\\"outStatisticFieldName\\\":\\\"value\\\"}]`;\n    url = encodeURI(url);\n    return this.http.get<any>(url);\n}\n}\n","import { Injectable, Injector } from '@angular/core';\nimport { TokenService} from '@wf1/core-ui';\nimport { WfDevice } from '@wf1/wfcc-application-ui';\nimport { ROLES_UI } from '../shared/scopes/scopes';\n\n@Injectable({\n    providedIn: 'root'\n})\nexport class ApplicationStateService {\n\n    tokenService: TokenService;\n\n    constructor(private injector: Injector\n    ) {\n\n    }\n\n    getDevice(): WfDevice {\n        if ( window.innerWidth < 768 || ( window.innerWidth >= 768 && window.innerHeight < 450 ) ) {\nreturn 'mobile';\n}\n\n        return 'desktop';\n    }\n\n    getOrientation(): 'landscape'|'portrait' {\n        if ( window.innerWidth > window.innerHeight ) {\nreturn 'landscape';\n}\n\n        return 'portrait';\n    }\n\n    private checkMobileResolution() {\n        if (window.innerWidth < 768 || (window.innerWidth < 900 && window.innerHeight < 450)/*support for landscape mobile views*/) {\n            return true;\n        } else {\n            return false;\n        }\n    }\n\n    public getIsMobileResolution(): boolean {\n        return this.checkMobileResolution();\n    }\n\n    public doesUserHaveScopes(scopes: string[]): boolean {\n        return this.getTokenService().doesUserHaveApplicationPermissions(\n            scopes);\n    }\n\n    public getUserCredentialsEmitter() {\n        return this.getTokenService().credentialsEmitter;\n    }\n\n    public getUserDetails() {\n        return this.getTokenService() ? this.getTokenService().getTokenDetails() : null;\n    }\n\n    private getTokenService() {\n        return this.tokenService ? this.tokenService : this.injector.get(TokenService);\n    }\n\n    public isAdminPageAccessable(): boolean {\n      return this.doesUserHaveScopes([ROLES_UI.ADMIN]) || this.doesUserHaveScopes([ROLES_UI.IM_ADMIN])\n    }\n\n}\n","import { EventEmitter, Injectable, NgZone } from '@angular/core';\nimport { MatSnackBarConfig } from '@angular/material/snack-bar';\nimport { MatLegacySnackBar as MatSnackBar} from '@angular/material/legacy-snack-bar';\nimport { Router } from '@angular/router';\nimport { FCM } from '@capacitor-community/fcm';\nimport { Store } from '@ngrx/store';\nimport { BehaviorSubject, fromEvent } from 'rxjs';\nimport { EventEmitterService } from './event-emitter.service';\nimport { environment } from \"../../environments/environment\";\nimport { RootState } from '../store';\nimport { ApplicationStateService } from './application-state.service';\nimport { App, AppState } from '@capacitor/app';\nimport { Device } from '@capacitor/device';\nimport { Geolocation, Position } from '@capacitor/geolocation';\nimport { Browser } from '@capacitor/browser';\nimport { PushNotificationSchema, PushNotifications } from '@capacitor/push-notifications';\nimport { AppLauncher } from '@capacitor/app-launcher';\nimport { AndroidPostNotificationPermission } from 'android-post-notification-permission';\nimport { NotificationConfig, NotificationSnackbarComponent } from '../components/notification-snackbar/notification-snackbar.component';\n\nexport interface CompassHeading {\n    magneticHeading?: number //The heading in degrees from 0-359.99 at a single moment in time. (Number)\n    trueHeading?: number //The heading relative to the geographic North Pole in degrees 0-359.99 at a single moment in time. A negative value indicates that the true heading can't be determined. (Number)\n    headingAccuracy?: number //The deviation in degrees between the reported heading and the true heading. (Number)\n    timestamp?: string //The time at which this heading was determined. (DOMTimeStamp)\n    error?: string\n}\n\nexport interface LocationNotification {\n    latitude: number,\n    longitude: number\n    radius: number\n    featureId: string\n    featureType: string\n    fireYear?: number\n}\n\nconst UPDATE_AFTER_INACTIVE_MILLIS = 1000 * 60 // 1 minute\nconst REFRESH_INTERVAL_ACTIVE_MILLIS = 5 * 1000 * 60 // 5 minutes\n\n@Injectable({\n    providedIn: 'root',\n})\nexport class CapacitorService {\n    resume: BehaviorSubject<boolean>;\n    initialized: Promise<any>;\n    fbAppInstalled: boolean;\n    twitterAppInstalled: boolean;\n    appState: AppState;\n    isIOSPlatform: boolean;\n    isAndroidPlatform: boolean;\n    isWebPlatform: boolean;\n    deviceId: string;\n    pnNav = null;\n    notificationToken = null;\n    updateMainMapLayers = new EventEmitter();\n    currentHeadingPromise: Promise<CompassHeading>\n    locationNotifications = new EventEmitter<LocationNotification>()\n    inactiveStart: number;\n    refreshTimer\n    locationNotificationsDelay = 5000\n    notificationSnackbarPromise = Promise.resolve()\n    registeredForNotifications = false\n\n    constructor(\n        private zone: NgZone,\n        protected router: Router,\n        protected store: Store<RootState>,\n        protected eventEmitterService: EventEmitterService,\n        protected stateService: ApplicationStateService,\n        protected snackbar: MatSnackBar\n    ) {\n        this.resume = new BehaviorSubject<boolean>(null);\n        fromEvent(document, 'resume').subscribe(event => {\n            this.zone.run(() => {\n                this.onResume();\n            });\n        });\n\n        this.isIOSPlatform = false;\n        this.isAndroidPlatform = false;\n        this.isWebPlatform = false;\n        this.fbAppInstalled = false;\n        this.twitterAppInstalled = false;\n        this.deviceId = '';\n\n        this.initialized = this.checkDevice()\n            .then(() => {\n                this.init()\n\n                // use for testing notification at startup\n                // this.emitLocationNotification( {\n                //     coords: '[48.463259,-123.312635]',\n                //     radius: '20',\n                //     messageID: 'V65055',\n                //     topicKey: 'BCWS_ActiveFires_PublicView',\n                // } )\n            })\n    }\n\n    init() {\n        let startRefreshTimer = () => {\n            stopRefreshTimer()\n\n            this.refreshTimer = setTimeout( () => {\n                this.updateMainMapLayers.emit();\n                startRefreshTimer()\n            }, REFRESH_INTERVAL_ACTIVE_MILLIS )\n        }\n\n        let stopRefreshTimer = () => {\n            if ( !this.refreshTimer ) return\n\n            clearTimeout( this.refreshTimer )\n            this.refreshTimer = null\n        }\n\n        startRefreshTimer()\n\n        App.addListener('appStateChange', (state) => {\n            if ( state.isActive ) {\n                startRefreshTimer()\n\n                if ( !this.inactiveStart ) return\n\n                let inactiveDuration = Date.now() - this.inactiveStart\n                this.inactiveStart = null\n\n                if ( inactiveDuration > UPDATE_AFTER_INACTIVE_MILLIS ) {\n                    this.updateMainMapLayers.emit();\n                }\n            }\n            else {\n                if ( !this.inactiveStart ) this.inactiveStart = Date.now()\n\n                stopRefreshTimer()\n            }\n        } ).catch((error) => {\n            console.error(error);\n          });\n\n        if (this.isWebPlatform) {\n            this.notificationToken = \"FakeForWeb\";\n            return\n        }\n\n        this.checkInstalledApps();\n\n        if (this.isAndroidPlatform) {\n            App.addListener('backButton', (state) => {\n                this.eventEmitterService.androidBackButtonPressed();\n            }).catch((error) => {\n                console.error(error);\n              });\n        }\n\n        // Request permission to use push notifications\n        this.registerForNotifications().then( registered => {\n            console.log('registeredForNotifications',registered)\n            this.registeredForNotifications = registered\n        } ).catch((error) => {\n            console.error(error);\n          });\n\n        // On success, we should be able to receive notifications\n        PushNotifications.addListener('registration', (token) => {\n            console.log('PNN REgister success ' + token.value);\n            if (this.isAndroidPlatform) {\n                this.notificationToken = token.value;\n            } else if (this.isIOSPlatform) {\n                FCM.getToken().then((response) => {\n                    this.notificationToken = response.token;\n                }).catch((error) => {\n                    console.error(error);\n                  });\n            }\n        } ).catch((error) => {\n            console.error(error);\n          });\n\n        // Some issue with our setup and push will not work\n        PushNotifications.addListener('registrationError', (error) => {\n            console.log('PNN REgister fail ' + error);\n        }).catch((err) => {\n            console.error(err);\n          });\n\n        // Show us the notification payload if the app is open on our device\n        PushNotifications.addListener('pushNotificationReceived', (notification) => {\n\n            console.log('pushNotificationReceived', notification)\n            this.handleLocationPushNotification( notification )\n        }).catch((error) => {\n            console.error(error);\n          });\n\n        // Method called when tapping on a notification\n        PushNotifications.addListener('pushNotificationActionPerformed', (ev) => {\n            let data = ev.notification.data\n            console.log('pushNotificationActionPerformed', data)\n\n                this.emitLocationNotification( data )\n        }).catch((error) => {\n            console.error(error);\n          });\n    }\n\n    registerForNotifications(): Promise<boolean> {\n        return AndroidPostNotificationPermission.checkPermissions()\n            .then( ( status ) => {\n                console.log('registerForNotifications status 1',status)\n                if ( status.postNotifications == 'prompt' )\n                    return AndroidPostNotificationPermission.requestPermissions()\n\n                return status\n            } )\n            .then( ( status ) => {\n                console.log('registerForNotifications status 2',status)\n                if ( status.postNotifications == 'granted' )\n                    return PushNotifications.register()\n                        .then( () => { return true } )\n\n                return false\n            } )\n            .catch( ( e ) => {\n                console.warn( e )\n                return false\n            })\n    }\n\n    handleLocationPushNotification( notification: PushNotificationSchema ) {\n\n        this.notificationSnackbarPromise = this.notificationSnackbarPromise.then( () => {\n            return new Promise( ( res, rej ) => {\n                let sb = this.showNotificationSnackbar( notification.title, notification.body )\n\n                sb.onAction().subscribe( () => {\n                    this.emitLocationNotification( notification.data )\n                } )\n\n                sb.afterDismissed().subscribe( () => {\n                    res()\n                } )\n            } )\n        } )\n\n        return true\n    }\n\n    emitLocationNotification( data ) {\n        setTimeout(() => {\n            try {\n                let c = JSON.parse(data['coords']),\n                    r = JSON.parse(data['radius'])\n\n                this.locationNotifications.emit({\n                    latitude: c[0],\n                    longitude: c[1],\n                    radius: r,\n                    featureId: data['messageID'],\n                    featureType: data['topicKey']\n                })\n\n                this.locationNotificationsDelay = 0\n            }\n            catch (e) {\n                console.warn('push notification not handled:', e, data)\n            }\n        }, this.locationNotificationsDelay );\n    }\n\n    showNotificationSnackbar( title: string, body: string ) {\n        let cfg: MatSnackBarConfig<NotificationConfig> = {\n            data: { title, body },\n            // duration: 20 * 1000,\n            verticalPosition: 'top'\n        }\n\n        return this.snackbar.openFromComponent( NotificationSnackbarComponent, cfg )\n    }\n\n    checkDevice() {\n        // const deviceInfo = <DeviceInfo>\n        return Device.getInfo()\n            .then( (devInfo) => {\n                console.log(devInfo)\n                if (!devInfo) return\n\n                this.isIOSPlatform = devInfo.platform == 'ios';\n                this.isAndroidPlatform = devInfo.platform == 'android';\n                this.isWebPlatform = devInfo.platform != 'ios' && devInfo.platform != 'android';\n\n                return Device.getId()\n            } )\n            .then( ( deviceId ) => {\n                console.log(deviceId)\n                this.deviceId = deviceId.identifier;\n            })\n    }\n\n    async getCurrentPosition(options?: PositionOptions): Promise<Position> {\n        const coordinates = Geolocation.getCurrentPosition(options);\n        return coordinates;\n    }\n\n    checkInstalledApps() {\n        this.checkTwitterAppInstalled()\n            .then((result) => {\n                this.twitterAppInstalled = result;\n            },\n                error => {\n                    this.twitterAppInstalled = false;\n                });\n\n        this.checkFbAppInstalled()\n            .then((result) => {\n                this.fbAppInstalled = result;\n            },\n                error => {\n                    this.fbAppInstalled = false;\n                });\n    }\n\n    onResume(): void {\n        this.resume.next(true);\n    }\n\n    openLinkInAppBrowser(url: string) {\n        Browser.open({\n            url: url,\n            toolbarColor: '#f7f7f9'\n        }).catch((error) => {\n            console.error(error);\n          });;\n    }\n\n    private async checkTwitterAppInstalled(): Promise<boolean> {\n        if (this.isMobilePlatform()) {\n            const scheme = this.isIOSPlatform ? 'twitter://' : 'com.twitter.android';\n            const ret = await AppLauncher.canOpenUrl({ url: scheme });\n            return ret.value;\n        }\n        return false;\n    }\n\n    private async checkFbAppInstalled(): Promise<boolean> {\n        if (this.isMobilePlatform()) {\n            const scheme = this.isIOSPlatform ? 'fb://' : 'com.facebook.katana';\n            const ret = await AppLauncher.canOpenUrl({ url: scheme });\n            return ret.value;\n        }\n        return false;\n    }\n\n    private async appIsInstalled(scheme: string): Promise<boolean> {\n        const ret = await AppLauncher.canOpenUrl({ url: scheme });\n        return ret.value;\n    }\n\n    initOfflinePageSettings() {\n        App.addListener('appStateChange', (state: AppState) => {\n            this.appState = state;\n        }).catch((error) => {\n            console.error(error);\n          });\n    }\n\n    public isMobilePlatform(): boolean {\n        if (this.isIOSPlatform || this.isAndroidPlatform) { return true; }\n        return !!environment['is_mobile_platform'];\n    }\n\n    getPnUrl() {\n        return this.pnNav;\n    }\n\n    public getNotificationToken() {\n        return this.notificationToken;\n    }\n\n    public setNotificationToken(token: string) {\n        this.notificationToken = token;\n    }\n\n    openUrlInApp(url: string) {\n        let scheme;\n        let schemeUrl;\n        // twitter\n        if (url.indexOf('twitter.com/') !== -1) {\n            scheme = this.isIOSPlatform ? 'twitter://' : 'com.twitter.android';\n            schemeUrl = 'twitter://user?screen_name=' + url.split('twitter.com/')[1];\n        }\n\n        if (scheme && schemeUrl) {\n            AppLauncher.openUrl({ url: schemeUrl })\n            .catch((error) => {\n                console.error(error);\n              });;\n        }\n\n    }\n\n    isAndroid() {\n        return this.isAndroidPlatform;\n    }\n\n    isIOS() {\n        return this.isIOSPlatform;\n    }\n\n    getCurrentHeading(): Promise<CompassHeading> {\n        let compass = navigator['compass']\n        if (!compass) return Promise.reject(Error('navigator.compass not available'))\n        else{\n            const currentHeading = new Promise((res, rej) => {\n                    compass.getCurrentHeading(\n                        (heading: CompassHeading) => {\n                            res(heading)\n                            this.currentHeadingPromise = null\n                        },\n                        (error) => {\n                            rej(Error('Failed to get heading: ' + JSON.stringify(error)))\n                            this.currentHeadingPromise = null\n                        }\n                    )\n                })\n            \n            this.currentHeadingPromise = currentHeading;\n\n            return this.currentHeadingPromise;\n        }\n    }\n}\n","import { NumberFormatStyle } from \"@angular/common\";\nimport { Injectable } from \"@angular/core\";\nimport { CapacitorService } from \"./capacitor-service\";\nimport { MatLegacySnackBar as MatSnackBar } from \"@angular/material/legacy-snack-bar\";\n\nconst MAX_CACHE_AGE = 30 * 1000\n\nexport interface Coordinates {\n    readonly accuracy: number;\n    readonly altitude: number | null;\n    readonly altitudeAccuracy: number | null;\n    readonly heading: number | null;\n    readonly latitude: number;\n    readonly longitude: number;\n    readonly speed: number | null;\n}\n\nexport interface Position {\n    readonly coords: Coordinates;\n    readonly timestamp: NumberFormatStyle;\n}\n\n@Injectable()\nexport class CommonUtilityService {\n    private myLocation;\n    private locationTime;\n    private location;\n\n    constructor (\n        protected snackbarService : MatSnackBar,\n        protected capacitorService: CapacitorService\n     ) {}\n\n     getCurrentLocationPromise(): Promise<Position> {\n        const self = this\n        const now = Date.now()\n        if (this.locationTime && (now - this.locationTime) < MAX_CACHE_AGE){\n            return this.location\n        }\n\n        this.locationTime = now\n        this.location = new Promise<Position>(function (res, rej) {\n            self.getCurrentLocation(res)\n        })\n        return this.location\n    }\n\n    getCurrentLocation(callback?: (p: Position) => void) {\n        if (this.capacitorService.isMobilePlatform()) {\n            this.determineCurrentLocation()\n        }\n    }\n\n    preloadGeolocation() {\n        if (this.capacitorService.isMobilePlatform()) {\n            this.preloadMobileGeolocation();         \n        }\n        else {\n           this.preloadDesktopGeolocation();\n        }\n    }\n\n    checkIfAndroidIOSPlatform(): boolean {\n        return (this.capacitorService.isAndroid() || this.capacitorService.isIOS()) ?  true : false;\n    }\n\n    determineCurrentLocation() {\n        if (this.checkIfAndroidIOSPlatform()) { //use cordova plugin for ionic capacitor\n            this.getMobileCurrentLocation();\n        } else {       \n                this.getAlternativeCurrentLocation();\n        }\n    }\n\n    getMobileCurrentLocation(callback?: (p: Position) => void) {\n        if (navigator?.geolocation) {\n            return navigator.geolocation.getCurrentPosition((position) => {\n                this.myLocation = position ? position.coords : undefined;\n                if (callback) {\n                    callback(position);\n                }\n                return position ? position.coords : undefined;\n            }, error => {\n                this.snackbarService.open('Unable to retrieve the current location.', '', {\n                    duration: 5,\n                    panelClass: 'snack-bar-warning'\n                });\n            },\n                { enableHighAccuracy: true }\n            );\n        }\n        else {\n            console.error('Unable to retrieve the current location.');\n            this.snackbarService.open('Unable to retrieve the current location.', '', {\n                duration: 5,\n                panelClass: 'snack-bar-warning'\n            });\n        }\n    }\n\n    getAlternativeCurrentLocation(callback?: (p: Position) => void) {\n        if (navigator?.geolocation) {\n            return navigator.geolocation.getCurrentPosition((position) => {\n                this.myLocation = position ? position.coords : undefined;\n                if (callback) {\n                    callback(position);\n                }\n                return position ? position.coords : undefined;\n            }, error => {\n                this.snackbarService.open('Unable to retrieve the current location.', '', {\n                    duration: 5,\n                });\n            },\n                { enableHighAccuracy: true }\n            );\n        }\n        else {\n            console.warn('Unable to access geolocation');\n            this.snackbarService.open('Unable to access location services.', '', {\n                duration: 5,\n            });\n        }\n    }\n\n    preloadMobileGeolocation() {\n        if (this.checkIfAndroidIOSPlatform()) { //use cordova plugin for ionic capacitor\n            this.preloadMobileGeolocationIOSAndroid();\n        }\n        else {\n            this.preloadMobileGeolocationGoogle();\n        }\n    }\n\n    preloadMobileGeolocationIOSAndroid() {\n        navigator.geolocation.getCurrentPosition((position) => {\n            this.myLocation = position.coords;\n        }, error => {\n            console.error('Failed to preload my location');\n        },\n            { enableHighAccuracy: true }\n        );\n    }\n\n    preloadMobileGeolocationGoogle() {\n        this.capacitorService.getCurrentPosition({ enableHighAccuracy: true })\n                    .then((position) => {\n                        this.myLocation = position.coords;\n                },\n                (error) => {\n                    console.error('Failed to preload my location');\n                });\n    }\n\n    preloadDesktopGeolocation() {\n        navigator.geolocation.getCurrentPosition((position) => {\n            this.myLocation = position.coords;\n        }, error => {\n            this.snackbarService.open('Unable to retrieve the current location','Cancel', {\n                duration: 5000\n            })\n            },\n            { enableHighAccuracy: true }\n        );\n    }\n\n    sortAddressList(results: any, value: string) {\n        let address = null;\n        let trimmedAddress = null;\n        let valueLength = null;\n        let valueMatch = null;\n        results.forEach((result) => {\n            address = this.getFullAddress(result);\n            result.address = address.trim();\n            trimmedAddress = result.address;\n            valueLength = value.length;\n            if (trimmedAddress != null) valueMatch = trimmedAddress.substring(0, valueLength);\n\n            if (address != null && valueLength != null && valueMatch != null &&\n              (value.toUpperCase() === address.toUpperCase() || value.toUpperCase() === valueMatch.toUpperCase())) {\n                const index = results.indexOf(result);\n                if (index !== -1) {\n                  results.splice(index, 1);\n                }\n                let resultToBeUnshifted = result;\n\n                results.unshift(resultToBeUnshifted);\n            }\n\n          });\n\n          return results;\n          \n    } \n\n    getFullAddress(location) {\n        let result = \"\";\n    \n        if(location.civicNumber) {\n            result += location.civicNumber\n        }\n    \n        if(location.streetName) {\n            result += \" \" + location.streetName\n        }\n    \n        if(location.streetQualifier) {\n            result += \" \" + location.streetQualifier\n        }\n    \n        if(location.streetType) {\n            result += \" \" + location.streetType\n        }\n    \n        return result;\n      }\n\n}\n","import { HttpClient, HttpEventType, HttpRequest, HttpResponse } from '@angular/common/http';\nimport { Injectable } from '@angular/core';\nimport { AppConfigService, TokenService } from \"@wf1/core-ui\";\nimport { FileDetailsRsrc, FileMetadataRsrc } from \"@wf1/wfdm-document-management-api\";\nimport { UUID } from 'angular2-uuid';\nimport { environment } from '../../environments/environment';\n\nexport const UPLOAD_DIRECTORY = '/WFIM/uploads'\n\n@Injectable({\n    providedIn: 'root'\n})\nexport class DocumentManagementService {\n    wfdmBaseUrl: string\n    userGuid: string\n\n    constructor(\n        private appConfigService: AppConfigService,\n        private tokenService: TokenService,\n        private httpClient: HttpClient\n    ) {\n        this.tokenService.credentialsEmitter.subscribe( ( cred ) => {\n            this.userGuid = cred.user_guid || cred.userGuid\n        } )\n\n        this.appConfigService.loadAppConfig().then( () => {\n            this.wfdmBaseUrl = this.appConfigService.getConfig().rest[ 'wfdm' ]\n\n            this.tokenService.authTokenEmitter.subscribe( ( token ) => {\n                this.installServiceWorkerPathHandlers( token )\n            } )\n        } )\n    }\n\n    downloadDocument (fileId) {\n      const url = `${this.makeDocumentUrl(fileId)}`\n      return this.httpClient.request( new HttpRequest( 'GET', url, {\n        reportProgress: true,\n        responseType: 'blob'\n      }))\n    }\n\n    uploadDocument( {\n        file,\n        fileName,\n        userId = this.userGuid,\n        uploadDirectory = UPLOAD_DIRECTORY,\n        onProgress = () => {}\n    }: {\n        file: File,\n        fileName?: string,\n        userId?: string,\n        uploadDirectory?: string,\n        onProgress?: ( percent: number, loaded: number, total: number ) => void\n    } ): Promise<FileDetailsRsrc> {\n        if ( !fileName ) fileName = file.name\n\n        const unique = UUID.UUID()\n        const path = `${ uploadDirectory }/users/${ userId }/${ unique }--${ fileName }`\n\n        const formData = new FormData()\n        formData.append( 'resource', new Blob( [\n            JSON.stringify( makeFileDetail( file.size, path, [\n                makeMetadata( 'actual-filename', file.name ),\n                makeMetadata( 'content-type', file.type ),\n            ] ) )\n        ], { type: 'application/json' } ) )\n\n        formData.append( 'file', file )\n\n        const url = `${ this.wfdmBaseUrl }/documents`\n\n        let req = this.httpClient.request( new HttpRequest( 'POST', url, formData, {\n            reportProgress: true,\n            responseType: 'json',\n        } ) )\n\n        return new Promise( ( res, rej ) => {\n            req.subscribe(\n                ( ev ) => {\n                    if ( ev.type == HttpEventType.UploadProgress ) {\n                        onProgress( Math.round( 100 * ev.loaded / ev.total ), ev.loaded, ev.total )\n                    }\n                    else if ( ev.type == HttpEventType.Sent ) {\n                    }\n                    else if ( ev instanceof HttpResponse ) {\n                        onProgress( 100, file.size, file.size )\n                        res( ev.body as FileDetailsRsrc )\n                    }\n                },\n                ( err ) => rej( err )\n            )\n        } )\n    }\n\n    installServiceWorkerPathHandlers( token: string ) {\n        if ( environment[ 'document_management_proxy_auth_url' ] ) {\n            let url = environment[ 'document_management_proxy_auth_url' ] + '/' + token\n            fetch( url, {\n                method: 'PUT',\n                cache: 'no-cache',\n                body: new FormData()\n            } ).catch( console.warn )\n        }\n        else {\n            navigator.serviceWorker.controller.postMessage( {\n                type: 'token-for-path',\n                id: 'wfim-uploads',\n                pathPattern: new RegExp( `^${ this.wfdmBaseUrl }/documents/[0-9]+/bytes` ),\n                token: token\n            } )\n        }\n    }\n\n    makeDocumentUrl( fileId: string ): string {\n        if ( environment[ 'document_management_proxy_auth_url' ] )\n            return `${ this.wfdmBaseUrl }/documents/${ fileId }/bytes`\n\n        let proxy = this.appConfigService.getConfig().externalAppConfig['wfdmProxy'];\n        return `${proxy}?documentId=${ fileId }`;\n    }\n}\n\nconst FileDetailsType = 'http://resources.wfdm.nrs.gov.bc.ca/fileDetails';\nfunction makeFileDetail( fileSize: number, fileName: string, metadata: Array<FileMetadataRsrc> ): FileDetailsRsrc {\n    return {\n        '@type': FileDetailsType,\n        type: FileDetailsType,\n        // fileId: undefined,\n        // parent: undefined,\n        fileSize: fileSize,\n        fileType: \"DOCUMENT\",\n        filePath: fileName,\n        // retention: undefined,\n        security: [],\n        metadata: metadata\n        // fileCheckout: null,\n        // lockedInd: null,\n        // uploadedOnTimestamp: null\n    } as FileDetailsRsrc;\n}\n\nconst MetadataType =  'http://resources.wfdm.nrs.gov.bc.ca/fileMetadataResource';\nfunction makeMetadata( name: string, value: string, etag?: string ): FileMetadataRsrc {\n    return {\n        '@type': MetadataType,\n        type: MetadataType,\n        metadataName: name,\n        metadataValue: value,\n        etag: etag\n    } as FileMetadataRsrc\n}\n","import { Injectable, EventEmitter } from '@angular/core';\nimport { Subscription } from 'rxjs/internal/Subscription';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class EventEmitterService {\n\n  invokeKeyboardTabFunction = new EventEmitter();\n  invokeSideNavAccessLocked = new EventEmitter();\n  invokeAndroidBackPressed = new EventEmitter();\n  invokeGoBackRoute = new EventEmitter();\n  subsVar: Subscription;\n\n  onKeyboardShiftTabPress(name: string) {\n    this.invokeKeyboardTabFunction.emit(name);\n  }\n\n  sideNavAccessLocked(isLocked: boolean) { \n    this.invokeSideNavAccessLocked.emit(isLocked);\n  }\n\n  androidBackButtonPressed() {\n    this.invokeAndroidBackPressed.emit();\n  }\n\n  onGoBackCalled() {\n    this.invokeGoBackRoute.emit();\n  }\n}","import { Injectable } from '@angular/core'\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class LocalStorageService {\n  public saveData (key: string, value: string) {\n    localStorage.setItem(key, value)\n  }\n\n  public getData (key: string) {\n    return localStorage.getItem(key)\n  }\n  public removeData (key: string) {\n    localStorage.removeItem(key)\n  }\n\n  public clearData () {\n    localStorage.clear()\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { mapConfig } from './map.config';\nimport { AppConfigService } from '@wf1/core-ui';\n\nexport interface MapServiceStatus {\n    useSecure: boolean;\n    token?: string;\n}\n\nexport interface MapServices {\n    [service: string]: string;\n};\n\n@Injectable()\nexport class MapConfigService {\n\tconstructor(\n\t\tprivate appConfig: AppConfigService\n\t) {}\n\n\tgetMapConfig(): Promise<any> {\n        const status: MapServiceStatus = {\n            useSecure: true,\n            token: null,\n        };\n\n\t\treturn this.appConfig.loadAppConfig().then( ( config ) => mapConfig( this.appConfig.getConfig()[ 'mapServices' ], status, 'desktop', this.appConfig ) );\n\t}\n}\n","import { MapServices } from '.';\n\nexport function LayerDisplayConfig(mapServices: MapServices) {\n    return [\n        {\n          id: \"fire-group\",\n          type: \"group\",\n          title: \"BC Wildfires - Active Fires\",\n          isVisible: true,\n          items: [\n            {\n              id: 'active-wildfires-fire-of-note',\n              isVisible: true,\n              alwaysShowLegend: false\n            },\n            {\n              id: 'active-wildfires-out-of-control',\n              isVisible: true,\n              alwaysShowLegend: false\n            },\n            {\n              id: 'active-wildfires-holding',\n              isVisible: true,\n              alwaysShowLegend: false\n            },\n            {\n              id: 'active-wildfires-under-control',\n              isVisible: true,\n              alwaysShowLegend: false\n            }\n          ]\n        },\n        {\n            id: 'evacuation-orders-and-alerts-wms',\n            isVisible: true,\n            alwaysShowLegend: false\n        },\n        {\n            id: 'evacuation-orders-and-alerts-wms-highlight',\n            isVisible: false,\n            showItem: false\n        },\n        {\n            id: 'danger-rating',\n            isVisible: false,\n            alwaysShowLegend: false\n        },\n        {\n            id: 'bans-and-prohibitions',\n            isVisible: false,\n            class: 'smk-inline-legend'\n        },\n        {\n            id: 'bans-and-prohibitions-highlight',\n            isVisible: false,\n            showItem: false\n        },\n        {\n            id: 'area-restrictions',\n            isVisible: false,\n            class: 'smk-inline-legend'\n        },\n        {\n            id: 'area-restrictions-highlight',\n            isVisible: false,\n            showItem: false\n        },\n        {\n            id: \"hourly-currentforecast-firesmoke\",\n            isVisible: false\n        },\n        {\n            id: 'fire-perimeters',\n            isVisible: true,\n            class: 'smk-inline-legend'\n        },\n        {\n            id: 'bcws-activefires-publicview-inactive',\n            isVisible: false,\n            class: 'smk-inline-legend'\n        },\n        {\n            id: 'protected-lands-access-restrictions',\n            isVisible: false\n        },\n        {\n            id: 'closed-recreation-sites',\n            isVisible: false,\n            class: 'smk-inline-legend'\n        },\n        {\n            id: 'drive-bc-active-events',\n            isVisible: false\n        },\n        {\n          id: 'bc-fsr',\n          isVisible: false\n        },\n        {\n            id: \"radar-1km-rrai--radarurpprecipr14-linear\",\n            isVisible: false\n        },\n        {\n            id: \"precipitation\",\n            isVisible: false\n        },\n        {\n            id: \"current-conditions--default\",\n            isVisible: false\n        },\n        {\n            id: 'bc-fire-centres',\n            isVisible: true,\n            class: 'smk-inline-legend'\n        },\n        //{\n        //    id: 'prescribed-fire',\n        //   isVisible: false,\n        //   class: 'smk-inline-legend'\n        //},\n        //{\n        //  id: 'active-wildfires-heatmap',\n        //  isVisible: false\n        //},\n        {\n            id: \"weather-stations\",\n            isVisible: false,\n            showItem: true  // false to hide in layer list\n        },\n        {\n            id: \"clab-indian-reserves\",\n            isVisible: false,\n            class: 'smk-inline-legend'\n        },\n        {\n            id: \"fnt-treaty-land\",\n            isVisible: false,\n            class: 'smk-inline-legend'\n        },\n        {\n            id: \"abms-municipalities\",\n            isVisible: false,\n            class: 'smk-inline-legend'\n        },\n        {\n            id: \"abms-regional-districts\",\n            isVisible: false,\n            class: 'smk-inline-legend'\n        }\n    ];\n}\n","import { layerSettings } from '.';\n\nexport function AbmsMunicipalitiesLayerConfig(ls: layerSettings) {\n    return [\n        {\n            type: 'wms',\n            id: 'abms-municipalities',\n            title: 'Municipalities',\n            serviceUrl: ls.openmapsBaseUrl,\n            layerName: 'pub:WHSE_LEGAL_ADMIN_BOUNDARIES.ABMS_MUNICIPALITIES_SP',\n            styleName: '410',\n            titleAttribute: 'ADMIN_AREA_NAME',\n            geometryAttribute: 'SHAPE',\n            attributes: [\n              {\n                name: 'ADMIN_AREA_NAME',\n                title: 'Admin Area Name'\n              },\n              {\n                name: 'ADMIN_AREA_BOUNDARY_TYPE',\n                title: 'Type'\n              },\n              {\n                name: 'ADMIN_AREA_GROUP_NAME',\n                title: 'Group'\n              },\n              {\n                name: 'WEBSITE_URL',\n                title: 'URL'\n              },\n              {\n                name: 'IMAGE_URL',\n                title: 'Image'\n              }\n            ],\n            legend: {\n              title: ' ',\n              url: '/assets/images/legend_municipalities.png',\n              width: 20,\n              height: 20\n            },\n        }\n    ];\n}\n","import { layerSettings } from '.';\n\nexport function AbmsRegionalDistrictsLayerConfig(ls: layerSettings) {\n    return [\n        {\n            type: 'wms',\n            id: 'abms-regional-districts',\n            title: 'Regional Districts',\n            serviceUrl: ls.openmapsBaseUrl,\n            layerName: 'pub:WHSE_LEGAL_ADMIN_BOUNDARIES.ABMS_REGIONAL_DISTRICTS_SP',\n            styleName: '447',\n            titleAttribute: 'ADMIN_AREA_NAME',\n            geometryAttribute: 'SHAPE',\n            attributes: [\n              {\n                name: 'ADMIN_AREA_NAME',\n                title: 'Admin Area Name'\n              },\n              {\n                name: 'ADMIN_AREA_BOUNDARY_TYPE',\n                title: 'Type'\n              },\n              {\n                name: 'ADMIN_AREA_GROUP_NAME',\n                title: 'Group'\n              },\n              {\n                name: 'WEBSITE_URL',\n                title: 'URL'\n              },\n              {\n                name: 'IMAGE_URL',\n                title: 'Image'\n              }\n            ],\n            legend: {\n              title: ' ',\n              url: '/assets/images/legend_regional_districts.png',\n              width: 20,\n              height: 20\n            },\n        }\n    ];\n}\n","import { layerSettings } from '.';\n\nexport function ActiveWildfiresLayerConfig(ls: layerSettings, key: string) {\n    return [\n        {\n          type: 'vector',\n          id: 'active-wildfires-fire-of-note',\n          title: 'BC Wildfires - Active Fires - Fire of Note',\n          isQueryable: true,\n          useClustering: false,\n          dataUrl: ls.wfnewsUrl + \"/publicPublishedIncident/features?stageOfControl=FIRE_OF_NOTE\",\n          titleAttribute: \"incident_name\",\n          popupTemplate: '@wf-incident-feature',\n          header: { \"apiKey\": key },\n          attributes: [\n            {\n                name: \"incident_name\",\n                title: \"Fire Name\",\n                visible: true\n            }\n          ],\n          style:{\n           markerSize:[\n              \"24\",\n              \"24\"\n           ],\n           markerOffset:[\n              \"12\",\n              \"12\"\n           ],\n           markerUrl: \"/assets/images/local_fire_department.png\"\n          }\n        },\n        {\n          type: 'vector',\n          id: 'active-wildfires-out-of-control',\n          title: 'BC Wildfires - Active Fires - Out of Control',\n          isQueryable: true,\n          useClustering: false,\n          dataUrl: ls.wfnewsUrl + \"/publicPublishedIncident/features?stageOfControl=OUT_CNTRL\",\n          titleAttribute: \"incident_name\",\n          popupTemplate: '@wf-incident-feature',\n          header: { \"apiKey\": key },\n          attributes: [\n            {\n                name: \"incident_name\",\n                title: \"Fire Name\",\n                visible: true\n            }\n          ],\n          style:{\n            strokeWidth:\"7\",\n            strokeStyle:\"1\",\n            strokeColor:\"#00000069\",\n            strokeOpacity:\"1\",\n            fillColor:\"#FF0000\",\n            fillOpacity:\"1\",\n            fill: true\n          }\n        },\n        {\n          type: 'vector',\n          id: 'active-wildfires-holding',\n          title: 'BC Wildfires - Active Fires - Being Held',\n          isQueryable: true,\n          useClustering: false,\n          dataUrl: ls.wfnewsUrl + \"/publicPublishedIncident/features?stageOfControl=HOLDING\",\n          titleAttribute: \"incident_name\",\n          popupTemplate: '@wf-incident-feature',\n          header: { \"apiKey\": key },\n          attributes: [\n            {\n                name: \"incident_name\",\n                title: \"Fire Name\",\n                visible: true\n            }\n          ],\n          style:{\n            strokeWidth:\"7\",\n            strokeStyle:\"1\",\n            strokeColor:\"#00000069\",\n            strokeOpacity:\"1\",\n            fillColor:\"#FFFF00\",\n            fillOpacity:\"1\",\n            fill: true\n          }\n        },\n        {\n          type: 'vector',\n          id: 'active-wildfires-under-control',\n          title: 'BC Wildfires - Active Fires - Under Control',\n          isQueryable: true,\n          useClustering: false,\n          dataUrl: ls.wfnewsUrl + \"/publicPublishedIncident/features?stageOfControl=UNDR_CNTRL\",\n          titleAttribute: \"incident_name\",\n          popupTemplate: '@wf-incident-feature',\n          header: { \"apiKey\": key },\n          attributes: [\n            {\n                name: \"incident_name\",\n                title: \"Fire Name\",\n                visible: true\n            }\n          ],\n          style:{\n            strokeWidth:\"7\",\n            strokeStyle:\"1\",\n            strokeColor:\"#00000069\",\n            strokeOpacity:\"1\",\n            fillColor:\"#98E600\",\n            fillOpacity:\"1\",\n            fill: true\n          }\n        }\n    ];\n}\n","import { layerSettings } from '.';\n\nexport function ActiveWildfiresHeatmapLayerConfig(ls: layerSettings) {\n    return [\n        {\n          type: 'vector',\n          id: 'active-wildfires-heatmap',\n          title: 'BC Wildfires - Active Fires Heatmap',\n          isQueryable: false,\n          useClustering: false,\n          useHeatmap: true,\n          dataUrl: ls.wfnewsUrl + \"/publicPublishedIncident/features?cacheBust=\" + Math.floor(new Date().getTime() / 600000),\n          titleAttribute: \"incident_name\",\n          attributes: []\n        }\n    ];\n}\n","import { layerSettings } from '.';\n\nexport function AreaRestrictionsLayerConfig(ls: layerSettings) {\n    return [\n        {\n            type: 'wms',\n            id: 'area-restrictions',\n            title: 'BC Wildfire Area Restrictions',\n            serviceUrl: ls.openmapsBaseUrl,\n            layerName: 'pub:WHSE_LAND_AND_NATURAL_RESOURCE.PROT_RESTRICTED_AREAS_SP',\n            styleName: '7735',\n            titleAttribute: 'NAME',\n            geometryAttribute: 'SHAPE',\n            popupTemplate: '<div class=\"smk-popup\"><div class=\"popup-header\"><mat-icon role=\"img\" class=\"mat-icon notranslate mat-primary\" aria-hidden=\"true\" ng-reflect-svg-icon=\"map-signs\" data-mat-icon-type=\"svg\" data-mat-icon-name=\"map-signs\"><svg style=\"color: #1a5a96\" width=\"100%\" height=\"100%\" viewBox=\"0 0 1792 1792\" xmlns=\"http://www.w3.org/2000/svg\" fit=\"\" preserveAspectRatio=\"xMidYMid meet\" focusable=\"false\"><path d=\"M1745 297q10 10 10 23t-10 23l-141 141q-28 28-68 28h-1344q-26 0-45-19t-19-45v-256q0-26 19-45t45-19h576v-64q0-26 19-45t45-19h128q26 0 45 19t19 45v64h512q40 0 68 28zm-977 919h256v512q0 26-19 45t-45 19h-128q-26 0-45-19t-19-45v-512zm832-448q26 0 45 19t19 45v256q0 26-19 45t-45 19h-1344q-40 0-68-28l-141-141q-10-10-10-23t10-23l141-141q28-28 68-28h512v-192h256v192h576z\"></path></svg></mat-icon><span class=\"title-label\">Area Restrictions</span></div><div class=\"popup-title\">{{feature.properties[\"NAME\"]}}</div><div class=\"popup-attributes\"><div class=\"label\">Date Active:</div><div class=\"attribute\">{{new Date(feature.properties[\"ACCESS_STATUS_EFFECTIVE_DATE\"]).toISOString().slice(0, 10)}}</div></div><div class=\"popup-attributes\"><div class=\"label\">Fire Centre:</div><div class=\"attribute\">{{feature.properties[\"FIRE_CENTRE_NAME\"]}}</div></div><div class=\"popup-button-container\"><a class=\"popup-button\" target=\"_blank\" rel=\"noopener\" v-if=\"feature.properties[\\'BULLETIN_URL\\']\" v-bind:href=\"feature.properties[\\'BULLETIN_URL\\']\">Learn More</a></div></div>',\n            attributes: [\n                {\n                    name: 'NAME',\n                    title: 'Name'\n                },\n                {\n                    name: 'ACCESS_STATUS_EFFECTIVE_DATE',\n                    title: 'Date Active',\n                },\n                {\n                    name: 'FIRE_CENTRE_NAME',\n                    title: 'Fire Centre'\n                },\n                {\n                    name: 'BULLETIN_URL',\n                    title: 'More Information'\n                }\n            ]\n        },\n        {\n            type: 'wms',\n            id: 'area-restrictions-highlight',\n            title: 'BC Wildfire Area Restrictions',\n            serviceUrl: ls.openmapsBaseUrl,\n            layerName: 'pub:WHSE_LAND_AND_NATURAL_RESOURCE.PROT_RESTRICTED_AREAS_SP',\n            opacity: 0.8,\n            sld: `@${window.location.protocol}//${window.location.host}/assets/js/smk/area-restrictions-highlight.sld`\n        }\n    ];\n}\n","import { layerSettings } from '.';\n\nexport function BansAndProhibitionsLayerConfig(ls: layerSettings) {\n    return [\n        {\n            type: 'wms',\n            id: 'bans-and-prohibitions',\n            title: 'BC Wildfire Bans and Prohibitions',\n            serviceUrl: ls.openmapsBaseUrl,\n            layerName: 'pub:WHSE_LAND_AND_NATURAL_RESOURCE.PROT_BANS_AND_PROHIBITIONS_SP',\n            styleName: '7733',\n            opacity: 0.2,\n            titleAttribute: 'ACCESS_PROHIBITION_DESCRIPTION',\n            geometryAttribute: 'SHAPE',\n            popupTemplate: '<div class=\"smk-popup\"><div class=\"popup-header\"><mat-icon role=\"img\" class=\"mat-icon notranslate material-icons mat-icon-no-color\" aria-hidden=\"true\" data-mat-icon-type=\"font\">block</mat-icon><span class=\"title-label\">Wildfire Bans and Prohibitions</span></div><div class=\"popup-title\">{{feature.properties[\"TYPE\"]}}</div><div class=\"popup-attributes\"><div class=\"label\">Date Active:</div><div class=\"attribute\">{{new Date(feature.properties[\"ACCESS_STATUS_EFFECTIVE_DATE\"]).toISOString().slice(0, 10)}}</div></div><div class=\"popup-attributes\"><div class=\"label\">Fire Centre:</div><div class=\"attribute\">{{feature.properties[\"FIRE_CENTRE_NAME\"]}}</div></div><div class=\"popup-attributes\"><div class=\"label\">Fire Bans:</div><div class=\"attribute attribute-red\">{{feature.properties[\"ACCESS_PROHIBITION_DESCRIPTION\"]}}</div></div><div class=\"popup-button-container\"><a v-if=\"feature.properties[\\'FIRE_CENTRE_NAME\\'] === \\'Prince George\\'\" class=\"popup-button\" target=\"_blank\" rel=\"noopener\" href=\"https://www2.gov.bc.ca/gov/content/safety/wildfire-status/fire-bans-and-restrictions/prince-george-fire-centre-bans\">Learn More</a><a v-else-if=\"feature.properties[\\'FIRE_CENTRE_NAME\\'] === \\'Cariboo\\'\" class=\"popup-button\" target=\"_blank\" rel=\"noopener\" href=\"https://www2.gov.bc.ca/gov/content/safety/wildfire-status/fire-bans-and-restrictions/cariboo-fire-centre-bans\">Learn More</a><a v-else-if=\"feature.properties[\\'FIRE_CENTRE_NAME\\'] === \\'Kamloops\\'\" class=\"popup-button\" target=\"_blank\" rel=\"noopener\" href=\"https://www2.gov.bc.ca/gov/content/safety/wildfire-status/fire-bans-and-restrictions/kamloops-fire-centre-bans\">Learn More</a><a v-else-if=\"feature.properties[\\'FIRE_CENTRE_NAME\\'] === \\'Northwest\\'\" class=\"popup-button\" target=\"_blank\" rel=\"noopener\" href=\"https://www2.gov.bc.ca/gov/content/safety/wildfire-status/fire-bans-and-restrictions/northwest-fire-centre-bans\">Learn More</a><a v-else-if=\"feature.properties[\\'FIRE_CENTRE_NAME\\'] === \\'Southeast\\'\" class=\"popup-button\" target=\"_blank\" rel=\"noopener\" href=\"https://www2.gov.bc.ca/gov/content/safety/wildfire-status/fire-bans-and-restrictions/southeast-fire-centre-bans\">Learn More</a><a v-else-if=\"feature.properties[\\'FIRE_CENTRE_NAME\\'] === \\'Coastal\\'\" class=\"popup-button\" target=\"_blank\" rel=\"noopener\" href=\"https://www2.gov.bc.ca/gov/content/safety/wildfire-status/fire-bans-and-restrictions/coastal-fire-centre-bans\">Learn More</a><a v-else class=\"popup-button\" target=\"_blank\" rel=\"noopener\" href=\"https://www2.gov.bc.ca/gov/content/safety/wildfire-status/fire-bans-and-restrictions\">Learn More</a></div></div>',\n            attributes: [\n                {\n                    name: 'FIRE_CENTRE_NAME',\n                    title: 'Fire Centre'\n                },\n                {\n                    name: 'ACCESS_STATUS_EFFECTIVE_DATE',\n                    title: 'Date Active',\n                },\n                {\n                    name: 'TYPE',\n                    title: 'Type'\n                },\n                {\n                    name: 'ACCESS_PROHIBITION_DESCRIPTION',\n                    title: 'Comments'\n                },\n                {\n                    name: 'BULLETIN_URL',\n                    title: 'More Information',\n                    value: 'See Here',\n                }\n            ]\n        },\n\n        {\n            type: 'wms',\n            id: 'bans-and-prohibitions-highlight',\n            title: 'BC Wildfire Bans and Prohibitions',\n            serviceUrl: ls.openmapsBaseUrl,\n            // \"serviceUrl\": \"https://delivery.openmaps.gov.bc.ca/geo/pub/ows\",\n            // \"#serviceUrl\": \"https://openmaps.gov.bc.ca/geo/pub/ows\",\n            layerName: 'pub:WHSE_LAND_AND_NATURAL_RESOURCE.PROT_BANS_AND_PROHIBITIONS_SP',\n            opacity: 0.8,\n            sld: `@${window.location.protocol}//${window.location.host}/assets/js/smk/bans-and-prohibitions-highlight.sld`\n        }\n\n    ];\n}\n","import { layerSettings } from '.';\n\nexport function FireCentresLayerConfig(ls: layerSettings) {\n    return [\n        {\n          type: 'esri-tiled',\n          id: 'bc-fire-centres',\n          title: 'BC Wildfire Fire Centres',\n          isQueryable: false,\n          attribution: 'Copyright 117 DataBC, Government of British Columbia',\n          serviceUrl: 'https://tiles.arcgis.com/tiles/ubm4tcTYICKBpist/arcgis/rest/services/BCWS_FireCenterBdys2/MapServer',\n          opacity: 1\n        }\n    ];\n}\n","import { layerSettings } from '.';\n\nexport function ProtectedLandsAccessRestrictionsLayerConfig(res: layerSettings) {\n  return [\n    {\n      type: \"wms\",\n      id: \"protected-lands-access-restrictions\",\n      title: \"Protected Lands Access Restrictions\",\n      serviceUrl: res.openmapsBaseUrl,\n      layerName: \"pub:WHSE_PARKS.PA_PRTCTD_LND_RSTRCTNS_SV\",\n      styleName: \"\",\n      opacity: 0.65,\n      titleAttribute: \"PROTECTED_LANDS_NAME\",\n      attributes: [\n        {\n          \"name\": \"PROTECTED_LANDS_NAME\",\n          \"title\": \"Protected Lands Name\"\n        }\n      ],\n      where: \"EVENT_TYPE = 'Wildfire'\",\n      geometryAttribute: \"SHAPE\",\n      popupTemplate: '<div class=\"smk-popup\"><div class=\"popup-header\"><span class=\"title-label\" style=\"margin-left: 0px !important;\">Protected Lands Access Restrictions</span></div><div class=\"popup-title\" style=\"margin-top: 15px;\">{{feature.properties[\"PROTECTED_LANDS_NAME\"]}}</div><div class=\"popup-attributes\"><div class=\"label\">Access Status:</div><div class=\"attribute\">{{feature.properties[\"ACCESS_STATUS\"]}}</div></div><div class=\"popup-attributes\"><div class=\"label\">Access Details:</div><div class=\"attribute\">{{feature.properties[\"ACCESS_DETAILS\"]}}</div></div><div class=\"popup-attributes\"><div class=\"label\">Campfires:</div><div class=\"attribute\">{{feature.properties[\"FACILITIES_CAMPFIRES_IND\"]}}</div></div><div class=\"popup-attributes\"><div class=\"label\">Campfire Ban:</div><div class=\"attribute\">{{feature.properties[\"CAMPFIRE_BAN_IND\"]}}</div></div><div class=\"popup-attributes\"><div class=\"label\">Effective Date:</div><div class=\"attribute\">{{feature.properties[\"ACCESS_STATUS_EFFECTIVE_DATE\"] ? feature.properties[\"ACCESS_STATUS_EFFECTIVE_DATE\"].slice(0, -1) : \"\"}}</div></div><div class=\"popup-attributes\"><div class=\"label\">Rescinded Date:</div><div class=\"attribute\">{{feature.properties[\"ACCESS_STATUS_RESCINDED_DATE\"] ? feature.properties[\"ACCESS_STATUS_RESCINDED_DATE\"].slice(0, -1) : \"\"}}</div></div></div>'\n    }\n  ]\n}\n","import { layerSettings } from '.';\n\nexport function WildfiresInactiveLayerConfig(ls: layerSettings) {\n    return [\n        {\n          type: 'vector',\n          id: 'bcws-activefires-publicview-inactive',\n          title: 'BC Wildfires - Declared Out',\n          isQueryable: true,\n          useClustering: true,\n          useHeatmap: false,\n          dataUrl: ls.wfnewsUrl + \"/publicPublishedIncident/features?stageOfControl=OUT\",\n          titleAttribute: \"incident_name\",\n          popupTemplate: '@wf-incident-feature',\n          attributes: [\n            {\n                name: \"incident_name\",\n                title: \"Fire Name\",\n                visible: true\n            }\n          ],\n          style:{\n            strokeWidth:\"7\",\n            strokeStyle:\"1\",\n            strokeColor:\"#5c6671\",\n            strokeOpacity:\"1\",\n            fillColor:\"#5c6671\",\n            fillOpacity:\"1\",\n            fill: true\n          }\n        }\n    ];\n}\n","import { layerSettings } from '.';\n\nexport function CLABIndianReservesLayerConfig(ls: layerSettings) {\n    return [\n        {\n            type: 'wms',\n            id: 'clab-indian-reserves',\n            title: 'Indian Reserve',\n            serviceUrl: ls.openmapsBaseUrl,\n            layerName: 'pub:WHSE_ADMIN_BOUNDARIES.CLAB_INDIAN_RESERVES',\n            styleName: '375',\n            titleAttribute: 'ENGLISH_NAME',\n            geometryAttribute: 'GEOMETRY',\n            attributes: [\n              {\n                name: 'ENGLISH_NAME',\n                title: 'English Name'\n              },\n              {\n                name: 'FRENCH_NAME',\n                title: 'French Name'\n              }\n            ]\n        }\n    ];\n}\n","import { layerSettings } from '.';\n\nexport function ClosedRecreationSitesLayerConfig(ls: layerSettings) {\n    return [\n        {\n            type: 'esri-feature',\n            id: 'closed-recreation-sites',\n            title: 'Closed Recreation Sites',\n            attribution: 'Copyright 117 DataBC, Government of British Columbia',\n            popupTemplate: '<div class=\"smk-popup\"><div class=\"popup-header\"><span>Closed Recreation Site</span></div><div class=\"popup-title\">{{feature.properties[\"PROJECT_NAME\"]}}</div><div class=\"popup-attributes\"><div class=\"label\">Location:</div><div class=\"attribute\">{{feature.properties[\"SITE_LOCATION\"]}}</div></div><div class=\"popup-attributes\"><div class=\"label\">Closure Date:</div><div class=\"attribute\">{{new Date(feature.properties[\"CLOSURE_DATE\"]).toISOString().slice(0, 10)}}</div></div><div class=\"popup-attributes\"><div class=\"label\">Comment:</div><div class=\"attribute\">{{feature.properties[\"CLOSURE_COMMENT\"]}}</div></div><div class=\"popup-button-container\"><a class=\"popup-button\" target=\"_blank\" rel=\"noopener\"v-bind:href=\"`http://www.sitesandtrailsbc.ca/search/search-result.aspx?site=${feature.properties[\\'FOREST_FILE_ID\\']}&type=${feature.properties[\\'PROJECT_TYPE\\'] === \\'SIT - Recreation Site\\' ? \\'SITE\\' : \\'TRAIL\\'}`\">Learn More</a></div></div>',\n\n            attributes: [\n                {\n                    name: 'PROJECT_NAME',\n                    title: 'Name'\n                },\n                {\n                  name: 'FOREST_FILE_ID',\n                  title: 'ID'\n                },\n                {\n                  name: 'PROJECT_TYPE',\n                  title: 'Type'\n                },\n                {\n                    name: 'SITE_LOCATION',\n                    title: 'Site Location'\n                },\n                {\n                    name: 'SITE_DESCRIPTION',\n                    title: 'Site Description'\n                },\n                {\n                    name: 'CLOSURE_IND',\n                    title: 'Closure Indicator'\n                },\n                {\n                    name: 'CLOSURE_DATE',\n                    title: 'Closure Date',\n                },\n                {\n                    name: 'CLOSURE_TYPE',\n                    title: 'Closure Type'\n                },\n                {\n                    name: 'CLOSURE_COMMENT',\n                    title: 'Closure Comments'\n                }\n            ],\n            serviceUrl: 'https://services6.arcgis.com/ubm4tcTYICKBpist/ArcGIS/rest/services/RecSitesReservesInterpForests_DetailsClosures_publicView/FeatureServer/0',\n            where: 'CLOSURE_IND = \\'Y\\'',\n            titleAttribute: 'PROJECT_NAME',\n            drawingInfo: {\n                renderer: {\n                    type: 'uniqueValue',\n                    field1: 'CLOSURE_IND',\n                    defaultSymbol: null,\n                    uniqueValueInfos: [\n                        {\n                            value: 'Y',\n                            symbol: {\n                                angle: 0,\n                                xoffset: 0,\n                                yoffset: 0,\n                                type: 'esriPMS',\n                                url: 'c99abdd1-24c7-47d8-b714-4ad35866dd99',\n                                width: 6.75,\n                                height: 8.620481927710843,\n                                imageData: 'iVBORw0KGgoAAAANSUhEUgAAAFMAAABqCAYAAADAx21lAAAAAXNSR0ICQMB9xQAAAAlwSFlzAAAXEgAAFxIBZ5/SUgAAABl0RVh0U29mdHdhcmUATWljcm9zb2Z0IE9mZmljZX/tNXEAAAOsSURBVHja7dwvdOJAEMfxysrKk0gkshKJRFYiK5HIQ1VG8lA1EN7DRCJPIiMjK5GVyF72XtPSHCH/fjM7uztidMvnZRnYb1/vlsvlnfSJ43jiwu8p/hdcr9f3Oeb7fr//pZg9Z7PZzHLMj+12+1sx+x/xP5+Yb4rZD3JoIC9G9HundMyohJkoZsfFk79fnkqYZ8mLSPJTOS1BFjNXzPZb/FCBmSlmizFHuQKymEfFbDjmM+UtzN1u96qYzY/4qebJPOcL6kExG3wPr4H8Nzn4s2LWYyZNMPNJFbN+8ZwbYpoZKWb1UzlvAWkmUsxqzKwl5rv5pqSY/0OOW0IWi2immKUxnx27YJorOsX8eanx0HLxlGeomN8f0p97QJp5Uczv98u0D6b5xiRhEUmAHPV8KouZBo+ZL54VAtNc2QWNWWRc0JP5YfsW3vbimaEgJeRg20f8CMZ8CxLzSsZFzSREzIgIMwkKsyLjosZaDrb1VE6JIK3mYFtb/ECMmQWBmb/QATFkMWPvMesyLmps5GAbR/zE9GSy52DuIz5hgrSSg7kxE05M7hzM9oM6ZFzUjLzDzF/UwgKkWUQrHzEzG5icOZgLcmwJkjUHc121vdrE5MrBHJcaD5YWD3sO5jjicwGQLH+XxIGZSsDkyMHUkCMhTyVLDqZePCtJmNQ5mPQ2HZlxXcjBlLdDM2mQ1DmY8ogfJWKaReQUJmHGFZ2DqTAj4ZiJE5jEGVd0DqZYPE/CIclyMAXmwRHMTDQmY8YVmYOhmFwZV2oORh9x6YuHNAcjj/jUMUj4InI544rLwa5nXFE52OmMKy0Hu55xReVg5zOupByMwNz5gGmuDK1iCsq4InKwLxlXRA72IuNKycE+ZVzrOdibjAt8Og+smJ8Z16fFU54BG6bUjIuarjnYq4yLXEQsmLH8jIuaCQdmFAhmQorpSMaF3cK3zcG+ZlzULCgxXcm4qMlIMGP3Mi5qxhSYLyFitsnBPmdc2CJqmoN9z7iomSMxk8AxUwimBxkXNaPemLHjGRe4iFa9Mc2/BFPMr0V03xkz9iTjAm+TZn0wvci4wKN+7ITpYcZFzbA1ZuxfxkVN1AUzVbir75uVObgK8lHhboI+Ncb0NeMCMQ+NMAPIuKgZ1GL6nnFRcy0HB5dxkYvoJmbs798PUc30FmakQK0muYoZWMaFXX5c5uCQMy5qFtcwQ8u4qMl+YMbhZlzUjC8xg8y4wNl9Yeri6b+IzJWlZlzczDXj4ib9C9b8q5ttvc3dAAAAAElFTkSuQmCC',\n                                contentType: 'image/png'\n                            },\n                            label: 'Closed'\n                        }\n                    ]\n                },\n                transparency: 0\n            }\n        }\n    ];\n}\n","import { layerSettings } from '.';\n\nexport function DangerRatingLayerConfig(ls: layerSettings) {\n    return [\n        {\n            type: 'wms',\n            id: 'danger-rating',\n            title: 'BC Wildfire Danger Rating',\n            serviceUrl: ls.openmapsBaseUrl,\n            layerName: 'pub:WHSE_LAND_AND_NATURAL_RESOURCE.PROT_DANGER_RATING_SP',\n            styleName: '7734',\n            isQueryable: true,\n            titleAttribute: 'DANGER_RATING_DESC',\n            geometryAttribute: 'SHAPE',\n            attributes: [\n                {\n                    name: 'DANGER_RATING_DESC',\n                    title: 'Danger Rating'\n                }\n            ]\n        }\n    ];\n}\n","import { layerSettings } from '.';\n\nexport function DriveBCEventsLayerConfig(ls: layerSettings) {\n    return [\n        {\n            type: 'wms',\n            id: 'drive-bc-active-events',\n            title: 'Drive BC Active Events',\n            isQueryable: true,\n            serviceUrl: ls.drivebcBaseUrl,\n            layerName: 'op5:OP5_EVENT511_ACTIVE_V',\n            titleAttribute: 'HEADLINE',\n            geometryAttribute: 'GEOMETRY',\n            popupTemplate: '<div class=\"smk-popup\"><div class=\"popup-header\"><mat-icon role=\"img\" class=\"mat-icon notranslate material-icons mat-icon-no-color\" aria-hidden=\"true\" data-mat-icon-type=\"font\">directions_car_filled</mat-icon><span class=\"title-label\">Road Conditions</span></div><div class=\"popup-title\">{{feature.properties[\"HEADLINE\"]}}</div><div class=\"popup-attributes\"><div class=\"label\">Description:</div><div class=\"attribute\">{{feature.properties[\"DESCRIPTION\"]}}</div></div><div class=\"popup-attributes\"><div class=\"label\">Area:</div><div class=\"attribute\">{{feature.properties[\"AREA\"]}}</div></div><div class=\"popup-attributes\"><div class=\"label\">Created:</div><div class=\"attribute\">{{new Date(feature.properties[\"CREATED_TIME\"]).toISOString().slice(0, 10)}}</div></div><div class=\"popup-attributes\"><div class=\"label\">Severity:</div><div class=\"attribute\">{{feature.properties[\"SEVERITY\"]}}</div></div><div class=\"popup-attributes\"><div class=\"label\">Status:</div><div class=\"attribute attribute-red\">{{feature.properties[\"STATUS\"]}}</div></div><div class=\"popup-button-container\"><a class=\"popup-button\" target=\"_blank\" rel=\"noopener\" v-bind:href=\"`https://drivebc.ca/mobile/pub/events/id/${feature.properties[\\'SOURCE_ID\\']}.html`\">Learn More</a></div></div>',\n            attributes: [\n                {\n                  name: 'SOURCE_ID',\n                  title: 'Source ID'\n                },\n                {\n                    name: 'HEADLINE',\n                    title: 'HEADLINE'\n                },\n                {\n                    name: 'DESCRIPTION',\n                    title: 'Description'\n                },\n                {\n                    name: 'CREATED_TIME',\n                    title: 'Created'\n                },\n                {\n                    name: 'SEVERITY',\n                    title: 'Severity'\n                },\n                {\n                    name: 'STATUS',\n                    title: 'Status'\n                },\n                {\n                    name: 'AREA',\n                    title: 'Area'\n                }\n            ]\n        }\n    ];\n}\n","import { layerSettings } from '.';\n\nexport function EvacuationOrdersLayerConfig(ls: layerSettings) {\n    return [\n        {\n            type: 'wms',\n            id: 'evacuation-orders-and-alerts-wms',\n            title: 'Fire Evacuation Orders and Alerts',\n            serviceUrl: ls.openmapsBaseUrl,\n            layerName: 'pub:WHSE_HUMAN_CULTURAL_ECONOMIC.EMRG_ORDER_AND_ALERT_AREAS_SP',\n            styleName: '6885',\n            isQueryable: true,\n            where: 'ORDER_ALERT_STATUS <> \\'All Clear\\' and EVENT_TYPE = \\'Fire\\'',\n            opacity: 0.65,\n            titleAttribute: 'EVENT_NAME',\n            popupTemplate: '<div class=\"smk-popup\"><div class=\"popup-header\"><mat-icon role=\"img\" class=\"mat-icon notranslate material-icons mat-icon-no-color\" aria-hidden=\"true\" data-mat-icon-type=\"font\">error</mat-icon><span class=\"title-label\">Evacuation Orders and Alerts</span></div><div class=\"popup-title\">{{feature.properties[\"EVENT_NAME\"]}}</div><div class=\"popup-attributes\"><div class=\"label\">Date Active:</div><div class=\"attribute\">{{new Date(feature.properties[\"DATE_MODIFIED\"]).toISOString().slice(0, 10)}}</div></div><div class=\"popup-attributes\"><div class=\"label\">Agency:</div><div class=\"attribute\">{{feature.properties[\"ISSUING_AGENCY\"]}}</div></div><div class=\"popup-attributes\"><div class=\"label\">Status:</div><div class=\"attribute attribute-red\">{{feature.properties[\"ORDER_ALERT_STATUS\"]}}</div></div><div class=\"popup-button-container\"><a class=\"popup-button\" target=\"_blank\" rel=\"noopener\" v-if=\"feature.properties[\\'BULLETIN_URL\\']\" v-bind:href=\"feature.properties[\\'BULLETIN_URL\\']\">Learn More</a></div></div>',\n            geometryAttribute: 'SHAPE',\n            attributes: [\n                {\n                    name: 'EVENT_NAME',\n                    title: 'Name'\n                },\n                {\n                    name: 'EVENT_TYPE',\n                    title: 'Type'\n                },\n                {\n                    name: 'DATE_MODIFIED',\n                    title: 'Date',\n                },\n                {\n                    name: 'ISSUING_AGENCY',\n                    title: 'Issuing Agency'\n                },\n                {\n                    name: 'ORDER_ALERT_STATUS',\n                    title: 'Status'\n                }\n            ],\n            legend: {\n                clipHeight: 60\n            }\n        },\n        {\n            type: 'wms',\n            id: 'evacuation-orders-and-alerts-wms-highlight',\n            title: 'Fire Evacuation Orders and Alerts',\n            serviceUrl: ls.openmapsBaseUrl,\n            layerName: 'pub:WHSE_HUMAN_CULTURAL_ECONOMIC.EMRG_ORDER_AND_ALERT_AREAS_SP',\n            opacity: 0.8,\n            sld: `@${window.location.protocol}//${window.location.host}/assets/js/smk/evacuation-orders-and-alerts-wms-highlight.sld`\n        }\n\n    ];\n}\n","import { layerSettings } from '.';\n\nexport function FirePerimetersLayerConfig(ls: layerSettings) {\n    return [\n        {\n            type: 'esri-feature',\n            id: 'fire-perimeters',\n            title: 'BC Wildfire Fire Perimeters',\n            attribution: 'Copyright 117 DataBC, Government of British Columbia',\n            serviceUrl: 'https://services6.arcgis.com/ubm4tcTYICKBpist/arcgis/rest/services/BCWS_FirePerimeters_PublicView/FeatureServer/0',\n            where: 'FIRE_STATUS <> \\'Out\\'',\n            opacity: 1,\n            attributes: [\n                {\n                    name: 'FIRE_NUMBER',\n                    title: 'Fire Perimeter Number'\n                },\n                {\n                    name: \"TRACK_DATE\",\n                    title: 'Track Date',\n                    value: '<%= this.asDate( \\'TRACK_DATE\\' ) %>',\n                    format: \"asLocalDate\"\n                },\n                {\n                    name: 'FIRE_STATUS',\n                    title: 'Stage of Control'\n                },\n                {\n                    name: 'FIRE_OF_NOTE_NAME',\n                    title: 'Fire of Note Information',\n                    format: 'asLink(this.feature.properties.FIRE_OF_NOTE_URL)'\n                }\n            ],\n            titleAttribute: 'FIRE_OF_NOTE_NAME',\n            popupTemplate: '@wf-incident-feature',\n        }\n    ];\n}\n","import { layerSettings } from '.';\n\nexport function FntTreatyLandLayerConfig(ls: layerSettings) {\n    return [\n        {\n            type: 'wms',\n            id: 'fnt-treaty-land',\n            title: 'First Nations Treaty Land',\n            serviceUrl: ls.openmapsBaseUrl,\n            layerName: 'pub:WHSE_LEGAL_ADMIN_BOUNDARIES.FNT_TREATY_LAND_SP',\n            styleName: '6214',\n            titleAttribute: 'FIRST_NATION_NAME',\n            geometryAttribute: 'GEOMETRY',\n            attributes: [\n              {\n                name: 'TREATY',\n                title: 'Treaty'\n              },\n              {\n                name: 'FIRST_NATION_NAME',\n                title: 'First Nation Name'\n              },\n              {\n                name: 'COMMENTS',\n                title: 'Comments'\n              }\n            ],\n            legend: {\n              title: ' ',\n              url: '/assets/images/legend_treaty_land.png',\n              width: 20,\n              height: 20\n            },\n        }\n    ];\n}\n","import { layerSettings } from '.';\n\nexport function ForestServiceRoadsLayerConfig(ls: layerSettings) {\n    return [\n      {\n        type: 'esri-feature',\n        id: 'bc-fsr',\n        title: 'Forest Service Roads',\n        isQueryable: true,\n        attribution: 'Copyright 117 DataBC, Government of British Columbia',\n        serviceUrl: 'https://services6.arcgis.com/ubm4tcTYICKBpist/ArcGIS/rest/services/FSR_Safety_Information_View/FeatureServer/0',\n        opacity: 1,\n        titleAttribute: 'LOCATION',\n        popupTemplate: '<div class=\"smk-popup\"><div class=\"popup-header\"><mat-icon role=\"img\" class=\"mat-icon notranslate material-icons mat-icon-no-color\" aria-hidden=\"true\" data-mat-icon-type=\"font\">road</mat-icon><span class=\"title-label\">Forest Service Road Safety Info</span></div><div class=\"popup-title\">{{feature.properties[\"LOCATION\"]}}</div><div class=\"popup-attributes\"><div class=\"label\">Type:</div><div class=\"attribute\">{{feature.properties[\"ALERT_TYPE\"]}}</div></div><div class=\"popup-attributes\"><div class=\"label\">Information:</div><div class=\"attribute\">{{feature.properties[\"INFORMATION\"]}}</div></div><div class=\"popup-button-container\"><a class=\"popup-button\" target=\"_blank\" rel=\"noopener\"v-bind:href=\"feature.properties[\\'NOTICE\\']\">Learn More</a></div></div>'\n      }\n    ];\n}\n","import { layerSettings } from '.';\n\nexport function SmokeForecastLayerConfig(ls: layerSettings) {\n    return [\n        {\n            type: 'image',\n            id: 'hourly-currentforecast-firesmoke',\n            title: 'Smoke Forecast, Hourly',\n            opacity: 0.65,\n            baseUrl: 'https://firesmoke.ca/forecasts/current/images/hourly_<%= timestamp %>.png',\n            bounds: [[32.0, -160.0], [70.0, -52.0]],\n            legend: {\n                title: ' ',\n                url: 'assets/images/firesmoke-legend.png'\n            }\n        }\n    ];\n}\n","import { ActiveWildfiresLayerConfig } from './active-wildfires.config';\nimport { AreaRestrictionsLayerConfig } from './area-restrictions.config';\nimport { BansAndProhibitionsLayerConfig } from './bans-and-prohibitions.config';\nimport { FireCentresLayerConfig } from './bc-fire-centres.config';\nimport { WildfiresInactiveLayerConfig } from './bcws-activefires-publicview-inactive.config';\nimport { ClosedRecreationSitesLayerConfig } from './closed-recreation-sites.config';\nimport { DangerRatingLayerConfig } from './danger-rating.config';\nimport { DriveBCEventsLayerConfig } from './drive-bc-active-events.config';\nimport { FirePerimetersLayerConfig } from './fire-perimeters.config';\nimport { WeatherLayerConfig } from './weather.config';\nimport { EvacuationOrdersLayerConfig } from './evacuation-orders-and-alerts-wms.config';\nimport { SmokeForecastLayerConfig } from './hourly-currentforecast-firesmoke.config';\nimport { WeatherStationsLayerConfig } from './weather-stations.config';\nimport { PrecipitationLayerConfig } from './precipitation.config';\nimport { ForestServiceRoadsLayerConfig } from './fsr-safety.config';\nimport { CLABIndianReservesLayerConfig } from './clab-indian-reserves.config';\nimport { FntTreatyLandLayerConfig } from './fnt-treaty-land.config';\nimport { AbmsMunicipalitiesLayerConfig } from './abms-municipalities.config';\nimport { AbmsRegionalDistrictsLayerConfig } from './abms-regional-districts.config';\nimport { MapServices, MapServiceStatus } from '..';\nimport { ActiveWildfiresHeatmapLayerConfig } from './active-wildfires.heatmap.config';\nimport { AppConfigService } from '@wf1/core-ui';\nimport { ProtectedLandsAccessRestrictionsLayerConfig } from './bc-parks-closures.config';\n\nexport interface layerSettings {\n    openmapsBaseUrl: string;\n    drivebcBaseUrl: string;\n    wfnewsUrl: string;\n\n};\nexport function LayerConfig( mapServices: MapServices, serviceStatus: MapServiceStatus, appConfigService: AppConfigService ) {\n    const ls: layerSettings = {\n        openmapsBaseUrl: mapServices[ 'openmapsBaseUrl' ],\n        drivebcBaseUrl: mapServices[ 'drivebcBaseUrl' ],\n        wfnewsUrl: mapServices[ 'wfnews' ]\n    };\n\n\treturn [\n\t\t...ActiveWildfiresLayerConfig( ls, appConfigService.getConfig().application['wfnewsApiKey'] ),\n\t\t...AreaRestrictionsLayerConfig( ls ),\n\t\t...BansAndProhibitionsLayerConfig( ls ),\n\t\t...FireCentresLayerConfig( ls ),\n\t\t...WildfiresInactiveLayerConfig( ls ),\n\t\t...ClosedRecreationSitesLayerConfig( ls ),\n\t\t...DangerRatingLayerConfig( ls ),\n\t\t...DriveBCEventsLayerConfig( ls ),\n\t\t...EvacuationOrdersLayerConfig( ls ),\n\t\t...FirePerimetersLayerConfig( ls ),\n\t\t...SmokeForecastLayerConfig( ls ),\n    // Hiding temporarily as the dataset is reconfigured\n    // ...PrescribedFireLayerConfig( ls ),\n\t\t...WeatherLayerConfig( ls ),\n    ...WeatherStationsLayerConfig( ls ),\n    ...PrecipitationLayerConfig( ls ),\n    ...ForestServiceRoadsLayerConfig( ls ),\n    ...ActiveWildfiresHeatmapLayerConfig( ls ),\n    ...CLABIndianReservesLayerConfig( ls ),\n    ...FntTreatyLandLayerConfig( ls ),\n    ...AbmsMunicipalitiesLayerConfig( ls ),\n    ...AbmsRegionalDistrictsLayerConfig( ls ),\n    ...ProtectedLandsAccessRestrictionsLayerConfig( ls )\n\t];\n}\n","import { layerSettings } from '.';\n\nexport function PrecipitationLayerConfig( ls: layerSettings ) {\n\treturn [\n        {\n            type: 'wms-time',\n            id: 'precipitation',\n            title: 'Precipitation Forecast, Hourly',\n            isQueryable: false,\n            opacity: 0.65,\n            minScale: null,\n            maxScale: null,\n            titleAttribute: null,\n            attributes: false,\n            queries: null,\n            tiled: false,\n            version: '1.3.0',\n            serviceUrl:'https://geo.weather.gc.ca/geomet',\n            layerName: 'GDPS.ETA_RT',\n            styleName: 'PRECIPPRTMMH',\n            legend: {\n                title: ' ',\n                url: 'assets/images/precipitation-legend.png',\n            }\n\n        }\n    ];\n}\n","import { layerSettings } from '.';\n\nexport function WeatherStationsLayerConfig(ls: layerSettings) {\n    return [\n        {\n            type: 'wms',\n            id: 'weather-stations',\n            title: 'BC Wildfire Active Weather Stations',\n            isVisible: true,\n            isQueryable: false,\n            isDisplayed: false,\n            opacity: 1,\n            minScale: null,\n            maxScale: null,\n            titleAttribute: 'STATION_NAME',\n            attributes: [\n                {\n                    id: 'station-name',\n                    name: 'STATION_NAME',\n                    title: 'STATION NAME',\n                    visible: true\n                },\n                {\n                    name: 'temp',\n                    title: 'Temperature',\n                    format: 'asUnit( \\'°C\\' )'\n                },\n                {\n                    name: 'relativeHumidity',\n                    title: 'Relative Humidity',\n                    format: 'asUnit( \\'%\\' )'\n                },\n                {\n                    name: 'windSpeed',\n                    title: 'Wind Speed',\n                    format: 'asUnit( \\'km/h\\' )'\n                },\n                {\n                    name: 'windDirection',\n                    title: 'Wind Direction',\n                    format: 'asUnit( \\'°\\' )'\n                },\n                {\n                    name: 'precipitation',\n                    title: 'Precipitation',\n                    format: 'asUnit( \\'mm\\' )'\n                },\n                {\n                    name: 'fineFuelMoistureCode',\n                    title: 'Fine Fuel Moisture Code'\n                },\n                {\n                    name: 'initialSpreadIndex',\n                    title: 'Initial Spread Index'\n                },\n                {\n                    name: 'fireWeatherIndex',\n                    title: 'Fire Weather Index'\n                },\n                {\n                    title: 'Recorded',\n                    name: 'recorded'\n                }\n            ],\n            queries: null,\n            serviceUrl: ls.openmapsBaseUrl,\n            layerName: 'pub:WHSE_LAND_AND_NATURAL_RESOURCE.PROT_WEATHER_STATIONS_SP',\n            styleName: '4881',\n            geometryAttribute: 'SHAPE',\n            popupTemplate: '@wf-weather-station-feature',\n            legend: {\n              title: ' ',\n              url: ''\n            },\n            style:{\n              strokeWidth:\"1\",\n              strokeStyle:\"1\",\n              strokeColor:\"#FFFFFF00\",\n              strokeOpacity:\"0\",\n              fillColor:\"#FFFFFF00\",\n              fillOpacity:\"0\",\n              fill: false\n            }\n        }\n    ];\n}\n","import { layerSettings } from '.';\n\nexport function WeatherLayerConfig(ls: layerSettings) {\n    return [\n        {\n            id: 'radar-1km-rrai--radarurpprecipr14-linear',\n            type: 'wms',\n            title: 'Current Precipitation Radar',\n            isQueryable: false,\n            opacity: 0.65,\n            minScale: null,\n            maxScale: null,\n            titleAttribute: null,\n            attributes: false,\n            queries: null,\n            serviceUrl: 'https://geo.weather.gc.ca/geomet',\n            layerName: 'RADAR_1KM_RRAI',\n            styleName: '',\n            legend: {\n                title: ' ',\n                url: 'assets/images/radar-1km-rrai--radarurpprecipr14-linear-legend.png'\n            }\n        },\n        {\n            id: 'current-conditions--default',\n            type: 'wms',\n            title: 'Current Weather Conditions',\n            isQueryable: false,\n            opacity: 0.65,\n            minScale: null,\n            maxScale: null,\n            titleAttribute: null,\n            attributes: false,\n            queries: null,\n            serviceUrl: 'https://geo.weather.gc.ca/geomet',\n            layerName: 'CURRENT_CONDITIONS',\n            styleName: 'default'\n        }\n    ];\n}\n","import { AppConfigService } from '@wf1/core-ui';\nimport { WfDevice } from '@wf1/wfcc-application-ui';\nimport { MapServices, MapServiceStatus } from '.';\nimport { LayerDisplayConfig } from './layer-display.config';\nimport { LayerConfig } from './layers';\n\nexport function mapConfig( mapServices: MapServices, serviceStatus: MapServiceStatus, device: WfDevice, appConfigService: AppConfigService ) {\n    return {\n        viewer: {\n            type: 'leaflet',\n            device,\n            location: {\n                extent: [ -136.3, 49, -116, 60.2 ],\n            },\n            baseMap: 'topographic',\n            minZoom: 4,\n        },\n        tools: [\n            {\n                type: 'location',\n                enabled: false\n            },\n\t\t\t{\n\t\t\t\ttype: 'layers',\n\t\t\t\tenabled: true,\n\t\t\t\tshowTitle: false,\n\t\t\t\tposition: 'shortcut-menu',\n\t\t\t\tglyph: {\n\t\t\t\t\tvisible: 'check_box',\n\t\t\t\t\thidden: 'check_box_outline_blank'\n\t\t\t\t},\n\t\t\t\tcommand: {\n\t\t\t\t\tallVisibility: false,\n\t\t\t\t\tfilter: false,\n\t\t\t\t\tlegend: false\n\t\t\t\t},\n\t\t\t\tlegend: true,\n\t\t\t\torder: 2,\n\t\t\t\tdisplay: LayerDisplayConfig( mapServices )\n\t\t\t},\n            {\n                type: 'identify',\n                title: 'Learn More',\n                enabled: true,\n                showTitle: false,\n                showWidget: false,\n                showPanel: true,\n                radius: 20,\n                command: {\n                    attributeMode: false,\n                    clear: false,\n                    nearBy: false,\n                    zoom: true,\n                    custom: true\n                },\n                internalLayers: [\n                   {\n                        id: 'search-area',\n                        style: {\n                            stroke: false,\n                            fill: true,\n                            fillColor: 'white',\n                            fillOpacity: 0.1,\n                        },\n                    },\n                    {\n                        id: 'search-border-1',\n                        style: {\n                            strokeWidth: 1,\n                            strokeColor: 'black',\n                            strokeOpacity: 1,\n                            strokeCap: 'butt',\n                        },\n                    },\n                    {\n                        id: 'search-border-2',\n                        style: {\n                            strokeWidth: 1,\n                            strokeColor: 'white',\n                            strokeOpacity: 1,\n                            strokeCap: 'butt',\n                        }\n                    },\n                    {\n                        id: 'location',\n                        title: 'Identify Location',\n                        style: {\n                            markerUrl: null,\n                        },\n                        legend: {\n                        }\n                    },\n                    {\n                        id: 'edit-search-area',\n                        style: {\n                            strokeWidth: 3,\n                            strokeColor: 'red',\n                            strokeOpacity: 1\n                        }\n                    }\n                ]\n            },\n            {\n                type: 'pan',\n                enabled: true\n            },\n            {\n                type: 'zoom',\n                enabled: true,\n                mouseWheel: true,\n                doubleClick: true,\n                box: true,\n                control: true\n            },\n\t\t\t{\n\t\t\t\ttype: 'baseMaps',\n\t\t\t\tenabled: true,\n\t\t\t\tshowTitle: false,\n\t\t\t\tshowPanel: false,\n\t\t\t\tchoices: [\n\t\t\t\t],\n\t\t\t\tposition: 'shortcut-menu',\n\t\t\t\tmapStyle: {\n\t\t\t\t\twidth: '60px',\n\t\t\t\t\theight: '100px'\n\t\t\t\t},\n\t\t\t\torder: 3\n\t\t\t},\n      {\n\t\t\t\ttype: \"time-dimension\",\n\t\t\t\tenabled: true,\n\t\t\t\ttimeDimensionOptions: {\n\t\t\t\t}\n\t\t\t},\n      {\n        type: \"scale\",\n        enabled: 'desktop',\n        showZoom: true,\n        order: 2\n    },\n    {\n        type: \"coordinate\",\n        enabled: 'desktop',\n        order: 3,\n        format: 'DDM'\n    },\n    {\n        type: \"measure\",\n        enabled: 'desktop',\n        unit: 'kilometers',\n        order: 5\n    },\n    {\n        type: 'search',\n        enabled: false\n    },\n],\n        layers: LayerConfig(mapServices, serviceStatus, appConfigService)\n    };\n}\n","import { Injectable } from \"@angular/core\";\nimport { HttpClient, HttpHeaders } from \"@angular/common/http\";\nimport { AppConfigService } from '@wf1/core-ui';\nimport { WeatherStationConditions, WeatherStationResult } from \"./interfaces\";\n\nexport { WeatherHourlyCondition, WeatherDailyCondition, WeatherStation, WeatherStationConditions, WeatherStationResult } from './interfaces'\n\nconst MAX_CACHE_AGE = 60 * 1000 //ms\n\n@Injectable({ providedIn: 'root' })\nexport class PointIdService {\n  baseAPIUrl\n  cache = {}\n\n  constructor(\n    private http: HttpClient,\n    private appConfigService: AppConfigService\n  ) {\n    this.baseAPIUrl = this.appConfigService.getConfig().rest.pointId;\n  }\n\n  fetch(url: string) {\n    const self = this\n\n    const now = Date.now()\n\n    if (this.cache[url] && (now - this.cache[url].ts) < MAX_CACHE_AGE)\n      return this.cache[url].result\n\n    Object.keys(this.cache).forEach(function (url) {\n      if ((now - self.cache[url].ts) < MAX_CACHE_AGE) return\n      delete self.cache[url]\n    })\n\n    this.cache[url] = {\n      ts: now,\n      result: this.http.get(url, {\n        headers: new HttpHeaders({\n          // 'x-api-key': this.apiKey\n        }),\n      }).toPromise()\n    }\n\n    return this.cache[url].result\n  }\n\n  fetchWeatherStation(weatherStationId: string): Promise<WeatherStationConditions> {\n    return this.fetch(`${this.baseAPIUrl}/weatherStation?code=${weatherStationId}&duration=3`)\n      .then(function (resp: WeatherStationResult) {\n        return resp.stations[0]\n      })\n  }\n\n  fetchNearestWeatherStation(latitude: number, longitude: number): Promise<WeatherStationConditions> {\n    return this.fetch(`${this.baseAPIUrl}/weather?lat=${latitude.toFixed(3)}&lon=${longitude.toFixed(3)}&duration=3`)\n      .then(function (resp: WeatherStationResult) {\n        return resp.stations[0]\n      })\n  }\n}\n","import { HttpClient } from '@angular/common/http';\nimport { Injectable } from '@angular/core';\nimport { AppConfigService, TokenService } from \"@wf1/core-ui\";\nimport { Observable, of } from 'rxjs';\nimport { concatMap, map } from 'rxjs/operators';\n\n@Injectable({\n    providedIn: 'root'\n})\nexport class PublishedIncidentService {\n  constructor(private appConfigService: AppConfigService, private tokenService: TokenService, private httpClient: HttpClient) {  }\n\n  public async getActiveFireCount () : Promise<any> {\n    const url = `${this.appConfigService.getConfig().rest['wfnews']}/publicPublishedIncident?pageNumber=1&pageRowCount=1&fireOfNote=false&out=false&stageOfControlList=OUT_CNTRL&stageOfControlList=HOLDING&stageOfControlList=UNDR_CNTRL`;\n    const result = await this.httpClient.get(url, { headers: { apikey: this.appConfigService.getConfig().application['wfnewsApiKey']} }).toPromise();\n\n    const urlFoN = `${this.appConfigService.getConfig().rest['wfnews']}/publicPublishedIncident?pageNumber=1&pageRowCount=1&fireOfNote=true&out=false`;\n    const resultFoN = await this.httpClient.get(urlFoN, { headers: { apikey: this.appConfigService.getConfig().application['wfnewsApiKey']} }).toPromise();\n\n    return ((result as any).totalRowCount || 0) + ((resultFoN as any).totalRowCount || 0)\n  }\n\n  public fetchOutIncidents (pageNum: number = 0, rowCount: number = 9999): Observable<any> {\n    const url = `${this.appConfigService.getConfig().rest['wfnews']}/publicPublishedIncident?pageNumber=${pageNum}&pageRowCount=${rowCount}&stageOfControlList=OUT&newFires=false`\n    return this.httpClient.get(url, { headers: { apikey: this.appConfigService.getConfig().application['wfnewsApiKey']} })\n  }\n\n  public fetchPublishedIncidents (pageNum: number = 0, rowCount: number = 9999, fireOfNote = false, out = false, orderBy: string = 'lastUpdatedTimestamp%20DESC'): Observable<any> {\n    const url = out ? `${this.appConfigService.getConfig().rest['wfnews']}/publicPublishedIncident?pageNumber=${pageNum}&pageRowCount=${rowCount}&fireOfNote=${fireOfNote}&out=true` : `${this.appConfigService.getConfig().rest['wfnews']}/publicPublishedIncident?pageNumber=${pageNum}&pageRowCount=${rowCount}&fireOfNote=${fireOfNote}&out=false&orderBy=${orderBy}&stageOfControlList=OUT_CNTRL&stageOfControlList=HOLDING&stageOfControlList=UNDR_CNTRL`;\n    return this.httpClient.get(url, { headers: { apikey: this.appConfigService.getConfig().application['wfnewsApiKey']} })\n  }\n\n  // published incident guid, WF Incident Guid, WF year and incident sequence number?\n  public fetchPublishedIncident (guid: string, fireYear: string = null): Observable<any> {\n    const url = `${this.appConfigService.getConfig().rest['wfnews']}/publicPublishedIncident/${guid}${fireYear ? '?fireYear=' + fireYear : ''}`;\n    return this.httpClient.get(url, { headers: { apikey: this.appConfigService.getConfig().application['wfnewsApiKey']} })\n  }\n\n  public fetchIMIncident(fireYear: string, incidentNumber: string): Observable<any> {\n    const url = `${this.appConfigService.getConfig().rest['incidents']}/incidents/${fireYear}/${incidentNumber}`\n\n    return this.httpClient.get(url, { headers: { Authorization: `bearer ${this.tokenService.getOauthToken()}`} })\n    .pipe(\n      map((response:any) => {\n        return {response: response, wildfireIncidentGuid: response.wildfireIncidentGuid};\n      })\n    )\n    .pipe(\n      concatMap((data) => {\n        const publishedUrl = `${this.appConfigService.getConfig().rest['incidents']}/publishedIncidents/byIncident/${data.wildfireIncidentGuid}`;\n        return of({response: data.response, getPublishedIncident: this.httpClient.get(publishedUrl, { headers: { 'Content-Type': 'application/json', Authorization: `bearer ${this.tokenService.getOauthToken()}`}})});\n      })\n    );\n  }\n\n  public saveIMPublishedIncident (publishedIncident: any): Observable<any> {\n    let publishedUrl = `${this.appConfigService.getConfig().rest['incidents']}/publishedIncidents`\n    const headers = {\n      headers: {\n        Authorization: `bearer ${this.tokenService.getOauthToken()}`\n      }\n    }\n\n    if (publishedIncident.publishedIncidentDetailGuid) {\n      return this.httpClient.put(publishedUrl + `/${publishedIncident.publishedIncidentDetailGuid}`, publishedIncident, headers)\n    } else {\n      return this.httpClient.post(publishedUrl, publishedIncident, headers)\n    }\n  }\n\n  public fetchPublishedIncidentAttachments (incidentName): Observable<any> {\n    let url  = `${this.appConfigService.getConfig().rest['wfnews']}/publicPublishedIncidentAttachment/${incidentName}/attachments`;\n    return this.httpClient.get(url, { headers: { apikey: this.appConfigService.getConfig().application['wfnewsApiKey']} });\n  }\n\n  public fetchExternalUri (incidentNumber): Observable<any> {\n    let url  = `${this.appConfigService.getConfig().rest['wfnews']}/publicExternalUri?sourceObjectUniqueId=${incidentNumber}&pageNumber=1&pageRowCount=100`;\n    return this.httpClient.get(url, { headers: { apikey: this.appConfigService.getConfig().application['wfnewsApiKey']} });\n  }\n\n  public fetchAttachments (incidentNumber): Observable<any> {\n    let url  = `${this.appConfigService.getConfig().rest['wfnews']}/publicPublishedIncidentAttachment/${incidentNumber}/attachments`;\n    return this.httpClient.get(url, { headers: { apikey: this.appConfigService.getConfig().application['wfnewsApiKey']} });\n  }\n\n  public fetchAttachmentBytes (incidentNumber, attachmentGuid): Observable<any> {\n    let url  = `${this.appConfigService.getConfig().rest['wfnews']}/publicPublishedIncidentAttachment/${incidentNumber}/attachments/${attachmentGuid}/bytes`;\n    return this.httpClient.get(url, { headers: { apikey: this.appConfigService.getConfig().application['wfnewsApiKey']} });\n  }\n}\n","import {Injectable} from '@angular/core';\nimport {NavigationEnd, Router} from '@angular/router';\n\n/** A router wrapper, adding extra functions. */\n@Injectable({providedIn: 'root'})\nexport class RouterExtService {\n\n  private previousUrl: string = undefined;\n  private currentUrl: string = undefined;\n\n  constructor(private router: Router) {\n    this.currentUrl = this.router.url;\n    router.events.subscribe(event => {\n      if (event instanceof NavigationEnd) {\n        this.previousUrl = this.currentUrl;\n        this.currentUrl = event.url;\n      };\n    });\n  }\n\n  public getPreviousUrl(){\n    return this.previousUrl;\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { SwUpdate } from '@angular/service-worker';\nimport { MatLegacySnackBar as MatSnackBar } from '@angular/material/legacy-snack-bar';\nimport { interval } from 'rxjs';\n\n@Injectable({ providedIn: 'root' })\nexport class UpdateService {\n    constructor(public swUpdate: SwUpdate, public snackbar: MatSnackBar) {\n        console.log('wfnews swUpdate, enabled:', swUpdate.isEnabled);\n        if (swUpdate.isEnabled) {\n            swUpdate.checkForUpdate();\n            interval(5 * 60 * 1000).subscribe(() => swUpdate.checkForUpdate());\n        }\n    }\n\n    public checkForUpdates(): void {\n        if (this.swUpdate.isEnabled) {\n            this.swUpdate.available.subscribe(event => {\n                console.log('current version is', event.current);\n                console.log('available version is', event.available);\n\n                this.snackbar.open('A new version is available', 'Update Now').onAction().subscribe(\n                    () => {\n                        this.swUpdate.activateUpdate().then(() => document.location.reload());\n                    }\n                );\n            });\n        }\n    }\n}\n","import {AppConfigService, AuthGuard, TokenService} from \"@wf1/core-ui\";\nimport {ActivatedRouteSnapshot, Router, RouterStateSnapshot } from \"@angular/router\";\nimport {Injectable} from \"@angular/core\";\nimport {AsyncSubject, Observable, of} from \"rxjs\";\nimport {mergeMap} from \"rxjs/operators\";\nimport {MatLegacySnackBar as MatSnackBar} from \"@angular/material/legacy-snack-bar\";\nimport {ResourcesRoutes} from \"../../utils\";\n\n@Injectable({\n    providedIn: \"root\",\n})\nexport class NewsAuthGuard extends AuthGuard {\n    private asyncCheckingToken;\n\n    constructor(tokenService: TokenService, router: Router, private appConfigService: AppConfigService, protected snackbarService: MatSnackBar) {\n        super(tokenService, router);\n        this.baseScopes = [];\n    }\n\n    canActivate(route: ActivatedRouteSnapshot,\n                state: RouterStateSnapshot): Observable<boolean> {\n\n        if (!window.navigator.onLine) {\n            return of(false);\n        }\n        if (route.data && route.data.scopes && route.data.scopes.length > 0) {\n            return this.getTokenInfo(route);\n        } else {\n            return of(true);\n        }\n    }\n\n    getTokenInfo(route) {\n        if (!this.tokenService.getOauthToken()) {\n            if (this.asyncCheckingToken) {\n                return this.asyncCheckingToken;\n            }\n            let redirectUri = this.appConfigService.getConfig().application.baseUrl;\n            let path = route.routeConfig.path;\n            let pathWithParamSubs = path;\n            let queryParamStr = \"?\";\n            if (route.params) {\n                Object.keys(route.params).forEach(paramKey => {\n                    pathWithParamSubs = pathWithParamSubs.replace(\":\" + paramKey, route.params[paramKey]);\n                });\n            }\n            redirectUri = redirectUri.concat(pathWithParamSubs);\n            if (route.queryParams) {\n                Object.keys(route.queryParams).forEach(paramKey => {\n                    queryParamStr += paramKey + \"=\" + route.queryParams[paramKey] + \"&\";\n                });\n                queryParamStr = queryParamStr.substr(0, queryParamStr.length - 1);\n                redirectUri = redirectUri.concat(queryParamStr);\n            }\n            return this.checkForToken(redirectUri, route).pipe(mergeMap((result) => {\n                this.asyncCheckingToken = undefined;\n                if (!result) {\n                    this.redirectToErrorPage();\n                    return of(result);\n                } else {\n                    return of(result);\n                }\n            }));\n\n        } else if (this.canAccessRoute(route.data.scopes, this.tokenService)) {\n            return of(true);\n        } else {\n            this.redirectToErrorPage();\n        }\n    }\n\n\n    canAccessRoute(scopes: string[][], tokenService: TokenService): boolean {\n        if (this.tokenService.getOauthToken()) {\n            return true\n        }\n        return false;\n    }\n\n    redirectToErrorPage() {\n        this.router.navigate([\"/\" + ResourcesRoutes.ERROR_PAGE]);\n    }\n\n    reloadPage() {\n        document.location.reload();\n    }\n\n    checkForToken(redirectUri: string, route: ActivatedRouteSnapshot): Observable<boolean> {\n        if (this.asyncCheckingToken) {\n            return this.asyncCheckingToken;\n        }\n\n        this.asyncCheckingToken = new AsyncSubject();\n        this.tokenService.checkForToken(redirectUri);\n\n        this.tokenService.authTokenEmitter.subscribe(() => {\n            if (!this.canAccessRoute(route.data.scopes, this.tokenService)) {\n                this.asyncCheckingToken.next(false);\n                this.asyncCheckingToken.complete();\n            } else {\n                this.asyncCheckingToken.next(true);\n                this.asyncCheckingToken.complete();\n            }\n        });\n        return this.asyncCheckingToken;\n    }\n\n}\n","import { Injectable } from '@angular/core'\nimport { LocalStorageService } from './local-storage-service'\nimport { PublishedIncidentService } from './published-incident-service'\n\nconst WATCHLIST_KEY = 'WFNEWS_WATCHLIST'\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class WatchlistService {\n  constructor(private localStorageService: LocalStorageService, private publishedIncidentService: PublishedIncidentService) {\n    this.verifyWatchlist()\n  }\n\n  public clearWatchlist () {\n    this.localStorageService.removeData(WATCHLIST_KEY)\n  }\n\n  public removeFromWatchlist (fireYear: string, incidentNumber: string): boolean {\n    let result = true\n    try {\n      const watchlist = this.getWatchlist()\n      if (watchlist.includes(fireYear + ':' + incidentNumber)) {\n        const index = watchlist.indexOf(fireYear + ':' + incidentNumber)\n        watchlist.splice(index, 1)\n        this.localStorageService.saveData(WATCHLIST_KEY, JSON.stringify(watchlist))\n      }\n    } catch (err) {\n      console.error(err)\n      result = false\n    }\n\n    return result\n  }\n\n  public async verifyWatchlist () {\n    console.warn('Verifying Watchlist')\n    for (const watchlistString of this.getWatchlist()) {\n      const fireYear = watchlistString.split(':')[0]\n      const incidentNumber = watchlistString.split(':')[1]\n      try {\n        const incident = await this.publishedIncidentService.fetchPublishedIncident(incidentNumber, fireYear).toPromise()\n        if (!incident) {\n          console.warn('Removing expired incident ' + incidentNumber + ' from Watchlist')\n          this.removeFromWatchlist(fireYear, incidentNumber)\n        }\n      } catch (err) {\n        console.error(err)\n      }\n    }\n  }\n\n  public getWatchlist (): string[] {\n    const watchlistString = this.localStorageService.getData(WATCHLIST_KEY)\n    if (watchlistString) {\n      return JSON.parse(watchlistString) as string[]\n    }\n    return []\n  }\n\n  public saveToWatchlist (fireYear: string, incidentNumber: string): boolean {\n    let result = true\n    try {\n      const watchlist = this.getWatchlist()\n      watchlist.push(`${fireYear}:${incidentNumber}`)\n      this.localStorageService.saveData(WATCHLIST_KEY, JSON.stringify(watchlist))\n    } catch (err) {\n      console.error(err)\n      result = false\n    }\n\n    return result\n  }\n}\n","import { Injectable } from '@angular/core';\n\nexport type Smk = any\nexport type SmkPromise = Promise< Smk >\n\n@Injectable( {\n    providedIn: 'root',\n} )\nexport class WFMapService {\n    private patchPromise: Promise<any>;\n    private smkBaseUrl = `${window.location.protocol}//${window.location.host}/assets/smk/`;\n    identifyCallback;\n    identifyDoneCallback;\n\n    setHandler( id, method, handler ): Promise<any> {\n        const SMK = window[ 'SMK' ];\n\n        return this.patch().then( function() {\n            SMK.HANDLER.set( id, method, handler );\n        } );\n    }\n\n    setIdentifyCallback( cb ) {\n        this.identifyCallback = cb;\n    }\n\n    setIdentifyDoneCallback( cb ) {\n        this.identifyDoneCallback = cb;\n    }\n\n    createSMK( option: any ) {\n        const self = this;\n\n        const SMK = window[ 'SMK' ];\n\n        const toggleHideListButton = (display) => {\n            const hideListButtonElement = document.getElementsByClassName('smk-tool-BespokeTool--hide-list');\n            hideListButtonElement[0][\"style\"][\"display\"] = display;\n            const hideDetailsPanel = document.getElementById('panel-details');\n            if (display === 'none') {\n              hideDetailsPanel.style.width = '0px'\n              //hideDetailsPanel.style.visibility = 'hidden'\n              //hideDetailsPanel.style.display = 'none'\n            }\n        }\n\n        const toggleShowListButton = (display) => {\n            const hideListButtonElement = document.getElementsByClassName('smk-tool-BespokeTool--show-list');\n            hideListButtonElement[0][\"style\"][\"display\"] = display;\n            const hideDetailsPanel = document.getElementById('panel-details');\n            if (display === 'none') {\n              hideDetailsPanel.style.width = '50vw'\n              //hideDetailsPanel.style.visibility = 'visible'\n              //hideDetailsPanel.style.display = 'block'\n            }\n        }\n\n        return this.patch()\n            .then( function() {\n                option.config.push( {\n                    // viewer: {\n                    //     baseMap: baseMapIds[ 0 ]\n                    // },\n                    tools: [\n                        {\n                            type: 'baseMaps',\n                            choices: baseMapIds\n                        },\n                        {\n                            type: \"bespoke\",\n                            instance: \"show-list\",\n                            title: \"Show list menu\",\n                            position: \"toolbar\",\n                            enabled: true,\n                            order: 0,\n                            icon: \"arrow_forward\"\n                        },\n                        {\n                            type: \"bespoke\",\n                            instance: \"hide-list\",\n                            title: \"Hide list menu\",\n                            position: \"toolbar\",\n                            enabled: true,\n                            order: 1,\n                            icon: \"arrow_back\"\n                        },\n                        {\n                            type: \"bespoke\",\n                            instance: \"full-extent\",\n                            title: \"Zoom to Full Extent\",\n                            enabled: true,\n                            position: \"actionbar\",\n                            showTitle: false,\n                            showPanel: false,\n                            icon: \"zoom_out_map\",\n                            order: 3\n                        },\n                    ]\n                } );\n\n                SMK.HANDLER.set('BespokeTool--show-list', 'triggered', (smk, tool) => {\n                    toggleHideListButton(\"flex\");\n                    toggleShowListButton(\"none\");\n                    option.toggleAccordion.emit();\n                    SMK.MAP[1].$viewer.mapResized();\n                });\n\n                SMK.HANDLER.set('BespokeTool--hide-list', 'triggered', (smk, tool) => {\n                    toggleHideListButton(\"none\");\n                    toggleShowListButton(\"flex\");\n                    option.toggleAccordion.emit();\n                    SMK.MAP[1].$viewer.mapResized();\n                });\n\n                SMK.HANDLER.set('BespokeTool--full-extent', 'triggered', (smk, tool) => {\n                    zoomToProvince()\n                });\n\n                return SMK.INIT({\n                    baseUrl: self.smkBaseUrl,\n                    ...option\n                });\n            } );\n    }\n\n    private patch(): Promise<any> {\n        const self = this;\n\n        const include = window[ 'include' ];\n        const SMK = window[ 'SMK' ];\n\n        if ( !this.patchPromise ) {\n          this.patchPromise = Promise.resolve()\n            .then( function() {\n                console.log( 'start patching SMK' );\n\n                // Create a DIV for a temporary map.\n                // This map is used to ensure that SMK is completely loaded before monkey-patching\n                const temp = document.createElement( 'div' );\n                temp.style.display = 'none';\n                temp.style.visibility = 'hidden';\n                temp.style.position = 'absolute';\n                temp.style.left = '-5000px';\n                temp.style.top = '-5000px';\n                temp.style.right = '-4000px';\n                temp.style.bottom = '-4000px';\n                document.body.appendChild( temp );\n\n                return SMK.INIT( {\n                    id: 999,\n                    containerSel: temp,\n                    baseUrl: self.smkBaseUrl,\n                    config: 'show-tool=bespoke'\n                } )\n                .then( function( smk ) {\n                    const option2x = {\n                        tileSize: 512,\n                        zoomOffset: -1\n                    };\n\n                    const topographicOption = {\n                        maxNativeZoom: 20,\n                        maxZoom: 30\n                    }\n\n                    defineEsriBasemap( 'topographic', 'Topographic', [\n                        { id: 'Topographic', option: { ...topographicOption, ...option2x } }\n                    ] );\n\n                    const imageryOption = {\n                        maxZoom: 30\n                    };\n\n                    defineEsriBasemap( 'imagery', 'Imagery', [\n                        { id: 'Imagery', option: { maxNativeZoom: 20, ...imageryOption/*, ...option2x*/ } },\n                        { id: 'ImageryTransportation', option: { maxNativeZoom: 19, ...imageryOption, ...option2x } },\n                        { id: 'ImageryLabels', option: { maxNativeZoom: 19, ...imageryOption, ...option2x } },\n                    ] );\n\n\n                    const streetsOption = {\n                        maxNativeZoom: 19,\n                        maxZoom: 30\n                    };\n\n                    const bcOption = {\n                        maxNativeZoom: 17,\n                        maxZoom: 30\n                    };\n\n                    const lightGrayOption = {\n                        maxNativeZoom: 16,\n                        maxZoom: 30\n                    };\n\n                    smk.destroy();\n                    temp.parentElement.removeChild( temp );\n                } );\n            } )\n            .then( function() {\n                // add a component to Vue global used by SMK\n                const Vue = window['Vue'];\n                return include( 'component' ).then( function() {\n                    const f = Vue.component( 'wf-feature', {\n                        template: '#wf-feature-template',\n                        extends: SMK.COMPONENT.FeatureBase,\n                        methods: {\n                            asDate( attr ) {\n                                let v;\n                                try {\n                                    v = this.feature.properties[ attr ];\n                                } catch ( e ) {\n                                    return attr;\n                                }\n\n                                try {\n                                    return ( new Date( v ) ).toISOString().slice( 0, 10 );\n                                } catch ( e ) {\n                                    return v;\n                                }\n                            },\n                            zoomFeature() {\n                                this.$root.trigger( 'IdentifyFeatureTool', 'zoom' );\n                            }\n                        }\n                    } );\n\n                    Vue.component( 'wf-weather-station-feature', {\n                        template: '#wf-weather-station-feature-template',\n                        extends: f,\n                        computed: {\n                          content() {\n                            return {\n                              create: this.feature.properties.createContent\n                            };\n                          }\n                        },\n                    } );\n\n                    Vue.component( 'wf-incident-feature', {\n                      template: '#wf-incident-feature-template',\n                      extends: f,\n                      computed: {\n                        content() {\n                          return {\n                            create: this.feature.properties.createContent\n                          };\n                        }\n                      },\n                  } );\n\n                } );\n            } )\n            .then( function() {\n                include.tag( 'plugin-wfim-util',\n                    // { loader: \"group\", tags: [\n                        { loader: 'script', url: './assets/js/smk/plugin-wfnews/util.js' }\n                    // ] }\n                );\n\n                include.tag( 'layer-incidents',\n                    { loader: 'group', tags: [\n                        { loader: 'script', url: './assets/js/smk/plugin-wfnews/layer/layer-incidents.js' }\n                    ] }\n                );\n\n                include.tag( 'layer-incidents-leaflet',\n                    { loader: 'group', tags: [\n                        { loader: 'script', url: './assets/js/smk/plugin-wfnews/viewer-leaflet/layer/layer-incidents-leaflet.js' },\n                    ] }\n                );\n\n                include.tag( 'util-date',\n                    { loader: 'group', tags: [\n                        { loader: 'script', url: './assets/js/smk/plugin-wfnews/lib/date.js' }\n                    ] }\n                );\n                include.tag( 'layer-wms-time-cql',\n                    { loader: 'group', tags: [\n                        { loader: 'script', url: './assets/js/smk/plugin-wfnews/layer/layer-wms-time-cql.js' }\n                    ] }\n                );\n                include.tag( 'layer-wms-time-cql-leaflet',\n                    { loader: 'group', tags: [\n                        { loader: 'script', url: './assets/js/smk/plugin-wfnews/viewer-leaflet/layer/layer-wms-time-cql-leaflet.js' }\n                    ] }\n                );\n\n                include.tag( 'leaflet-extensions',\n                    { loader: 'group', tags: [\n                        { loader: 'script', url: './assets/js/smk/plugin-wfnews/viewer-leaflet/lib/layer-tooltip.js' },\n                        { loader: 'script', url: './assets/js/smk/plugin-wfnews/viewer-leaflet/lib/layer-arrow.js' },\n                        { loader: 'script', url: './assets/js/smk/plugin-wfnews/viewer-leaflet/lib/layer-crosshairs.js' },\n                        { loader: 'style', url: './assets/js/smk/plugin-wfnews/style/wfnews-markers2.css' },\n                        { loader: 'style', url: './assets/js/smk/plugin-wfnews/style/wfnews-info.css' }\n                    ] }\n                );\n\n                include.tag( \"layer-image\",\n                    { loader: \"group\", tags: [\n                        { loader: \"script\", url: \"./assets/js/smk/plugin-time-dimension/layer/layer-image.js\" },\n                    ] }\n                )\n\n                include.tag( \"layer-image-leaflet\",\n                     { loader: \"group\", tags: [\n                         { loader: \"script\", url: \"./assets/js/smk/plugin-time-dimension/viewer-leaflet/layer/layer-image-leaflet.js\" },\n                     ] }\n                 )\n\n                 include.tag( \"layer-wms-time\",\n                     { loader: \"group\", tags: [\n                         { loader: \"script\", url: \"./assets/js/smk/plugin-time-dimension/layer/layer-wms-time.js\" }\n                     ] }\n                 );\n\n                 include.tag( \"layer-wms-time-leaflet\",\n                     { loader: \"group\", tags: [\n                         { loader: \"script\", url: \"./assets/js/smk/plugin-time-dimension/viewer-leaflet/layer/layer-wms-time-leaflet.js\" }\n                     ] }\n                 );\n\n                 include.tag( \"tool-time-dimension\",\n                     { loader: \"group\", tags: [\n                         { loader: \"script\", url: \"./assets/js/smk/plugin-time-dimension/tool/time-dimension/tool-time-dimension.js\" }\n                     ] }\n                 )\n\n                 include.tag( \"tool-time-dimension-leaflet\",\n                     { loader: \"sequence\", tags: [\n                         { loader: \"style\", url: \"https://cdn.jsdelivr.net/npm/leaflet-timedimension@1.1.1/dist/leaflet.timedimension.control.min.css\" },\n                         { loader: \"script\", url: \"https://cdn.jsdelivr.net/npm/iso8601-js-period@0.2.1/iso8601.min.js\" },\n                         { loader: \"script\", url: \"https://cdn.jsdelivr.net/npm/leaflet-timedimension@1.1.1/dist/leaflet.timedimension.min.js\" },\n                         { loader: \"script\", url: \"./assets/js/smk/plugin-time-dimension/viewer-leaflet/tool/time-dimension/lib/time-dimension-layer-image-overlay.js\" },\n                         { loader: \"script\", url: \"./assets/js/smk/plugin-time-dimension/viewer-leaflet/tool/time-dimension/tool-time-dimension-leaflet.js\" }\n                     ] }\n                 )\n\n                return include(\n                    'leaflet-extensions',\n                    'layer-incidents-leaflet',\n                    'layer-wms-time-cql-leaflet',\n                    'layer-image-leaflet',\n                    'layer-wms-time-leaflet'\n                ).then( function() {\n                    console.log('custom smk layers loaded');\n                } );\n            } )\n            .then( function() {\n                SMK.TYPE.Viewer.leaflet.prototype.mapResized = function() {\n                    const self = this;\n                    setTimeout( function() {\n                        self.map.invalidateSize( { animate: false } );\n                    }, 500 );\n                };\n                const oldInit = SMK.TYPE.Viewer.leaflet.prototype.initialize;\n                SMK.TYPE.Viewer.leaflet.prototype.initialize = function(smk) {\n                    // Call the existing initializer\n                    oldInit.apply(this, arguments);\n\n                    // Set the maximum bounds that can be panned to.\n                    const L = window[ 'L' ];\n                    const maxBounds = L.latLngBounds( [L.latLng( 90, -180 ), L.latLng( 0, -90 )] );\n                    this.map.setMaxBounds(maxBounds);\n                };\n\n                SMK.TYPE.Viewer.leaflet.prototype.panToFeature = function( feature, zoomIn ) {\n                    // console.log('panToFeature')\n                    const turf = window[ 'turf' ]; const L = window[ 'L' ];\n\n                    let bounds;\n                    let maxZoom;\n                    switch ( turf.getType( feature ) ) {\n                    case 'Point':\n                        const ll = L.latLng( feature.geometry.coordinates[ 1 ], feature.geometry.coordinates[ 0 ] );\n                        bounds = L.latLngBounds( [ ll, ll ] );\n                        maxZoom = 16;\n                        break;\n\n                    default:\n                        const bbox = turf.bbox( feature );\n                        bounds = L.latLngBounds( [ bbox[ 1 ], bbox[ 0 ] ], [ bbox[ 3 ], bbox[ 2 ] ] );\n                    }\n                    if ( !bounds ) {\n                      return;\n                    }\n\n                    const padding = this.getPanelPadding();\n\n                    if ( !zoomIn ) {\n                        maxZoom = this.map.getZoom();\n                    } else if ( zoomIn === true ) {\n                        // maxZoom = null\n                    } else {\n                        maxZoom = parseFloat( zoomIn );\n                    }\n\n                    this.map\n                        .fitBounds( bounds, {\n                            paddingTopLeft: padding.topLeft,\n                            paddingBottomRight: padding.bottomRight,\n                            maxZoom,\n                            animate: true\n                        } );\n                };\n\n                const origIdentifyFeatures = SMK.TYPE.Viewer.leaflet.prototype.identifyFeatures;\n                SMK.TYPE.Viewer.leaflet.prototype.identifyFeatures = function( location, area ) {\n                    const vw = this;\n\n                    (document.getElementsByClassName('smk-sidepanel').item(0) as HTMLElement).style.removeProperty('width');\n                    if ( self.identifyCallback ) {\n                      self.identifyCallback( location, area );\n                    }\n\n                    return Promise.resolve()\n                        .then( function() {\n                            return origIdentifyFeatures.call( vw, location, area );\n                        } )\n                        .then( function() {\n                            if ( self.identifyDoneCallback ) {\n                              self.identifyDoneCallback( location, area );\n                            }\n                        } );\n                };\n\n                SMK.TYPE.Layer[ 'wms' ].prototype.canMergeWith = function( other ) {\n                    return this.config.combiningClass && this.config.combiningClass === other.config.combiningClass;\n                };\n                SMK.TYPE.Layer[ 'wms' ]['leaflet'].prototype.canMergeWith = function( other ) {\n                    return this.config.combiningClass && this.config.combiningClass === other.config.combiningClass;\n                };\n\n                SMK.TYPE.Layer[ 'wms' ]['leaflet'].prototype.getFeaturesInArea = function( area, view, option ) {\n                    const self = this;\n\n                    let extraFilter = this.config.where || '';\n                    if ( extraFilter ) {\n                      extraFilter = ' AND ' + extraFilter;\n                    }\n\n                    const polygon = 'SRID=4326;POLYGON ((' + area.geometry.coordinates[ 0 ].map( function( c ) {\n                      return c.join( ' ' );\n                    } ).join( ',' ) + '))';\n\n                    const data = {\n                        service:        'WFS',\n                        version:        '1.1.0',\n                        request:        'GetFeature',\n                        srsName:        'EPSG:4326',\n                        typename:       this.config.layerName,\n                        outputformat:   'application/json',\n                        cql_filter:     'INTERSECTS(' + (this.config.geometryAttribute||'GEOMETRY') + ',' + polygon + ')' + extraFilter\n                    };\n\n                    const url = encodeUrl( this.config.serviceUrl, data );\n\n                    return fetch( url, {\n                        method: 'GET',\n                        headers: this.config.header,\n                        mode: 'cors'\n                    } )\n                    .then( function( res ) {\n                        return res.blob();\n                    } )\n                    .then( function( blob ) {\n                        return new Promise( ( res, rej ) => {\n                            const reader = new FileReader();\n                            reader.onload = function() {\n                                try {\n                                    res( JSON.parse( reader.result.toString() ) );\n                                } catch ( e ) {\n                                  rej( e );\n                                }\n                            };\n                            reader.readAsBinaryString( blob );\n                        } );\n                    } )\n                    .then( function( data: any ) {\n                        if ( !data ) {\n                          throw new Error( 'no features' );\n                        }\n                        if ( !data.features || data.features.length == 0 ) {\n                          throw new Error( 'no features' );\n                        }\n\n                        return data.features.map( function( f, i ) {\n                            if ( self.config.titleAttribute ) {\n                              f.title = f.properties[ self.config.titleAttribute ];\n                            } else {\n                              f.title = 'Feature #' + ( i + 1 );\n                            }\n\n                            return f;\n                        } );\n                    } );\n                };\n\n                SMK.TYPE.Layer[ 'wms-time-cql' ]['leaflet'].prototype.initLegends =\n                SMK.TYPE.Layer[ 'wms' ]['leaflet'].prototype.initLegends = function() {\n                    const J = window['jQuery'];\n\n                    const url =  this.config.serviceUrl + '?' + J.param( {\n                        SERVICE:    'WMS',\n                        VERSION:    '1.1.1',\n                        REQUEST:    'getlegendgraphic',\n                        FORMAT:     'image/png',\n                        TRANSPARENT: 'true',\n                        LAYER:      this.config.layerName,\n                        STYLE:      this.config.styleName\n                    } );\n\n                    return fetch( url, {\n                        method: 'GET',\n                        headers: this.config.header,\n                        mode: 'cors'\n                    } )\n                    .then( ( res ) => res.blob() )\n                    .then( ( blob ) => new Promise( ( res, rej ) => {\n                            try {\n                                const reader = new FileReader();\n                                reader.onload = () => res( reader.result );\n                                reader.readAsDataURL( blob );\n                            } catch ( e ) {\n                              rej( e );\n                            }\n                        } ) )\n                    .then( ( dataUrl: string ) => new Promise( ( res, rej ) => {\n                            try {\n                                const img = new Image();\n                                img.onload = () => res( [ {\n                                    url: dataUrl,\n                                    width: img.width,\n                                    height: img.height,\n                                    ...this.config.legend\n                                } ] );\n                                img.onerror = ( ev ) => rej( ev );\n                                img.src = dataUrl;\n                            } catch ( e ) {\n                              rej( e );\n                            }\n                        } ) )\n                    .catch( ( e ) => {\n                        console.warn( e );\n                    } );\n                };\n            } )\n            .then( function() {\n                console.log( 'done patching SMK' );\n            } );\n}\n\n        return this.patchPromise;\n    }\n}\n\nfunction clone( obj ) {\n    return JSON.parse( JSON.stringify( obj ) );\n}\n\nlet order = 100;\nlet baseMapIds = [];\nfunction defineEsriBasemap( id: string, title: string, baseMaps: { id: string; option?: { [key: string]: any } }[] ) {\n    order += 1;\n    baseMapIds.push( id );\n    window[ 'SMK' ].TYPE.Viewer.prototype.basemap[ id ] = {\n        title,\n        order,\n        create() {\n            return baseMaps.map( function( bm ) {\n                const L = window[ 'L' ];\n\n                const orig = clone( L.esri.BasemapLayer.TILES[ bm.id ].options );\n                const bmly = window[ 'L' ].esri.basemapLayer( bm.id, clone( bm.option || {} ) );\n                L.esri.BasemapLayer.TILES[ bm.id ].options = orig;\n                return bmly;\n            } );\n        }\n    };\n}\n\nfunction defineWmsBasemap( id, title: string, baseMaps: { url: string; option?: { [key: string]: any } }[] ) {\n    order += 1;\n    baseMapIds.push( id );\n    window[ 'SMK' ].TYPE.Viewer.prototype.basemap[ id ] = {\n        title,\n        order,\n        create() {\n            return baseMaps.map( function( bm ) {\n                const L = window[ 'L' ];\n\n                return L.tileLayer( bm.url, bm.option );\n            } );\n        }\n    };\n}\n\nfunction encodeUrl( url, data ) {\n    if ( !data ) {\n      return url;\n    }\n\n    const params = Object.keys( data )\n        .filter( function( k ) {\n          return data[ k ];\n        } )\n        .map( function( k ) {\n            return `${ encodeURIComponent( k ) }=${ encodeURIComponent( data[ k ] ) }`;\n        } )\n        .join( '&' );\n\n    if ( /[?]\\S+$/.test( url ) ) {\n      return `${ url }&${ params }`;\n    }\n\n    if ( /[?]$/.test( url ) ) {\n      return `${ url }${ params }`;\n    }\n\n    return `${ url }?${ params }`;\n}\n\nfunction zoomToProvince() {\n    zoomToGeometry( window[ 'turf' ].bboxPolygon( [-136.3, 49, -116, 60.2] ))\n}\n\nfunction zoomToGeometry( geom: any, zoomLevel: number|boolean = 12 ) {\n    const SMK = window['SMK'];\n    let viewer = null;\n    for (const smkMap in SMK.MAP) {\n        if (Object.prototype.hasOwnProperty.call(SMK.MAP, smkMap)) {\n          viewer = SMK.MAP[smkMap].$viewer;\n        }\n    }\n    viewer.panToFeature(geom, zoomLevel)\n}\n","import { direction, distance, fetchJsonP, LonLat } from './util';\n\nconst EPSILON = 0.01;\n\nexport interface Location {\n    name: string;\n    type: string;\n    dist: number;\n    loc: LonLat;\n    direction?: string;\n    isAnchor?: boolean;\n};\n\nexport class PlaceData {\n    private anchorPoint?: LonLat;\n    private maxDistance?: number;\n    private callback?: any;\n    private searchState: {\n        placeText?: string;\n        places?: Location[];\n        roadText?: string;\n        roads?: Location[];\n        intersectionsText?: [ string, string ];\n        intersections?: Location[];\n    } = {};\n\n    init() {\n        return this.updateResults();\n    }\n\n    setResultHandler( callback ) {\n        if ( callback != null && typeof( callback ) != 'function' ) {\nreturn;\n}\n\n        this.callback = callback;\n    }\n\n    setMaximumDistance( distance: number ) {\n        this.maxDistance = distance;\n        return this.updateResults();\n    }\n    getMaximumDistance(): number {\n        return this.maxDistance;\n    }\n\n    setAnchor( point: LonLat ) {\n        this.anchorPoint = point;\n        return this.updateResults();\n    }\n    getAnchor(): LonLat {\n        return this.anchorPoint;\n    }\n\n    getSearchState() {\n        return this.searchState;\n    }\n\n    findPlace( text: string ) {\n        this.searchState.places = [];\n        this.searchState.placeText = text;\n\n        return this.updateResults();\n    }\n\n    findRoad( text: string ) {\n        this.searchState.roads = [];\n        this.searchState.roadText = text;\n        // don't search for intersections\n        this.searchState.intersections = [];\n        this.searchState.intersectionsText = null;\n\n        return this.updateResults();\n    }\n\n    findIntersection( text1, text2 ) {\n        this.searchState.intersections = [];\n        this.searchState.intersectionsText = [ text1, text2 ];\n        // don't search for roads\n        this.searchState.roads = [];\n        this.searchState.roadText = null;\n\n        return this.updateResults();\n    }\n\n    searchAddresses( txt: string ) {\n        const query = {\n            ver:            1.2,\n            maxResults:     10,\n            outputSRS:      4326,\n            addressString:  txt,\n            autoComplete:   true\n        };\n    \n        return fetchJsonP( 'https://geocoder.api.gov.bc.ca/addresses.geojsonp', query ).response\n            .then( function( result ) {\n                const resultLoc = result.features\n                    .map( function( feature ) {\n                        if ( !feature.geometry.coordinates ) {\n                            return;\n                        }\n    \n                        // exclude whole province match\n                        if ( feature.properties.fullAddress == 'BC' ) {\n                            return;\n                        }\n                        \n                        const loc = {\n                            streetName: feature.properties.streetName,\n                            streetQualifier: feature.properties.streetQualifier,\n                            streetType: feature.properties.streetType,\n                            localityName: feature.properties.localityName,\n                            localityType: feature.properties.localityType,\n                            civicNumber: feature.properties.civicNumber,\n                            dist: null,\n                            dir: null,\n                            loc: feature.geometry.coordinates\n                        };\n\n                        return loc;\n                    } )\n                    .filter( function( item ) {\n                        return item;\n                    } );\n                    return resultLoc;\n            } )\n            .catch( function( e ) {\n                console.warn( 'address match:', e );\n            } );\n    }\n\n    updateResults(): Promise<any> {\n        const self = this;\n\n        if ( !this.callback ) {\nreturn Promise.resolve();\n}\n\n        return Promise.resolve()\n            .then( function() {\n return searchPlaces( self );\n} )\n            .then( function() {\n return searchRoads( self );\n} )\n            .then( function() {\n return searchOccupants( self );\n} )\n            .then( function() {\n return searchAddresses( self );\n} )\n            .then( function() {\n return searchIntersections( self );\n} )\n            .then(\n                function() {\n                    if ( !self.callback ) {\nreturn;\n}\n\n                    self.callback.call( null, Object.assign( {\n                        anchorPt:       self.anchorPoint,\n                        maxDistance:    self.maxDistance,\n                    }, self.searchState ) );\n                },\n                function( e ) {\n                    if ( !self.callback ) {\nreturn;\n}\n                    self.callback.call( null, Object.assign( {\n                        error:          e,\n                        anchorPt:       self.anchorPoint,\n                        maxDistance:    self.maxDistance,\n                    }, self.searchState ) );\n                }\n            );\n    }\n}\n\n//---------------------------------------------------------------\n\nconst fetchCache: { [url: string]: Promise<any> } = {};\n\nfunction fetchData( url: string ): Promise<any> {\n    if ( fetchCache[ url ] ) {\nreturn fetchCache[ url ];\n}\n\n    return fetchCache[ url ] = fetch( url, { credentials: 'same-origin' } )\n        .then( function( res ) {\n            if ( res.ok ) {\nreturn res.json();\n}\n\n            throw new Error( `fetching ${ url }: ${ res.statusText }` );\n        } );\n}\n\nfunction searchPlaces( data: PlaceData ) {\n    if ( data.getSearchState().placeText ) {\nreturn fetchData( 'assets/place-data/wf-search-places.json' )\n            .then( function( places: { n: string; t: string; x: number; y: number }[] ) {\n                data.getSearchState().places = sortData( searchData( places, data.getSearchState().placeText, data.getAnchor() ) );\n            } )\n            .catch( function( e ) {\n                console.warn( 'place match:', e );\n            } );\n} else {\ndata.getSearchState().places = [];\n}\n}\n\nfunction searchRoads( data: PlaceData ) {\n    if ( data.getSearchState().roadText ) {\nreturn fetchData( 'assets/place-data/wf-search-roads.json' )\n            .then( function( roads: { n: string; x: number; y: number }[] ) {\n                data.getSearchState().roads = sortData( searchData( roads, data.getSearchState().roadText, data.getAnchor(), data.getMaximumDistance() ) );\n            } )\n            .catch( function( e ) {\n                console.warn( 'road match:', e );\n            } );\n} else {\ndata.getSearchState().roads = [];\n}\n}\n\nfunction searchData( source: { n: string; t?: string; x: number; y: number }[], text: string, anchorPt: LonLat, maxDist?: number ): Location[] {\n    const locs = [];\n    if ( !text || !text.trim() ) {\nreturn locs;\n}\n\n    const t = text.toLowerCase();\n    // var strIn = ' ' + strLow;\n\n    for (let i = 0; i < source.length; i++) {\n        const place = source[i];\n        if ( place.n.toLowerCase().startsWith( t ) ) {\n            const location = {\n                name: place.n,\n                type: place.t,\n                dist: null,\n                loc: [ place.x, place.y ] as LonLat\n            };\n\n            setAnchorData( anchorPt, location );\n\n            if ( maxDist && location.dist > maxDist ) {\ncontinue;\n}\n\n            locs.push(location);\n        }\n    }\n\n    return locs;\n}\n\nfunction sortData( locations ) {\n    const sorted = locations.sort( function( a, b ) {\n        if ( a.dist == null || b.dist == null ) {\nreturn a.name > b.name ? 1 : -1;\n}\n\n        return a.dist - b.dist;\n    } );\n    return sorted;\n}\n\nfunction removeDuplicateIntersections( locations ) {\n    // remove contiguous entries with duplicate names (which will be close to one another)\n    const uniq = [];\n    for (let i = 0; i < locations.length; i++) {\n        const candidate = locations[i];\n        if (i > 0) {\n            const current = uniq[uniq.length-1];\n            // skip if duplicate\n            if (isDuplicateIntersection(current, candidate)) {\ncontinue;\n}\n        }\n        // keep this one\n        uniq.push( candidate );\n    }\n    return uniq;\n}\n\nfunction isDuplicateIntersection(intLoc1, intLoc2) {\n    if (intLoc1.name !== intLoc2.name) {\nreturn false;\n}\n    if (intLoc1.dist && intLoc2.dist) {\n        const distanceBetween = intLoc1.dist - intLoc2.dist;\n        if (distanceBetween > 1) {\nreturn false;\n}\n    }\n    return true;\n}\n\nfunction setAnchorData( anchorPt: LonLat, location: Location ) {\n    if ( ! anchorPt ) {\nreturn;\n}\n    location.dist = distance( anchorPt, location.loc ); // / 1000.0;\n    location.direction = direction( anchorPt, location.loc );\n    // MD not sure about this logic, since there can be more than one result with same coordinate\n    if ( location.dist < EPSILON ) {\nlocation.isAnchor = true;\n}\n}\n\nfunction searchIntersections( data: PlaceData ) {\n    if ( !data.getSearchState().intersectionsText ) {\n        data.getSearchState().intersections = [];\n        return;\n    }\n\n    const query = {\n        ver:            1.2,\n        maxResults:     1000,\n        outputSRS:      4326,\n        addressString:  data.getSearchState().intersectionsText.join( ' and ' ),\n        matchPrecision: 'INTERSECTION',\n        autoComplete:   true\n    };\n\n    return fetchJsonP( 'https://geocoder.api.gov.bc.ca/addresses.geojsonp', query ).response\n        .then( function( result ) {\n            const resultLoc = result.features\n                .map( function( feature ) {\n                    if ( !feature.geometry.coordinates ) {\nreturn;\n}\n\n                    // exclude whole province match\n                    if ( feature.properties.fullAddress == 'BC' ) {\nreturn;\n}\n                    // only return intersections\n                    if ( ! feature.properties.intersectionName ) {\nreturn;\n}\n\n                    const loc = {\n                        name: feature.properties.fullAddress,\n                        type: 'intersection',\n                        dist: null,\n                        dir: null,\n                        loc: feature.geometry.coordinates\n                    };\n                    setAnchorData(data.getAnchor(), loc);\n                    return loc;\n                } )\n                .filter( function( item ) {\n return item;\n} );\n            data.getSearchState().intersections = removeDuplicateIntersections( sortData( resultLoc ));\n        } )\n        .catch( function( e ) {\n            console.warn( 'intersection match:', e );\n        } );\n}\n\nfunction searchAddresses( data: PlaceData ) {\n    if ( data.getSearchState().roads.length > 0 || !data.getSearchState().roadText || !data.getSearchState().roadText.trim() ) {\n        return;\n    }\n\n    const query = {\n        ver:            1.2,\n        maxResults:     10,\n        outputSRS:      4326,\n        addressString:  data.getSearchState().roadText,\n        autoComplete:   true\n    };\n\n    return fetchJsonP( 'https://geocoder.api.gov.bc.ca/addresses.geojsonp', query ).response\n        .then( function( result ) {\n            const resultLoc = result.features\n                .map( function( feature ) {\n                    if ( !feature.geometry.coordinates ) {\nreturn;\n}\n\n                    // exclude whole province match\n                    if ( feature.properties.fullAddress == 'BC' ) {\nreturn;\n}\n\n                    const loc = {\n                        name: feature.properties.fullAddress,\n                        type: null,\n                        dist: null,\n                        dir: null,\n                        loc: feature.geometry.coordinates\n                    };\n                    setAnchorData(data.getAnchor(), loc);\n                    return loc;\n                } )\n                .filter( function( item ) {\n return item;\n} );\n            data.getSearchState().roads = removeDuplicateIntersections( sortData( resultLoc ));\n        } )\n        .catch( function( e ) {\n            console.warn( 'address match:', e );\n        } );\n}\n\nfunction searchOccupants( data: PlaceData ) {\n    if ( data.getSearchState().places.length > 0 || !data.getSearchState().placeText || !data.getSearchState().placeText.trim() ) {\n        return;\n    }\n\n    const query = {\n        ver:            1.2,\n        maxResults:     100,\n        outputSRS:      4326,\n        addressString:  data.getSearchState().placeText,\n        autoComplete:   true\n    };\n\n    return fetchJsonP( 'https://geocoder.api.gov.bc.ca/occupants/addresses.geojsonp', query ).response\n        .then( function( result ) {\n            const resultLoc = result.features\n                .map( function( feature ) {\n                    if ( !feature.geometry.coordinates ) {\nreturn;\n}\n\n                    // exclude whole province match\n                    if ( feature.properties.fullAddress == 'BC' ) {\nreturn;\n}\n\n                    const loc = {\n                        name: feature.properties.fullAddress,\n                        type: null,\n                        dist: null,\n                        dir: null,\n                        loc: feature.geometry.coordinates\n                    };\n                    setAnchorData(data.getAnchor(), loc);\n                    return loc;\n                } )\n                .filter( function( item ) {\n return item;\n} );\n            data.getSearchState().places = removeDuplicateIntersections( sortData( resultLoc ));\n        } )\n        .catch( function( e ) {\n            console.warn( 'occupant match:', e );\n        } );\n}\n","import { SpatialUtilsService } from '@wf1/core-ui';\n\nexport type LonLat = [number, number];\nexport type LatLon = [number, number];\n\nexport function toPoint(lonLat: LonLat): any {\n  return window['turf'].point(lonLat);\n}\n\nexport function toLatLon(lonLat: LonLat): LatLon {\n  return [lonLat[1], lonLat[0]];\n}\n\nexport function encodeUrl(url: string, data: { [key: string]: string | number | boolean }): string {\n  if (!data) {\n    return url;\n  }\n\n  const params = Object.keys(data)\n    .filter(function (k) {\n      return data[k];\n    })\n    .map(function (k) {\n      return `${encodeURIComponent(k)}=${encodeURIComponent(data[k])}`;\n    })\n    .join('&');\n\n  if (/[?]\\S+$/.test(url)) {\n    return `${url}&${params}`;\n  }\n\n  if (/[?]$/.test(url)) {\n    return `${url}${params}`;\n  }\n\n  return `${url}?${params}`;\n}\n\n\nexport function fetchJsonP(url: string, data: { [key: string]: string | number | boolean }, opt = { timeout: 10000 }): { response: Promise<any>; abort: () => void } {\n  data['_'] = Math.round(Math.random() * 1e10);\n\n  const cbfn = `callback_${data['_']}`;\n  data.callback = cbfn;\n\n  let id;\n  let cancel;\n  const req = encodeUrl(url, data);\n  const promise = new Promise(function (res, rej) {\n    function cleanup() {\n      if (id) {\n        clearTimeout(id);\n      }\n      id = null;\n\n      if (script.parentNode) {\n        script.parentNode.removeChild(script);\n      }\n\n      window[cbfn] = null;\n    }\n\n    window[cbfn] = function (payload) {\n      cleanup();\n      res(payload);\n    };\n\n    cancel = function () {\n      cleanup();\n      rej(new Error('cancelled'));\n    };\n\n    const script = window['L'].DomUtil.create('script');\n    script.type = 'text/javascript';\n    script.async = true;\n    script.src = req;\n\n    document.getElementsByTagName('head')[0].appendChild(script);\n  });\n\n  if (opt.timeout) {\n    id = setTimeout(cancel, opt.timeout);\n  }\n\n  return {\n    response: promise,\n    abort: cancel\n  };\n}\n\n// distance in km\nexport function distance(loc1: LonLat, loc2: LonLat): number {\n  return window['turf'].distance(toPoint(loc1), toPoint(loc2));\n}\n\nexport function formatDistance(dist: number, unit: string): string {\n  if (dist == null) {\n    return 'n/a';\n  }\n  if (dist < 10) {\n    return dist.toFixed(1) + ' ' + unit;\n  }\n  return dist.toFixed(0) + ' ' + unit;\n}\n\nconst DIRECTION = ['N', 'NE', 'E', 'SE', 'S', 'SW', 'W', 'NW'];\n\nexport function direction(start: LonLat, end: LonLat): string {\n  const bearing = window['turf'].bearing(toPoint(start), toPoint(end));\n  return DIRECTION[Math.floor((bearing + 382.5) / 45) % 8];\n}\n\n\nconst TIME_FORMAT = Intl.DateTimeFormat('en-CA', {\n  timeZone: undefined,\n  hour12: false,\n  year: 'numeric',\n  month: 'numeric',\n  day: 'numeric',\n  hour: 'numeric',\n  minute: 'numeric',\n  second: 'numeric',\n  timeZoneName: 'short'\n});\nconst DATE_FORMAT = Intl.DateTimeFormat('en-CA', {\n  timeZone: undefined,\n  hour12: false,\n  year: 'numeric',\n  month: 'numeric',\n  day: 'numeric'\n});\nconst CAD_FORMAT = Intl.NumberFormat('en-CA', {\n  style: 'currency',\n  currency: 'CAD'\n});\n\nexport interface NumberFormat {\n  precision: number;\n  fractionPlaces: number;\n}\nexport interface UnitWithFormat {\n  unit: string;\n  format: NumberFormat;\n}\n\nexport class Translate {\n  constructor(\n    private spatialUtils: SpatialUtilsService\n  ) { }\n\n  parseCoordinate(val: string): LonLat {\n    const c = this.spatialUtils.parseCoordinates(val);\n    if (!c) {\n      return;\n    }\n    return c as LonLat;\n  }\n\n  parseSexagesimal(val: string): number {\n    if (typeof val == 'number') {\n      return val;\n    } else if (/^-?\\d*(\\.\\d*)?$/.test(val)) {\n      return 0.0 + parseFloat(val);\n    } else {\n      let result = 0;\n      let divisor = 1;\n      let sign = 1;\n      if (/[NSEWnsew]$/.test(val)) {\n        sign = /[SWsw]$/.test(val) ? -1 : 1;\n        val = val.replace(/[NSEWnsew]$/, '');\n      }\n      val.split(/[°DMSdms'\"\\s]+/).forEach(part => {\n        const partVal = parseFloat(part);\n        if (!isNaN(partVal)) {\n          result += partVal / divisor;\n        }\n        divisor *= 60;\n      });\n\n      return result * sign;\n    }\n\n  }\n\n  formatCoordinate(lonLat: LonLat): string {\n    if (!lonLat[0] || !lonLat[1]) {\n      return '';\n    }\n    return this.spatialUtils.formatCoordinates(lonLat);\n  }\n\n  formatLatLon(lat, lon): string {\n    if (!lat || !lon) {\n      return '';\n    }\n    return this.formatCoordinate([lon, lat]);\n  }\n\n  parseYyyyMmDd(val): Date {\n    if (!val) {\n      return;\n    }\n    const s = '' + val;\n    return new Date(`${s.substring(0, 4)}-${s.substring(4, 6)}-${s.substring(6, 8)}`);\n  }\n  parseIsoDateTime(val): Date {\n    if (!val) {\n      return;\n    }\n    return new Date(val);\n  }\n\n  parseMilliseconds(val): Date {\n    if (val == null) {\n      return;\n    }\n    return new Date(1 * val);\n  }\n  parseEUDate(val?): Date {\n    // Fix European style dd/mm/yyyy dates.\n    if (!val) {\n      return val;\n    }\n    const date = new Date(val.replace(/(\\d\\d)\\/(\\d\\d)\\/(\\d\\d\\d\\d)/, (m, day, month, year) => `${year}-${month}-${day}`));\n    if (isNaN(date.getTime())) {\n      return null;\n    }\n    return date;\n  }\n  formatLocalDate(val: Date): string {\n    if (!val) {\n      return '';\n    }\n    return DATE_FORMAT.format(val);\n    // return val && new Date( val ).toLocaleDateString()\n  }\n\n  formatLocalTime(val: Date): string {\n    if (!val) {\n      return '';\n    }\n    return TIME_FORMAT.format(val);\n    // return val && new Date( val ).toLocaleDateString()\n  }\n\n  formatNumber(val: number, numberFormat?: NumberFormat): string {\n    if (val == null) {\n      return '';\n    }\n\n    numberFormat = { precision: 3, fractionPlaces: 1, ...numberFormat };\n\n    const rounded = parseFloat(val.toPrecision(numberFormat.precision));\n    if (!numberFormat.fractionPlaces) {\n      return rounded.toLocaleString();\n    }\n\n    const a = Math.abs(rounded);\n    const s = Math.sign(rounded);\n    const i = Math.floor(a);\n    const f = a - i;\n    return (s * i).toLocaleString() + f.toFixed(numberFormat.fractionPlaces).substr(1);\n  }\n\n  formatUnit(val: number, unit: string, numberFormat?: NumberFormat): string {\n    if (val == null) {\n      return '';\n    }\n    return `<span>${this.formatNumber(val, numberFormat)}\\u202F<span class=\"unit\">${unit}</span></span>`;\n  }\n\n  formatAndConvertUnit(val: number, unit: string, outputUnit: string | UnitWithFormat) {\n    if (typeof outputUnit === 'object') {\n      this.formatUnit(this.convertUnit(val, unit, outputUnit.unit), outputUnit.unit);\n    } else {\n      this.formatUnit(this.convertUnit(val, unit, outputUnit), outputUnit);\n    }\n  }\n\n  formatCAD(value?: number): string | null | undefined {\n    if (value === null || value === undefined) {\n      return value as null | undefined;\n    } else {\n      return CAD_FORMAT.format(value);\n    }\n  }\n\n  formatAngle(val?: number, numberFormat?: NumberFormat): string | undefined | null {\n    if (val) {\n      return `<span>${this.formatNumber(val, numberFormat)}<span class=\"unit\">°</span></span>`;\n    } else {\n      return val as undefined | null;\n    }\n  }\n\n  /**\n   * Converts and formats a value as two different units, the second in parentheses.\n   */\n  formatMultipleUnits(val: number, unit: string, standardUnit: string | UnitWithFormat, otherUnit: string | UnitWithFormat): string {\n    if (val == null) {\n      return '';\n    }\n    return `${this.formatAndConvertUnit(val, unit, standardUnit)} <span class='alternate-unit'>(${this.formatAndConvertUnit(val, unit, otherUnit)})</span>`;\n  }\n\n  convertUnit(val: number, unitFrom: string, unitTo: string = 'm'): number {\n    if (val == null) {\n      return;\n    }\n    if (!(unitFrom in metersPerUnit)) {\n      throw Error(`unitFrom \"${unitFrom}\" isn't defined`);\n    }\n    if (!(unitTo in metersPerUnit)) {\n      throw Error(`unitTo \"${unitTo}\" isn't defined`);\n    }\n\n    const valInMeters = val * metersPerUnit[unitFrom];\n    return valInMeters / metersPerUnit[unitTo];\n  }\n\n  formatFireZone(zoneName: string): string {\n    if (!zoneName) {\n      return;\n    }\n\n    const result = zoneName.match(/^(.+?) (?:Fire )?Zone(?: [(](.+?)[)])?(?: - (\\w\\d))?$/);\n    if (!result) {\n      return zoneName;\n    }\n\n    if (result[2]) {\n      return `${result[1]} (${result[2]})`;\n    }\n    return result[1];\n  }\n\n  formatFireCentre(centreName: string): string {\n    if (!centreName) {\n      return;\n    }\n\n    const result = centreName.match(/^(.+?) (?:Fire )?(?:Centre|Center)$/);\n    if (!result) {\n      return centreName;\n    }\n\n    return result[1];\n  }\n\n  formatIndicator(value: boolean | null, tString = '✔️ Yes', fString = '❌ No', nString = '❓ Unknown'): string {\n    if (value === undefined || value === null) {\n      return nString;\n    } else if (value) {\n      return tString;\n    } else {\n      return fString;\n    }\n  }\n\n  parseIndicator(indString: string, flip = false): boolean | null {\n    if (indString === 'Y') {\n      return !flip;\n    } else if (indString === 'N') {\n      return flip;\n    } else {\n      return null;\n    }\n  }\n\n  formatPhoneHtml(phoneNumber: string): string {\n    if (phoneNumber) {\n      return `<a href=\"tel:${encodeURIComponent(phoneNumber)}\">${phoneNumber}</a>`;\n    } else {\n      return null;\n    }\n  }\n\n  formatEmailHtml(emailAddress: string): string {\n    if (emailAddress) {\n      return `<a href=\"mailto:${encodeURIComponent(emailAddress)}\">${emailAddress}</a>`;\n    } else {\n      return null;\n    }\n  }\n\n}\n\n/**\n * This uses the ‘haversine’ formula to calculate the great-circle distance between two points – that is, the shortest distance over the earth’s surface – giving an ‘as-the-crow-flies’ distance between the points.\n * a = sin²(Δφ/2) + cos φ1 ⋅ cos φ2 ⋅ sin²(Δλ/2)\n * c = 2 ⋅ atan2( √a, √(1−a) )\n * d = R ⋅ c\n * Where\tφ is latitude, λ is longitude, R is earth’s radius (mean radius = 6,371km). note that angles need to be in radians to pass to trig functions\n * @param lat1 Latitude of the location\n * @param lat2 Latitude of the destination\n * @param lon1 Longitude of the location\n * @param lon2 Longitude of the destination\n * @returns\n */\nexport function haversineDistance(lat1, lat2, lon1, lon2) {\n  const R = 6371e3; // metres\n  const φ1 = lat1 * Math.PI / 180; // φ, λ in radians\n  const φ2 = lat2 * Math.PI / 180;\n  const Δφ = (lat2 - lat1) * Math.PI/180;\n  const Δλ = (lon2 - lon1) * Math.PI/180;\n\n  const a = Math.sin(Δφ/2) * Math.sin(Δφ/2) +\n            Math.cos(φ1)   * Math.cos(φ2)   *\n            Math.sin(Δλ/2) * Math.sin(Δλ/2);\n  const c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a));\n\n  const d = R * c; // in metres\n  return d\n}\n\nconst metersPerUnit = {\n  Mil: 2.5399999999999996e-8,\n  MicroInch: 0.0000254,\n  mm: 0.001,\n  Millimeter: 0.001,\n  cm: 0.01,\n  Centimeter: 0.01,\n  IInch: 0.0254,\n  'us-in': 0.0254000508001016,\n  Inch: 0.0254000508001016,\n  in: 0.0254000508001016,\n  inches: 0.0254000508001016,\n  Decimeter: 0.1,\n  ClarkeLink: 0.201166194976,\n  SearsLink: 0.2011676512155,\n  BenoitLink: 0.20116782494375873,\n  IntnlLink: 0.201168,\n  link: 0.201168,\n  GunterLink: 0.2011684023368047,\n  CapeFoot: 0.3047972615,\n  ClarkeFoot: 0.3047972651151,\n  'ind-ft': 0.30479841,\n  IndianFt37: 0.30479841,\n  SearsFoot: 0.30479947153867626,\n  IndianFt75: 0.3047995,\n  IndianFoot: 0.30479951,\n  IndianFt62: 0.3047996,\n  GoldCoastFoot: 0.3047997101815088,\n  IFoot: 0.3048,\n  Foot: 0.3048006096012192,\n  ft: 0.3048006096012192,\n  'us-ft': 0.3048006096012192,\n  ModAmFt: 0.304812252984506,\n  'ind-yd': 0.9143952300000001,\n  IndianYd37: 0.9143952300000001,\n  SearsYard: 0.914398414616029,\n  IndianYd75: 0.9143985000000001,\n  IndianYard: 0.9143985307444409,\n  IndianYd62: 0.9143987999999998,\n  IYard: 0.9143999999999999,\n  Yard: 0.9144018288036576,\n  yd: 0.9144018288036576,\n  'us-yd': 0.9144018288036576,\n  CaGrid: 0.9997380000000001,\n  m: 1,\n  Meter: 1,\n  GermanMeter: 1.0000135965,\n  fath: 1.8287999999999998,\n  Fathom: 1.8287999999999998,\n  Rood: 3.7782668980000005,\n  Perch: 5.02921005842012,\n  Rod: 5.02921005842012,\n  Pole: 5.02921005842012,\n  Dekameter: 10,\n  Decameter: 10,\n  ClarkeChain: 20.1166194976,\n  'ind-ch': 20.11669506,\n  SearsChain: 20.11676512155,\n  BenoitChain: 20.116782494375872,\n  IntnlChain: 20.1168,\n  ch: 20.1168,\n  'us-ch': 20.11684023368047,\n  GunterChain: 20.11684023368047,\n  dm: 100,\n  Hectometer: 100,\n  Furlong: 201.1684023368046,\n  Brealey: 375,\n  km: 1000,\n  Kilometer: 1000,\n  IMile: 1609.344,\n  Mile: 1609.3472186944373,\n  mi: 1609.3472186944373,\n  'us-mi': 1609.3472186944373,\n  kmi: 1851.9999999999998,\n  nmi: 1851.9999999999998,\n  NautM: 1852.0000000000002,\n  'NautM-UK': 1853.1840000000002,\n  '50kilometers': 50000,\n  'Lat-66': 110943.31648893275,\n  'Lat-83': 110946.25736872235,\n  dd: 111118.97383794768,\n  degrees: 111118.97383794768,\n  '150kilometers': 150000\n};\n\n\n\n// const FORMATTERS = {\n//     // Convert everyhting to floats then format consistently.\n//     DD: (val)=> sexagesimalFraction(unSexagesimal(val), 1, (sign, components)=>`${sign<0?\"-\":\"\"}${components[0].toFixed(3)}°`),\n//     DM: (val)=> sexagesimalFraction(unSexagesimal(val), 2, (sign, components)=>`${sign<0?\"-\":\"\"}${components[0]}° ${components[1].toFixed(3)}′`),\n//     DMS: (val)=> sexagesimalFraction(unSexagesimal(val), 3, (sign, components)=>`${sign<0?\"-\":\"\"}${components[0]}° ${components[1]}′ ${components[2].toFixed(3)}″`),\n//     DDLat: (val)=> sexagesimalFraction(unSexagesimal(val), 1, (sign, components)=>`${components[0].toFixed(3)}°${latDir(sign)}`),\n//     DMLat: (val)=> sexagesimalFraction(unSexagesimal(val), 2, (sign, components)=>`${components[0]}° ${components[1].toFixed(3)}′${latDir(sign)}`),\n//     DMSLat: (val)=> sexagesimalFraction(unSexagesimal(val), 3, (sign, components)=>`${components[0]}° ${components[1]}′ ${components[2].toFixed(3)}″${latDir(sign)}`),\n//     DDLon: (val)=> sexagesimalFraction(unSexagesimal(val), 1, (sign, components)=>`${components[0].toFixed(3)}°${lonDir(sign)}`),\n//     DMLon: (val)=> sexagesimalFraction(unSexagesimal(val), 2, (sign, components)=>`${components[0]}° ${components[1].toFixed(3)}′${lonDir(sign)}`),\n//     DMSLon: (val)=> sexagesimalFraction(unSexagesimal(val), 3, (sign, components)=>`${components[0]}° ${components[1]}′ ${components[2].toFixed(3)}″${lonDir(sign)}`),\n//     LatLon: (lat, lon)=>[{value:lat,dir:latDir},{value:lon,dir:lonDir}].map(e=>sexagesimalFraction(unSexagesimal(e.value), 2, (sign, components)=>`${components[0]}° ${components[1].toFixed(3)}′ ${e.dir(sign)}`)).join(\" \"),\n\n//     // Convert to a date object then format consistently\n//     TimeStampMilli: (val)=> {\n// \t    var date = new Date(val*1)\n//         if(isNaN(date))\n//             return val\n// \t    return TIME_FORMAT.format(date)\n//     },\n//     TimeStampSec: (val)=> {\n// \t    var date = new Date(val*1000)\n//         if(isNaN(date))\n//             return val\n// \t    return TIME_FORMAT.format(date)\n//     },\n//     IsoTime: (val)=> {\n// \t    var date = new Date(val)\n//         if(isNaN(date))\n//             return val\n// \t    return TIME_FORMAT.format(date)\n//     },\n//     IsoDate: (val)=> {\n// \t    var date = new Date(val.toString().replace(/Z$/,\"\"))\n//         if(isNaN(date))\n//             return val\n// \t    return DATE_FORMAT.format(date)\n//     },\n//     IsoDateCompact: (val)=> {\n//         val = val.toString()\n//         val = `${val.substring(0,4)}-${val.substring(4,6)}-${val.substring(6,8)}`\n// \t    var date = new Date(val)\n//         if(isNaN(date))\n//             return val\n// \t    return DATE_FORMAT.format(date)\n//     },\n//     USDate: (val)=> {\n//         // Fix American style mm/dd/yyyy dates.\n// \t    var date = new Date(val.replace(/(\\d\\d)\\/(\\d\\d)\\/(\\d\\d\\d\\d)/,(m,month,day,year)=>`${year}-${month}-${day}`))\n//         if(isNaN(date))\n//             return val\n// \t    return DATE_FORMAT.format(date)\n//     },\n//     EUDate: (val)=> {\n//         // Fix European style dd/mm/yyyy dates.\n// \t    var date = new Date(val.replace(/(\\d\\d)\\/(\\d\\d)\\/(\\d\\d\\d\\d)/,(m,day,month,year)=>`${year}-${month}-${day}`))\n//         if(isNaN(date))\n//             return val\n// \t    return DATE_FORMAT.format(date)\n//     },\n//     LightningPolarityName: (val)=>{\n//         return val?\"Positive\":\"Negative\"\n//     },\n//     LightningPolaritySymbol: (val)=>{\n//         return val?\"🞣\":\"⭘\"\n//     },\n//     //Use the first value that's neither undefined nor null\n//     FirstPresent: (...vals)=>vals.find(val=>!(val==undefined || val==null)),\n//     Phone: (area, phone, ext)=>{\n//         phone = phone.trim()\n//         if(!phone) {\n//             return \"N/A\"\n//         } else {\n//             phone = phone.replace(/^(\\d{3})(\\d{4})$/, \"$1-$2\")\n//             if (area) phone = `${area}-${phone}`\n//             if (ext) phone = `${phone} (ext ${ext})`\n//             return phone\n//         }\n//     },\n//     Name: (first, last)=>[last,first].filter(name=>name).join(', '),\n\n//     // Display the given value first and the conversion second.\n//     DistM: (dist)=>`${dist}\\xa0m (${Math.round(dist*3.28084)}\\xa0ft)`,\n//     DistFt: (dist)=>`${dist}\\xa0ft (${Math.round(dist/3.28084)}\\xa0m)`,\n\n//     ShortenFireZone: (zoneName)=>{\n//         var result = /^(.+?) (?:Fire )?Zone(?: \\((.+?)\\))?(?: - (\\w\\d))?$/.exec(zoneName)\n//         if (result) {\n//             if(result[2]) {\n//                 return `${result[1]} (${result[2]})`\n//             } else {\n//                 return result[1]\n//             }\n//         } else {\n//             return zoneName\n//         }\n//     },\n//     ShortenFireCentre: (centreName)=>{\n//         var result = /^(.+?) (?:Fire )?(?:Centre|Center)$/.exec(centreName)\n//         if (result) {\n//             return result[1]\n//         } else {\n//             return centreName\n//         }\n//     },\n\n//     Indicator: (indString) => indicatorText(parseIndicator(indString)),\n//     NegIndicator: (indString) => indicatorText(parseIndicator(indString, true)),\n\n//     DollarValue: (value) => CAD_FORMAT.format(value),\n\n//     IncidentType: (code) => {\n//         return {\n//             \"FIRE\": \"Fire\",\n//             \"AGY_ASSIST\": \"Agency Assist\",\n//             \"FLD_TRAIN\": \"Field Training\"\n//         }[code.toUpperCase()] || code\n//     }\n// }\n","import {ActivatedRouteSnapshot, DetachedRouteHandle, RouteReuseStrategy} from '@angular/router';\nimport { Injectable } from '@angular/core';\n\n@Injectable()\nexport class CustomReuseStrategy implements RouteReuseStrategy {\n\n  handlers: {[key: string]: DetachedRouteHandle} = {};\n\n  shouldDetach(route: ActivatedRouteSnapshot): boolean {\n    //console.debug('CustomReuseStrategy:shouldDetach', route);\n    return !!route.data && !!(route.data as any).shouldDetach;\n  }\n\n  store(route: ActivatedRouteSnapshot, handle: DetachedRouteHandle): void {\n    //console.debug('CustomReuseStrategy:store', route, handle);\n    this.handlers[route.routeConfig.path] = handle;\n  }\n\n  shouldAttach(route: ActivatedRouteSnapshot): boolean {\n    //console.debug('CustomReuseStrategy:shouldAttach', route);\n    return !!route.routeConfig && !!this.handlers[route.routeConfig.path];\n  }\n\n  retrieve(route: ActivatedRouteSnapshot): DetachedRouteHandle {\n    //console.debug('CustomReuseStrategy:retrieve', route);\n    if (!route.routeConfig) {\n return null; \n}\n    return this.handlers[route.routeConfig.path];\n  }\n\n  shouldReuseRoute(future: ActivatedRouteSnapshot, curr: ActivatedRouteSnapshot): boolean {\n    //console.debug('CustomReuseStrategy:shouldReuseRoute', future, curr);\n    return future.routeConfig === curr.routeConfig;\n  }\n\n}\n","export const SCOPE_APPLICATION_PREFIX = 'WFIM.';\nexport const SCOPE_APPLICATION_PREFIX_NEWS = 'WFNEWS.';\n\n// export const SCOPES_UI = {\n//   CREATE_SIGN_UP:               `${SCOPE_APPLICATION_PREFIX}CREATE_ACCOUNT_REGISTRATION_REQUEST`,\n//   DELETE_SIGN_UP:               `${SCOPE_APPLICATION_PREFIX}DELETE_ACCOUNT_REGISTRATION_REQUEST`, //*****\n// }\n\nexport const ROLES_UI = {\n  GENERAL_STAFF: `${SCOPE_APPLICATION_PREFIX}INCIDENT_GENERAL_STAFF`, //*****\n  ADMIN: `${SCOPE_APPLICATION_PREFIX_NEWS}WFNEWS_PUBLISHER`, //*****\n  IM_ADMIN: `${SCOPE_APPLICATION_PREFIX}WFNEWS_ADMIN` //*****\n};\n","import { SearchState } from '@wf1/core-ui';\nimport { RootState } from '..';\nimport { ErrorState, LoadState } from './application.state';\n\nexport const selectSearchState = (componentId) => (state: RootState): SearchState => ((state[componentId]) ? state[componentId] : undefined);\n\n\nexport const selectIncidentsLoadState = () => (state: RootState): LoadState => ((state.application && state.application.loadStates.incidents) ? state.application.loadStates.incidents : undefined);\nexport const selectIncidentsErrorState = () => (state: RootState): ErrorState[] => ((state.application && state.application.errorStates.incidents) ? state.application.errorStates.incidents : undefined);\n\nexport const selectWildfiresLoadState = () => (state: RootState): LoadState => ((state.application && state.application.loadStates.wildfires) ? state.application.loadStates.wildfires : undefined);\nexport const selectWildfiresErrorState = () => (state: RootState): ErrorState[] => ((state.application && state.application.errorStates.wildfires) ? state.application.errorStates.wildfires : undefined);\n\n\n\n//------ code table cache ----\nexport const selectFormStatesUnsaved = (componentIds: string[]) => (state: RootState): boolean => {\n    let ret = false;\n    if (componentIds && componentIds.length) {\n        componentIds.forEach(componentId => {\n            const formUnsaved = state.application.formStates[componentId] ? state.application.formStates[componentId].isUnsaved : false;\n            ret = ret || formUnsaved;\n        });\n    }\n    return ret;\n};\n\n","import { SearchState } from \"@wf1/core-ui\";\n\nexport interface PagingSearchState extends SearchState {\n    pageIndex?: number;\n    pageSize?: number;\n}\nexport interface PagingInfoRequest {\n    query?: string;\n    pageNumber: number;\n    pageRowCount: number;\n    sortColumn?: string;\n    sortDirection?: string;\n}\n\nexport interface ErrorState {\n    uuid: string;\n    type: ERROR_TYPE;\n    status: number;\n    statusText?: string;\n    message?: string;\n    name: string;\n    validationErrors?: ValidationError[];\n    responseEtag: string;\n}\n\nexport enum ERROR_TYPE {\n    VALIDATION,\n    WARNING,\n    FATAL,\n    NOT_FOUND,\n    FAILED_PRECONDITION\n}\n\nexport interface ValidationError {\n    path: string;\n    message: string;\n    messageTemplate: string;\n    messageArguments: any[];\n}\n\nexport interface ApplicationState {\n    loadStates: LoadStates;\n    errorStates: ErrorStates;\n    formStates: FormStates;\n}\n\nexport interface LoadStates {\n    incidents: LoadState;\n    wildfires: LoadState;\n}\n\nexport interface ErrorStates {\n    incidents: ErrorState[];\n    wildfires: ErrorState[];\n}\n\nexport interface FormStates{\n    incidents: FormState;\n}\n\nexport interface FormState {\n    isUnsaved: boolean;\n}\n\nexport interface LoadState {\n    isLoading: boolean;\n}\n\n\nexport function getDefaultFormState(): FormState {\n    return {\n        isUnsaved: false,\n    };\n}\n\nexport function getDefaultLoadStates(): LoadStates {\n    return {\n        incidents: {isLoading: false},\n        wildfires: {isLoading: false}\n    };\n}\n\nexport function getDefaultApplicationState(): ApplicationState {\n    return {\n        loadStates: getDefaultLoadStates(),\n        errorStates: getDefaultErrorStates(),\n        formStates: getDefaultFormStates(),\n    };\n}\n\nexport function getDefaultErrorStates(): ErrorStates {\n    return {\n        incidents: [],\n        wildfires: []\n\n    };\n}\n\nexport function getDefaultFormStates(): FormStates {\n    return {\n        incidents: getDefaultFormState(),\n    };\n}\n\nexport function getDefaultPagingInfoRequest(pageNumber = 1, pageSize = 5, sortColumn?: string, sortDirection?: string, query?: string): PagingInfoRequest {\n    return {\n        query: query,\n        pageNumber: pageNumber,\n        pageRowCount: pageSize,\n        sortColumn: sortColumn,\n        sortDirection: sortDirection\n    };\n}\n","import {searchReducer, SearchState} from \"@wf1/core-ui\";\nimport {Action} from \"@ngrx/store\";\nimport {SearchActions} from \"@wf1/core-ui/lib/search/store/actions\";\nimport deepEqual from \"deep-equal\";\nimport { SearchIncidentsAction, SEARCH_INCIDENTS } from \"../incidents/incidents.action\";\n\nexport function pageSearchReducer(state, action: Action): SearchState {\n    if (action.type == SEARCH_INCIDENTS) {\n        const typedAction = <SearchIncidentsAction>action;\n        return pagingSearchHelper(state, typedAction);\n    } else {\n        let searchAction = action as SearchActions;\n        return searchReducer(state, searchAction)\n    }\n\n}\n\nexport function pagingSearchHelper(state, typedAction, updateFilters: boolean = true): SearchState {\n\n    if (state\n        && state.componentId == typedAction.componentId\n        && typedAction.payload.pageInfoRequest\n        && (state.pageSize !== typedAction.payload.pageInfoRequest.pageRowCount\n            || state.pageIndex !== typedAction.payload.pageInfoRequest.pageNumber\n            || state.sortParam !== typedAction.payload.pageInfoRequest.sortColumn\n            || state.sortDirection !== typedAction.payload.pageInfoRequest.sortDirection\n            || state.query !== typedAction.payload.pageInfoRequest.query\n            || state.filters !== typedAction.payload.filters)) {\n        if (updateFilters) {\n            return {\n                ...state,\n                pageSize: typedAction.payload.pageInfoRequest.pageRowCount,\n                pageIndex: typedAction.payload.pageInfoRequest.pageNumber,\n                sortParam: typedAction.payload.pageInfoRequest.sortColumn,\n                sortDirection: typedAction.payload.pageInfoRequest.sortDirection,\n                query: typedAction.payload.pageInfoRequest.query,\n                filters: typedAction.payload.filters ? typedAction.payload.filters : {}\n            };\n        } else {\n            return {\n                ...state,\n                pageSize: typedAction.payload.pageInfoRequest.pageRowCount,\n                pageIndex: typedAction.payload.pageInfoRequest.pageNumber,\n                sortParam: typedAction.payload.pageInfoRequest.sortColumn,\n                sortDirection: typedAction.payload.pageInfoRequest.sortDirection,\n                query: typedAction.payload.pageInfoRequest.query\n            };\n        }\n    } else {\n        return state;\n    }\n}\n\nexport function pagingFilterHelper(state, typedAction): SearchState {\n\n    if (state && state.componentId == typedAction.componentId\n        && !deepEqual(state.filters, typedAction.payload.filters)) {\n\n        return {\n            ...state,\n            filters: {...typedAction.payload.filters}\n        };\n    } else {\n        return state;\n    }\n}\n\n","import { Action } from \"@ngrx/store\";\nimport { IncidentCauseResource, WildfireIncidentResource } from \"@wf1/incidents-rest-api\";\nimport { ErrorState } from \"../application/application.state\";\n\nexport const GET_INCIDENT = \"GET_INCIDNT\";\nexport const GET_INCIDENT_SUCCESS = \"GET_INCIDENT_SUCCESS\";\nexport const GET_INCIDENT_ERROR = \"GET_INCIDENT_ERROR\";\n\nexport const GET_INCIDENT_CAUSE = \"GET_INCIDNT\";\nexport const GET_INCIDENT_CAUSE_SUCCESS = \"GET_INCIDENT_CAUSE_SUCCESS\";\nexport const GET_INCIDENT_CAUSE_ERROR = \"GET_INCIDENT_CAUSE_ERROR\";\n\nexport interface GetIncidentAction extends Action {\n    payload: {\n        fireYear: string,\n        incidentSequenceNumber: string\n    }\n}\n\nexport interface GetIncidentSuccessAction extends Action {\n    payload: {\n        incident: WildfireIncidentResource;\n    }\n}\n\nexport interface GetIncidentErrorAcion extends Action {\n    payload: {\n        error: ErrorState;\n    }\n}\n\nexport interface GetIncidentCauseAction extends Action {\n    payload: {\n        fireYear: string,\n        incidentSequenceNumber: string\n    }\n}\n\nexport interface GetIncidentCauseSuccessAction extends Action {\n    payload: {\n        incidentCause: IncidentCauseResource;\n    }\n}\n\nexport interface GetIncidentCauseErrorAcion extends Action {\n    payload: {\n        error: ErrorState;\n    }\n}\n\nexport function getIncident(fireYear: string, incidentSequenceNumber: string): GetIncidentAction {\n    return {\n        type: GET_INCIDENT,\n        payload: {\n            fireYear,\n            incidentSequenceNumber\n        }\n    }\n}\n\nexport function getIncidentSuccess(incident: WildfireIncidentResource): GetIncidentSuccessAction {\n    return {\n        type: GET_INCIDENT_SUCCESS,\n        payload: {\n            incident\n        }\n    }\n}\n\nexport function getIncidentError(error: ErrorState): GetIncidentErrorAcion {\n    return {\n        type: GET_INCIDENT_ERROR,\n        payload: {\n            error\n        }\n    }\n}\n\nexport function getIncidentCause(fireYear: string, incidentSequenceNumber: string): GetIncidentCauseAction {\n    return {\n        type: GET_INCIDENT_CAUSE,\n        payload: {\n            fireYear,\n            incidentSequenceNumber\n        }\n    }\n}\n\nexport function getIncidentCauseSuccess(incidentCause: IncidentCauseResource): GetIncidentCauseSuccessAction {\n    return {\n        type: GET_INCIDENT_CAUSE_SUCCESS,\n        payload: {\n            incidentCause\n        }\n    }\n}\n\nexport function getIncidentCauseError(error: ErrorState): GetIncidentCauseErrorAcion {\n    return {\n        type: GET_INCIDENT_CAUSE_ERROR,\n        payload: {\n            error\n        }\n    }\n}","import { Injectable } from '@angular/core';\nimport { Actions, createEffect, ofType } from '@ngrx/effects';\nimport { Store } from '@ngrx/store';\nimport { TokenService } from '@wf1/core-ui';\nimport { DefaultService as IncidentService } from '@wf1/incidents-rest-api';\nimport { of } from 'rxjs';\nimport { withLatestFrom, debounceTime, switchMap, catchError, map } from 'rxjs/operators';\nimport { RootState } from '..';\nimport {\n  GET_INCIDENT,\n  GetIncidentAction,\n  getIncidentSuccess,\n  getIncidentError,\n  getIncidentCauseError,\n  getIncidentCauseSuccess,\n  GetIncidentCauseAction,\n  GET_INCIDENT_CAUSE\n} from './incident.action';\n\n@Injectable()\nexport class IncidentEffect {\n\n  getIncident$ = createEffect(() => this.actions.pipe(\n    ofType(GET_INCIDENT),\n    withLatestFrom(this.store),\n    debounceTime(500),\n    switchMap(\n      ([action, store]) => {\n        const typedAction = action as GetIncidentAction;\n        return this.incidentService.getWildfireIncident1(\n          typedAction.payload.fireYear,\n          typedAction.payload.incidentSequenceNumber,\n          1,\n          'response'\n        )\n          .pipe(\n            map((response: any) => getIncidentSuccess(response.body)),\n            catchError(error => of(getIncidentError(error)))\n          );\n      }\n    )\n  ));\n\n  getIncidentCause$ = createEffect(() => this.actions.pipe(\n    ofType(GET_INCIDENT_CAUSE),\n    withLatestFrom(this.store),\n    debounceTime(500),\n    switchMap(\n      ([action, store]) => {\n        const typedAction = action as GetIncidentCauseAction;\n        return this.incidentService.getIncidentCause(\n          typedAction.payload.fireYear,\n          typedAction.payload.incidentSequenceNumber,\n          1,\n          'response'\n        )\n          .pipe(\n            map((response: any) => getIncidentCauseSuccess(response.body)),\n            catchError(error => of(getIncidentCauseError(error)))\n          );\n      }\n    )\n  ));\n\n  constructor(\n    private actions: Actions,\n    private incidentService: IncidentService,\n    private store: Store<RootState>,\n    private tokenService: TokenService,\n  ) { }\n}\n","import { Action } from \"@ngrx/store\";\nimport { GetIncidentCauseSuccessAction, GetIncidentSuccessAction, GET_INCIDENT_CAUSE_SUCCESS, GET_INCIDENT_SUCCESS } from \"./incident.action\";\nimport { getDefaultIncidentState, IncidentState } from \"./incident.stats\";\n\nexport function incidentReducer (state: IncidentState = getDefaultIncidentState(), action: Action): IncidentState {\n  if (action.type === GET_INCIDENT_SUCCESS) {\n    const typedaction = <GetIncidentSuccessAction> action;\n    return {...state, currentIncident: typedaction.payload.incident}\n  } else if (action.type === GET_INCIDENT_CAUSE_SUCCESS) {\n    const typedaction = <GetIncidentCauseSuccessAction> action;\n    return {...state, currentIncidentCause: typedaction.payload.incidentCause}\n  }\n}\n","import { RootState } from \"..\";\n\nexport const selectCurrentIncident = () => (state: RootState): any => ((state.incident) ? state.incident.currentIncident : undefined);\nexport const selectCurrentIncidentCause = () => (state: RootState): any => ((state.incident) ? state.incident.currentIncidentCause : undefined);\n\n","export const INCIDENT_COMPONENT_ID = \"Incident\";\n\nexport interface IncidentState { \n    currentIncident?: any;\n    currentIncidentCause?: any\n}\n\nexport function getDefaultIncidentState(): IncidentState {\n    return {\n        currentIncident: null,\n        currentIncidentCause: null,\n    };\n}\n","import { Action } from \"@ngrx/store\";\nimport { LabeledAction } from \"..\";\nimport { ErrorState, PagingInfoRequest } from \"../application/application.state\";\n\nexport const SEARCH_INCIDENTS = \"SEARCH_INCIDENTS\";\nexport const SEARCH_INCIDENTS_SUCCESS = \"SEARCH_INCIDENTS_SUCCESS\";\nexport const SEARCH_INCIDENTS_ERROR = \"SEARCH_INCIDENTS_ERROR\";\nexport interface SearchIncidentsAction extends LabeledAction {\n    componentId: string;\n    payload: {\n        pageInfoRequest: PagingInfoRequest,\n        filters: {\n            [param: string]: any[];\n        }\n    };\n}\n\nexport interface SearchIncidentsSuccessAction extends Action {\n    componentId: string;\n    payload: {\n        value: any;\n    };\n}\n\nexport interface SearchIncidentsErrorAction extends Action {\n    componentId: string;\n    payload: {\n        error: ErrorState;\n    };\n}\n\n\nexport function searchIncidents(componentId: string,\n    pageInfoRequest: PagingInfoRequest,\n    selectedFireCentre: string,\n    fireOfNotePublishedInd: boolean,\n    displayLabel: string): SearchIncidentsAction {\n        let filters = {};\n        filters[\"selectedFireCentreCode\"] = selectedFireCentre ? [selectedFireCentre] : [];\n        filters[\"selectedFireOfNotePublishedInd\"] = fireOfNotePublishedInd? [fireOfNotePublishedInd] : []\n\n        return {\n            type: SEARCH_INCIDENTS,\n            componentId: componentId,\n            displayLabel: displayLabel,\n            payload: {\n                pageInfoRequest,\n                filters: filters\n            }\n        };\n}\n\nexport function searchIncidentsSuccess(componentId: string, value: any): SearchIncidentsSuccessAction{\n    return {\n        type: SEARCH_INCIDENTS_SUCCESS,\n        componentId: componentId,\n        payload: {\n            value\n        }\n    };\n}\n\nexport function SearchIncidentsError(componentId: string, error: ErrorState): SearchIncidentsErrorAction {\n    return {\n        type: SEARCH_INCIDENTS_ERROR,\n        componentId: componentId,\n        payload: {\n            error\n        }\n    };\n}\n\n","import { Injectable } from '@angular/core';\nimport { Actions, createEffect, ofType } from '@ngrx/effects';\nimport { Store } from '@ngrx/store';\nimport { SortDirection, TokenService } from '@wf1/core-ui';\nimport { DefaultService as WildfireIncidentListService } from '@wf1/incidents-rest-api';\nimport { of } from 'rxjs';\nimport { withLatestFrom, debounceTime, switchMap, catchError, map } from 'rxjs/operators';\nimport { RootState } from '..';\nimport { formatSort, getPageInfoRequestForSearchState } from '../../utils';\nimport { SearchIncidentsAction, SearchIncidentsError, searchIncidentsSuccess, SEARCH_INCIDENTS } from './incidents.action';\nimport { initIncidentsPaging } from './incidents.stats';\n\n@Injectable()\nexport class IncidentsEffect {\n\n  getIncidentList$ = createEffect(() => this.actions.pipe(\n      ofType(SEARCH_INCIDENTS),\n      withLatestFrom(this.store),\n      debounceTime(1000),\n      switchMap(\n        ([action, store]) => {\n\n          const typedaction = action as SearchIncidentsAction;\n          const pagingInfoRequest = typedaction?.payload?.pageInfoRequest || getPageInfoRequestForSearchState(store.searchIncidents);\n          const savedFilters = store.searchIncidents.filters;\n\n          const pageNumber = pagingInfoRequest.pageNumber ? pagingInfoRequest.pageNumber : initIncidentsPaging.pageNumber;\n          const pageSize = pagingInfoRequest.pageRowCount ? pagingInfoRequest.pageRowCount : initIncidentsPaging.pageRowCount;\n          let sortParam = pagingInfoRequest.sortColumn;\n          if (sortParam === 'fireNumber') {\n            sortParam = 'incidentLabel';\n          }\n          if (sortParam === 'fireName') {\n            sortParam = 'incidentName';\n          }\n          if (sortParam === 'fireCentre') {\n            sortParam = 'fireCentreOrgUnitName';\n          }\n          if (sortParam === 'wildFireOfNote') {\n            sortParam = 'fireOfNotePublishedInd';\n          }\n          if (sortParam === 'lastUpdated') {\n            sortParam = 'lastUpdatedTimestamp';\n          }\n\n\n          const orderBy = formatSort(sortParam, pagingInfoRequest.sortDirection as SortDirection);\n          let searchText = [];\n          if (pagingInfoRequest.query && pagingInfoRequest.query.length > 0) {\n            searchText[0] = pagingInfoRequest.query;\n          } else {\n            searchText = undefined;\n          }\n          const savedFireCentreFilter = savedFilters?.selectedFireCentreCode;\n          const savedFireOfNotePublishedIndFilter = savedFilters?.selectedFireOfNotePublishedInd;\n\n          const fireCentreFilter = typedaction.payload.filters['selectedFireCentreCode'] || savedFireCentreFilter;\n          const fireOfNotePublishedInd = typedaction.payload.filters['selectedFireOfNotePublishedInd'] || savedFireOfNotePublishedIndFilter;\n\n          const now = new Date();\n          let currentFireYear = now.getFullYear();\n          if (now.getMonth() < 3) {\n            currentFireYear -= 1;\n          }\n\n          return this.incidentListService.getWildfireIncidentList(\n            undefined,\n            searchText,\n            [`${currentFireYear - 1}`, `${currentFireYear}`],\n            undefined,\n            undefined,\n            undefined,\n            undefined,\n            undefined,\n            undefined,\n            undefined,\n            undefined,\n            undefined,\n            undefined,\n            undefined,\n            undefined,\n            undefined,\n            fireCentreFilter,\n            undefined,\n            undefined,\n            undefined,\n            undefined,\n            undefined,\n            undefined,\n            undefined,\n            undefined,\n            undefined,\n            ['Active'],\n            undefined,\n            undefined,\n            undefined,\n            undefined,\n            ['FIRE'],\n            fireOfNotePublishedInd[0],\n            undefined,\n            `${pageNumber}`,\n            `${pageSize}`,\n            orderBy,\n            undefined,\n            'response'\n          )\n            .pipe(\n              map((response: any) => searchIncidentsSuccess(typedaction.componentId, response.body)),\n              catchError(error => of(SearchIncidentsError(typedaction.componentId, error)))\n            );\n        }\n      )\n    ));\n\n  constructor(\n    private actions: Actions,\n    private incidentListService: WildfireIncidentListService,\n    private store: Store<RootState>,\n    private tokenService: TokenService,\n  ) { }\n}\n","import { Action } from \"@ngrx/store\";\nimport { SearchIncidentsSuccessAction, SEARCH_INCIDENTS_SUCCESS } from \"./incidents.action\";\nimport { getDefaultIncidentsState, IncidentsState } from \"./incidents.stats\";\n\nexport function incidentsReducer (state: IncidentsState = getDefaultIncidentsState(), action: Action): IncidentsState {\n  if (action.type === SEARCH_INCIDENTS_SUCCESS) {\n    const typedaction = <SearchIncidentsSuccessAction> action;\n    return {...state, currentIncidentsSearch: typedaction.payload.value}\n  }\n}\n","import { RootState } from \"..\";\n\nexport const selectCurrentIncidentsSearch = () => (state: RootState): any => ((state.incidents) ? state.incidents.currentIncidentsSearch : undefined);\n","import { SearchState } from \"@wf1/core-ui\";\nimport { getDefaultPagingInfoRequest } from \"../application/application.state\";\n\nexport const SEARCH_INCIDENTS_COMPONENT_ID = \"searchIncidents\";\nexport const INCIDENTS_COMPONENT_ID = \"Incidents\";\nexport const LOAD_INCIDENTS_COMPONENT_ID = \"loadIncidents\"\n\n\nconst EMPTY_INCIDENTS: any = {\n    pageNumber: null,\n    pageRowCount: null,\n    totalPageCount: null,\n    totalRowCount: null,\n    collection: []\n};\n\nexport interface IncidentsState { // will need to specify the type . use any for now\n    currentIncidentsSearch?: any;\n    selectedIncident?: any;\n    incidents?: any;\n}\n\nexport const initialIncidentsSearchState: SearchState = {\n    query: null,\n    sortParam: \"discoveryTimestamp\",\n    sortDirection: \"DESC\",\n    sortModalVisible: false,\n    filters: {},\n    hiddenFilters: {},\n    componentId: SEARCH_INCIDENTS_COMPONENT_ID\n};\n\nexport const initIncidentsPaging = getDefaultPagingInfoRequest(1, 20, \"discoveryTimestamp\", \"DESC\", undefined);\n\nexport function getDefaultIncidentsState(): IncidentsState {\n    return {\n        currentIncidentsSearch: EMPTY_INCIDENTS,\n    };\n}\n","import { routerReducer } from '@ngrx/router-store';\nimport { Action, ActionReducer, ActionReducerMap } from '@ngrx/store';\nimport { searchReducer, SearchState, SortDirection } from '@wf1/core-ui';\nimport { storeLogger } from 'ngrx-store-logger';\nimport { ApplicationState, PagingSearchState } from './application/application.state';\nimport { pageSearchReducer } from './common/page-search.reducer';\nimport { IncidentEffect } from './incident/incident.effect';\nimport { incidentReducer } from './incident/incident.reducer';\nimport { IncidentState } from './incident/incident.stats';\nimport { IncidentsEffect } from './incidents/incidents.effects';\n\nimport { incidentsReducer } from './incidents/incidents.reducer';\nimport { initialIncidentsSearchState, IncidentsState } from './incidents/incidents.stats';\nimport { WildfiresListEffect } from './wildfiresList/wildfiresList.effects';\nimport { wildfiresListReducer } from './wildfiresList/wildfiresList.reducer';\nimport { initialWildfiresSearchState, WildfiresState } from './wildfiresList/wildfiresList.stats';\n\nexport interface BaseRouterStoreState {\n    url: string;\n}\n\nexport interface RouterState {\n    state: BaseRouterStoreState;\n}\n\nexport const rootReducers: ActionReducerMap<any> = {\n    search: searchReducer,\n    router: routerReducer,\n    incidents: incidentsReducer,\n    searchIncidents: pageSearchReducer,\n    incident: incidentReducer,\n    wildfires: wildfiresListReducer,\n    searchWildfires: pageSearchReducer,\n};\n\nexport interface RootState {\n    application?: ApplicationState;\n    incidents?: IncidentsState;\n    searchIncidents?: PagingSearchState;\n    incident?: IncidentState;\n    wildfires?: WildfiresState;\n    searchWildfires?: PagingSearchState;\n};\n\nexport const initialRootState: RootState = {\n    searchIncidents: initialIncidentsSearchState,\n    searchWildfires: initialWildfiresSearchState,\n};\n\nexport const rootEffects: any[] = [\n    // PlaceNameSearchEffects,\n    IncidentsEffect,\n    IncidentEffect,\n    WildfiresListEffect,\n\n];\n\nexport function logger(reducer: ActionReducer<RootState>): any {\n    // default, no options\n    return storeLogger({\n        collapsed: true,\n        level: 'log',\n        filter: {\n            blacklist: []\n        }\n    })(reducer);\n}\n\nexport interface AudibleAlertState {\n    enableUnacknowledged: boolean;\n    enableReceivedFromPM: boolean;\n    selectedZoneIds?: string[];\n}\n\nexport class SearchStateAndConfig implements SearchState {\n    query: string;\n    sortParam: string;\n    sortDirection: SortDirection;\n    sortModalVisible: boolean;\n    filters: {\n        [param: string]: any[];\n    };\n    hiddenFilters: {\n        [param: string]: any[];\n    };\n    columns?: string[]; //ordered list of columns to display\n    componentId?: string;\n    audibleAlert?: AudibleAlertState;\n}\n\nexport function isEmpty(obj) {\n    for (const key in obj) {\n        if (obj.hasOwnProperty(key)) {\nreturn false;\n}\n    }\n    return true;\n}\n\nexport interface LabeledAction extends Action {\n    displayLabel: string;\n}\n\n\n","import { Action } from \"@ngrx/store\";\nimport { LabeledAction } from \"..\";\nimport { ErrorState, PagingInfoRequest } from \"../application/application.state\";\n\nexport const SEARCH_WILDFIRES = \"SEARCH_WILDFIRES\";\nexport const SEARCH_WILDFIRES_SUCCESS = \"SEARCH_WILDFIRES_SUCCESS\";\nexport const SEARCH_WILDFIRES_ERROR = \"SEARCH_WILDFIRES_ERROR\";\nexport interface SearchWildfiresAction extends LabeledAction {\n    componentId: string;\n    callback: Function;\n    payload: {\n        pageInfoRequest: PagingInfoRequest,\n        filters: {\n            [param: string]: any[];\n        }\n        lat: number;\n        long: number;\n        radius: number\n    };\n}\n\nexport interface SearchWildfiresSuccessAction extends Action {\n    componentId: string;\n    payload: {\n        value: any;\n    };\n}\n\nexport interface SearchWildfiresErrorAction extends Action {\n    componentId: string;\n    payload: {\n        error: ErrorState;\n    };\n}\n\n\nexport function searchWildfires(\n    componentId: string,\n    pageInfoRequest: PagingInfoRequest,\n    selectedFireCentre: string,\n    fireOfNoteInd: boolean,\n    stageOfControlList: string[],\n    newFires: boolean,\n    bbox: string,\n    displayLabel: string,\n    lat: number,\n    long: number,\n    radius: number,\n    callback: Function | null = null): SearchWildfiresAction {\n        let filters = {}\n        filters[\"fireCentreCode\"] = selectedFireCentre ? selectedFireCentre : undefined\n        filters[\"fireOfNote\"] = fireOfNoteInd ? fireOfNoteInd : undefined\n        filters[\"stageOfControlList\"] = stageOfControlList ? stageOfControlList : []\n        filters[\"newFires\"] = newFires ? newFires : false\n        filters[\"bbox\"] = bbox ? bbox : undefined\n\n        return {\n            type: SEARCH_WILDFIRES,\n            componentId: componentId,\n            displayLabel: displayLabel,\n            callback: callback ? callback : () => {},\n            payload: {\n                pageInfoRequest,\n                filters: filters,\n                lat: lat,\n                long: long,\n                radius: radius\n            }\n        };\n}\n\nexport function searchWildfiresSuccess(componentId: string, value: any): SearchWildfiresSuccessAction{\n    return {\n        type: SEARCH_WILDFIRES_SUCCESS,\n        componentId: componentId,\n        payload: {\n            value\n        }\n    };\n}\n\nexport function searchWildfiresError(componentId: string, error: ErrorState): SearchWildfiresErrorAction {\n    return {\n        type: SEARCH_WILDFIRES_ERROR,\n        componentId: componentId,\n        payload: {\n            error\n        }\n    };\n}\n\n","import { HttpClient, HttpHeaders } from '@angular/common/http';\nimport { Injectable } from '@angular/core';\nimport { Actions, createEffect, ofType } from '@ngrx/effects';\nimport { Store } from '@ngrx/store';\nimport { AppConfigService, SortDirection } from '@wf1/core-ui';\nimport { of } from 'rxjs';\nimport { withLatestFrom, debounceTime, switchMap, catchError, map } from 'rxjs/operators';\nimport { RootState } from '..';\nimport { formatSort, getPageInfoRequestForSearchState } from '../../utils';\nimport { SearchWildfiresAction, searchWildfiresError, searchWildfiresSuccess, SEARCH_WILDFIRES } from './wildfiresList.action';\nimport { initWildfiresListPaging } from './wildfiresList.stats';\n\n@Injectable()\nexport class WildfiresListEffect {\n  \n  getWildfiresList$ = createEffect(() => this.actions.pipe(\n      ofType(SEARCH_WILDFIRES),\n      withLatestFrom(this.store),\n      debounceTime(500),\n      switchMap(\n        ([action, store]) => {\n          const typedaction = action as SearchWildfiresAction;\n          try {\n            const pagingInfoRequest = typedaction.payload.pageInfoRequest ? typedaction.payload.pageInfoRequest : getPageInfoRequestForSearchState(store.searchWildfires);\n            const pageNumber = pagingInfoRequest.pageNumber ? pagingInfoRequest.pageNumber : initWildfiresListPaging.pageNumber;\n            const pageSize = pagingInfoRequest.pageRowCount ? pagingInfoRequest.pageRowCount : initWildfiresListPaging.pageRowCount;\n            let sortParam = pagingInfoRequest.sortColumn;\n            let searchText = '';\n            const lat = typedaction.payload.lat;\n            const long = typedaction.payload.long;\n            const radius = typedaction.payload.radius;\n            if (pagingInfoRequest.query && pagingInfoRequest.query.length > 0) {\n              searchText = pagingInfoRequest.query;\n            } else {\n              searchText = undefined;\n            }\n            if (sortParam === 'fireName') {\n              sortParam = 'incidentName';\n            }\n            if (sortParam === 'fireNumber') {\n              sortParam = 'incidentNumberLabel';\n            }\n            if (sortParam === 'lastUpdated') {\n              sortParam = 'lastUpdatedTimestamp';\n            }\n            if (sortParam === 'stageOfControl') {\n              sortParam = 'stageOfControlCode';\n            }\n            if (sortParam === 'wildfireOfNote') {\n              sortParam = 'fireOfNoteInd';\n            }\n            if (sortParam === 'location') {\n              sortParam = 'incidentLocation';\n            }\n            let orderBy = formatSort(sortParam, pagingInfoRequest.sortDirection as SortDirection);\n            let url = this.appConfigService.getConfig().rest['wfnews'].toString() + '/publicPublishedIncident' + '?pageNumber=' + pageNumber + '&pageRowCount=' + pageSize;\n\n            // add filters\n            const filters = typedaction.payload.filters;\n            for (const filter in filters) {\n              if (Object.prototype.hasOwnProperty.call(filters, filter) && filters[filter] !== undefined) {\n                if (filter === 'stageOfControlList') {\n                  for (const soc of filters[filter]) {\n                    url += `&${filter}=${soc}`;\n                  }\n                } else {\n                  url += `&${filter}=${filters[filter]}`;\n                }\n              }\n            }\n\n            if (lat && long && radius) {\n              url = url.concat('&latitude=').concat(lat.toString());\n              url = url.concat('&longitude=').concat(long.toString());\n              url = url.concat('&radius=').concat((radius * 1000).toString());\n            } else if (searchText) {\n              url += `&searchText=${searchText}`;\n            }\n\n            if (orderBy) {\n              orderBy = encodeURIComponent(orderBy.trim());\n              url = url.concat('&orderBy=');\n              url = url.concat(orderBy);\n            }\n\n            const headers = new HttpHeaders();\n            headers.append('Accept', '*/*');\n            headers.append('apikey', this.appConfigService.getConfig().application['wfnewsApiKey']);\n\n            return this.http.get<any>(url, {\n              headers: {\n                Accept: '*/*',\n                apikey: this.appConfigService.getConfig().application['wfnewsApiKey']\n              }\n            })\n              .pipe(\n                map((response: any) => {\n                  typedaction.callback();\n                  return searchWildfiresSuccess(typedaction.componentId, response);\n                }),\n                catchError(error => {\n                  typedaction.callback();\n                  return of(searchWildfiresError(typedaction.componentId, error));\n                }),\n              );\n          } catch (err) {\n            typedaction.callback();\n            console.error(err);\n          }\n        }\n      )\n    ));\n\n  constructor(\n    private actions: Actions,\n    private store: Store<RootState>,\n    private appConfigService: AppConfigService,\n    protected http: HttpClient\n  ) {}\n}\n","import { Action } from \"@ngrx/store\";\nimport { SearchWildfiresSuccessAction, SEARCH_WILDFIRES_SUCCESS } from \"./wildfiresList.action\";\nimport { getDefaultWildfiresListState, WildfiresState } from \"./wildfiresList.stats\";\n\nexport function wildfiresListReducer (state: WildfiresState = getDefaultWildfiresListState(), action: Action): WildfiresState {\n  if (action.type === SEARCH_WILDFIRES_SUCCESS) {\n    const typedaction = <SearchWildfiresSuccessAction> action;\n      return {...state, currentWildfiresSearch: typedaction.payload.value}\n  }\n}\n","import { RootState } from \"..\";\n\nexport const selectCurrentWildfiresSearch = () => (state: RootState): any => ((state.wildfires) ? state.wildfires.currentWildfiresSearch : undefined);\n","import { SearchState } from \"@wf1/core-ui\";\nimport { getDefaultPagingInfoRequest } from \"../application/application.state\";\n\nexport const SEARCH_WILDFIRES_COMPONENT_ID = \"searchWildfires\";\nexport const WILDFIRESLIST_COMPONENT_ID = \"WildfiresList\";\nexport const LOAD_WILDFIRES_COMPONENT_ID = \"loadWildfires\";\n\n\nconst EMPTY_WILDFIRESLIST: any = {\n    pageNumber: null,\n    pageRowCount: null,\n    totalPageCount: null,\n    totalRowCount: null,\n    collection: []\n};\n\nexport interface WildfiresState { // will need to specify the type . use any for now\n    currentWildfiresSearch?: any;\n    selectedWildfire?: any;\n    wildfires?: any;\n}\n\nexport const initialWildfiresSearchState: SearchState = {\n    query: null,\n    sortParam: \"lastUpdatedTimestamp\",\n    sortDirection: \"DESC\",\n    sortModalVisible: false,\n    filters: {},\n    hiddenFilters: {},\n    componentId: SEARCH_WILDFIRES_COMPONENT_ID\n};\n\nexport const initWildfiresListPaging = getDefaultPagingInfoRequest(1, 20, \"discoveryTimestamp\", \"DESC\", undefined);\n\nexport function getDefaultWildfiresListState(): WildfiresState {\n    return {\n        currentWildfiresSearch: EMPTY_WILDFIRESLIST,\n    };\n}\n","import {ValidationError} from '../store/application/application.state';\n\nconst digits = () => `must contain only numbers`;\nconst required = () => `is required`;\nconst invalid = () => `is invalid`;\nconst notFound = () => `not found`;\nconst min = ([message, min]: any[]) => `cannot be less than ${min}`;\nconst max = ([message, max]: any[]) => `cannot be more than ${max}`;\nconst minMax = ([message, min, max]: any[]) => `must be between ${min} and ${max} characters`;\n\nexport const ErrorMessages = {\n    required: () => 'Value is required',\n    max: (x) => `Value cannot be more than ${x}`,\n    min: (x) => `Value cannot be less than ${x}`,\n    maxlength: (x) => `Value cannot exceed ${x} characters`,\n    minlength: (x) => `Value must be at least ${x} characters`,\n};\n\nexport function getDisplayErrorMessage(err: ValidationError){\n    \n    if(err && ErrorMessages[err.message]){\n        return ErrorMessages[err.message](err);\n    }else if (err && err.messageTemplate && err.messageTemplate != err.message) {\n        let msg: string = err.messageTemplate;\n        const args = err.messageArguments;\n        if(args && args.length > 0){\n            err.messageArguments.forEach(function(arg,index)  {\n                const paramLookup = '{' + index + '}';\n                msg = msg.replace(paramLookup, arg);\n            });\n        }\n        return msg;\n    }else{\n        return err.message;\n    }\n}\n","import { APP_BOOTSTRAP_LISTENER, Inject, InjectionToken, Type } from '@angular/core';\nimport { EffectSources } from '@ngrx/effects';\nimport { SortDirection } from '@wf1/core-ui';\nimport * as moment from 'moment';\nimport { PagingInfoRequest } from '../store/application/application.state';\n\ndeclare const window: any;\nexport enum ResourcesRoutes {\n    LANDING = '',\n    ACTIVEWILDFIREMAP = 'map',\n    WILDFIRESLIST = 'list',\n    CURRENTSTATISTICS = 'currentStatistics',\n    RESOURCES = 'resources',\n    UNAUTHORIZED = 'unauthorized',\n    SIGN_OUT = 'sign-out-page',\n    ERROR_PAGE = 'error-page',\n    ADMIN = 'admin',\n    ADMIN_INCIDENT = 'incident',\n    PUBLIC_INCIDENT = 'incidents'\n}\n\nexport const FireCentres = [\n    {\n        code: '2',\n        agol: '7',\n        description: 'Cariboo Fire Centre',\n        displayOrder: 1,\n        effectiveDate: '1999-01-01',\n        expiryDate: '9999-12-31',\n        characterAlias: 'C'\n    },\n    {\n        code: '50',\n        agol: '2',\n        description: 'Coastal Fire Centre',\n        displayOrder: 2,\n        effectiveDate: '1999-01-01',\n        expiryDate: '9999-12-31',\n        characterAlias: 'V'\n    },\n    {\n        code: '25',\n        agol: '5',\n        description: 'Kamloops Fire Centre',\n        displayOrder: 3,\n        effectiveDate: '1999-01-01',\n        expiryDate: '9999-12-31',\n        characterAlias: 'K'\n    },\n    {\n        code: '42',\n        agol: '3',\n        description: 'Northwest Fire Centre',\n        displayOrder: 4,\n        effectiveDate: '1999-01-01',\n        expiryDate: '9999-12-31',\n        characterAlias: 'R'\n    },\n    {\n        code: '8',\n        agol: '4',\n        description: 'Prince George Fire Centre',\n        displayOrder: 5,\n        effectiveDate: '1999-01-01',\n        expiryDate: '9999-12-31',\n        characterAlias: 'G'\n    },\n    {\n        code: '34',\n        agol: '6',\n        description: 'Southeast Fire Centre',\n        displayOrder: 6,\n        effectiveDate: '1999-01-01',\n        expiryDate: '9999-12-31',\n        characterAlias: 'N'\n    }\n];\n\nexport const FireZones = [\n  { code: 3, alias: 1, description: 'Quesnel Zone', fireCentreOrgUnit: 2},\n  { code: 4, alias: 2, description: 'Central Cariboo Zone (Williams Lake)', fireCentreOrgUnit: 2},\n  { code: 5, alias: 3, description: 'Central Cariboo Zone (Horsefly)', fireCentreOrgUnit: 2},\n  { code: 6, alias: 4, description: '100 Mile House Zone', fireCentreOrgUnit: 2},\n  { code: 7, alias: 5, description: 'Chilcotin Zone', fireCentreOrgUnit: 2},\n  { code: 9, alias: 1, description: 'Prince George Zone', fireCentreOrgUnit: 8},\n  { code: 10, alias: 3, description: 'Robson Valley Zone', fireCentreOrgUnit: 8},\n  { code: 11, alias: 4, description: 'VanJam Zone (Vanderhoof)', fireCentreOrgUnit: 8},\n  { code: 12, alias: 5, description: 'VanJam Zone (Fort St. James)', fireCentreOrgUnit: 8},\n  { code: 13, alias: 6, description: 'Mackenzie Zone', fireCentreOrgUnit: 8},\n  { code: 14, alias: 7, description: 'Dawson Creek Zone', fireCentreOrgUnit: 8},\n  { code: 15, alias: 8, description: 'Fort St. John Zone', fireCentreOrgUnit: 8},\n  { code: 16, alias: 9, description: 'Fort Nelson Zone', fireCentreOrgUnit: 8},\n  { code: 26, alias: 1, description: 'Kamloops Zone (Clearwater)', fireCentreOrgUnit: 25},\n  { code: 27, alias: 2, description: 'Kamloops Zone (Kamloops)', fireCentreOrgUnit: 25},\n  { code: 28, alias: 3, description: 'Vernon Zone (Salmon Arm)', fireCentreOrgUnit: 25},\n  { code: 29, alias: 4, description: 'Vernon Zone (Vernon)', fireCentreOrgUnit: 25},\n  { code: 30, alias: 5, description: 'Penticton Zone', fireCentreOrgUnit: 25},\n  { code: 31, alias: 6, description: 'Merritt Zone', fireCentreOrgUnit: 25},\n  { code: 32, alias: 7, description: 'Lillooet Zone', fireCentreOrgUnit: 25},\n  { code: 35, alias: 1, description: 'Cranbrook Zone', fireCentreOrgUnit: 34},\n  { code: 36, alias: 2, description: 'Invermere Zone', fireCentreOrgUnit: 34},\n  { code: 37, alias: 4, description: 'Columbia Zone', fireCentreOrgUnit: 34},\n  { code: 38, alias: 5, description: 'Arrow Zone', fireCentreOrgUnit: 34},\n  { code: 39, alias: 6, description: 'Boundary Zone', fireCentreOrgUnit: 34},\n  { code: 40, alias: 7, description: 'Kootenay Lake Zone', fireCentreOrgUnit: 34},\n  { code: 43, alias: 1, description: 'Nadina Zone (Lakes)', fireCentreOrgUnit: 42},\n  { code: 44, alias: 2, description: 'Nadina Zone (Morice)', fireCentreOrgUnit: 42},\n  { code: 45, alias: 3, description: 'Bulkley Zone', fireCentreOrgUnit: 42},\n  { code: 46, alias: 4, description: 'Bulkley Zone (Kispiox)', fireCentreOrgUnit: 42},\n  { code: 47, alias: 5, description: 'Skeena Zone (Kalum)', fireCentreOrgUnit: 42},\n  { code: 48, alias: 8, description: 'Skeena Zone (North Coast)', fireCentreOrgUnit: 42},\n  { code: 49, alias: 9, description: 'Cassiar Zone', fireCentreOrgUnit: 42},\n  { code: 51, alias: 1, description: 'Fraser Zone', fireCentreOrgUnit: 50},\n  { code: 52, alias: 3, description: 'Pemberton Zone', fireCentreOrgUnit: 50},\n  { code: 53, alias: 5, description: 'Sunshine Coast Zone', fireCentreOrgUnit: 50},\n  { code: 54, alias: 6, description: 'South Island Zone', fireCentreOrgUnit: 50},\n  { code: 55, alias: 7, description: 'Mid Island Zone', fireCentreOrgUnit: 50},\n  { code: 56, alias: 8, description: 'North Island Mid Coast Zone (Campbell River)', fireCentreOrgUnit: 50},\n  { code: 57, alias: 9, description: 'North Island Mid Coast Zone (Port McNeill)', fireCentreOrgUnit: 50},\n  { code: 58, alias: 10, description: 'North Island Mid Coast Zone (Mid Coast)', fireCentreOrgUnit: 50},\n  { code: 59, alias: 11, description: 'Fraser Zone (Haida Gwaii)', fireCentreOrgUnit: 50}\n]\n\nexport function getPageInfoRequestForSearchState(searchState: any): PagingInfoRequest {\n    return {\n        pageRowCount: searchState.pageSize,\n        pageNumber: searchState.pageIndex,\n        sortColumn: searchState.sortParam,\n        sortDirection: searchState.sortDirection,\n        query: searchState.query\n    };\n}\n\nexport const BOOTSTRAP_EFFECTS = new InjectionToken('Bootstrap Effects');\n\nexport function createInstances(...instances: any[]) {\n    return instances;\n}\n\nexport function bootstrapEffects(effects: Type<any>[], sources: EffectSources) {\n    return () => {\n        effects.forEach(effect => sources.addEffects(effect));\n    };\n}\n\n\nexport function provideBootstrapEffects(effects: Type<any>[]): any {\n    return [\n        effects,\n        {\n            provide: BOOTSTRAP_EFFECTS, deps: effects, useFactory: createInstances\n        },\n        {\n            provide: APP_BOOTSTRAP_LISTENER,\n            multi: true,\n            useFactory: bootstrapEffects,\n            deps: [[new Inject(BOOTSTRAP_EFFECTS)], EffectSources]\n        }\n    ];\n}\n\nexport const DATE_FORMATS = {\n    fullPickerInput: 'Y-MM-DD HH:mm',\n    datePickerInput: 'Y-MM-DD',\n    timePickerInput: 'HH:mm',\n    monthYearLabel: 'Y-MM',\n    dateA11yLabel: 'Y-MMM-DD',\n    monthYearA11yLabel: 'YYYY-MMM',\n    simplifiedDate: 'MMM DD',\n    simplifiedDateWithYear: 'MMM DD YYYY',\n    simplifiedDateWithTime: 'MMM DD, YYYY - HH:mm',\n    simplifiedMonthDate: 'MM-DD',\n    fullPickerInputWithSlash: 'Y-MM-DD/ HH:mm',\n    API_DATE: 'Y-MM-DD',\n    API_TIMESTAMP: 'Y-MM-DD HH:mm:ss',\n    API_TIMESTAMP_WITH_SEP: 'Y-MM-DDTHH:mm:ss'\n};\n\nexport function getElementInnerText(el: HTMLElement): string {\n    return el.innerText;\n}\n\nexport  const hasValues = (obj) => Object.values(obj).some(v => v !== null && typeof v !== 'undefined');\n\nexport function isElementTruncated(el: HTMLElement): boolean {\n    return el.offsetWidth < el.scrollWidth;\n}\n\nexport const CONSTANTS= {\n    NO_RECORDS_MESSAGE: 'No records to display.',\n}\n\nexport function arrayEquals(a, b) {\n    return Array.isArray(a) &&\n        Array.isArray(b) &&\n        a.length === b.length &&\n        a.every((val, index) => val === b[index]);\n}\n\nexport const formatSort = (param: string, direction: SortDirection) => param && direction ? `${param} ${direction}` : undefined;\n\nexport const WF_SNACKBAR_TYPES = {SUCCESS: 'success', ERROR: 'error', WARNING: 'warning', INFO: 'info', UPDATE: 'update'};\n\n\nexport function convertFromTimestamp(date: string) {\n    if (date) {\n        return moment(date).format(DATE_FORMATS.simplifiedDateWithYear)\n    }\n}\n\nexport function convertToDateWithTime(date: string) {\n    if (date) {\n        return moment(date).format(DATE_FORMATS.simplifiedDateWithTime)\n    }\n}\n\nexport function convertToDateWithDayOfWeek(date: string) {\n    if (date){\n        return displayDay(date) + ' ' + moment(date).format(DATE_FORMATS.simplifiedDateWithYear)\n    }\n}\n\nexport function  convertToStageOfControlDescription(code: string) {\n    switch(code) {\n        case 'OUT_CNTRL':\n            return 'Out Of Control'\n        case 'HOLDING':\n            return 'Being Held'\n        case 'UNDR_CNTRL':\n            return 'Under Control'\n        case 'OUT':\n            return 'Out'\n        default:\n            break;\n      }\n}\n\nfunction displayDay(date: string): string{\n    if (date) {\n        const result = moment(date).format('dddd');\n        return (result.charAt(0).toUpperCase() + result.slice(1)).slice(0, 3); // abbreviate days of the week\n    } else {\n        return null;\n    }\n}\n\nexport function findFireCentreByName(fireCentreName: string): any {\n  if (fireCentreName) {\n      let nameResult = FireCentres.find(fireCentre => fireCentre.description.toLowerCase().trim() === fireCentreName.toLowerCase().trim() + '')\n      return nameResult ? nameResult : null;\n  }\n}\n\nexport function convertToFireCentreDescription(code: string): string {\n    if (code) {\n        const result = FireCentres.find(fireCentre => fireCentre.code === code + '')\n        // Some have the code from AGOL, which appears to be an objectid?\n        const agolResult = FireCentres.find(fireCentre => fireCentre.agol === code + '');\n        const nameResult = FireCentres.find(fireCentre => fireCentre.description === code + '')\n        return result ? result.description : agolResult ? agolResult.description : nameResult ? nameResult.description: code;\n    }\n}\n\nexport function isMobileView () {\n  return window.innerWidth <= 768\n}\n\nexport async function snowPlowHelper(page: string, data: any = null) {\n    let pageInfo = page;\n    if(data) {\n       window.snowplow('trackSelfDescribingEvent', {\n        schema: 'iglu:ca.bc.gov.wfnews/action/jsonschema/1-0-0',\n        data: data\n      });\n    } else {\n      window.snowplow('trackPageView', pageInfo);\n    }\n}\n\nexport function convertFireNumber(incident) {\n    if(incident.incidentNumberLabelFull) {\n        return incident.incidentNumberLabelFull\n    } else if(incident.incidentNumberLabel.length > 4) {\n      return incident.incidentNumberLabel\n    } else{\n        try {\n        const fcAlias = FireCentres.find(c => c.code === incident.fireCentreCode).characterAlias\n        const zoneAlias = FireZones.find(z => z.code === incident.fireZoneUnitIdentifier).alias\n        const incidentNumber = String(incident.incidentNumberLabel).padStart(4, '0')\n        return fcAlias + zoneAlias + incidentNumber\n        } catch (err) {\n        console.error(err)\n        return 'Unknown Incident Label'\n        }\n    }\n}\n\nexport function convertToYoutubeId (externalUri: string) {\n  if (externalUri) {\n    const regExp = /^.*((youtu.be\\/)|(v\\/)|(\\/u\\/\\w\\/)|(embed\\/)|(watch\\?))\\??v?=?([^#&?]*).*/;\n    let match = externalUri.match(regExp);\n    if( match && match[7].length == 11) {\n      return match[7]\n    }\n  }\n}\n\nexport function hideOnMobileView () {\n    return ((window.innerWidth < 768 && window.innerHeight < 1024) || (window.innerWidth < 1024 && window.innerHeight < 768))\n  }\n","import { GeoJsonTypes } from 'geojson'\n\nexport type SmkMap = any;\n\nexport class SmkApi {\n    constructor(\n        private smkMap: SmkMap\n    ) {}\n\n    with<T>( block: ( smk: SmkMap ) => T, fail?: T ) {\n        if ( !this.smkMap ) {\n          return fail;\n        }\n\n        return block( this.smkMap );\n    }\n\n    showFeature( acetate: string, geometry?: GeoJsonTypes, opt?: object): void {\n        if ( !this.smkMap ) return\n\n        this.smkMap.showFeature( acetate, geometry, opt )\n    }\n\n    panToFeature( geometry: GeoJsonTypes, zoomIn? ) {\n        if ( !this.smkMap ) return\n\n        this.smkMap.$viewer.panToFeature( geometry, zoomIn )\n    }\n\n    setDisplayContextItemsVisible( ...layerVisibilities: { itemId: string; visible: boolean; reload?: boolean }[] ): Promise<any> {\n        if ( !this.smkMap ) {\n          return Promise.reject();\n        }\n\n        layerVisibilities.forEach( ( { itemId: id, visible, reload } ) => {\n            this.smkMap.$viewer.displayContext.layers.setItemVisible( id, visible );\n\n            if ( reload ) {\n        this.smkMap.$viewer.layerIdPromise[ id ] = null;\n}\n        } );\n\n        return this.smkMap.$viewer.updateLayersVisible();\n    }\n\n    withLayerConfig( layerId: string, block: ( config ) => void ) {\n        if ( !this.smkMap ) {\nreturn;\n}\n\n        block( this.smkMap.$viewer.layerId[ layerId ].config );\n    }\n\n}\n","// The file contents for the current environment will overwrite these during build.\n// The build system defaults to the dev environment which uses `environment.ts`, but if you do\n// `ng build --env=prod` then `environment.prod.ts` will be used instead.\n// The list of which env maps to which file can be found in `.angular-cli.json`.\n\nexport const environment = {\n\tproduction: false,\n\toverride_webade_preference_config: '',\n\twebade_preference_config: '',\n\tapp_config_location: '/assets/data/appConfig.json',\n\tapp_base: '/',\n    document_management_proxy_auth_url: '/auth'\n};\n\n","import { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment';\n\nif ( environment.production ) {\nenableProdMode();\n}\n\nplatformBrowserDynamic().bootstrapModule( AppModule ).catch( console.warn );\n","var map = {\n\t\"./af\": 58685,\n\t\"./af.js\": 58685,\n\t\"./ar\": 254,\n\t\"./ar-dz\": 4312,\n\t\"./ar-dz.js\": 4312,\n\t\"./ar-kw\": 32614,\n\t\"./ar-kw.js\": 32614,\n\t\"./ar-ly\": 18630,\n\t\"./ar-ly.js\": 18630,\n\t\"./ar-ma\": 28674,\n\t\"./ar-ma.js\": 28674,\n\t\"./ar-sa\": 49032,\n\t\"./ar-sa.js\": 49032,\n\t\"./ar-tn\": 24730,\n\t\"./ar-tn.js\": 24730,\n\t\"./ar.js\": 254,\n\t\"./az\": 53052,\n\t\"./az.js\": 53052,\n\t\"./be\": 60150,\n\t\"./be.js\": 60150,\n\t\"./bg\": 63069,\n\t\"./bg.js\": 63069,\n\t\"./bm\": 13466,\n\t\"./bm.js\": 13466,\n\t\"./bn\": 18516,\n\t\"./bn-bd\": 90557,\n\t\"./bn-bd.js\": 90557,\n\t\"./bn.js\": 18516,\n\t\"./bo\": 26273,\n\t\"./bo.js\": 26273,\n\t\"./br\": 9588,\n\t\"./br.js\": 9588,\n\t\"./bs\": 19815,\n\t\"./bs.js\": 19815,\n\t\"./ca\": 83331,\n\t\"./ca.js\": 83331,\n\t\"./cs\": 21320,\n\t\"./cs.js\": 21320,\n\t\"./cv\": 72219,\n\t\"./cv.js\": 72219,\n\t\"./cy\": 68266,\n\t\"./cy.js\": 68266,\n\t\"./da\": 66427,\n\t\"./da.js\": 66427,\n\t\"./de\": 67435,\n\t\"./de-at\": 52871,\n\t\"./de-at.js\": 52871,\n\t\"./de-ch\": 12994,\n\t\"./de-ch.js\": 12994,\n\t\"./de.js\": 67435,\n\t\"./dv\": 82357,\n\t\"./dv.js\": 82357,\n\t\"./el\": 95649,\n\t\"./el.js\": 95649,\n\t\"./en-au\": 59961,\n\t\"./en-au.js\": 59961,\n\t\"./en-ca\": 19878,\n\t\"./en-ca.js\": 19878,\n\t\"./en-gb\": 3924,\n\t\"./en-gb.js\": 3924,\n\t\"./en-ie\": 70864,\n\t\"./en-ie.js\": 70864,\n\t\"./en-il\": 91579,\n\t\"./en-il.js\": 91579,\n\t\"./en-in\": 30940,\n\t\"./en-in.js\": 30940,\n\t\"./en-nz\": 16181,\n\t\"./en-nz.js\": 16181,\n\t\"./en-sg\": 44301,\n\t\"./en-sg.js\": 44301,\n\t\"./eo\": 85291,\n\t\"./eo.js\": 85291,\n\t\"./es\": 54529,\n\t\"./es-do\": 53764,\n\t\"./es-do.js\": 53764,\n\t\"./es-mx\": 12584,\n\t\"./es-mx.js\": 12584,\n\t\"./es-us\": 63425,\n\t\"./es-us.js\": 63425,\n\t\"./es.js\": 54529,\n\t\"./et\": 35203,\n\t\"./et.js\": 35203,\n\t\"./eu\": 70678,\n\t\"./eu.js\": 70678,\n\t\"./fa\": 83483,\n\t\"./fa.js\": 83483,\n\t\"./fi\": 96262,\n\t\"./fi.js\": 96262,\n\t\"./fil\": 52521,\n\t\"./fil.js\": 52521,\n\t\"./fo\": 34555,\n\t\"./fo.js\": 34555,\n\t\"./fr\": 63131,\n\t\"./fr-ca\": 88239,\n\t\"./fr-ca.js\": 88239,\n\t\"./fr-ch\": 21702,\n\t\"./fr-ch.js\": 21702,\n\t\"./fr.js\": 63131,\n\t\"./fy\": 267,\n\t\"./fy.js\": 267,\n\t\"./ga\": 23821,\n\t\"./ga.js\": 23821,\n\t\"./gd\": 71753,\n\t\"./gd.js\": 71753,\n\t\"./gl\": 4074,\n\t\"./gl.js\": 4074,\n\t\"./gom-deva\": 92762,\n\t\"./gom-deva.js\": 92762,\n\t\"./gom-latn\": 5969,\n\t\"./gom-latn.js\": 5969,\n\t\"./gu\": 82809,\n\t\"./gu.js\": 82809,\n\t\"./he\": 45402,\n\t\"./he.js\": 45402,\n\t\"./hi\": 315,\n\t\"./hi.js\": 315,\n\t\"./hr\": 10410,\n\t\"./hr.js\": 10410,\n\t\"./hu\": 38288,\n\t\"./hu.js\": 38288,\n\t\"./hy-am\": 67928,\n\t\"./hy-am.js\": 67928,\n\t\"./id\": 71334,\n\t\"./id.js\": 71334,\n\t\"./is\": 86959,\n\t\"./is.js\": 86959,\n\t\"./it\": 34864,\n\t\"./it-ch\": 51124,\n\t\"./it-ch.js\": 51124,\n\t\"./it.js\": 34864,\n\t\"./ja\": 36141,\n\t\"./ja.js\": 36141,\n\t\"./jv\": 29187,\n\t\"./jv.js\": 29187,\n\t\"./ka\": 42136,\n\t\"./ka.js\": 42136,\n\t\"./kk\": 94332,\n\t\"./kk.js\": 94332,\n\t\"./km\": 18607,\n\t\"./km.js\": 18607,\n\t\"./kn\": 84305,\n\t\"./kn.js\": 84305,\n\t\"./ko\": 70234,\n\t\"./ko.js\": 70234,\n\t\"./ku\": 16003,\n\t\"./ku.js\": 16003,\n\t\"./ky\": 75061,\n\t\"./ky.js\": 75061,\n\t\"./lb\": 32786,\n\t\"./lb.js\": 32786,\n\t\"./lo\": 66183,\n\t\"./lo.js\": 66183,\n\t\"./lt\": 50029,\n\t\"./lt.js\": 50029,\n\t\"./lv\": 24169,\n\t\"./lv.js\": 24169,\n\t\"./me\": 68577,\n\t\"./me.js\": 68577,\n\t\"./mi\": 68177,\n\t\"./mi.js\": 68177,\n\t\"./mk\": 50337,\n\t\"./mk.js\": 50337,\n\t\"./ml\": 65260,\n\t\"./ml.js\": 65260,\n\t\"./mn\": 52325,\n\t\"./mn.js\": 52325,\n\t\"./mr\": 14695,\n\t\"./mr.js\": 14695,\n\t\"./ms\": 75334,\n\t\"./ms-my\": 37151,\n\t\"./ms-my.js\": 37151,\n\t\"./ms.js\": 75334,\n\t\"./mt\": 63570,\n\t\"./mt.js\": 63570,\n\t\"./my\": 97963,\n\t\"./my.js\": 97963,\n\t\"./nb\": 88028,\n\t\"./nb.js\": 88028,\n\t\"./ne\": 86638,\n\t\"./ne.js\": 86638,\n\t\"./nl\": 50302,\n\t\"./nl-be\": 66782,\n\t\"./nl-be.js\": 66782,\n\t\"./nl.js\": 50302,\n\t\"./nn\": 33501,\n\t\"./nn.js\": 33501,\n\t\"./oc-lnc\": 50563,\n\t\"./oc-lnc.js\": 50563,\n\t\"./pa-in\": 50869,\n\t\"./pa-in.js\": 50869,\n\t\"./pl\": 65302,\n\t\"./pl.js\": 65302,\n\t\"./pt\": 49687,\n\t\"./pt-br\": 74884,\n\t\"./pt-br.js\": 74884,\n\t\"./pt.js\": 49687,\n\t\"./ro\": 79107,\n\t\"./ro.js\": 79107,\n\t\"./ru\": 33627,\n\t\"./ru.js\": 33627,\n\t\"./sd\": 30355,\n\t\"./sd.js\": 30355,\n\t\"./se\": 83427,\n\t\"./se.js\": 83427,\n\t\"./si\": 11848,\n\t\"./si.js\": 11848,\n\t\"./sk\": 54590,\n\t\"./sk.js\": 54590,\n\t\"./sl\": 20184,\n\t\"./sl.js\": 20184,\n\t\"./sq\": 56361,\n\t\"./sq.js\": 56361,\n\t\"./sr\": 78965,\n\t\"./sr-cyrl\": 81287,\n\t\"./sr-cyrl.js\": 81287,\n\t\"./sr.js\": 78965,\n\t\"./ss\": 25456,\n\t\"./ss.js\": 25456,\n\t\"./sv\": 70451,\n\t\"./sv.js\": 70451,\n\t\"./sw\": 77558,\n\t\"./sw.js\": 77558,\n\t\"./ta\": 51356,\n\t\"./ta.js\": 51356,\n\t\"./te\": 73693,\n\t\"./te.js\": 73693,\n\t\"./tet\": 21243,\n\t\"./tet.js\": 21243,\n\t\"./tg\": 42500,\n\t\"./tg.js\": 42500,\n\t\"./th\": 55768,\n\t\"./th.js\": 55768,\n\t\"./tk\": 77761,\n\t\"./tk.js\": 77761,\n\t\"./tl-ph\": 35780,\n\t\"./tl-ph.js\": 35780,\n\t\"./tlh\": 29590,\n\t\"./tlh.js\": 29590,\n\t\"./tr\": 33807,\n\t\"./tr.js\": 33807,\n\t\"./tzl\": 93857,\n\t\"./tzl.js\": 93857,\n\t\"./tzm\": 60654,\n\t\"./tzm-latn\": 8806,\n\t\"./tzm-latn.js\": 8806,\n\t\"./tzm.js\": 60654,\n\t\"./ug-cn\": 30845,\n\t\"./ug-cn.js\": 30845,\n\t\"./uk\": 19232,\n\t\"./uk.js\": 19232,\n\t\"./ur\": 47052,\n\t\"./ur.js\": 47052,\n\t\"./uz\": 77967,\n\t\"./uz-latn\": 32233,\n\t\"./uz-latn.js\": 32233,\n\t\"./uz.js\": 77967,\n\t\"./vi\": 98615,\n\t\"./vi.js\": 98615,\n\t\"./x-pseudo\": 12320,\n\t\"./x-pseudo.js\": 12320,\n\t\"./yo\": 31313,\n\t\"./yo.js\": 31313,\n\t\"./zh-cn\": 64490,\n\t\"./zh-cn.js\": 64490,\n\t\"./zh-hk\": 55910,\n\t\"./zh-hk.js\": 55910,\n\t\"./zh-mo\": 98262,\n\t\"./zh-mo.js\": 98262,\n\t\"./zh-tw\": 44223,\n\t\"./zh-tw.js\": 44223\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 46700;","/* (ignored) */"],"names":["codeTableAndUserPrefFnInit","appConfig","http","injector","loadAppConfig","catch","e","console","warn","getEndpointUrl","baseUrl","endpoint","result","length","endsWith","RouterLink","moment","DisclaimerDialogComponent","ResourcesRoutes","snowPlowHelper","isMobileView","mobileView","i0","ICON","TWITTER","FACEBOOK","FACEBOOK_SQUARE","FIRE","MAP_SIGNS","INCIDENT","ADVISORIES","EXT_LINK","EXCLAMATION_CIRCLE","CLOUD_SUN","FILTER_CANCEL","BOOKMARK","MAP","BACK_ICON","DOT","AppComponent","constructor","appConfigService","router","location","updateService","applicationStateService","matIconRegistry","domSanitizer","tokenService","cdr","dialog","title","device","getDevice","userName","version","long","short","environment","menu","undefined","storeViewportSize","ngOnInit","addCustomMaterialIcons","checkForUpdates","checkUserPermissions","path","startsWith","configEmitter","subscribe","config","applicationConfig","application","replace","onResize","tokenSubscription","credentialsEmitter","creds","first","given_name","givenName","last","family_name","familyName","initAppMenu","initFooterMenu","window","remove","localStorage","getItem","dialogRef","open","autoFocus","width","afterClosed","setItem","removeItem","mainApp","document","getElementById","setTimeout","classList","add","getElementsByTagName","removeAttribute","isIncidentsPage","pathname","redirectToPublicMobile","innerWidth","innerHeight","getAppStoreLink","navigator","userAgent","toLowerCase","indexOf","getConfig","externalAppConfig","toString","getAppStoreName","download","appMenu","ACTIVEWILDFIREMAP","WILDFIRESLIST","CURRENTSTATISTICS","RESOURCES","footerMenu","ngAfterViewInit","setInterval","getLastSync","headerImg","getElementsByClassName","node","createElement","style","color","marginLeft","append","appendChild","lastSyncDate","now","value","diff","lastSyncValue","toFixed","onOrientationChange","onSizeChange","updateMapSize","detectChanges","isAdminPage","contains","orientation","getOrientation","documentElement","setProperty","ngOnDestroy","lastSuccessPollSub","unsubscribe","hasAccess","isLoggedIn","navigateToBcWebsite","navigateToFooterPage","event","route","addSvgIcon","bypassSecurityTrustResourceUrl","url","includes","navigateToBcSupport","logOutCurrentUser","navigate","SIGN_OUT","selectors","hostBindings","ctx","DragDropModule","ScrollingModule","CdkTableModule","APP_BASE_HREF","CommonModule","HttpClient","HttpClientModule","HTTP_INTERCEPTORS","APP_INITIALIZER","Injector","FormsModule","ReactiveFormsModule","MatLegacyButtonModule","MatButtonModule","MatLegacyDialogModule","MatDialogModule","MatDividerModule","MatExpansionModule","MatLegacyFormFieldModule","MatFormFieldModule","MatGridListModule","MatIconModule","MatLegacyInputModule","MatInputModule","MatLegacyListModule","MatListModule","MatLegacyMenuModule","MatMenuModule","MatLegacyRadioModule","MatRadioModule","MatLegacySelectModule","MatSelectModule","MatLegacySlideToggleModule","MatSlideToggleModule","MatLegacySnackBarModule","MatSnackBarModule","MatToolbarModule","MatLegacyTooltipModule","MatTooltipModule","MatLegacyChipsModule","MatChipsModule","MatLegacyAutocompleteModule","MatAutocompleteModule","BrowserModule","BrowserAnimationsModule","RouteReuseStrategy","ServiceWorkerModule","OwlNativeDateTimeModule","EffectsModule","FullRouterStateSerializer","StoreRouterConnectingModule","StoreModule","StoreDevtoolsModule","AppConfigService","CoreUIModule","TokenService","ApiModule","IncidentsApiModule","Configuration","IncidentsConfiguration","OrgUnitApiModule","OrgUnitConfiguration","WildfireApplicationModule","DocumentAPIServiceConfiguration","OwlDateTimeModule","OWL_DATE_TIME_FORMATS","OwlMomentDateTimeModule","ROUTING","ActiveWildfireMapComponent","PanelEvacuationOrdersAndAlertsComponent","PanelWildfireStageOfControlComponentDesktop","WFMapContainerComponent","MapConfigService","UpdateService","WFMapService","CustomReuseStrategy","initialRootState","rootEffects","rootReducers","provideBootstrapEffects","MatLegacyTableModule","MatTableModule","SingleSelectDirective","MatLegacyPaginatorModule","MatPaginatorModule","NgxPaginationModule","WfAdminPanelComponentDesktop","AdminContainerDesktop","WfnewsInterceptor","IncidentDetailsPanel","MatLegacyProgressSpinnerModule","MatProgressSpinnerModule","MatSortModule","MatLegacyCardModule","MatCardModule","ResponseDetailsPanel","MatLegacyCheckboxModule","MatCheckboxModule","ContactsDetailsPanel","EvacOrdersDetailsPanel","AreaRestrictionsDetailsPanel","AdminIncidentFormDesktop","IncidentContainerDesktop","CKEditorModule","MatLegacyTabsModule","MatTabsModule","AGOLService","PanelBansAndProhibitionsComponent","PanelSmokeForecastComponent","PanelAreaRestrictionsComponent","PanelFireDangerComponent","CommonUtilityService","MapsPanel","MessageDialogComponent","EditMapDialogComponent","UploadMapDialogComponent","DocumentManagementService","SignOutPageComponent","ImageGalleryPanel","EditImageDialogComponent","UploadImageDialogComponent","ImageCardPanel","WildfirewResourcesComponent","ResourcePanelComponent","WFStatsComponent","NgxChartsModule","LightgalleryModule","PointIdService","WeatherPanelComponent","PanelRoadConditionsComponent","ErrorPageComponent","WildFiresListComponentDesktop","WildfiresListContainerDesktop","PublishedIncidentService","IncidentIdentifyPanelComponent","StickyWidgetComponent","ContactWidgetDialogComponent","PanelLocalAuthorityComponent","PanelWildfireStageOfControlContainerDesktop","MatLegacyProgressBarModule","MatProgressBarModule","PublicIncidentPage","IncidentGalleryPanel","IncidentHeaderPanel","IncidentInfoPanel","IncidentMapsPanel","IncidentOverviewPanel","LocalStorageService","WatchlistService","CurrentAlertComponentComponent","WildfiresListHeaderComponent","SafePipe","VideoGalleryPanel","VideoCardPanel","EditVideoDialogComponent","UploadVideoDialogComponent","YouTubePlayerModule","PublishDialogComponent","SummaryPanel","IncidentInfoPanelMobileComponent","ContactUsDialogComponent","IncidentOverviewPanelMobileComponent","IncidentMapsPanelMobileComponent","DATE_FORMATS","fullPickerInput","datePickerInput","timePickerInput","monthYearLabel","dateA11yLabel","monthYearA11yLabel","AppModule","bootstrap","provide","useValue","app_base","useClass","useFactory","multi","deps","basePath","rest","incidents","orgunit","wfdm","imports","forRoot","configurationPath","app_config_location","initialState","runtimeChecks","strictStateImmutability","strictActionImmutability","serializer","stateKey","instrument","maxAge","logOnly","production","register","enabled","scope","declarations","RouterModule","UnauthorizedPageComponent","ROLES_UI","NewsAuthGuard","PROFILE_SCOPES","ADMIN","IM_ADMIN","PANEL_ROUTES","component","pathMatch","outlet","LANDING","redirectTo","data","scopes","canActivate","ADMIN_INCIDENT","PUBLIC_INCIDENT","ERROR_PAGE","UntypedFormControl","PlaceData","SmkApi","L","debounceTime","activedRouter","mapConfigService","agolService","publishedIncidentService","commonUtilityService","incidentsServiceUrl","placeData","markers","Array","self","searchByLocationControl","valueChanges","pipe","val","filteredOptions","searchLayerGroup","clearLayers","searchAddresses","then","results","forEach","sortedAddressList","sortAddressList","locationOptions","changes","option","nativeElement","addEventListener","onLocationOptionOver","bind","onLocationOptionOut","mapConfig","getMapConfig","mapState","SMK","push","deviceConfig","viewer","queryParams","params","Number","lat","smkMap","Object","prototype","hasOwnProperty","call","$viewer","panToFeature","point","slice","showAccordion","getFullAddress","civicNumber","streetName","streetQualifier","streetType","leaflet","leafletInstance","searchLocationsLayerGroup","layerGroup","addTo","map","jQuery","currentTarget","removeMarker","largerIcon","iconSize","shadowAnchor","popupAnchor","shadowSize","highlight","loc","place","iconSettings","iconAnchor","geojsonFeature","starIcon","icon","iconUrl","geoJson","pointToLayer","feature","latlng","marker","serializeLatLng","latLng","latRounded","Math","round","EPSILON","longRounded","latLongRounded","JSON","stringify","lng","second","onLocationSelected","selectedOption","action","text","address","locationControlValue","localityName","setValue","trim","onlySelf","emitEvent","clearSearchLocationControl","reset","clearMyLocation","activeFireCount","activeFireCountPromise","getActiveFireCount","resp","error","initMap","smk","smkApi","onToggleAccordion","onSelectLayer","selectedLayer","selectedPanel","layers","itemId","visible","setDisplayContextItemsVisible","useMyCurrentLocation","searchText","getCurrentLocationPromise","coords","longitude","latitude","showAreaHighlight","showLocationMarker","type","coordinates","center","radius","circle","turf","steps","units","showFeature","geojson","latLong","divIcon","className","html","searchTextUpdated","grabberElement","grabber","resizeBoxElement","resizeBox","dragMove","height","pointerPosition","y","lastPointerPosition","lastTranslate","transform","top","borderRadius","borderBottomRightRadius","borderBottomLeftRadius","dragDropped","dropPoint","openLink","link","disclaimerText","screen","viewQuery","AdminIncidentForm","features","decls","vars","consts","template","Validators","Editor","CustomImageUploader","formBuilder","componentRouter","snackbarService","fireNumber","wildfireYear","Date","getFullYear","wildfireIncidentGuid","incidentNumberSequence","fireName","traditionalTerritory","lastPublished","publishedStatus","fireOfNote","sizeType","sizeHectares","sizeComments","cause","stageOfControlCode","causeComments","responseComments","wildifreCrewsInd","crewsComments","aviationInd","aviationComments","incidentManagementInd","incidentManagementComments","heavyEquipmentInd","heavyEquipmentComments","structureProtectionInd","structureProtectionComments","contact","isPrimary","fireCentre","phoneNumber","emailAddress","geometry","x","incidentOverview","evacOrders","mapAttachments","incidentData","incidentForm","group","incidentLocation","incidentSituation","pattern","array","getPublishedDate","incident","validFormCheck","contactControl","get","hasError","wildFireYear","incidentNumberSequnce","fetchIMIncident","incidentResponse","currentAdminIncident","response","publishedIncidentType","discoveryDate","discoveryTimestamp","toLocaleString","fireCentreOrgUnitName","incidentStatusCode","fireOfNotePublishedInd","incidentName","incidentLabel","geographicDescription","fireSizeHectares","causeCode","suspectedCauseCategoryCode","detailsPanelComponent","setCauseDisclaimer","causeOptions","find","c","id","disclaimer","fireCentreOrgUnitIdentifier","areaRestrictionsDetailsPanel","getAreaRestrictions","phone","patchValue","getPublishedIncident","publishedIncidentDetailGuid","traditionalTerritoryDetail","publishedTimestamp","incidentSizeDetail","incidentSizeDetai","incidentCauseDetail","newsPublicationStatusCode","resourceDetail","wildfireCrewResourcesInd","wildfireCrewResourcesDetail","wildfireAviationResourceInd","wildfireAviationResourceDetail","incidentMgmtCrewRsrcInd","incidentMgmtCrewRsrcDetail","heavyEquipmentResourcesInd","heavyEquipmentResourcesDetail","structureProtectionRsrcInd","structureProtectionRsrcDetail","contactOrgUnitIdentifer","contactPhoneNumber","contactEmailAddress","evacOrdersDetailsPanel","getEvacOrders","log","incidentResponseError","duration","panelClass","ngOnChanges","nullEmptyStrings","publishChanges","publishDisabled","publish","publishedIncidentResource","incidentGuid","newsCreatedTimestamp","valueOf","fireOfNoteInd","publishIncident","doc","persistEvacOrders","err","message","finally","loaded","saveIMPublishedIncident","toPromise","onShowPreview","mappedIncident","incidentNumberLabelFull","generalIncidentCauseCatId","controls","incidentSizeType","incidentSizeEstimatedHa","lastUpdatedTimestamp","fireYear","serializeUrl","createUrlTree","preview","onReady","editor","ui","getEditableElement","parentElement","insertBefore","view","toolbar","element","plugins","createUploadAdapter","loader","areaRestrictions","protRsSysID","attributes","PROT_RA_SYSID","name","NAME","accessStatusEffectiveDate","ACCESS_STATUS_EFFECTIVE_DATE","FIRE_CENTRE_NAME","fireZone","FIRE_ZONE_NAME","bulletinUrl","BULLETIN_URL","inputs","formGroup","MAT_DIALOG_DATA","DialogData","callFireCentre","parsedPhoneNumber","parseInt","emailFireCentre","recipientEmail","mailtoUrl","href","FireCentres","getFireCentres","getFireCentreContacts","contacts","setDefaultContactInfo","control","fireCentreOptions","externalUriService","addEvacOrder","orderAlertStatus","eventName","externalUri","externalUriDisplayLabel","publishedInd","privateInd","archivedInd","primaryInd","externalUriCategoryTag","sourceObjectNameCode","sourceObjectUniqueId","evacOrderForm","deleteEvacOrder","index","evac","splice","removeAt","externalUriGuid","deleteExternalUri","i","evacForm","at","updateExternalUri","createExternalUri","EVENT_NAME","eventType","EVENT_TYPE","ORDER_ALERT_STATUS","issuingAgency","ISSUING_AGENCY","preOcCode","PREOC_CODE","emrgOAAsysID","EMRG_OAA_SYSID","getExternalUriList","externalUriList","body","uri","collection","split","form","MAT_LEGACY_DIALOG_DATA","EventEmitter","documentManagementService","incidentAttachmentService","sanitizer","changePrimary","attachment","removeFlags","attachmentGuid","updateIncidentAttachment","primary","commsSuitable","edit","includeInGallery","guid","removePrimaryFlags","emit","loadPage","loadImage","ngDoCheck","convertToDate","format","downloadDocument","thumbnailIdentifier","fileIdentifier","blob","imageSrc","bypassSecurityTrustUrl","URL","createObjectURL","Error","outputs","BaseComponent","store","fb","overlay","watchlistService","incidentAttachmentsService","sortParam","sortDirection","getIncidentAttachmentList","searchState","docs","sort","a","b","dir","idx","mimeType","attachments","uris","ngOnchanges","updateTable","sortData","active","direction","upload","file","uploadFile","percent","total","uploadProgress","uploadStatus","floor","statusBar","instance","attachmentCreator","fileId","filePath","progressCallback","uploadDocument","onProgress","uploadPath","description","category","fileName","attachmentDescription","attachmentTypeCode","archived","privateIndicator","attachmentTitle","createIncidentAttachment","videoLink","pdfInputChange","fileInputEvent","target","files","returnResult","Promise","resolve","reject","reader","FileReader","default","readAsDataURL","abort","OptionDisclaimer","optionValue","setSizeTypeDisclaimer","sizeTypeOptions","item","anchor","click","delete","deleteIncidentAttachment","responseDisclaimer","onWildfireCrewsChecked","checked","crewCommentsValue","initialAttackCrews","unitCrews","onAviationChecked","aviationCommentsValue","helicopters","airtankers","onIncidentManagementTeamsChecked","onHeavyEquipmentChecked","heavyEquipmentCommentsValue","pieces","onStructureProtectionChecked","structureProtectionCommentsValue","initialAttack","unityCrews","crewsValueChange","aviationValueChange","heavyEquipmentValueChange","structuretValueChange","convertToStageOfControlDescription","convertToYoutubeId","video","navigateToYoutube","videoUrl","watchListServce","pageNumber","pageRowCount","totalRowCount","totalPageCount","uploadVideoLink","matchYoutubeUrl","resource","p","match","getDisplayErrorMessage","BaseComponentModel","Map","clone","clonedModel","base","setErrorState","errorState","validationErrors","apply","formControlNameErrors","keys","elementErrors","setErrors","set","updateValidators","formControl","formControlErrorTemplates","formControlNameErrorMap","formControlValidationErrors","filter","validationError","valErrors","DISPLAY_ERROR_MESSAGE","msgs","join","getErrors","key","updateValueAndValidity","markAsTouched","getElementInnerText","hasValues","isElementTruncated","CONSTANTS","getIsMobileResolution","itemsPerPage","currentPage","totalItems","previousLabel","nextLabel","initModels","getPagingConfig","reload","loadState","currentValue","isLoading","previousValue","invokeAfterLoaded","viewModel","updateView","model","redirectWithOAuth","redirectRoutePath","getAsFormGroup","ac","disableSaveForm","fg","dirty","valid","disableBatchSaveForm","arrayProperty","fgArray","arrayHasDirtyFlag","some","contactFg","arrayHasInvalidFlag","unsavedForm","unsavedBatchForm","doUnsavedStateUpdateIfNeeded","componentId","hasAddedUnsavedItem","hasAddedUnsavedItemNotBlank","isUnsaved","newUnsavedState","fgMain","ret","getRawValue","getActionRowClass","saveErrorState","severeErrorState","factory","NavigationEnd","CollectionComponent","label","initSortingAndPaging","initPaging","initPagingRequest","currentSort","currentSortDirection","currentSortObj","columnsToSortBy","col","def","currentSortLabel","pageIndex","showEntriesSelection","pageSize","baseRoute","isFirstLoad","events","doSearch","updateCollection","fixPaginationA11y","query","paginationUlEls","el","aEls","setAttribute","collectionData","summaryString","getSummaryString","onPageChange","number","onShowEntriesChange","onChangeFilters","doSort","newCol","configId","showNum","start","end","NO_RECORDS_MESSAGE","selectFilterUpdated","property","selectShowEntriesUpdated","selectSortParamUpdated","defaultItemClickAction","defaultItemActionPermitted","doDefaultItemAction","defaultItemKeyEnterAction","enterKey","spaceKey","haversineDistance","convertToDateWithDayOfWeek","DateTimeConvert","createMap","centroid","attributionControl","zoomControl","dragging","doubleClickZoom","boxZoom","trackResize","setView","fitBounds","LatLngBounds","ymin","xmin","ymax","xmax","tileLayer","attribution","databcUrl","toLocaleLowerCase","wms","styles","transparent","all","getBansProhibitions","selectAlertUpdated","bansAndProhibitions","nearmeChecked","currentLong","currentLat","nearmeToggleChanged","selectedAlertType","returnCentroid","returnGeometry","extentResponse","getEvacOrdersByEventNumber","EVENT_NUMBER","returnExtent","extent","dateModified","DATE_MODIFIED","noticeType","getAreaRestrictionsByID","getBansAndProhibitions","getBansAndProhibitionsById","PROT_BAP_SYSID","protBsSysID","TYPE","accessProhibitionDescription","ACCESS_PROHIBITION_DESCRIPTION","calculateDistance","openBcGovGuide","convertRestriction","cancel","close","dontShowAgain","convertToFireCentreDescription","convertFireNumber","ctx_r40","setIncident","incidentRef","identifyList","setIndex","featureSet","identifiedFeatures","count","fid","layerId","sourceId","properties","FIRE_NUMBER","incident_number_label","compareId","year","fire_year","fetchPublishedIncident","options","weekday","month","day","toLocaleTimeString","declaredOutDate","getExternalUriEvacOrders","failedToLoad","display","goToIncidentDetail","incidentNumber","incidentNumberLabel","next","previous","onWatchlist","getWatchlist","addToWatchlist","saveToWatchlist","removeFromWatchlist","fetchExternalUri","ZoomIn","MAT_SNACK_BAR_DATA","NotificationSnackbarComponent","snackBarRef","zoomToArea","area","snowplow","latlngPoint","LatLng","fireEvent","layerPoint","latLngToLayerPoint","containerPoint","latLngToContainerPoint","identified","pick","snowPlowPackage","zoomToEvac","PanelWildfireStageOfControlComponent","ctx_r14","PanelWildfireStageOfControlComponentModel","NgZone","ViewContainerRef","searchWildfires","LOAD_WILDFIRES_COMPONENT_ID","StageOfControlConvert","delay","t","componentFactoryResolver","zone","panel","highlightLayer","_leaflet_id","removeLayer","clearInterval","initInterval","mapPanProgressBar","markerAnimation","clearTimeout","ignorePanDebounce","getViewModel","mapEventHandler","ignorePan","mapEventDebounce","tabIndex","bindMapEvents","on","onTabChanged","tab","textLabel","isFirstPage","isLastPage","activeWildfiresInd","outWildfiresInd","newFires","wildfiresOfNoteInd","loading","bbox","bounds","getBounds","_northEast","_southWest","stageOfControlList","dispatch","sortColumn","displayLabel","stageOfControlChanges","source","ariaLabel","toUpperCase","handlePanelEnter","onPanelMouseExit","lastPanned","progressValues","_zoom","addMarker","pointerIcon","querySelector","backgroundColor","marginTop","boxShadow","onPanelMouseEnter","handlePanelEnterTimeout","openPreview","run","compRef","makeComponent","identifyPanel","componentRef","destroy","listIdentifyContainer","clear","createComponent","resolveComponentFactory","onClickBookmark","stopPropagation","lgZoom","lgFullscreen","lgThumbnail","counter","showZoomInOutIcons","fullScreen","actualSize","thumbnail","detail","lightGallery","ngAfterViewChecked","refreshGallery","refresh","onMediaTypeFilterChanged","showImages","showVideos","videos","allImagesAndVideosStub","images","currentMediaType","isPreview","handleImageFallback","imgComponent","src","imagesAndVideosStub","uploadedDate","createdTimestamp","toLocaleDateString","fetchPublishedIncidentAttachments","attachmentFileName","showImageWarning","scrollWheelZoom","colorToDisplay","circleMarker","fillOpacity","fillColor","displaySizeType","hideOnMobileView","convertoToMobileFormate","dateString","formattedDate","openContactUsWindow","fireCentreName","fireCentreCode","email","backToMap","shareContent","currentUrl","share","getTooltipText","navigateToMap","navigateToEvac","navigateToAreaRestriction","scrollToSection","sectionId","section","scrollIntoView","behavior","toCanvas","findFireCentreByName","fc","code","canvas","showWarning","fetchPrimaryImage","getStageOfControlLabel","getStageOfControlDescription","getCauseLabel","getCauseDescription","getResponseTypeDescription","printPage","printContents","innerHTML","appRoot","removeChild","print","copyToClipboard","clipboard","writeText","setMedia","primaryMedia","convertDate","date","loadMore","limit","HttpEventType","HttpRequest","HttpResponse","DownloadableMap","httpClient","loadMaps","maps","toDateString","fetchAttachments","downloadMap","mapLink","request","reportProgress","responseType","ev","Sent","downloadFile","downloadedFile","Blob","showMapsWarning","formatHtml","originalContents","enableReadOnlyMode","getFirePerimetre","loadingFailed","loadPreview","parse","clearLocalStorageToken","siteminderUrlPrefix","UntypedFormGroup","controlName","errorName","contactForm","contactInformationConfig","required","subject","maxLength","mailErrorMessages","emailControl","onSubmit","post","messageBody","closeProgressInterval","openContactForm","openIncident","showWatchlist","loadWatchlist","stopDelay","progressValue","delayClose","watchlist","watchlistItems","removeProperty","setWeatherStation","station","stationData","hourly","temperature","tempWindData","precipHumidityData","tempWindDataHolder","precipHumidityDataHolder","temp","series","humidity","precip","wind","hour","convertName","relativeHumidity","precipitation","windSpeed","substring","WfAdminPanelComponent","ctx_r6","WfAdminPanelComponentModel","searchIncidents","initIncidentsPaging","SEARCH_INCIDENTS_COMPONENT_ID","getCurrentYearString","selectedFireCentreCode","clearSearchAndFilters","currentYear","getMonth","currentYearString","todaysDate","minute","weekdays","todayString","getDay","liveDateTime","currentDateTimeString","selectIncident","fireTypeChange","mapIndexAuto","initPromise","wfMap","pointIdService","destroyMap","mapIndex","createSMK","containerSel","mapContainer","toggleAccordion","mapInitialized","hideListButtonElement","handlePick","lastClickedLocation","displayContext","isVisible","addNearbyWeatherStation","setIdentifyDoneCallback","addSelectedIncidentPanels","createContent","fetchNearestWeatherStation","stationName","stationCode","identifyContainer","o","interval","loadData","updateSubscription","activeFiresByCentre","fireStats","activeFiresByCause","activeFiresByStatus","fires","outFires","activeIncidents","fetchPublishedIncidents","activeFoNIncidents","outIncidents","fetchOutIncidents","f","concat","firesLast24","firesLast7Days","thisYearCount","totalFires","areaBurned","lightningStart","humanStart","fcData","fcAllData","fcStats","fire","fireValidator","centre","FIRE_CENTRES","fireCount","outFireCount","activeHectares","reduce","n","incidentSizeMappedHa","outHectares","lightningStarts","humanStarts","causeData","causeAllData","FIRE_CAUSE","statusData","statusAllData","status","FIRE_STATUS","allFiresByCentre","allFiresByCause","allFiresByStatus","getFireYear","offset","getFiresByCentreTotals","includeOut","arr","r","String","displayOrder","panelInfo","resources","subtitle","openStageOfControlLink","WildFiresListComponent","ctx_r10","ctx_r18","ctx_r72","WildFiresListComponentModel","initWildfiresListPaging","SEARCH_WILDFIRES_COMPONENT_ID","convertFromTimestamp","locationName","selectedLat","selectedLong","selectedRadius","viewMap","onlyOneControlSelected","isLocationName","isSearchText","AdminContainer","Location","LocationStrategy","PathLocationStrategy","select","selectSearchState","selectIncidentsErrorState","selectIncidentsLoadState","selectCurrentIncidentsSearch","BaseContainer","selectFormStatesUnsaved","snackBar","unsavedForms$","getAssociatedComponentIds","unsavedFormsSub","hasUnsavedForms","getHasUnsavedForms","getDisplayLabel","onBeforeUnload","preventDefault","returnValue","IncidentContainer","selectCurrentIncident","selectCurrentIncidentCause","PanelWildfireStageOfControlContainer","selectWildfiresLoadState","selectWildfiresErrorState","selectCurrentWildfiresSearch","WildfiresListContainer","arrayEquals","selectHtmlElement","onClick","selected","appWFPlaceholder","selectedOptions","updated","position","AuthenticationInterceptor","UUID","catchError","mergeMap","switchMap","take","ApplicationStateService","routerExtService","intercept","req","processedRequest","requestId","isUrlSecured","handleLogin","handleRequest","authTokenEmitter","token","getTokenDetails","appStateService","isAdminPageAccessable","isTokenExpired","refreshWindow","tokenResponse","updateToken","headers","asyncTokenRefresh","isComplete","refreshSnackbar","dismiss","authToken","getOauthToken","handle","errorHandlingInstructions","retrieveErrorHandlingInstructions","handleError","createErrorHandlingInstructions","onLine","messages","redirectToRoute","redirectToRouteData","snackBarErrorMsg","updateErrorPageRouteData","routeName","errorMsg","isSecured","wfdmProxy","displayRefreshErrorMessage","refreshPage","clientId","webade","authorizeUrl","oauth2Url","authScopes","redirectUrl","initRefreshTokenImplicitFlow","errorMessage","pure","HttpHeaders","encodeURI","eventNumber","sysId","getAreaRestrictionsWfs","getActiveFiresNoGeom","getOutFiresNoGeom","getCurrentYearFireLastXDaysStats","lastXDays","startdate","enddate","setDate","getDate","sStartdate","getHours","getMinutes","getSeconds","sEnddate","getCurrentYearFireStats","providedIn","checkMobileResolution","doesUserHaveScopes","getTokenService","doesUserHaveApplicationPermissions","getUserCredentialsEmitter","getUserDetails","FCM","BehaviorSubject","fromEvent","App","Device","Geolocation","Browser","PushNotifications","AppLauncher","AndroidPostNotificationPermission","UPDATE_AFTER_INACTIVE_MILLIS","REFRESH_INTERVAL_ACTIVE_MILLIS","CapacitorService","eventEmitterService","stateService","snackbar","resume","onResume","isIOSPlatform","isAndroidPlatform","isWebPlatform","fbAppInstalled","twitterAppInstalled","deviceId","initialized","checkDevice","init","startRefreshTimer","stopRefreshTimer","refreshTimer","updateMainMapLayers","addListener","state","isActive","inactiveStart","inactiveDuration","notificationToken","checkInstalledApps","androidBackButtonPressed","registerForNotifications","registered","registeredForNotifications","getToken","notification","handleLocationPushNotification","emitLocationNotification","checkPermissions","postNotifications","requestPermissions","notificationSnackbarPromise","res","rej","sb","showNotificationSnackbar","onAction","afterDismissed","locationNotifications","featureId","featureType","locationNotificationsDelay","cfg","verticalPosition","openFromComponent","getInfo","devInfo","platform","getId","identifier","getCurrentPosition","checkTwitterAppInstalled","checkFbAppInstalled","openLinkInAppBrowser","toolbarColor","isMobilePlatform","scheme","canOpenUrl","appIsInstalled","initOfflinePageSettings","appState","getPnUrl","pnNav","getNotificationToken","setNotificationToken","openUrlInApp","schemeUrl","openUrl","isAndroid","isIOS","getCurrentHeading","compass","currentHeading","heading","currentHeadingPromise","MAX_CACHE_AGE","capacitorService","locationTime","getCurrentLocation","callback","determineCurrentLocation","preloadGeolocation","preloadMobileGeolocation","preloadDesktopGeolocation","checkIfAndroidIOSPlatform","getMobileCurrentLocation","getAlternativeCurrentLocation","geolocation","myLocation","enableHighAccuracy","preloadMobileGeolocationIOSAndroid","preloadMobileGeolocationGoogle","trimmedAddress","valueLength","valueMatch","resultToBeUnshifted","unshift","UPLOAD_DIRECTORY","cred","userGuid","user_guid","wfdmBaseUrl","installServiceWorkerPathHandlers","makeDocumentUrl","userId","uploadDirectory","unique","formData","FormData","makeFileDetail","size","makeMetadata","UploadProgress","fetch","method","cache","serviceWorker","controller","postMessage","pathPattern","RegExp","proxy","FileDetailsType","fileSize","metadata","fileType","security","MetadataType","etag","metadataName","metadataValue","EventEmitterService","onKeyboardShiftTabPress","invokeKeyboardTabFunction","sideNavAccessLocked","isLocked","invokeSideNavAccessLocked","invokeAndroidBackPressed","onGoBackCalled","invokeGoBackRoute","saveData","getData","removeData","clearData","useSecure","LayerDisplayConfig","mapServices","items","alwaysShowLegend","showItem","class","AbmsMunicipalitiesLayerConfig","ls","serviceUrl","openmapsBaseUrl","layerName","styleName","titleAttribute","geometryAttribute","legend","AbmsRegionalDistrictsLayerConfig","ActiveWildfiresLayerConfig","isQueryable","useClustering","dataUrl","wfnewsUrl","popupTemplate","header","markerSize","markerOffset","markerUrl","strokeWidth","strokeStyle","strokeColor","strokeOpacity","fill","ActiveWildfiresHeatmapLayerConfig","useHeatmap","getTime","AreaRestrictionsLayerConfig","opacity","sld","protocol","host","BansAndProhibitionsLayerConfig","FireCentresLayerConfig","ProtectedLandsAccessRestrictionsLayerConfig","where","WildfiresInactiveLayerConfig","CLABIndianReservesLayerConfig","ClosedRecreationSitesLayerConfig","drawingInfo","renderer","field1","defaultSymbol","uniqueValueInfos","symbol","angle","xoffset","yoffset","imageData","contentType","transparency","DangerRatingLayerConfig","DriveBCEventsLayerConfig","drivebcBaseUrl","EvacuationOrdersLayerConfig","clipHeight","FirePerimetersLayerConfig","FntTreatyLandLayerConfig","ForestServiceRoadsLayerConfig","SmokeForecastLayerConfig","WeatherLayerConfig","WeatherStationsLayerConfig","PrecipitationLayerConfig","LayerConfig","serviceStatus","minScale","maxScale","queries","tiled","isDisplayed","baseMap","minZoom","tools","showTitle","glyph","hidden","command","allVisibility","order","showWidget","showPanel","attributeMode","nearBy","zoom","custom","internalLayers","stroke","strokeCap","mouseWheel","doubleClick","box","choices","mapStyle","timeDimensionOptions","showZoom","unit","baseAPIUrl","pointId","ts","fetchWeatherStation","weatherStationId","stations","of","concatMap","apikey","urlFoN","resultFoN","pageNum","rowCount","out","orderBy","Authorization","publishedUrl","publishedIncident","put","fetchAttachmentBytes","RouterExtService","previousUrl","getPreviousUrl","swUpdate","isEnabled","checkForUpdate","available","current","activateUpdate","AuthGuard","AsyncSubject","baseScopes","getTokenInfo","asyncCheckingToken","redirectUri","routeConfig","pathWithParamSubs","queryParamStr","paramKey","substr","checkForToken","redirectToErrorPage","canAccessRoute","reloadPage","complete","WATCHLIST_KEY","localStorageService","verifyWatchlist","clearWatchlist","watchlistString","setHandler","handler","patch","HANDLER","setIdentifyCallback","cb","identifyCallback","identifyDoneCallback","toggleHideListButton","hideDetailsPanel","toggleShowListButton","baseMapIds","tool","mapResized","zoomToProvince","INIT","smkBaseUrl","include","patchPromise","visibility","left","right","bottom","option2x","tileSize","zoomOffset","topographicOption","maxNativeZoom","maxZoom","defineEsriBasemap","imageryOption","streetsOption","bcOption","lightGrayOption","Vue","extends","COMPONENT","FeatureBase","methods","asDate","attr","v","toISOString","zoomFeature","$root","trigger","computed","content","create","tag","tags","Viewer","invalidateSize","animate","oldInit","initialize","arguments","maxBounds","latLngBounds","setMaxBounds","zoomIn","getType","ll","padding","getPanelPadding","getZoom","parseFloat","paddingTopLeft","topLeft","paddingBottomRight","bottomRight","origIdentifyFeatures","identifyFeatures","vw","Layer","canMergeWith","other","combiningClass","getFeaturesInArea","extraFilter","polygon","service","srsName","typename","outputformat","cql_filter","encodeUrl","mode","onload","readAsBinaryString","initLegends","J","param","SERVICE","VERSION","REQUEST","FORMAT","TRANSPARENT","LAYER","STYLE","img","Image","onerror","obj","baseMaps","basemap","bm","orig","esri","BasemapLayer","TILES","bmly","basemapLayer","defineWmsBasemap","k","encodeURIComponent","test","zoomToGeometry","bboxPolygon","geom","zoomLevel","distance","fetchJsonP","updateResults","setResultHandler","setMaximumDistance","maxDistance","getMaximumDistance","setAnchor","anchorPoint","getAnchor","getSearchState","findPlace","places","placeText","findRoad","roads","roadText","intersections","intersectionsText","findIntersection","text1","text2","txt","ver","maxResults","outputSRS","addressString","autoComplete","resultLoc","fullAddress","localityType","dist","searchPlaces","searchRoads","searchOccupants","searchIntersections","assign","anchorPt","fetchCache","fetchData","credentials","ok","json","statusText","searchData","maxDist","locs","setAnchorData","locations","sorted","removeDuplicateIntersections","uniq","candidate","isDuplicateIntersection","intLoc1","intLoc2","distanceBetween","isAnchor","matchPrecision","intersectionName","toPoint","lonLat","toLatLon","opt","timeout","random","cbfn","promise","cleanup","script","parentNode","payload","DomUtil","async","loc1","loc2","formatDistance","DIRECTION","bearing","TIME_FORMAT","Intl","DateTimeFormat","timeZone","hour12","timeZoneName","DATE_FORMAT","CAD_FORMAT","NumberFormat","currency","Translate","spatialUtils","parseCoordinate","parseCoordinates","parseSexagesimal","divisor","sign","part","partVal","isNaN","formatCoordinate","formatCoordinates","formatLatLon","lon","parseYyyyMmDd","s","parseIsoDateTime","parseMilliseconds","parseEUDate","m","formatLocalDate","formatLocalTime","formatNumber","numberFormat","precision","fractionPlaces","rounded","toPrecision","abs","formatUnit","formatAndConvertUnit","outputUnit","convertUnit","formatCAD","formatAngle","formatMultipleUnits","standardUnit","otherUnit","unitFrom","unitTo","metersPerUnit","valInMeters","formatFireZone","zoneName","formatFireCentre","centreName","formatIndicator","tString","fString","nString","parseIndicator","indString","flip","formatPhoneHtml","formatEmailHtml","lat1","lat2","lon1","lon2","R","φ1","PI","φ2","Δφ","Δλ","sin","cos","atan2","sqrt","d","Mil","MicroInch","mm","Millimeter","cm","Centimeter","IInch","Inch","in","inches","Decimeter","ClarkeLink","SearsLink","BenoitLink","IntnlLink","GunterLink","CapeFoot","ClarkeFoot","IndianFt37","SearsFoot","IndianFt75","IndianFoot","IndianFt62","GoldCoastFoot","IFoot","Foot","ft","ModAmFt","IndianYd37","SearsYard","IndianYd75","IndianYard","IndianYd62","IYard","Yard","yd","CaGrid","Meter","GermanMeter","fath","Fathom","Rood","Perch","Rod","Pole","Dekameter","Decameter","ClarkeChain","SearsChain","BenoitChain","IntnlChain","ch","GunterChain","dm","Hectometer","Furlong","Brealey","km","Kilometer","IMile","Mile","mi","kmi","nmi","NautM","dd","degrees","shouldDetach","handlers","shouldAttach","retrieve","shouldReuseRoute","future","curr","SCOPE_APPLICATION_PREFIX","SCOPE_APPLICATION_PREFIX_NEWS","GENERAL_STAFF","loadStates","errorStates","wildfires","componentIds","formUnsaved","formStates","ERROR_TYPE","getDefaultFormState","getDefaultLoadStates","getDefaultApplicationState","getDefaultErrorStates","getDefaultFormStates","getDefaultPagingInfoRequest","searchReducer","deepEqual","SEARCH_INCIDENTS","pageSearchReducer","typedAction","pagingSearchHelper","searchAction","updateFilters","pageInfoRequest","filters","pagingFilterHelper","GET_INCIDENT","GET_INCIDENT_SUCCESS","GET_INCIDENT_ERROR","GET_INCIDENT_CAUSE","GET_INCIDENT_CAUSE_SUCCESS","GET_INCIDENT_CAUSE_ERROR","getIncident","incidentSequenceNumber","getIncidentSuccess","getIncidentError","getIncidentCause","getIncidentCauseSuccess","incidentCause","getIncidentCauseError","createEffect","ofType","withLatestFrom","IncidentEffect","actions","incidentService","getWildfireIncident1","getDefaultIncidentState","incidentReducer","typedaction","currentIncident","currentIncidentCause","INCIDENT_COMPONENT_ID","SEARCH_INCIDENTS_SUCCESS","SEARCH_INCIDENTS_ERROR","selectedFireCentre","searchIncidentsSuccess","SearchIncidentsError","formatSort","getPageInfoRequestForSearchState","IncidentsEffect","incidentListService","pagingInfoRequest","savedFilters","savedFireCentreFilter","savedFireOfNotePublishedIndFilter","selectedFireOfNotePublishedInd","fireCentreFilter","currentFireYear","getWildfireIncidentList","getDefaultIncidentsState","incidentsReducer","currentIncidentsSearch","INCIDENTS_COMPONENT_ID","LOAD_INCIDENTS_COMPONENT_ID","EMPTY_INCIDENTS","initialIncidentsSearchState","sortModalVisible","hiddenFilters","routerReducer","storeLogger","WildfiresListEffect","wildfiresListReducer","initialWildfiresSearchState","search","logger","reducer","collapsed","level","blacklist","SearchStateAndConfig","isEmpty","SEARCH_WILDFIRES","SEARCH_WILDFIRES_SUCCESS","SEARCH_WILDFIRES_ERROR","searchWildfiresSuccess","searchWildfiresError","soc","Accept","getDefaultWildfiresListState","currentWildfiresSearch","WILDFIRESLIST_COMPONENT_ID","EMPTY_WILDFIRESLIST","digits","invalid","notFound","min","max","minMax","ErrorMessages","maxlength","minlength","messageTemplate","msg","args","messageArguments","arg","paramLookup","APP_BOOTSTRAP_LISTENER","Inject","InjectionToken","EffectSources","agol","effectiveDate","expiryDate","characterAlias","FireZones","alias","fireCentreOrgUnit","BOOTSTRAP_EFFECTS","createInstances","instances","bootstrapEffects","effects","sources","effect","addEffects","simplifiedDate","simplifiedDateWithYear","simplifiedDateWithTime","simplifiedMonthDate","fullPickerInputWithSlash","API_DATE","API_TIMESTAMP","API_TIMESTAMP_WITH_SEP","innerText","values","offsetWidth","scrollWidth","isArray","every","WF_SNACKBAR_TYPES","SUCCESS","ERROR","WARNING","INFO","UPDATE","convertToDateWithTime","displayDay","charAt","nameResult","agolResult","page","pageInfo","schema","fcAlias","zoneAlias","z","fireZoneUnitIdentifier","padStart","regExp","with","block","fail","acetate","layerVisibilities","setItemVisible","layerIdPromise","updateLayersVisible","withLayerConfig","override_webade_preference_config","webade_preference_config","document_management_proxy_auth_url","enableProdMode","__NgCli_bootstrap_1","bootstrapModule"],"sourceRoot":"webpack:///","x_google_ignoreList":[204,205]}