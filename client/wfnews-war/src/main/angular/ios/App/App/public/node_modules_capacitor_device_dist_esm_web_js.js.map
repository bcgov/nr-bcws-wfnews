{"version":3,"file":"node_modules_capacitor_device_dist_esm_web_js.js","mappings":"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","sources":["./node_modules/@capacitor/device/dist/esm/web.js"],"sourcesContent":["import { WebPlugin } from '@capacitor/core';\r\nexport class DeviceWeb extends WebPlugin {\r\n    async getId() {\r\n        return {\r\n            identifier: this.getUid(),\r\n        };\r\n    }\r\n    async getInfo() {\r\n        if (typeof navigator === 'undefined' || !navigator.userAgent) {\r\n            throw this.unavailable('Device API not available in this browser');\r\n        }\r\n        const ua = navigator.userAgent;\r\n        const uaFields = this.parseUa(ua);\r\n        return {\r\n            model: uaFields.model,\r\n            platform: 'web',\r\n            operatingSystem: uaFields.operatingSystem,\r\n            osVersion: uaFields.osVersion,\r\n            manufacturer: navigator.vendor,\r\n            isVirtual: false,\r\n            webViewVersion: uaFields.browserVersion,\r\n        };\r\n    }\r\n    async getBatteryInfo() {\r\n        if (typeof navigator === 'undefined' || !navigator.getBattery) {\r\n            throw this.unavailable('Device API not available in this browser');\r\n        }\r\n        let battery = {};\r\n        try {\r\n            battery = await navigator.getBattery();\r\n        }\r\n        catch (e) {\r\n            // Let it fail, we don't care\r\n        }\r\n        return {\r\n            batteryLevel: battery.level,\r\n            isCharging: battery.charging,\r\n        };\r\n    }\r\n    async getLanguageCode() {\r\n        return {\r\n            value: navigator.language.split('-')[0].toLowerCase(),\r\n        };\r\n    }\r\n    async getLanguageTag() {\r\n        return {\r\n            value: navigator.language,\r\n        };\r\n    }\r\n    parseUa(ua) {\r\n        const uaFields = {};\r\n        const start = ua.indexOf('(') + 1;\r\n        let end = ua.indexOf(') AppleWebKit');\r\n        if (ua.indexOf(') Gecko') !== -1) {\r\n            end = ua.indexOf(') Gecko');\r\n        }\r\n        const fields = ua.substring(start, end);\r\n        if (ua.indexOf('Android') !== -1) {\r\n            const tmpFields = fields.replace('; wv', '').split('; ').pop();\r\n            if (tmpFields) {\r\n                uaFields.model = tmpFields.split(' Build')[0];\r\n            }\r\n            uaFields.osVersion = fields.split('; ')[1];\r\n        }\r\n        else {\r\n            uaFields.model = fields.split('; ')[0];\r\n            if (typeof navigator !== 'undefined' && navigator.oscpu) {\r\n                uaFields.osVersion = navigator.oscpu;\r\n            }\r\n            else {\r\n                if (ua.indexOf('Windows') !== -1) {\r\n                    uaFields.osVersion = fields;\r\n                }\r\n                else {\r\n                    const tmpFields = fields.split('; ').pop();\r\n                    if (tmpFields) {\r\n                        const lastParts = tmpFields\r\n                            .replace(' like Mac OS X', '')\r\n                            .split(' ');\r\n                        uaFields.osVersion = lastParts[lastParts.length - 1].replace(/_/g, '.');\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        if (/android/i.test(ua)) {\r\n            uaFields.operatingSystem = 'android';\r\n        }\r\n        else if (/iPad|iPhone|iPod/.test(ua) && !window.MSStream) {\r\n            uaFields.operatingSystem = 'ios';\r\n        }\r\n        else if (/Win/.test(ua)) {\r\n            uaFields.operatingSystem = 'windows';\r\n        }\r\n        else if (/Mac/i.test(ua)) {\r\n            uaFields.operatingSystem = 'mac';\r\n        }\r\n        else {\r\n            uaFields.operatingSystem = 'unknown';\r\n        }\r\n        // Check for browsers based on non-standard javascript apis, only not user agent\r\n        const isFirefox = !!window.InstallTrigger;\r\n        const isSafari = !!window.ApplePaySession;\r\n        const isChrome = !!window.chrome;\r\n        const isEdge = /Edg/.test(ua);\r\n        const isFirefoxIOS = /FxiOS/.test(ua);\r\n        const isChromeIOS = /CriOS/.test(ua);\r\n        const isEdgeIOS = /EdgiOS/.test(ua);\r\n        // FF and Edge User Agents both end with \"/MAJOR.MINOR\"\r\n        if (isSafari ||\r\n            (isChrome && !isEdge) ||\r\n            isFirefoxIOS ||\r\n            isChromeIOS ||\r\n            isEdgeIOS) {\r\n            // Safari version comes as     \"... Version/MAJOR.MINOR ...\"\r\n            // Chrome version comes as     \"... Chrome/MAJOR.MINOR ...\"\r\n            // FirefoxIOS version comes as \"... FxiOS/MAJOR.MINOR ...\"\r\n            // ChromeIOS version comes as  \"... CriOS/MAJOR.MINOR ...\"\r\n            let searchWord;\r\n            if (isFirefoxIOS) {\r\n                searchWord = 'FxiOS';\r\n            }\r\n            else if (isChromeIOS) {\r\n                searchWord = 'CriOS';\r\n            }\r\n            else if (isEdgeIOS) {\r\n                searchWord = 'EdgiOS';\r\n            }\r\n            else if (isSafari) {\r\n                searchWord = 'Version';\r\n            }\r\n            else {\r\n                searchWord = 'Chrome';\r\n            }\r\n            const words = ua.split(' ');\r\n            for (const word of words) {\r\n                if (word.includes(searchWord)) {\r\n                    const version = word.split('/')[1];\r\n                    uaFields.browserVersion = version;\r\n                }\r\n            }\r\n        }\r\n        else if (isFirefox || isEdge) {\r\n            const reverseUA = ua.split('').reverse().join('');\r\n            const reverseVersion = reverseUA.split('/')[0];\r\n            const version = reverseVersion.split('').reverse().join('');\r\n            uaFields.browserVersion = version;\r\n        }\r\n        return uaFields;\r\n    }\r\n    getUid() {\r\n        if (typeof window !== 'undefined' && window.localStorage) {\r\n            let uid = window.localStorage.getItem('_capuid');\r\n            if (uid) {\r\n                return uid;\r\n            }\r\n            uid = this.uuid4();\r\n            window.localStorage.setItem('_capuid', uid);\r\n            return uid;\r\n        }\r\n        return this.uuid4();\r\n    }\r\n    uuid4() {\r\n        return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) {\r\n            const r = (Math.random() * 16) | 0, v = c === 'x' ? r : (r & 0x3) | 0x8;\r\n            return v.toString(16);\r\n        });\r\n    }\r\n}\r\n"],"names":["WebPlugin","DeviceWeb","getId","identifier","getUid","getInfo","navigator","userAgent","unavailable","ua","uaFields","parseUa","model","platform","operatingSystem","osVersion","manufacturer","vendor","isVirtual","webViewVersion","browserVersion","getBatteryInfo","getBattery","battery","e","batteryLevel","level","isCharging","charging","getLanguageCode","value","language","split","toLowerCase","getLanguageTag","start","indexOf","end","fields","substring","tmpFields","replace","pop","oscpu","lastParts","length","test","window","MSStream","isFirefox","InstallTrigger","isSafari","ApplePaySession","isChrome","chrome","isEdge","isFirefoxIOS","isChromeIOS","isEdgeIOS","searchWord","words","word","includes","version","reverseUA","reverse","join","reverseVersion","localStorage","uid","getItem","uuid4","setItem","c","r","Math","random","v","toString"],"sourceRoot":"webpack:///"}