{"version":3,"file":"wf1-core-ui.js","sources":["../../../projects/core-ui/src/lib/config/library-config.ts","../../../projects/core-ui/src/lib/services/app-config.service.ts","../../../projects/core-ui/src/lib/services/spatial-utils.service.ts","../../../projects/core-ui/src/lib/services/token.service.ts","../../../projects/core-ui/src/lib/application-header/application-header.component.ts","../../../projects/core-ui/src/lib/application-icon/application-icon.model.ts","../../../projects/core-ui/src/lib/application-icon/application-icon.component.ts","../../../projects/core-ui/src/lib/application-toolbar/application-toolbar.component.ts","../../../projects/core-ui/src/lib/services/navigation.service.ts","../../../projects/core-ui/src/lib/basic-sidebar-panel/basic-sidebar-panel.component.ts","../../../projects/core-ui/src/lib/date-time-picker/date-time-picker.component.ts","../../../projects/core-ui/src/lib/directives/date-mask.directive.ts","../../../projects/core-ui/src/lib/filter-sidebar-panel/filter-sidebar-panel.component.ts","../../../projects/core-ui/src/lib/full-width-container/full-width-container.component.ts","../../../projects/core-ui/src/lib/full-width-panel/full-width-panel.component.ts","../../../projects/core-ui/src/lib/services/map.service.ts","../../../projects/core-ui/src/lib/info-incident-panel/info-incident-panel.component.ts","../../../projects/core-ui/src/lib/list/item/list-item.component.ts","../../../projects/core-ui/src/lib/list/list-container.component.ts","../../../projects/core-ui/src/lib/location-sidebar-panel/location-sidebar-panel.component.ts","../../../projects/core-ui/src/lib/location/location-toolbar.component.ts","../../../projects/core-ui/src/lib/report-dialog/report-dialog.component.ts","../../../projects/core-ui/src/lib/utils/index.ts","../../../projects/core-ui/src/lib/search/store/actions.ts","../../../projects/core-ui/src/lib/search/components/filters/filters.component.ts","../../../projects/core-ui/src/lib/search/components/sort/sort.component.ts","../../../projects/core-ui/src/lib/search/components/search-bar/search-bar.component.ts","../../../projects/core-ui/src/lib/services/window-messaging.state.ts","../../../projects/core-ui/src/lib/services/window-messaging.service.ts","../../../projects/core-ui/src/lib/sidebar-container/sidebar.component.ts","../../../projects/core-ui/src/lib/spinner/spinner.component.ts","../../../projects/core-ui/src/lib/unauthorized-panel/unauthorized-page.component.ts","../../../projects/core-ui/src/lib/visualize-js/visualize-js.component.ts","../../../projects/core-ui/src/lib/wfml-basemap-selector/wfml-basemap-selector.component.ts","../../../projects/core-ui/src/lib/wfml-layer-tree/wfml-layer-tree.component.ts","../../../projects/core-ui/src/lib/wfml-mapping-container/wfml-mapping-container.component.ts","../../../projects/core-ui/src/lib/core-ui.module.ts","../../../projects/core-ui/src/lib/services/util/auth-guard.ts","../../../projects/core-ui/src/lib/public-application-header/public-application-header.component.ts","../../../projects/core-ui/src/lib/public-application-header.module.ts","../../../projects/core-ui/src/lib/interceptors/authentication-interceptor.ts","../../../projects/core-ui/src/lib/search/models/filter/filter-config.ts","../../../projects/core-ui/src/lib/search/store/state.ts","../../../projects/core-ui/src/lib/search/store/functions.ts","../../../projects/core-ui/src/lib/search/store/selectors.ts","../../../projects/core-ui/src/lib/search/store/reducers.ts","../../../projects/core-ui/src/public_api.ts","../../../projects/core-ui/src/wf1-core-ui.ts"],"names":["textMask.maskInput","moment","SearchActions.ClearFilterAction","SearchActions.UpdateActiveFiltersAction","SearchActions.UpdateSortAction","SearchActions.ToggleSortModalAction","SearchActions.ResetSearchQueryAction","SearchActions.RefreshSearchAction","SearchActions.UpdateSearchQueryAction","SearchActions.ClearAllFiltersAction","OrgUnitApiModule","SearchFunctions.getSearchQuery","SearchFunctions.getSortParam","SearchFunctions.getSortDirection","SearchFunctions.getEncodedSort","SearchFunctions.isSortModalVisible","SearchFunctions.getActiveFilters","Search.SearchActionTypes"],"mappings":"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E,QAAQ,EAAE;AACZ,QAAI,IAAI,EAAE;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,QAAI,IAAI,EAAE;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,KAAG;AACH,IAAE,oBAAoB,EAAE;AACxB,QAAI,IAAI,EAAE;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,QAAI,IAAI,EAAE;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,KAAG;AACH,IAAE,qBAAqB,EAAE;AACzB,QAAI,IAAI,EAAE;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,QAAI,IAAI,EAAE;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,KAAG;AACH,IAAE,GAAG,EAAE;AACP,QAAI,IAAI,EAAE;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,QAAI,IAAI,EAAE;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,KAAG;AACH,IAAE,IAAI,EAAE;AACR,QAAI,IAAI,EAAE;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,QAAI,IAAI,EACJ,inHAAinH;AACrnH,Q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","sourcesContent":["import {Injectable} from \"@angular/core\";\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class LibraryConfig {\n  public configurationPath: string;\n}\n","import {Injectable} from \"@angular/core\";\nimport {HttpBackend, HttpClient} from \"@angular/common/http\";\nimport {AsyncSubject, Observable} from \"rxjs\";\nimport {LibraryConfig} from \"../config/library-config\";\nimport {ApplicationConfig} from \"../interfaces/application-config\";\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class AppConfigService {\n  private appConfig: ApplicationConfig;\n  private config = new AsyncSubject<ApplicationConfig>();\n  public configEmitter: Observable<ApplicationConfig> = this.config.asObservable();\n\n  constructor(private httpHandler: HttpBackend, private libConfig: LibraryConfig) {\n   // console.log(\"initing app config service\");\n  }\n\n  loadAppConfig() {\n   // console.log(\"loading app config\");\n    let http = new HttpClient(this.httpHandler);\n    return http.get(this.libConfig.configurationPath).toPromise().then((data: ApplicationConfig) => {\n        this.appConfig = data;\n        this.config.next(this.appConfig);\n        this.config.complete();\n    });\n  }\n\n  getConfig(): ApplicationConfig {\n    return this.appConfig;\n  }\n}\n","import { Injectable } from '@angular/core';\n\ndeclare var Proj4js: any; // Loaded by angular.js scripts import files\n\nexport const PRECISION_SECONDS = 3;\nexport const PRECISION_DECIMAL_DEGREES_FRACTION = 8;\n\nexport const RE_ATOM = {\n    start: '^\\\\s*',\n    separator: '[ \\\\t,\\\\|]+',\n    zone: '([zZ]([oO][nN][eE])?[ ])?',\n    end: '\\\\s*$',\n    numDec: '(\\\\d+(?:\\\\.\\\\d+)?)',\n    numUTM: '(\\\\d+)'\n};\n\nexport const REGEXP_UTM = new RegExp(\n    RE_ATOM.start +\n    RE_ATOM.numDec +\n    RE_ATOM.separator +\n    RE_ATOM.numDec +\n    RE_ATOM.separator + RE_ATOM.zone +\n    RE_ATOM.numUTM +\n    RE_ATOM.end\n);\n\nexport const EPSG_GEOGRAPHIC = \"EPSG:4326\";\n\nexport const SCALE = {\n    '°': 'deg',\n    '\\'': 'min',\n    '\"': 'sec',\n    '’': 'min',\n    '”': 'sec',\n};\n\nexport const SCALE_FACTOR = {\n    deg: 1, min: 60, sec: 3600\n};\n\nexport const LONG_MIN = -200;\nexport const LONG_MAX = -100;\nexport const LAT_MIN = 0;\nexport const LAT_MAX = 90;\n\n@Injectable({\n    providedIn: 'root'\n})\nexport class SpatialUtilsService {\n\n    constructor() {\n    }\n\n    public convertPointCoordinatesToGeoJSON(coordinates: number[]) {\n        return coordinates ? {\n            type: 'Feature',\n            geometry: {\n                type: 'Point',\n                coordinates\n            }\n        } : undefined;\n    }\n\n    public formatCoordinates(coordinates: number[]) {\n        return this.formatDM(coordinates);\n    }\n\n    public parseCoordinates(coordinatesText: string) {\n        let longLat = this.parseLocation(coordinatesText);\n        if (!longLat) return\n\n        let long = parseFloat( longLat[ 0 ].toFixed( PRECISION_DECIMAL_DEGREES_FRACTION ) );\n        let lat = parseFloat( longLat[ 1 ].toFixed( PRECISION_DECIMAL_DEGREES_FRACTION ) );\n\n        return [ long, lat ]\n    }\n\n    private formatDM(lonlat) {\n        if (!lonlat) return \"\";\n\n        return toDM(lonlat[1]) + ', ' + toDM(lonlat[0]);\n\n        function int(value) {\n            if (value < 0) {\n                return Math.ceil(value);\n            } else {\n                return Math.floor(value);\n            }\n        }\n\n        function fraction(value) {\n            var absValue = Math.abs(value);\n            return absValue - Math.floor(absValue);\n        }\n\n        function toDM(value) {\n            var degrees = int(value),\n                minutes = fraction(value) * 60\n\n            return `${ degrees } ${ minutes.toFixed( PRECISION_SECONDS ) }'`;0\n        }\n    }\n\n    // will be needed once more coordinate systems are handled - e.g. UTM\n    private parseLocation(s) {\n        var lonlat = this.parseGeo(s);\n        if (lonlat) return lonlat;\n        return this.parseUTM(s);\n    }\n\n\n    private getUTMCoordinate(s) {\n        var match = REGEXP_UTM.exec(s);\n        if (match) {\n            var num = [\n                parseInt(match[1]),\n                parseInt(match[2]),\n                parseInt(match[5])\n            ];\n            return num;\n        }\n        return null;\n    }\n\n    private parseUTM(s) {\n        var utm = this.getUTMCoordinate(s);\n        if (!utm) return null;\n        return this.convertUTM(utm);\n    }\n\n    private convertUTM(num) {\n        var easting = num[0];\n        var northing = num[1];\n        var zone = num[2];\n        return this.transformUTMtoGeo([easting, northing, zone]);\n    }\n\n\n    private transformUTMtoGeo(pt) {\n        var utmZone = pt[2];\n        Proj4js.defs['UTM'] = '+proj=utm +zone=' + utmZone;\n\n        var source = new Proj4js.Proj('UTM');\n        var dest = new Proj4js.Proj(EPSG_GEOGRAPHIC);\n        var p = new Proj4js.Point(pt[0], pt[1]);\n        Proj4js.transform(source, dest, p);\n        return [p.x, p.y];\n    }\n\n    private parseGeo(s) {\n        // associate comma with following component, so it can be used to indicate deg\n        var normalizedComma = (new String(s)).replace(/\\s*,\\s*/g, ' ,')\n\n        // remove hemisphere indicators\n        // TODO: use this information\n        var noHemisphere = normalizedComma.replace(/[news]/ig, '').trim();\n\n        try {\n            var split = noHemisphere.split(/\\s+/);\n            var comps = split.map(function (c, i) {\n                var m = c.match(/^([,]?)([-]?\\d+[.]?\\d*)([Â°'\"â€™â€]?)$/)\n                if (!m) throw new Error('component not valid: ' + c)\n\n                // scale specifier, if any\n                var scale = SCALE[m[3]];\n\n                // the first component, or one after a comma is assumed to be deg\n                if (i == 0 || m[1])\n                    if (scale && scale != 'deg')\n                        throw new Error('component scale should be degrees: ' + c)\n                    else\n                        scale = 'deg'\n\n                // only deg scale is allowed to be negative\n                var val = parseFloat(m[2]);\n                if (scale && scale != 'deg' && val < 0)\n                    throw new Error('component should not be negative: ' + c)\n\n                return {\n                    val: val,\n                    scale: scale\n                }\n            })\n        } catch (e) {\n            return;\n        }\n\n        if (comps.length < 2 || comps.length > 6)\n            return;\n\n        // prefer a parse that splits the components evenly into 2 halves\n        // failing that, use longest possible set of components for the first ordinate\n        switch (comps.length) {\n            case 2:\n                return this.checkRangeFixOrderSign(this.resolveDMSpair(comps.slice(0, 1), comps.slice(1, 2))) // 1 2\n\n            case 3:\n                return this.checkRangeFixOrderSign(this.resolveDMSpair(comps.slice(0, 2), comps.slice(2, 3))) // 12 3\n                    ||\n                    this.checkRangeFixOrderSign(this.resolveDMSpair(comps.slice(0, 1), comps.slice(1, 3))) // 1 23\n\n            case 4:\n                return this.checkRangeFixOrderSign(this.resolveDMSpair(comps.slice(0, 2), comps.slice(2, 4))) // 12 34\n                    ||\n                    this.checkRangeFixOrderSign(this.resolveDMSpair(comps.slice(0, 3), comps.slice(3, 4))) // 123 4\n                    ||\n                    this.checkRangeFixOrderSign(this.resolveDMSpair(comps.slice(0, 1), comps.slice(1, 4))) // 1 234\n\n            case 5:\n                return this.checkRangeFixOrderSign(this.resolveDMSpair(comps.slice(0, 3), comps.slice(3, 5))) // 123 45\n                    ||\n                    this.checkRangeFixOrderSign(this.resolveDMSpair(comps.slice(0, 2), comps.slice(2, 5))) // 12 345\n\n            case 6:\n                return this.checkRangeFixOrderSign(this.resolveDMSpair(comps.slice(0, 3), comps.slice(3, 6))) // 123 456\n        }\n\n        return;\n    }\n\n    private checkRangeFixOrderSign(p) {\n        if (!p) return;\n\n        var x = p[0],\n            y = p[1];\n\n        return this.checkRangeFixOrder(x, y) ||\n            this.checkRangeFixOrder(-x, y) ||\n            this.checkRangeFixOrder(x, -y) ||\n            this.checkRangeFixOrder(-x, -y)\n    }\n\n    private checkRangeFixOrder(x, y) {\n        return this.checkRange(y, x) ||\n            this.checkRange(x, y)\n    }\n\n\n    private checkRange(long, lat) {\n        if (lat > LAT_MAX || lat < LAT_MIN) return;\n        if (long > LONG_MAX || long < LONG_MIN) return;\n\n        return [long, lat]\n    }\n\n    private resolveDMSpair(compsA, compsB) {\n        var dmsA = this.resolveDMS.apply(this, compsA)\n        if (dmsA === false) return false\n\n        var dmsB = this.resolveDMS.apply(this, compsB)\n        if (dmsB === false) return false\n\n        return [dmsA, dmsB]\n    }\n\n    private resolveDMS(deg, min, sec) {\n        if (deg == null) return false;\n        if (deg.scale && deg.scale != 'deg') return false;\n        if (min != null && min.scale && min.scale == 'deg') return false;\n        if (sec != null && sec.scale && (sec.scale == 'deg' || sec.scale == 'min' || min.scale == 'sec')) return false;\n\n        var val = deg.val;\n        if (min == null) return val;\n\n        // minutes not allowed to be negative\n        if (min.val < 0) return false;\n\n        val += this.sameSign(min.val, deg.val) / SCALE_FACTOR[min.scale || 'min'];\n        if (sec == null) return val;\n\n        // seconds not allowed to be negative\n        if (sec.val < 0) return false;\n\n        val += this.sameSign(sec.val, deg.val) / SCALE_FACTOR['sec'];\n\n        return val;\n    }\n\n    private sameSign(val, proto) {\n        if (proto >= 0)\n            return Math.abs(val)\n        return -Math.abs(val)\n    }\n}\n","import {Injectable, Injector} from \"@angular/core\";\nimport {HttpClient, HttpHandler, HttpHeaders} from \"@angular/common/http\";\nimport {OAuthService} from \"angular-oauth2-oidc\";\nimport * as momentInstance from \"moment\";\nimport {AsyncSubject, Observable} from \"rxjs\";\n// Services\nimport {AppConfigService} from \"./app-config.service\";\nimport {catchError} from \"rxjs/operators\";\n\nconst moment = momentInstance;\n\nconst OAUTH_LOCAL_STORAGE_KEY = 'oauth';\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class TokenService {\n  \n  private LOCAL_STORAGE_KEY = OAUTH_LOCAL_STORAGE_KEY;\n  private useLocalStore: boolean = false;\n  private oauth: any;\n  private tokenDetails: any;\n\n  private credentials = new AsyncSubject<any>();\n  private authToken = new AsyncSubject<string>();\n  public credentialsEmitter: Observable<any> = this.credentials.asObservable();\n  public authTokenEmitter: Observable<string> = this.authToken.asObservable();\n  constructor(private injector: Injector, protected appConfigService: AppConfigService) {\n   //console.log(\"initing token service\", appConfigService.getConfig());\n    \n    const lazyAuthenticate: boolean = appConfigService.getConfig().application.lazyAuthenticate;\n    const enableLocalStorageToken: boolean = appConfigService.getConfig().application.enableLocalStorageToken;\n    const localStorageTokenKey: string = appConfigService.getConfig().application.localStorageTokenKey;\n    const allowLocalExpiredToken: boolean = appConfigService.getConfig().application.allowLocalExpiredToken;\n    \n    if(localStorageTokenKey){\n      this.LOCAL_STORAGE_KEY = localStorageTokenKey;\n    }\n    \n    if(enableLocalStorageToken){\n      this.useLocalStore = true;\n    }\n    \n    this.checkForToken(undefined, lazyAuthenticate, allowLocalExpiredToken);\n  }\n\n  /*\n   * Check window location hash fragment or local storage session for access token.\n   * Parse and set the token if the access token is present,\n   * otherwise initiate implicit flow.\n   *\n   * @param {string} redirectUri The redirect URI after login is complete\n   * @param {boolean} lazyAuth When true, allows application to handle when to login ( by default: false which will require login as soon as the application initializes)\n   * @param {boolean} allowLocalExpiredToken When true, expired tokens are not removed and does not invoke login (allows token to be used even when expired for offline mode and service workers).\n   */\n  public checkForToken(redirectUri?: string, lazyAuth?: boolean, allowLocalExpiredToken?: boolean) {\n   // console.log('redirect uri', redirectUri);\n    let hash = window.location.hash;\n    \n    // Check if URL has token (redirected back from oauth)\n    if (hash && hash.indexOf('access_token') > -1) {\n      \n      // We have a token in the URL, parse it\n      this.parseToken(hash);\n      \n    } else if (this.useLocalStore && !navigator.onLine) {\n      // Only use local storage if application is offline\n      // this is to refresh expired tokens before check token is enabled, when there is connectivity\n      \n      // Check if local storage has a token\n      let tokenStore: any = localStorage.getItem(this.LOCAL_STORAGE_KEY);\n      \n      // Parse the token\n      if (tokenStore) {\n        \n        try {\n          tokenStore = JSON.parse(tokenStore);\n          this.initAuthFromSession();\n        } catch (err) {\n          \n          // Failed to parse the token, remove the old token and get a new token by logging in again\n          console.log('Failed to read session token - reinitializing');\n          this.tokenDetails = undefined;\n          localStorage.removeItem(this.LOCAL_STORAGE_KEY);\n          this.initImplicitFlow(redirectUri);\n        }\n        \n      }else{\n        // no token was found initiate login\n        this.initImplicitFlow(redirectUri)\n      }\n      \n      // Check if token is expired if it is not allowed\n      if (!allowLocalExpiredToken && this.isTokenExpired(this.tokenDetails)) {\n        localStorage.removeItem(this.LOCAL_STORAGE_KEY);\n        \n        this.initImplicitFlow(redirectUri);\n      }\n      \n    } else if (hash && hash.indexOf('error') > -1) {\n      \n      alert('Error occurred during authentication.');\n      return;\n      \n    } else {\n      \n      // login if lazy auth not enabled as we need a token\n      if (!lazyAuth) {\n        this.initImplicitFlow(redirectUri);\n      }\n      \n    }\n  }\n\n  public isTokenExpired(token): boolean {\n    let expiryDate;\n    let now = moment();\n    if (token && token.exp) {\n      expiryDate = moment.unix(token.exp);\n      if (now.isBefore(expiryDate)) {\n        return false;\n      }\n    }\n    return true;\n  }\n\n  /*\n   * Parse token from a hash fragment\n   * Example:\n   *    #access_token=ABC&token_type=bearer&state=&expires_in=43199&scope=WFIM.GET_WILDFIRE_INCIDENT%20WFORG.GET_ORG_UNITS%&jti=3a642b53-d90e-4ee3-a00c-5cd780155225\n   */\n  private parseToken(hash) {\n    if (hash.startsWith('#')) {\n      hash = hash.substr(1);\n    }\n\n    let responseParameters = (hash).split(\"&\");\n    let parameterMap = [];\n    for (let i = 0; i < responseParameters.length; i++) {\n      parameterMap[ responseParameters[ i ].split(\"=\")[ 0 ] ] = responseParameters[ i ].split(\"=\")[ 1 ];\n    }\n\n    if (parameterMap[ 'access_token' ] !== undefined && parameterMap[ 'access_token' ] !== null) {\n      location.hash = '';\n      this.initAuth(parameterMap);\n    }\n  }\n\n  /*\n   * Set authentication configuration and initiate implicit flow\n   */\n  private initImplicitFlow(redirectUri?: string) {\n    const configuration = this.appConfigService.getConfig();\n    let authConfig = {\n      oidc: false,\n      issuer: configuration.application.baseUrl,\n      loginUrl: configuration.webade.oauth2Url,\n      redirectUri: redirectUri ? redirectUri : window.location.href,\n      clientId: configuration.webade.clientId,\n      scope: configuration.webade.authScopes\n    };\n\n   // console.log('authConfig', authConfig);\n    const oauthService = this.injector.get(OAuthService);\n    oauthService.configure(authConfig);\n    oauthService.initImplicitFlow();\n  }\n\n    /*\n     * Set authentication configuration and initiate refresh token implicit flow\n     */\n    public initRefreshTokenImplicitFlow(authorizeURL: string, storageKey: string, errorCallback: any): Observable<any> {\n        const options = 'resizable=yes,scrollbars=yes,statusbar=yes,status=yes';\n        let refreshWindow = window.open(authorizeURL, null, options);\n        let refreshAsync = new AsyncSubject();\n\n        let refreshInterval = setInterval(() => {\n            if (!refreshWindow) {\n                errorCallback('Session Expired. Unable to open refresh window. Please allow pop-ups.');\n                refreshWindow = window.open(authorizeURL, null, options);\n            }\n\n            if (refreshWindow && refreshWindow.closed) {\n                clearInterval(refreshInterval);\n                let newToken = window.localStorage.getItem(`${storageKey}`);\n                newToken = JSON.parse(newToken);\n                window.localStorage.removeItem(`${storageKey}`);\n                this.updateToken(newToken);\n                refreshAsync.next(newToken);\n                refreshAsync.complete();\n            }\n        }, 500);\n\n        return refreshAsync.asObservable();\n    }\n\n  /*\n   * initialize authentication from session in application, emit to subscribers\n   */\n  private initAuthFromSession() {\n    try {\n      let localOauth = localStorage.getItem(this.LOCAL_STORAGE_KEY);\n      localOauth = JSON.parse(localOauth);\n      this.oauth = localOauth;\n      this.initAndEmit();\n    } catch (err) {\n      localStorage.removeItem(this.LOCAL_STORAGE_KEY);\n      console.log('Failed to handle token payload', this.oauth);\n      this.handleError(err, 'Failed to handle token');\n    }\n  }\n\n  /*\n   * initialize authentication response in application, emit to subscribers\n   */\n  public initAuth(response) {\n    if (response) {\n      try {\n        if (this.useLocalStore) {\n          let tokenStore = {\n            access_token: response.access_token,\n            expires_in: response.expires_in\n          };\n          localStorage.setItem(this.LOCAL_STORAGE_KEY, JSON.stringify(tokenStore));\n        }\n        this.oauth = response;\n        this.initAndEmit();\n      } catch (err) {\n        if (this.useLocalStore) {\n          localStorage.removeItem(this.LOCAL_STORAGE_KEY);\n        }\n        console.log('Failed to handle token payload', this.oauth);\n        this.handleError(err, 'Failed to handle token');\n      }\n    }\n  }\n\n  /*\n   * Initialize all token service attributes and emit\n   */\n\n  private initAndEmit() {\n   // console.log('init and emit', this.appConfigService.getConfig());\n    if (this.appConfigService.getConfig().webade.enableCheckToken) {\n      let baseUrl = this.appConfigService.getConfig().application.baseUrl;\n      if (!baseUrl.endsWith('/')) {\n        baseUrl = baseUrl.concat('/');\n      }\n      let checkTokenUrl = `${baseUrl}${this.appConfigService.getConfig().webade.checkTokenUrl}`;\n\n      const headers = new HttpHeaders({\n        'Authorization': `Bearer ${this.oauth.access_token}`,\n      });\n     // console.log('checkTokenUrl', checkTokenUrl);\n      \n      setTimeout(() => {\n        let http = new HttpClient(this.injector.get(HttpHandler));\n  \n        http.get(checkTokenUrl, {headers}).toPromise()\n            .then(\n                (response: any) => {\n                  this.tokenDetails = response;\n                  // console.log('access_token', this.oauth.access_token);\n                  this.authToken.next(this.oauth.access_token);\n                  this.authToken.complete();\n                  // console.log('tokenDetails', this.tokenDetails);\n                  this.credentials.next(this.tokenDetails);\n                  this.credentials.complete();\n                })\n            , catchError( error => {\n              console.log(error);\n              alert(`App initialization Failed ${error.status}. Status(Check token failed)`);\n              return error;\n            }\n        );\n      });\n    } else {\n      \n      //Split for JWT\n      const oauthInfo: string[] = this.oauth.access_token.split('.');\n     // console.log('oauthInfo', oauthInfo);\n      \n      if(oauthInfo.length > 1){\n        this.tokenDetails = JSON.parse(atob(oauthInfo[ 1 ]));\n      }\n      \n     // console.log('access_token2', this.oauth.access_token);\n      this.authToken.next(this.oauth.access_token);\n      this.authToken.complete();\n     // console.log('tokenDetails2', this.tokenDetails);\n      this.credentials.next(this.tokenDetails);\n      this.credentials.complete();\n    }\n  }\n\n  updateToken(oauthToken) {\n    this.oauth = oauthToken;\n    this.initAndEmit();\n  }\n\n  public getOauthToken() {\n    return (this.oauth) ? this.oauth.access_token : null;\n  }\n\n  public getTokenDetails() {\n    return (this.tokenDetails) ? this.tokenDetails : null;\n  }\n\n  public doesUserHaveApplicationPermissions(scopes?: string[]): boolean {\n    if (this.tokenDetails && this.tokenDetails.scope && this.tokenDetails.scope.length > 0) {\n      if (scopes) {\n        for (let i = 0; i < scopes.length; i++) {\n            if (this.tokenDetails.scope.indexOf(scopes[i]) == -1) {\n              return false;\n            }\n        }\n        return true;\n      }\n    }\n    return false;\n  }\n  \n  public clearLocalStorageToken() {\n    localStorage.removeItem(this.LOCAL_STORAGE_KEY);\n  }\n\n  private handleError(err, message?) {\n    console.error('Unexpected error', err);\n    alert(message ? message + ' ' + err : '' + err);\n    throw err;\n  }\n\n}\n","import {Component, Input, OnInit} from \"@angular/core\";\nimport {AppConfigService} from \"../services/app-config.service\";\nimport {TokenService} from \"../services/token.service\";\n\n@Component({\n  selector: 'wf1-application-header',\n  templateUrl: './application-header.component.html',\n  styles: []\n})\nexport class ApplicationHeaderComponent implements OnInit {\n\n  @Input() titleText: string;\n\n  public appVersion: string;\n  public userName: string;\n  public environment: string;\n  public acronym: string;\n  public buildNumber: string;\n\n  constructor(private appConfig: AppConfigService, private token: TokenService) { }\n\n  ngOnInit() {\n    const config = this.appConfig.getConfig();\n    this.appVersion = config.application.version;\n    this.acronym = config.application.acronym;\n    this.environment = config.application.environment;\n    this.buildNumber = config.application.buildNumber ? `.${config.application.buildNumber}` : '';\n    this.token.credentialsEmitter.subscribe((credentialDetails) => {\n      if (credentialDetails.given_name && credentialDetails.family_name) {\n          this.userName = `${credentialDetails.given_name} ${credentialDetails.family_name}`;\n      } else if (credentialDetails.givenName && credentialDetails.familyName) {\n          this.userName = `${credentialDetails.givenName} ${credentialDetails.familyName}`;\n      }\n    });\n  }\n\n}\n","export enum IconType {\n  INCIDENT = 'incident',\n  INCIDENT_WITH_STATUS = 'incident-with-status',\n  INCIDENT_AGENCY_ASSIST = 'incident-agency-assist',\n  INCIDENT_FIELD_ACTIVITY = 'incident-field-activity',\n  REPORT_OF_FIRE = 'report-of-fire',\n  NO_MORE_REPORT_OF_FIRE = 'no-more-report-of-fire',\n  NO_MORE_REPORT_OF_FIRE_DARK = 'no-more-report-of-fire-dark',\n  NO_MORE_REPORT_OF_FIRE_LIGHT = 'no-more-report-of-fire-light',\n  PLACE_NAME_SEARCH = 'place-name-search',\n  POINT_ID = 'point-id',\n  FILTER_CANCEL = 'filter-cancel'\n}\n\nexport enum IconSize {\n  DEFAULT = 'toolbar',\n  TOOLBAR = 'toolbar',\n  LIST_SMALL = 'list-small',\n  LIST_LARGE = 'list-large',\n}\n\nexport enum IncidentType {\n  DEFAULT = 'wf1-incident-icon-default',\n  OUT = 'wf1-incident-icon-out',\n  BEING_HELD = 'wf1-incident-icon-being-held',\n  NOT_SET = 'wf1-incident-icon-not-set',\n  OUT_OF_CONTROL = 'wf1-incident-icon-out-of-control',\n  UNDER_CONTROL = 'wf1-incident-icon-under-control',\n}\n\nexport enum IncidentTypeWithStatus {\n  ACTIVE = 'wf1-incident-with-status-icon-active',\n  COMPLETED = 'wf1-incident-with-status-icon-completed',\n}\n\nexport enum IncidentTypeAgencyAssist {\n  ACTIVE = 'wf1-incident-agency-assist-icon-active',\n  COMPLETED = 'wf1-incident-agency-assist-icon-completed',\n}\n\nexport enum IncidentTypeFieldActivity {\n  ACTIVE = 'wf1-incident-field-activity-icon-active',\n  COMPLETED = 'wf1-incident-field-activity-icon-completed',\n}\n\nexport enum ReportOfFireType {\n  DEFAULT = 'wf1-rof-icon-default',\n  GENERAL = 'wf1-rof-icon-general',\n  INTERFACE = 'wf1-rof-icon-interface',\n  CAMPFIRE = 'wf1-rof-icon-campfire',\n  CIGARETTE = 'wf1-rof-icon-cigarette',\n}\n\nexport const Icons = {\n  incident: {\n    icon: `\n      <svg version=\"1.0\" xmlns=\"http://www.w3.org/2000/svg\" width=\"189.000000pt\" height=\"191.000000pt\"\n           viewBox=\"0 0 189.000000 191.000000\" preserveAspectRatio=\"xMidYMid meet\">\n        <g transform=\"translate(0.000000,191.000000) scale(0.100000,-0.100000)\" stroke=\"none\">\n          <path d=\"M493 1407 c-366 -365 -423 -426 -423 -452 0 -25 38 -67 262 -292\n          l262 -263 103 0 c57 0 103 4 103 9 0 4 -30 26 -66 47 -122 71 -191 172 -201\n          293 -8 95 14 161 90 271 84 123 117 187 117 229 0 47 12 67 28 48 22 -26 40\n          -82 47 -147 l8 -65 27 34 c78 93 58 271 -47 409 -18 23 -33 45 -33 48 0 12 76\n          -8 130 -34 67 -33 191 -154 239 -235 79 -133 109 -267 91 -399 -6 -39 -13 -74\n          -16 -79 -14 -23 17 -5 44 25 33 38 51 84 62 160 l7 51 28 -59 c90 -190 -11\n          -466 -203 -555 -80 -37 -69 -51 41 -51 l92 0 262 262 c143 145 264 274 268\n          287 6 21 -40 70 -421 452 -337 337 -434 429 -454 429 -19 0 -116 -91 -447\n          -423z\"/>\n          <path d=\"M878 985 c-48 -80 -53 -95 -37 -95 10 0 19 -2 19 -4 0 -2 -16 -32\n            -34 -65 -25 -44 -31 -61 -20 -61 19 0 19 -2 -18 -73 -18 -34 -34 -65 -36 -69\n          -2 -5 6 -8 17 -8 12 0 21 -2 21 -3 0 -2 -13 -28 -30 -58 -16 -30 -30 -57 -30\n          -61 0 -4 33 -8 73 -10 l72 -3 3 -59 3 -59 -120 6 c-67 3 -121 2 -121 -2 0 -4\n          62 -69 138 -144 99 -98 145 -137 162 -137 17 0 63 39 162 137 76 75 138 141\n          138 146 0 5 -49 8 -112 6 l-113 -4 -3 52 c-3 60 -2 61 100 65 l56 3 -34 58\n          c-19 32 -34 60 -34 62 0 3 9 5 20 5 26 0 26 3 -15 77 -29 52 -32 65 -20 69 13\n          5 10 16 -16 62 -28 48 -30 56 -17 66 14 10 8 24 -39 104 -31 50 -61 92 -67 92\n          -6 -1 -36 -43 -68 -95z\"/>\n        </g>\n      </svg>\n    `,\n    halo: `\n      <svg version=\"1.0\" xmlns=\"http://www.w3.org/2000/svg\" width=\"189.000000pt\" height=\"191.000000pt\"\n           viewBox=\"0 0 189.000000 191.000000\" preserveAspectRatio=\"xMidYMid meet\">\n        <g transform=\"translate(0.000000,191.000000) scale(0.100000,-0.100000)\" stroke=\"none\">\n          <path d=\"M910 1870 c-39 -24 -882 -878 -887 -898 -3 -13 -2 -32 3 -43 10 -22\n          860 -875 887 -891 11 -5 29 -7 40 -4 29 7 903 884 912 914 6 21 -44 75 -447\n          478 -297 298 -460 454 -473 454 -11 0 -27 -4 -35 -10z\"/>\n        </g>\n      </svg>\n    `\n  },\n  incidentAgencyAssist: {\n    icon: `\n        <svg id=\"Capa_1\" enable-background=\"new 0 0 512 512\" height=\"512\" viewBox=\"0 0 512 512\" width=\"512\" \n        xmlns=\"http://www.w3.org/2000/svg\">\n            <g>\n                <path d=\"m483.577 335.232c-4.061-5.345-9.542-9.517-15.783-11.989-10.92-4.325-22.773-3.425-32.737 \n                  2.328l-65.792 37.985c-.373 5.55-1.426 11.155-3.267 16.71-11.309 34.118-47.824 53.021-82.542 \n                  43.718l-65.035-17.426c-8.002-2.144-12.751-10.369-10.607-18.371 2.144-8.002 10.369-12.751 \n                  18.371-10.607l66.028 17.692c20.005 5.36 40.568-6.511 45.928-26.516 \n                  5.36-20.005-6.512-40.568-26.516-45.928l-100.807-27.011c-19.351-5.185-39.562-2.525-56.911 \n                  7.492l-125.702 72.575c-7.174 4.142-9.633 13.316-5.49 20.49l62.426 108.126c1.989 3.446 5.265 5.959 \n                  9.108 6.989s7.937.491 11.382-1.499l56.689-32.729 121.262 7.822c14.825.955 29.461-2.466 \n                  42.327-9.894l146.648-84.666c19.295-11.142 24.947-36.96 11.02-55.291z\"/>\n                <path d=\"m156 240h200c8.284 0 15-6.716 15-15 0-39.813-20.34-74.962-51.171-95.612-16.612 15.86-39.103 \n                    25.612-63.829 25.612s-47.217-9.752-63.829-25.612c-30.831 20.65-51.171 55.799-51.171 95.612 0 8.284 \n                    6.716 15 15 15z\"/><circle cx=\"256\" cy=\"62.5\" r=\"62.5\"/>\n            </g>\n        </svg>\n    `,\n    halo: `\n      <svg version=\"1.0\" xmlns=\"http://www.w3.org/2000/svg\" width=\"189.000000pt\" height=\"191.000000pt\"\n           viewBox=\"0 0 189.000000 191.000000\" preserveAspectRatio=\"xMidYMid meet\">\n        <g transform=\"translate(0.000000,191.000000) scale(0.100000,-0.100000)\" stroke=\"none\">\n          <path d=\"M910 1870 c-39 -24 -882 -878 -887 -898 -3 -13 -2 -32 3 -43 10 -22\n          860 -875 887 -891 11 -5 29 -7 40 -4 29 7 903 884 912 914 6 21 -44 75 -447\n          478 -297 298 -460 454 -473 454 -11 0 -27 -4 -35 -10z\"/>\n        </g>\n      </svg>\n    `\n  },\n  incidentFieldActivity: {\n    icon: `\n\n      <svg version=\"1.1\" id=\"Layer_1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" \n        x=\"0px\" y=\"0px\" viewBox=\"0 0 511.999 511.999\" style=\"enable-background:new 0 0 511.999 511.999;\" \n        xml:space=\"preserve\">\n        <g>\n            <g>\n              <path d=\"M507.408,145.509l-73.855-17.919l-16.404-11.476l8.541-12.21c4.603-6.58,\n                3-15.647-3.58-20.25l-27.314-19.108c-6.58-4.603-15.647-3-20.25,3.58l-8.541,\n                12.21l-7.72-5.4c-6.928-4.847-16.473-3.159-21.32,3.769l-45.227,64.653c-4.847,6.928-3.159,16.474,3.769,\n                21.32l7.72,5.4l-26.752,38.243l38.085,54.444l39.81-56.91l16.404,11.476l42.155,63.234c1.614,2.422,4.736,\n                3.341,7.402,2.173c11.908-5.219,43.951-21.367,65.302-51.889c21.351-30.522,25.533-66.16,26.353-79.135\n                C512.171,148.805,510.242,146.196,507.408,145.509z\"/>\n            </g>\n        </g>\n        <g>\n            <g>\n              <path d=\"M197.44,321.307l-60.711,86.788c-4.603,6.58-3,15.647,3.58,20.25l27.314,19.107c6.58,4.603,15.647,3,20.25-3.58\n              l47.652-68.12L197.44,321.307z\"/>\n            </g>\n        </g>\n        <g>\n            <g>\n              <path d=\"M375.27,408.096L208.773,170.082l7.72-5.4c6.928-4.847,8.616-14.392,3.769-21.32l-45.227-64.654\n              c-4.847-6.928-14.392-8.616-21.32-3.769l-7.72,5.4l-8.541-12.21c-4.603-6.579-13.668-8.184-20.25-3.58L89.89,83.655\n              c-6.58,4.603-8.183,13.669-3.58,20.25l8.541,12.21L78.447,127.59l-14.122,3.426L4.591,145.509\n              c-2.829,0.687-4.763,3.303-4.579,6.208c0.819,12.976,5.002,48.613,26.353,79.135c21.351,30.522,53.394,46.67,65.302,51.889\n              c2.671,1.171,5.784,0.254,7.402-2.173l34.095-51.144l8.06-12.091l16.404-11.476l166.498,238.015\n              c4.603,6.58,13.668,8.183,20.25,3.58l27.314-19.106C378.27,423.743,379.873,414.676,375.27,408.096z\"/>\n            </g>\n        </g>      \n        <g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g>\n      </svg>\n    `,\n    halo: `\n      <svg version=\"1.0\" xmlns=\"http://www.w3.org/2000/svg\" width=\"189.000000pt\" height=\"191.000000pt\"\n           viewBox=\"0 0 189.000000 191.000000\" preserveAspectRatio=\"xMidYMid meet\">\n        <g transform=\"translate(0.000000,191.000000) scale(0.100000,-0.100000)\" stroke=\"none\">\n          <path d=\"M910 1870 c-39 -24 -882 -878 -887 -898 -3 -13 -2 -32 3 -43 10 -22\n          860 -875 887 -891 11 -5 29 -7 40 -4 29 7 903 884 912 914 6 21 -44 75 -447\n          478 -297 298 -460 454 -473 454 -11 0 -27 -4 -35 -10z\"/>\n        </g>\n      </svg>\n    `\n  },\n  rof: {\n    icon: `\n      <svg version=\"1.0\" xmlns=\"http://www.w3.org/2000/svg\" width=\"245.000000pt\" height=\"245.000000pt\"\n           viewBox=\"0 0 245.000000 245.000000\" preserveAspectRatio=\"xMidYMid meet\">\n        <g transform=\"translate(0.000000,245.000000) scale(0.100000,-0.100000)\" stroke=\"none\">\n          <path d=\"M1631 2331 c-14 -14 -21 -34 -21 -59 0 -104 -52 -218 -162 -357 -107\n            -135 -123 -176 -123 -310 0 -96 3 -116 24 -155 47 -91 122 -146 229 -169 80\n          -17 79 -17 87 46 4 32 16 87 27 123 22 70 91 214 108 225 14 9 104 -183 124\n          -266 9 -36 16 -82 16 -103 l0 -38 48 6 c107 15 152 35 208 90 44 45 56 65 75\n          126 18 61 21 87 16 164 -10 156 -60 276 -117 276 -12 0 -54 -32 -100 -75 -122\n          -114 -119 -114 -113 8 10 192 -58 350 -189 440 -70 48 -109 56 -137 28z\"/>\n          <path d=\"M525 2190 c-36 -15 -353 -343 -360 -373 -11 -41 1 -95 41 -190 219\n            -525 1022 -1308 1541 -1503 53 -20 77 -24 113 -19 42 6 56 18 216 178 183 183\n          196 204 175 270 -8 23 -84 105 -239 259 -288 285 -280 283 -430 135 l-82 -82\n          -287 287 -287 287 87 90 c87 90 87 90 87 143 l0 52 -222 224 c-123 123 -235\n          230 -250 238 -30 15 -72 17 -103 4z\"/>\n        </g>\n      </svg>\n    `,\n    halo: `\n      <svg version=\"1.0\" xmlns=\"http://www.w3.org/2000/svg\" width=\"245.000000pt\" height=\"245.000000pt\"\n      viewBox=\"0 0 245.000000 245.000000\" preserveAspectRatio=\"xMidYMid meet\">\n        <g transform=\"translate(0.000000,245.000000) scale(0.100000,-0.100000)\" stroke=\"none\">\n        <path d=\"M1600 2428 c-60 -30 -90 -77 -90 -139 0 -100 -37 -179 -150 -319 -29\n          -36 -71 -103 -94 -150 l-41 -85 0 -130 c0 -125 1 -132 32 -197 62 -132 175\n        -209 335 -229 133 -17 154 0 177 147 6 39 16 84 22 100 l12 29 18 -55 c10 -30\n        18 -72 18 -93 2 -95 54 -131 176 -125 145 8 255 75 318 196 66 124 74 305 23\n        468 -34 105 -58 141 -109 164 -54 25 -98 25 -148 0 -44 -23 -40 -26 -59 55\n        -34 149 -146 295 -272 355 -75 36 -109 37 -168 8z\"/>\n        <path d=\"M480 2279 c-63 -28 -362 -326 -395 -393 -48 -96 -30 -189 75 -396\n        145 -283 403 -604 717 -893 259 -237 470 -390 693 -502 201 -101 284 -115 379\n        -65 46 24 363 343 387 390 26 50 24 143 -3 195 -26 48 -465 486 -510 509 -43\n        21 -154 21 -195 0 -18 -9 -55 -38 -83 -65 l-51 -48 -214 214 -215 215 52 52\n        c28 29 58 67 67 85 23 45 21 144 -3 191 -29 54 -477 498 -523 517 -51 21 -124\n        19 -178 -6z\"/>\n        </g>\n      </svg>\n    `\n  },\n  nrof: {\n    icon: `\n      <svg xmlns=\"http://www.w3.org/2000/svg\" preserveAspectRatio=\"xMidYMid meet\" \n      viewBox=\"0 0 322.723 322.723\" height=\"430.297\" width=\"430.297\"><defs><symbol >\n      <g stroke=\"none\"><path d=\"M1600 2428c-60-30-90-77-90-139 0-100-37-179-150-319-29-36-71-103-94-150l-41-85v-130c0-125 \n      1-132 32-197 62-132 175-209 335-229 133-17 154 0 177 147 6 39 16 84 22 100l12 29 18-55c10-30 18-72 18-93 2-95 54-131 \n      176-125 145 8 255 75 318 196 66 124 74 305 23 468-34 105-58 141-109 164-54 25-98 25-148 0-44-23-40-26-59 55-34 149-146 \n      295-272 355-75 36-109 37-168 8zM480 2279c-63-28-362-326-395-393-48-96-30-189 75-396 145-283 403-604 717-893 259-237 \n      470-390 693-502 201-101 284-115 379-65 46 24 363 343 387 390 26 50 24 143-3 195-26 48-465 486-510 509-43 21-154 21-195 \n      0-18-9-55-38-83-65l-51-48-429 429 52 52c28 29 58 67 67 85 23 45 21 144-3 191-29 54-477 498-523 517-51 21-124 19-178-6z\" \n      fill=\"#fff\" transform=\"matrix(.1 0 0 -.1 35.477344 281.60534)\"/><path d=\"M1631 2331c-14-14-21-34-21-59 0-104-52-218-162-357-107-135-123-176-123-310\n       0-96 3-116 24-155 47-91 122-146 229-169 80-17 79-17 87 46 4 32 16 87 27 123 22 70 91 214 108 225 14 9 104-183 124-266 9-36 16-82 16-103v-38l48 \n       6c107 15 152 35 208 90 44 45 56 65 75 126 18 61 21 87 16 164-10 156-60 276-117 276-12 0-54-32-100-75-122-114-119-114-113 8 10 192-58 350-189 440-70 \n       48-109 56-137 28zM525 2190c-36-15-353-343-360-373-11-41 1-95 41-190C425 1102 1228 319 1747 124c53-20 77-24 113-19 42 6 56 18 216 178 183 183 196 204 \n       175 270-8 23-84 105-239 259-288 285-280 283-430 135l-82-82-574 574 87 90c87 90 87 90 87 143v52l-222 224c-123 123-235 230-250 238-30 15-72 17-103 4z\" \n       transform=\"matrix(.1 0 0 -.1 35.510667 281.87686)\"/></g></symbol></defs><path d=\"M103.432 95.678c-2.533 1.056-24.84 24.137-25.334 26.25-.774 2.885.07\n        6.685 2.885 13.37 15.41 36.945 71.92 92.046 108.442 105.768 3.73 1.407 5.42 1.69 7.952 1.337 2.956-.422 3.94-1.267 15.2-12.526 12.878-12.878 \n        13.793-14.356 12.315-19-.563-1.62-5.91-7.39-16.82-18.226-20.267-20.056-19.704-19.915-30.26-9.5l-5.77 5.77-40.393-40.393 6.122-6.333c6.122-6.333 \n        6.122-6.333 6.122-10.063v-3.66l-15.622-15.763c-8.656-8.656-16.537-16.185-17.593-16.748-2.11-1.056-5.067-1.196-7.248-.28zm77.83-9.922c-.985.985-1.478 \n        2.393-1.478 4.152 0 7.32-3.66 15.34-11.4 25.123-7.53 9.5-8.656 12.385-8.656 21.815 0 6.756.21 8.163 1.69 10.908 3.307 6.404 8.585 10.274 16.115 \n        11.893 5.63 1.196 5.56 1.196 6.122-3.237.28-2.252 1.126-6.122 1.9-8.656 1.548-4.926 6.404-15.06 7.6-15.834.985-.633 7.32 12.878 8.726 18.72.633 \n        2.533 1.126 5.77 1.126 7.248v2.674l3.378-.422c7.53-1.056 10.696-2.463 14.637-6.333 3.096-3.167 3.94-4.574 5.278-8.867 1.267-4.293 1.478-6.122 \n        1.126-11.54-.704-10.978-4.222-19.422-8.233-19.422-.844 0-3.8 2.252-7.037 5.278-8.585 8.022-8.374 8.022-7.952-.563.704-13.51-4.082-24.63-13.3-30.963-4.926-3.378-7.67-3.94-9.64-1.97zM228.2-.001L94.524.001 \n        0 94.523.001 228.2l94.523 94.524 133.677.001 94.523-94.525-.001-133.676-9.344-9.344zM107.74 31.906h107.246l75.834 75.834v107.246l-75.834 75.833H107.74l-75.834-75.833V107.74z\" \n        fill=\"#263238\" paint-order=\"markers stroke fill\"/></svg>\n    `,\n    dark:\n    `<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"430.667\" height=\"430.667\" viewBox=\"0 0 323 323\" xmlns:v=\"https://vecta.io/nano\"><style><![CDATA[.B{dominant-baseline:auto}]]></style><path d=\"M103 19.7l-83 83v117l83 83h117l83-83v-117l-83-83z\" fill=\"#fff\" stroke=\"#fff\" stroke-linejoin=\"round\" stroke-width=\"39.5\" paint-order=\"markers stroke fill\" class=\"B\"/><g transform=\"matrix(.878 0 0 .878 19.7 19.7)\"><path d=\"M94.5 0L0 94.5l.001 134L94.5 323h134l94.5-94.5v-134L228.5.001z\" fill=\"maroon\" paint-order=\"markers stroke fill\" class=\"B\"/><path d=\"M225 8.45L98 8.452l-89.6 89.6.002 127 89.6 89.6h127l89.6-89.6-.002-127-6.87-6.87z\" fill=\"#d40000\" paint-order=\"markers stroke fill\" class=\"B\"/><path d=\"M107 87.3c-2.26-.094-4.56.335-6.9 1.32-3.044 1.272-2.834 1.732-3.854 2.612l-3.45 3.17c-2.57 2.45-5.66 5.56-8.7 8.7s-6 6.3-8.3 8.9c-1.16 1.3-2.14 2.45-2.96 3.48a24.79 24.79 0 0 0-1.15 1.55c-.367.548-.83.73-1.4 3.02-1.52 5.8.25 11.1 3.23 18.2.006.013.007.018.01.024 8.47 20.3 26.9 43.5 48 64.1s44.6 38.3 64.8 45.9c4.132 1.56 8.162 2.25 11.702 1.76l.014-.002.016-.002c2.07-.295 5.68-1.73 8.28-3.88s5.6-5.18 11.3-10.8c6.48-6.48 10-9.95 12.6-13.8 2.52-3.9 2.6-9.9 1.64-12.9l-.03-.098-.033-.096c-.913-2.62-1.64-3.1-2.6-4.28-.942-1.18-2.1-2.48-3.55-4.06-2.9-3.15-7.02-7.35-12.5-12.8l-.006-.006-.006-.004c-10.1-10-14.1-15.6-21.9-18-3.9-1.23-8.83-.037-11.7 1.88-2.87 1.9-4.86 4.08-7.46 6.65l-.018.02-.373.373-29.7-29.7.89-.922c3.06-3.17 4.76-4.66 6.4-7.35 1.64-2.7 1.88-6.17 1.88-8.04v-6.8l-17.912-18.012-11.8-11.5-4.13-3.85c-.558-.502-1.04-.927-1.5-1.3-.464-.385-.477-.584-2-1.4l-.1-.047-.1-.045c-2.2-1.1-4.44-1.72-6.7-1.82zm76.4-10.2c-2.9.19-6.04 1.4-7.92 3.27-2.66 2.66-3.72 6.38-3.72 9.57 0 4.77-2.54 11.3-9.75 20.4-7.77 9.8-10.3 16.5-10.3 26.6 0 3.46.012 5.75.38 8.12.362 2.35 1.28 4.63 2.2 6.34 4.26 8.2 12 13.8 21.3 15.8l.008.002.01.002c1.4.298 2.52.558 3.9.73s3.48.516 6.27-.977 4.14-4.46 4.55-5.97c.402-1.52.46-2.46.6-3.54v-.014c.18-1.45 1.03-5.4 1.62-7.34.05-.16.26-.59.326-.783.358 1 1.1 2.67 1.24 3.2l.016.062c.488 1.95.896 5.6.896 5.4v11.3l12.057-1.508c8.16-1.14 14.2-3.8 18.9-8.45l.057-.055.055-.057c3.4-3.48 5.65-7.23 7.1-11.9l.016-.057.018-.055c1.37-4.64 1.8-8.48 1.42-14.2l.002.006c-.396-6.18-1.5-11.7-3.46-16.3-.974-2.3-2.13-4.43-3.95-6.37s-4.77-3.9-8.46-3.9c-3.6 0-3.96.923-4.84 1.43s-1.6 1.02-2.4 1.62c-.157.12-.346.308-.506.432-1.48-11.7-6.96-22-16.2-28.4l-.004-.004c-2.85-1.95-5.34-3.48-8.72-4.18-.847-.173-1.78-.222-2.74-.158z\" fill=\"maroon\" paint-order=\"markers stroke fill\" class=\"B\"/><path d=\"M103 95.7c-2.53 1.06-24.8 24.1-25.3 26.2-.774 2.9.07 6.7 2.9 13.4 15.4 36.9 71.9 92 108 106 3.73 1.4 5.42 1.7 7.95 1.34 2.96-.422 3.94-1.27 15.2-12.5 12.9-12.9 13.8-14.4 12.3-19-.563-1.62-5.9-7.4-16.8-18.2-20.3-20.1-19.7-19.9-30.3-9.5l-5.77 5.77-40.4-40.4 6.12-6.33c6.12-6.33 6.12-6.33 6.12-10.1v-3.66l-15.6-15.8c-8.66-8.66-16.5-16.2-17.6-16.7-2.1-1.06-5.07-1.2-7.25-.28zm77.8-9.92c-.985.985-1.48 2.4-1.48 4.15 0 7.32-3.66 15.3-11.4 25.1-7.53 9.5-8.66 12.4-8.66 21.8 0 6.76.21 8.16 1.7 10.9 3.3 6.4 8.6 10.3 16.1 11.9 5.63 1.2 5.56 1.2 6.12-3.24.282-2.25 1.13-6.12 1.9-8.66 1.55-4.93 6.4-15.1 7.6-15.8.985-.633 7.32 12.9 8.73 18.7.633 2.53 1.13 5.77 1.13 7.25v2.67l3.38-.422c7.53-1.06 10.7-2.46 14.6-6.33 3.1-3.17 3.94-4.57 5.28-8.87 1.27-4.3 1.48-6.12 1.13-11.5-.704-11-4.22-19.4-8.23-19.4-.844 0-3.8 2.25-7.04 5.28-8.6 8.02-8.37 8.02-7.95-.563.704-13.5-4.08-24.6-13.3-31-4.93-3.38-7.67-3.94-9.64-1.97z\" fill=\"#fff\" paint-order=\"markers stroke fill\"/><path d=\"M222 121c.01-.006-.046.17-.492.344L222 121zm-136.9 4c-.16.3-.26.343-.258.34l.258-.34zM199 137c.024-.035.042.067-.207.34L199 137zm19 76c.005.016.01.005.014.02z\" paint-order=\"markers stroke fill\" fill=\"maroon\" class=\"B\"/></g></svg>`,\n    light:\n    `<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"430.667\" height=\"430.667\" viewBox=\"0 0 323 323\" xmlns:v=\"https://vecta.io/nano\"><g transform=\"matrix(.878 0 0 .878 19.7 19.7)\"><path d=\"M94.5 0L0 94.5l.001 134L94.5 323h134l94.5-94.5v-134L228.5.001z\" dominant-baseline=\"auto\" fill=\"#fff\" stroke=\"#fff\" stroke-linejoin=\"round\" stroke-width=\"45\" paint-order=\"markers stroke fill\"/><path d=\"M94.5 0L0 94.5l.001 134L94.5 323h134l94.5-94.5v-134L228.5.001z\" dominant-baseline=\"auto\" fill=\"maroon\" paint-order=\"markers stroke fill\"/><path d=\"M101 16l-85.2 85.2v120l85.2 85.2h120l85.2-85.2v-120L221 16z\" dominant-baseline=\"auto\" fill=\"none\" stroke=\"#d40000\" stroke-width=\"15\" paint-order=\"markers stroke fill\"/><path d=\"M290.78 107.676l-.055 107.28-75.845 75.87-107.28-.055-75.87-75.845.055-107.28 75.845-75.87 107.28.055z\" fill=\"#fff\" paint-order=\"markers stroke fill\"/><path d=\"M103 95.7c-2.53 1.06-24.8 24.1-25.3 26.2-.774 2.9.07 6.7 2.9 13.4 15.4 36.9 71.9 92 108 106 3.73 1.4 5.42 1.7 7.95 1.34 2.96-.422 3.94-1.27 15.2-12.5 12.9-12.9 13.8-14.4 12.3-19-.563-1.62-5.9-7.4-16.8-18.2-20.3-20.1-19.7-19.9-30.3-9.5l-5.77 5.77-40.4-40.4 6.12-6.33c6.12-6.33 6.12-6.33 6.12-10.1v-3.66l-15.6-15.8c-8.66-8.66-16.5-16.2-17.6-16.7-2.1-1.06-5.07-1.2-7.25-.28zm77.8-9.92c-.985.985-1.48 2.4-1.48 4.15 0 7.32-3.66 15.3-11.4 25.1-7.53 9.5-8.66 12.4-8.66 21.8 0 6.76.21 8.16 1.7 10.9 3.3 6.4 8.6 10.3 16.1 11.9 5.63 1.2 5.56 1.2 6.12-3.24.282-2.25 1.13-6.12 1.9-8.66 1.55-4.93 6.4-15.1 7.6-15.8.985-.633 7.32 12.9 8.73 18.7.633 2.53 1.13 5.77 1.13 7.25v2.67l3.38-.422c7.53-1.06 10.7-2.46 14.6-6.33 3.1-3.17 3.94-4.57 5.28-8.87 1.27-4.3 1.48-6.12 1.13-11.5-.704-11-4.22-19.4-8.23-19.4-.844 0-3.8 2.25-7.04 5.28-8.6 8.02-8.37 8.02-7.95-.563.704-13.5-4.08-24.6-13.3-31-4.93-3.38-7.67-3.94-9.64-1.97z\" fill=\"maroon\" paint-order=\"markers stroke fill\"/><path d=\"M186 94c-1.4 13.4-12.2 22.7-18.3 33.9-4.02 8.6-1.9 21.5 8.27 24.5 2.28.517 1.4-4.28 2.53-5.88 2.34-7.63 5.43-16.1 12-20.9 2.37-1.16 5.88.477 7.1 1.42-2.42-5.68.83-11.8-1.18-17.7-1.3-6.42-4.54-13-10.4-16.3l-.08.847zm-80.1 8.37c-6.62 4.6-11 11.7-17.2 16.8-3.13 2.45-5.15 6.3-2.95 10.1 5.93 17.6 18.6 31.8 30.2 46.1 21.2 24.2 46 45.9 75.3 59.4 4.55 2.2 8.42-1.2 11-4.65 5.02-5.6 11.8-10.2 15.5-16.7-3.34-5.87-9.73-9.52-13.9-14.9-5.15-5.3-10.2-11.8-16.9-14.9-5.28 3.57-8.1 12.2-15.7 11.5-8.03-1-11.1-9.78-17-14.1l-31.8-31.9c3.05-7.2 12.2-10.2 14.1-17.7-3.88-5.65-9.98-9.32-14.3-14.7-5.13-4.86-9.98-11.7-16.3-14.4zm112 20.5c-4.26 4.18-9.8 11.4-16.6 8.2-1.6-1.05 1.26 2.53 1.3 3.54 2.74 5.9 5.34 12 6.46 18.4 9.67-2.46 13-13.5 11.1-22.3-.337-2.58-.807-5.98-2.22-7.8z\" fill=\"#d40000\" paint-order=\"markers stroke fill\"/></g></svg>`\n  },\n  placeNameSearch: {\n    icon: `\n      <svg version=\"1.0\" xmlns=\"http://www.w3.org/2000/svg\" width=\"309.000000pt\" height=\"308.000000pt\"\n           viewBox=\"0 0 309.000000 308.000000\" preserveAspectRatio=\"xMidYMid meet\">\n        <g transform=\"translate(0.000000,308.000000) scale(0.100000,-0.100000)\" stroke=\"none\">\n        <path d=\"M1086 3004 c-380 -69 -718 -321 -891 -664 -277 -550 -126 -1213 360\n        -1578 87 -66 305 -175 405 -202 340 -94 697 -50 981 121 l83 50 321 -320 c176\n        -175 336 -327 355 -337 47 -24 143 -24 190 0 83 43 133 118 133 201 1 102 -1\n        105 -350 456 l-324 326 47 76 c211 352 228 821 43 1189 -89 177 -261 379 -406\n        477 -146 98 -340 176 -507 206 -110 19 -332 18 -440 -1z m411 -459 c241 -56\n        464 -248 558 -482 69 -171 73 -386 10 -565 -29 -83 -84 -183 -95 -171 -4 4\n        -67 157 -139 339 -73 183 -140 339 -150 348 -14 13 -43 16 -161 16 -113 0\n        -140 -3 -132 -12 5 -7 11 -53 13 -103 l4 -90 -90 0 -90 0 4 90 c2 50 8 96 13\n        103 8 9 -19 12 -132 12 -118 0 -147 -3 -161 -16 -10 -9 -80 -171 -156 -361\n        -155 -389 -136 -367 -203 -228 -57 116 -74 196 -74 345 0 219 64 381 213 542\n        195 211 483 298 768 233z m-84 -842 c3 -5 10 -73 17 -152 9 -118 9 -146 -2\n        -153 -15 -10 -223 -7 -233 4 -8 7 12 267 21 293 5 12 25 15 99 15 52 0 96 -3\n        98 -7z m41 -490 c2 -10 8 -66 11 -124 l7 -106 -38 -6 c-51 -9 -203 -9 -244 -1\n        l-32 7 7 106 c3 58 9 114 11 124 5 15 20 17 139 17 119 0 134 -2 139 -17z\"/>\n        </g>\n      </svg>\n    `\n  },\n  pointId: {\n    icon: `\n      <svg xmlns=\"http://www.w3.org/2000/svg\" version=\"1.1\" viewBox=\"0 0 24 24\" height=\"24\" width=\"24\">\n        <path d=\"M 5,1 C 3.9,1 3.0097656,1.9 3.0097656,3 L 3,15.929688 c 0,0.69 0.3508594,1.300156 0.8808594,1.660156\n        L 12,23 20.109375,17.589844 c 0.53,-0.36 0.880859,-0.970156 0.880859,-1.660156 L 21,3 C 21,1.9 20.1,1 19,1 Z m\n        7.017578,1.765625 c 0.34378,0 0.638348,0.1141006 0.882813,0.34375 0.244465,0.2296493 0.367187,0.510388\n        0.367187,0.84375 0,0.325954 -0.122722,0.6086457 -0.367187,0.8457031 -0.244465,0.2370574 -0.539033,0.3554688\n        -0.882813,0.3554688 -0.320861,0 -0.603191,-0.1184114 -0.847656,-0.3554688 -0.244465,-0.2444655\n        -0.365234,-0.5271572 -0.365234,-0.8457031 0,-0.3111379 0.120769,-0.5852082 0.365234,-0.8222656\n        0.244465,-0.2444655 0.526795,-0.3652344 0.847656,-0.3652344 z m -1.03125,4.2988281 h 2.085938 L 13,16 h -2 z\" />\n      </svg>\n    `\n  },\n  filterCancel: {\n    icon: `\n      <svg xmlns=\"http://www.w3.org/2000/svg\" version=\"1.1\" viewBox=\"0 0 133.15887 117.29034\" height=\"117.29034mm\" width=\"133.15887mm\">\n        <g transform=\"translate(-34.473864,-66.676034)\">\n          <g>\n            <g>\n              <path d=\"M 94.473677,137.49393 34.473864,66.783005 34.564632,66.676034 H 154.38314 l 0.0907,0.106971 z\" />\n              <rect y=\"129.02737\" x=\"88.416046\" height=\"45.357258\" width=\"12.115609\" />\n            </g>\n            <rect width=\"29.482143\" height=\"76.351196\" x=\"79.73278\" y=\"107.61517\" />\n          </g>\n          <g transform=\"translate(500.06128,136.57473)\">\n            <rect width=\"14.363094\" height=\"49.892857\" x=\"-249.284\" y=\"235.20406\" transform=\"rotate(45)\" />\n            <rect width=\"14.363095\" height=\"49.892857\" x=\"-267.59927\" y=\"-266.99539\" transform=\"rotate(-45)\" />\n          </g>\n        </g>\n      </svg>\n    `\n  }\n};\n","import { Component, Input, OnInit } from '@angular/core';\nimport { MatIconRegistry } from '@angular/material/icon';\nimport { DomSanitizer } from '@angular/platform-browser';\nimport {\n  Icons,\n  IconSize,\n  IconType,\n  IncidentType,\n  IncidentTypeAgencyAssist, IncidentTypeFieldActivity,\n  ReportOfFireType\n} from \"./application-icon.model\";\n\n@Component({\n  selector: 'wf1-application-icon',\n  templateUrl: './application-icon.component.html',\n  styleUrls: [ './application-icon.component.scss' ]\n})\nexport class ApplicationIconComponent implements OnInit {\n  @Input()\n  public iconType: IconType;\n  @Input()\n  public iconSize: IconSize = IconSize.DEFAULT;\n  @Input()\n  public hasHalo = false;\n  @Input()\n  public colourCode: IncidentType | IncidentTypeAgencyAssist | IncidentTypeFieldActivity | ReportOfFireType = IncidentType.DEFAULT;\n  @Input()\n  public isBlinking = false;\n  @Input()\n  public isCancelled = false;\n  @Input()\n  public isAssignedToIncident = false;\n\n  private HALO_SUFFIX = '-halo';\n\n  constructor(iconRegistry: MatIconRegistry, sanitizer: DomSanitizer) {\n    const registerIcon = (iconName: string, icon: any) => {\n      iconRegistry.addSvgIconLiteral(iconName, sanitizer.bypassSecurityTrustHtml(icon));\n    };\n    registerIcon(IconType.INCIDENT, Icons.incident.icon);\n    registerIcon(IconType.INCIDENT_WITH_STATUS, Icons.incident.icon);\n    registerIcon(IconType.INCIDENT_AGENCY_ASSIST, Icons.incidentAgencyAssist.icon);\n    registerIcon(IconType.INCIDENT_FIELD_ACTIVITY, Icons.incidentFieldActivity.icon);\n    registerIcon(IconType.REPORT_OF_FIRE, Icons.rof.icon);\n    registerIcon(IconType.NO_MORE_REPORT_OF_FIRE, Icons.nrof.icon);\n    registerIcon(IconType.NO_MORE_REPORT_OF_FIRE_DARK, Icons.nrof.dark);\n    registerIcon(IconType.NO_MORE_REPORT_OF_FIRE_LIGHT, Icons.nrof.light);\n    registerIcon(IconType.INCIDENT + this.HALO_SUFFIX, Icons.incident.halo);\n    registerIcon(IconType.REPORT_OF_FIRE + this.HALO_SUFFIX, Icons.rof.halo);\n    registerIcon(IconType.PLACE_NAME_SEARCH, Icons.placeNameSearch.icon);\n    registerIcon(IconType.POINT_ID, Icons.pointId.icon);\n    registerIcon(IconType.FILTER_CANCEL, Icons.filterCancel.icon);\n  }\n\n  ngOnInit() {\n  }\n\n  getHaloType() {\n    return this.iconType + this.HALO_SUFFIX;\n  }\n\n  getRootIconClasses() {\n    let iconSizeClass;\n    if (this.iconSize === IconSize.TOOLBAR) {\n      iconSizeClass = 'wf1-icon-size-toolbar';\n    } else if (this.iconSize === IconSize.LIST_SMALL) {\n      iconSizeClass = 'wf1-icon-size-list-small';\n    } else if (this.iconSize === IconSize.LIST_LARGE) {\n      iconSizeClass = 'wf1-icon-size-list-large';\n    } else { //Default\n      iconSizeClass = 'wf1-icon-size-toolbar';\n    }\n    return `wf1-application-icon ${iconSizeClass}`;\n  }\n\n  getMainIconClasses() {\n    return `${this.colourCode} ${this.isBlinking ? 'wf1-icon-blink' : ''} ${this.isCancelled || this.isAssignedToIncident ? 'wf1-icon-contained' : ''}`;\n  }\n\n  getHaloIconClasses() {\n    return `${this.isBlinking ? 'wf1-icon-blink' : ''} ${this.isCancelled || this.isAssignedToIncident ? 'wf1-icon-contained' : ''}`;\n  }\n}\n","import {AfterViewInit, Component, EventEmitter, Input, OnInit, Output, TemplateRef} from \"@angular/core\";\n\nexport enum MapControl {\n  NONE = 'none',\n  LAYER_TREE = 'layer-tree',\n  BASEMAPS = 'basemaps',\n}\n\n@Component({\n  selector: 'wf1-application-toolbar',\n  templateUrl: './application-toolbar.component.html',\n  styles: []\n})\nexport class ApplicationToolbarComponent implements OnInit, AfterViewInit {\n  @Input()\n  menuTemplate: TemplateRef<any>;\n  @Input()\n  toolbarTemplate: TemplateRef<any>;\n\n  @Output() selectedMapControl = new EventEmitter<MapControl>();\n\n  isLayersToggled = false;\n  isBasemapsToggled = false;\n\n  constructor() {}\n\n  ngOnInit() {\n  }\n\n  ngAfterViewInit() {\n  }\n}\n","import { Injectable } from '@angular/core'\nimport { Location } from '@angular/common'\nimport { Router, NavigationEnd } from '@angular/router'\n\n@Injectable({ providedIn: 'root' })\nexport class NavigationService {\n    private navigations: number = 0\n\n    constructor(\n        private router: Router, \n        private location: Location\n    ) {\n        this.router.events.subscribe((event) => {\n            if (event instanceof NavigationEnd) {\n                this.navigations += 1\n                // console.log( this.navigations, event.urlAfterRedirects )\n            }\n        })\n    }\n\n    back(): void {\n        if ( this.navigations > 1 ) {\n            this.location.back()\n        } else {\n            this.router.navigateByUrl( '/' )\n        }\n    }\n}","import { Component, EventEmitter, Input, OnInit, Output } from \"@angular/core\";\nimport { TokenService } from \"../services/token.service\";\nimport { NavigationService } from \"../services/navigation.service\";\n\n@Component({\n    selector: 'wf1-basic-sidebar-panel',\n    templateUrl: `./basic-sidebar-panel.component.html`,\n    styles: []\n})\nexport class BasicSidebarPanelComponent implements OnInit {\n    public TOOLTIP_DELAY = 500;\n\n    @Input()\n    titleText: string;\n    @Input()\n    linkIcon?: string;\n    @Input()\n    linkAlignLeft?: boolean;\n    @Input()\n    linkTitle?: string;\n\n    @Input() showBackButton: boolean = false;\n\n    @Output()\n    linkClick = new EventEmitter<string>();\n\n    isInitializing = true;\n\n    constructor(\n        public token: TokenService,\n        public navigationService: NavigationService\n    ) {\n        this.isInitializing = token.getOauthToken() === null;\n    }\n\n    ngOnInit() {\n        this.token.authTokenEmitter.subscribe(() => {\n            this.isInitializing = false;\n        });\n        if (!this.linkTitle) {\n            if (this.linkIcon == \"launch\") {\n                this.linkTitle = \"Launch Dual Window\";\n            } else if (this.linkIcon == \"arrow_back\") {\n                this.linkTitle = \"Back\";\n            } else {\n                this.linkTitle = null;\n            }\n\n        }\n    }\n\n    getTitleIconClasses(): string {\n        return this.linkAlignLeft ? 'side-panel-link-button side-panel-link-button-left' : 'side-panel-link-button side-panel-link-button-right';\n    }\n\n    getMainContentClasses(): string {\n        return 'side-panel-content';\n    }\n\n    titleLinkClicked() {\n        this.linkClick.emit(this.titleText);\n    }\n\n    titleBackClicked() {\n        this.navigationService.back()\n    }\n}\n","import {Component, Input} from \"@angular/core\";\nimport {FormControl} from \"@angular/forms\";\n\n@Component({\n  selector: 'wf1-date-time-picker',\n  templateUrl: './date-time-picker.component.html',\n  styles: []\n})\nexport class DateTimePickerComponent  {\n  @Input()\n  controlName: string;\n  @Input()\n  placeholderText: string;\n  @Input()\n  isRequired: boolean;\n  @Input()\n  formControl: FormControl;\n\n  constructor() {}\n}\n","import {Directive, ElementRef, Input, OnDestroy} from \"@angular/core\";\nimport * as textMask from \"vanilla-text-mask\";\nimport {FormControl} from \"@angular/forms\";\n\n@Directive({\n  selector: '[wf1CoreDateMask]'\n})\nexport class DateMaskDirective implements OnDestroy {\n  @Input() public formControl: FormControl;\n  public lastValidDate: string;\n  dateInputElement: HTMLInputElement;\n\n  mask = [ /\\d/, /\\d/, /\\d/, /\\d/, '-', /\\d/, /\\d/, '-', /\\d/, /\\d/ ];\n  dateInputController;\n\n  constructor(private element: ElementRef) {\n    this.dateInputElement = this.element.nativeElement;\n    this.dateInputController = textMask.maskInput({\n      inputElement: this.element.nativeElement,\n      mask: this.mask,\n      guide: false\n    });\n  }\n\n  ngOnDestroy() {\n    this.dateInputController.destroy();\n  }\n}\n","import {Component, Input} from \"@angular/core\";\nimport {TokenService} from \"../services/token.service\";\nimport {FilterConfig} from \"../search/models/filter/filter-config\";\nimport {BasicSidebarPanelComponent} from \"../basic-sidebar-panel/basic-sidebar-panel.component\";\nimport {DefaultSort} from \"../search/models/sort/default-sort\";\nimport {SortOption} from \"../search/models/sort/sort-option\";\n\n@Component({\n  selector: 'wf1-filter-sidebar-panel',\n  templateUrl: `./filter-sidebar-panel.component.html`,\n  styles: []\n})\nexport class FilterSidebarPanelComponent extends BasicSidebarPanelComponent {\n  @Input()\n  recordCount = 0;\n  @Input()\n  filters?: FilterConfig[];\n  @Input()\n  defaultSort?: DefaultSort;\n  @Input()\n  sortOptions?: SortOption[];\n  @Input()\n  componentId: string;\n\n  isInitializing = true;\n  isShowingFilterOptions = false;\n\n//   constructor(public token: TokenService) {\n//     super(token);\n//   }\n\n  getMainContentClasses(): string {\n    return (this.isShowingFilterOptions) ? 'side-panel-with-toolbar-and-filter-and-filter-content' : 'side-panel-with-toolbar-and-filter-content';\n  }\n\n  setFilterSize(isShowingFilterOptions: boolean) {\n    this.isShowingFilterOptions = isShowingFilterOptions;\n  }\n}\n","import {Component, Input, OnInit, TemplateRef} from \"@angular/core\";\nimport {TokenService} from \"../services/token.service\";\n\n@Component({\n  selector: 'wf1-full-width-container',\n  templateUrl: './full-width-container.component.html',\n  styles: []\n})\nexport class FullWidthContainerComponent implements OnInit {\n  @Input()\n  titleText: string;\n  @Input()\n  mainContentTemplate: TemplateRef<any>;\n\n  public isInitializing = true;\n\n  constructor(private token: TokenService) {\n    this.isInitializing = token.getOauthToken() === null;\n  }\n\n  ngOnInit() {\n    this.token.authTokenEmitter.subscribe(() => {\n      this.isInitializing = false;\n    });\n  }\n\n}\n","import {Component, EventEmitter, Input, OnInit, Output} from \"@angular/core\";\nimport {TokenService} from \"../services/token.service\";\nimport {FilterConfig} from \"../search/models/filter/filter-config\";\n\n@Component({\n  selector: 'wf1-full-width-panel',\n  templateUrl: `./full-width-panel.component.html`,\n  styles: []\n})\nexport class FullWidthPanelComponent implements OnInit {\n  @Input()\n  titleText: string;\n  @Input()\n  linkIcon?: string;\n  @Input()\n  recordCount = 0;\n  @Input()\n  filters?: FilterConfig[];\n  @Output()\n  linkClick = new EventEmitter<string>();\n\n  isInitializing = true;\n  isShowingFilterOptions = false;\n\n  constructor(private token: TokenService) {\n    this.isInitializing = token.getOauthToken() === null;\n  }\n\n  ngOnInit() {\n    this.token.authTokenEmitter.subscribe(() => {\n      this.isInitializing = false;\n    });\n  }\n\n  getMainContentClasses(): string {\n    return (this.isShowingFilterOptions) ? 'side-panel-with-toolbar-and-filter-and-filter-content' : 'side-panel-with-toolbar-and-filter-content';\n  }\n\n  setFilterSize(isShowingFilterOptions: boolean) {\n    this.isShowingFilterOptions = isShowingFilterOptions;\n  }\n\n  titleLinkClicked() {\n    this.linkClick.emit(this.titleText);\n  }\n}\n","import {HostListener, Injectable} from \"@angular/core\";\nimport {Subject} from \"rxjs\";\n\nimport {AppConfigService} from \"./app-config.service\";\nimport {ApplicationConfig} from \"../interfaces/application-config\";\nimport {MapInstance} from \"../interfaces/map-service\";\nimport {DatePipe} from \"@angular/common\";\n\ndeclare var WFML: any; // Loaded by above WFML JS files\n\nexport interface WFMLLocation {\n  name: string;\n  type?: string;\n  dist?: number;\n  loc: [number, number];\n}\n\nexport interface Code {\n  code?: string;\n  description?: string;\n}\n\nexport interface CodeTables {\n  [prop: string]: Code[];\n}\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class MapService {\n  private mapInstances: MapInstance[] = [];\n  public mapInstanceEmitter = new Subject<any>();\n\n  constructor(\n    private appConfig: AppConfigService,\n  ) {\n    // WFML.BASE_URL = appConfig.getConfig().application.baseUrl + 'assets/js/wfml-v0.3.0/v0.3.0/wfml';\n  }\n\n  private findMapInstance(mapName): MapInstance {\n    return this.mapInstances.find(instance => instance.name === mapName);\n  }\n\n  @HostListener('resize')\n  public onResize() {\n    // for (const mapInstance of this.mapInstances) {\n    //   if (mapInstance.isInitialized && mapInstance.api) {\n    //     setTimeout(() => mapInstance.api.map.resize(), 400);\n    //   }\n    // }\n  }\n\n  /**\n   * Returns a boolean flag that indicates whether the target map instance has been initialized.\n   * @param mapName Id value of the leaflet element on the page.\n   */\n  public isMapInitialized(mapName): boolean {\n    const targetInstance = this.findMapInstance(mapName);\n    return (targetInstance && targetInstance.isInitialized);\n  }\n\n  /**\n   * initialize map\n   * @param mapName string\n   */\n  public initializeMap(mapName) {\n    // let targetInstance = this.findMapInstance(mapName);\n    // if (!targetInstance) {\n    //   targetInstance = {\n    //     name: mapName,\n    //     isInitialized: false\n    //   };\n    //   this.mapInstances.push(targetInstance);\n    // }\n    // if (!targetInstance.isInitialized) {\n    //   const config: ApplicationConfig = this.appConfig.getConfig();\n    //   // console.log(`Initializing map: ${targetInstance.name}`);\n    //   targetInstance.api = WFML.createMap('map', config.mapServiceConfig.map, config.mapServiceConfig.layerSettings);\n\n    //   targetInstance.isInitialized = true;\n    //   this.mapInstanceEmitter.next(mapName);\n    // }\n  }\n\n  /**\n   * get layer tree view\n   * @param mapName string\n   */\n  public getLayerTreeView(mapName: string) {\n    const targetInstance = this.findMapInstance(mapName);\n    return (targetInstance && targetInstance.isInitialized)\n      ? targetInstance.api.layer.treeView()\n      : null;\n  }\n\n  /**\n   * set map layer visibility\n   * @param mapName string\n   * @param id layer id\n   * @param isVisible visibility boolean\n   */\n  public setLayerVisibility(mapName: string, id: string, isVisible: boolean) {\n    const targetInstance = this.findMapInstance(mapName);\n    if (targetInstance && targetInstance.isInitialized) {\n      targetInstance.api.layer.visible(id, isVisible);\n    }\n  }\n\n  /**\n   * zoomToPoint zooms the map to a specific point.\n   * @param mapName string\n   * @param coordinates coordinates\n   * @param zoomLevel number\n   */\n  public zoomToPoint(mapName: string, coordinates: number[], zoomLevel?: number) {\n    const targetInstance = this.findMapInstance(mapName);\n    targetInstance.api.navigation.zoom(coordinates, zoomLevel);\n  }\n\n  /**\n   * stop edit\n   * @param mapName string\n   */\n  public stopEdit(mapName: string) {\n    const targetInstance = this.findMapInstance(mapName);\n    targetInstance.api.edit.stop();\n  }\n\n  /**\n   * hide all map layer objects\n   * @param mapName string\n   * @param type ued or string\n   */\n  public hideAll(mapName: string, type: 'UED' | string): void {\n    const targetInstance = this.findMapInstance(mapName);\n    const data = targetInstance.api.layer.treeView().child.find((e) => e.title === type ).child;\n    data.map( (layer) => {\n      layer.lyr.isVisible = false;\n    });\n  }\n\n  /**\n   * redray Layer\n   * @param mapName string\n   * @param layerName string\n   */\n  public redrawLayer(mapName: string, layerName: string) {\n    const targetInstance = this.findMapInstance(mapName);\n    targetInstance.api.layer.redraw(layerName);\n  }\n\n  /**\n   * add Highlight\n   * @param mapName string\n   * @param lonlat longitude latatude array\n   */\n  public addHighlight(mapName: string, lonlat: number[]) {\n    const targetInstance = this.findMapInstance(mapName);\n    this.clearHighlight(mapName);\n    targetInstance.api.highlight.add(lonlat);\n  }\n\n  /**\n   * clear all highlights on map.\n   * @param mapName string\n   */\n  public clearHighlight(mapName: string) {\n    const targetInstance = this.findMapInstance(mapName);\n    targetInstance.api.highlight.clear();\n  }\n\n  /**\n   * Load Report of Fires as markers from report of fires resources\n   * @param mapName string\n   * @param reportOfFires collection of report of fire resources from WFIM api\n   * @param markerClickCallback callback function for markers\n   */\n  public loadRoFMarkers(mapName: string, reportOfFires, markerClickCallback?): void {\n    const targetInstance = this.findMapInstance(mapName);\n\n    const markers = reportOfFires.map(rof => {\n      const date = (rof.messageStatusTimestamp) ? new DatePipe('en-US').transform(new Date(rof.messageStatusTimestamp), 'yyyy-MM-dd HH:mm:ss') : '';\n\n      let phoneNumber = '';\n      if (rof.callerTelephone) {\n        const numberSegments = rof.callerTelephone.replace(/\\D/g, '').match(/(\\d{3})(\\d{3})(\\d{4})/);\n        if (numberSegments && numberSegments.length === 4) {\n          phoneNumber = `(${numberSegments[1]}) ${numberSegments[2]}-${numberSegments[3]}`;\n        } else {\n          console.error(`RoF ${rof.wildfireYear}-${rof.reportOfFireNumber} phone number value '${rof.callerTelephone}' is not valid.`);\n        }\n      }\n      return {\n        \"messageTypeCode\": \"Public Report of Fire\",\n        \"messageStatusCode\": rof.messageStatusCode,\n        \"reportOfFireNumber\": rof.reportOfFireNumber,\n        \"reportOfFireLabel\": rof.reportOfFireLabel,\n        \"wildfireYear\": rof.wildfireYear,\n        \"hoverTitle\": rof.publicReportTypeCode,\n        \"publicReportTypeCode\": rof.publicReportTypeCode,\n        \"latitude\": rof.latitude,\n        \"longitude\": rof.longitude,\n        \"yearNumber\": rof.reportOfFireLabel,\n        \"latLon\": this.formatCoordinates([ rof.longitude, rof.latitude ]),\n        \"lastUpdated\": date,\n        \"updatedBy\": rof.messageStatusUserId,\n        \"valuesBeingThreatenedNote\": rof.valuesBeingThreatenedNote,\n        \"fireSizeComparisonCode\": rof.fireSizeComparisionCode,\n        \"callerName\": rof.callerName,\n        \"callerTelephone\": phoneNumber\n      };\n    });\n\n    targetInstance.api.layer.visible(WFML.RoF.LAYER_ID, true);\n    WFML.RoF.Util.clear(targetInstance.api);\n    WFML.RoF.Util.addClusteredMarkers(targetInstance.api, markers, markerClickCallback);\n  }\n\n    /**\n     * Load Incidents as markers from incident resources\n     * @param mapName string\n     * @param optionsCodeTables Code[]\n     * @param orgOptionsCodeTables Code[]\n     * @param incidents collection of report of fire resources from WFIM api\n     * @param markerClickCallback callback function for markers\n     */\n    public loadIncidentMarkers(mapName: string, incidents, optionsCodeTables: CodeTables, orgOptionsCodeTables: CodeTables, markerClickCallback?): void {\n      const targetInstance = this.findMapInstance(mapName);\n\n      const markers = incidents.map(incident => {\n        const interfaceFireInd = (incident.incidentSituation) ? incident.incidentSituation.interfaceFireInd : false;\n        const interfaceText = (interfaceFireInd) ? 'Interface' : 'Non Interface';\n        const markerLabel = (incident.incidentLabel === `${incident.wildfireYear}-${incident.incidentNumberSequence}`) ? `${incident.incidentNumberSequence}` : incident.incidentLabel;\n        const incidentTypeCode = optionsCodeTables['INCIDENT_TYPE_CODE'].find(option => option.code === incident.incidentTypeCode);\n        const stageOfControlCode = (incident.incidentSituation) ? optionsCodeTables['STAGE_OF_CONTROL_CODE'].find(option => option.code === incident.incidentSituation.stageOfControlCode) : undefined;\n        const fireCentreOrgUnitIdentifier = orgOptionsCodeTables['FIRE_CENTRE_CODE'].find(option => option.code === incident.fireCentreOrgUnitIdentifier);\n        const zoneOrgUnitIdentifier = orgOptionsCodeTables['ZONE_CODE'].find(option => option.code === incident.zoneOrgUnitIdentifier);\n\n        return {\n          \"wildfireYear\": incident.wildfireYear,\n          \"incidentNumberSequence\": incident.incidentNumberSequence,\n          \"hoverTitle\": interfaceText,\n          \"incidentId\": incident.incidentId,\n          \"incidentName\": incident.incidentName,\n          \"incidentLocation\": {\n            \"latitude\": incident.incidentLocation ? incident.incidentLocation.latitude : '',\n            \"longitude\": incident.incidentLocation ? incident.incidentLocation.longitude : ''\n          },\n          \"incidentSituation\": {\n            \"interfaceFireInd\": interfaceFireInd\n          },\n          \"incidentStatusCode\": incident.incidentStatusCode,\n          \"markerLabel\": markerLabel,\n          \"incidentLabel\": incident.incidentLabel,\n          \"probabilityOfInitialAttackSuccessCode\": incident.probabilityOfInitialAttackSuccessCode,\n          \"suspectedCauseCategoryCode\": incident.suspectedCauseCategoryCode,\n          \"incidentCategoryCode\": incident.incidentCategoryCode,\n          \"incidentTypeCode\": incidentTypeCode ? incidentTypeCode.description : '',\n\n          \"stageOfControlCode\": stageOfControlCode ? stageOfControlCode.description : '',\n          \"fireCentreOrgUnitIdentifier\": fireCentreOrgUnitIdentifier ? fireCentreOrgUnitIdentifier.description : '',\n          \"zoneOrgUnitIdentifier\": zoneOrgUnitIdentifier ? zoneOrgUnitIdentifier.description : '',\n          \"latLon\": incident.incidentLocation ? WFML.Location.format([ incident.incidentLocation.longitude, incident.incidentLocation.latitude ]) : [],\n          \"geographicDescription\": incident.incidentLocation ? incident.incidentLocation.geographicDescription : '',\n          \"fireSizeHectares\": incident.incidentSituation ? incident.incidentSituation.fireSizeHectares : ''\n        };\n      });\n\n      targetInstance.api.layer.visible(WFML.Incident.LAYER_ID, true);\n      WFML.Incident.Util.clear(targetInstance.api);\n      WFML.Incident.Util.addClusteredMarkers(targetInstance.api, markers, markerClickCallback);\n    }\n\n  /**\n   * Clear markers from the specified mapName and markerLayerId\n   * @param mapName string\n   * @param markerLayerId identifier for the marker layer tracked by the marker manager\n   */\n  public clearMarkers(mapName: string, markerLayerId: string) {\n    const targetInstance = this.findMapInstance(mapName);\n    return targetInstance.api.marker.removeMarkers( markerLayerId );\n  }\n\n    /**\n     * Set markers layer visibility from the specified mapName and markerLayerId\n     * @param mapName string\n     * @param markerLayerId identifier for the marker layer tracked by the marker manager\n     * @param visible boolean for setting the visibility of the marker layer\n     */\n    public showMarkers(mapName: string, markerLayerId: string, visible: boolean) {\n        const targetInstance = this.findMapInstance(mapName);\n        return targetInstance.api.marker.showMarkers( markerLayerId, visible );\n    }\n\n   /**\n   * Add legend layers\n   * @param mapName name of the map instance\n   * @param layerId id of the target map layer the legend attaches to\n   * @param legend structure based on WFML api for legends - refer to WFML test bed for examples\n   */\n  public addLegend(mapName: string, layerId: string, legend: any): void {\n    const targetInstance = this.findMapInstance(mapName);\n    if (targetInstance) {\n      targetInstance.api.layer.legend(layerId, legend);\n    }\n  }\n\n  /**\n   * Clear selected point (pin) from the specified map instance\n   */\n  public clearSelectPoint(mapName: string): void {\n      const targetInstance = this.findMapInstance(mapName);\n      if (targetInstance) {\n        targetInstance.api.selectPoint.clear();\n      }\n  }\n\n  public setMaxSearchDistance(mapName: string, withinDistance: number) {\n    const targetInstance = this.findMapInstance(mapName);\n    targetInstance.api.search.setMaximumDistance(withinDistance);\n  }\n\n  public findPlace(mapName: string, searchText: string) {\n    const targetInstance = this.findMapInstance(mapName);\n    targetInstance.api.search.findPlace(searchText);\n  }\n\n  public findRoad(mapName: string, searchText: string) {\n    const targetInstance = this.findMapInstance(mapName);\n    targetInstance.api.search.findRoad(searchText);\n  }\n\n  public findIntersection(mapName: string, roadName: string, intersectingRoadName: string) {\n    const targetInstance = this.findMapInstance(mapName);\n    targetInstance.api.search.findIntersection(roadName, intersectingRoadName);\n  }\n\n  public clearPlaceNameSearch(mapName: string) {\n    const targetInstance = this.findMapInstance(mapName);\n    targetInstance.api.search.clear();\n  }\n\n  public panToPlaceNameSearchLocation(mapName: string) {\n    const targetInstance = this.findMapInstance(mapName);\n    targetInstance.api.search.panToAnchor();\n  }\n\n  public zoomToPlaceNameSearchLocation(mapName: string) {\n    const targetInstance = this.findMapInstance(mapName);\n    targetInstance.api.search.zoomToAnchor();\n  }\n\n  public showCandidate(mapName: string, location: WFMLLocation) {\n    const targetInstance = this.findMapInstance(mapName);\n    targetInstance.api.search.showCandidate(location);\n  }\n\n  public clearCandidate(mapName: string) {\n    const targetInstance = this.findMapInstance(mapName);\n    // showCandidate() with empty params clears the candidate selection.\n    targetInstance.api.search.showCandidate();\n  }\n\n  public setAnchor(mapName: string, point: number[]) {\n    const targetInstance = this.findMapInstance(mapName);\n    targetInstance.api.search.setAnchor(point);\n  }\n\n  public setAnchorFromMap(mapName: string): [number, number] {\n    const targetInstance = this.findMapInstance(mapName);\n    const point = targetInstance.api.selectPoint.get();\n    if (point) {\n      targetInstance.api.search.setAnchor(point);\n    }\n    return point;\n  }\n\n  public getBasemaps(mapName: string): any {\n    const targetInstance = this.findMapInstance(mapName);\n    return targetInstance.api.basemap.all();\n  }\n\n  public setBasemap(mapName: string, baseMapIndex: number) {\n    const targetInstance = this.findMapInstance(mapName);\n    targetInstance.api.basemap.switch(baseMapIndex);\n  }\n  public registerPlaceNameSearchListener(mapName: string, callback: any) {\n    const targetInstance = this.findMapInstance(mapName);\n    targetInstance.api.search.setResultHandler(callback);\n  }\n\n  public registerMapClickListener(mapName: string, callback: any) {\n    const targetInstance = this.findMapInstance(mapName);\n    targetInstance.api.callback.click(callback);\n  }\n\n  public registerMapHoverListener(mapName: string, callback: any, hoverDelay: number) {\n    const targetInstance = this.findMapInstance(mapName);\n    targetInstance.api.callback.hover(callback, hoverDelay);\n  }\n\n  public registerMapSelectPointListener(mapName: string, callback: any) {\n    const targetInstance = this.findMapInstance(mapName);\n    targetInstance.api.callback.selectPoint(callback);\n  }\n\n  public clearPlaceNameSearchListener(mapName: string) {\n    const targetInstance = this.findMapInstance(mapName);\n    targetInstance.api.search.setResultHandler();\n  }\n\n  public clearMapClickListener(mapName: string) {\n    const targetInstance = this.findMapInstance(mapName);\n    targetInstance.api.callback.click();\n  }\n\n  public clearMapHoverListener(mapName: string) {\n    const targetInstance = this.findMapInstance(mapName);\n    targetInstance.api.callback.hover();\n  }\n\n  public clearMapSelectPointListener(mapName: string) {\n    const targetInstance = this.findMapInstance(mapName);\n    targetInstance.api.callback.selectPoint();\n  }\n\n  public formatCoordinates(coordinates: [number, number]): string {\n    return WFML.Location.format(coordinates);\n  }\n\n  public parseCoordinates(url: string): [number, number] {\n    return WFML.Location.parse(url);\n  }\n\n  public activateTool(mapName: string, toolName: string) {\n    const targetInstance = this.findMapInstance(mapName);\n    targetInstance.api.tool.activate(toolName);\n  }\n\n  public persistState(mapName: string, key: string, opt: any) {\n    const targetInstance = this.findMapInstance(mapName);\n    targetInstance.api.state.persist(key, opt);\n  }\n}\n","import {Component, Input, OnInit} from \"@angular/core\";\n// External\nimport {select, Store} from \"@ngrx/store\";\n// Models\nimport { CodeTablesIndex } from './models/code-tables-index';\nimport { WildfireIncidentResource } from '@wf1/incidents-rest-api';\n// Redux\nimport {MapService} from \"../services/map.service\";\n\n@Component({\n\tselector: 'wf1-info-incident-panel',\n\ttemplateUrl: './info-incident-panel.component.html',\n\tstyleUrls: ['./info-incident-panel.component.scss']\n})\nexport class InfoIncidentPanelComponent implements OnInit {\n\n\t@Input() incident: WildfireIncidentResource;\n\tcodeLabelLookupTables: CodeTablesIndex = {};\n\n\tconstructor(\n\t\tprivate store: Store<any>,\n    private mapService: MapService\n\t) {}\n\n\tngOnInit() {\n\t\tthis.getCodeLookupTables();\n\t}\n\n\tgetCodeLookupTables() {\n\t\tthis.store.pipe(select('codeData', 'codeIndex')).subscribe(codeIndex => this.codeLabelLookupTables = codeIndex);\n\t}\n\n\tgetLabel(table: string, value: string) {\n\t\treturn this.codeLabelLookupTables[table] && value ? this.codeLabelLookupTables[table][value] : '';\n\t}\n\n\tgetPanelClasses() {\n    let incidentClass;\n    if (this.incident.incidentSituation) {\n      incidentClass = (this.incident.incidentSituation.interfaceFireInd)\n        ? 'incident-interface'\n        : 'incident-non-interface';\n    } else {\n      incidentClass = 'incident-default';\n    }\n\t  return `info-panel ${incidentClass}`;\n  }\n\n  getFormattedLocation() {\n\t  return (this.incident && this.incident.incidentLocation)\n      ? this.mapService.formatCoordinates([this.incident.incidentLocation.longitude, this.incident.incidentLocation.latitude])\n      : '';\n  }\n}\n","import {Component, EventEmitter, Input, OnInit, Output} from \"@angular/core\";\n// Models\nimport {Info, ListItemConfig} from \"./list-item-config\";\nimport {IconSize, IconType, IncidentType, ReportOfFireType} from \"../../application-icon/application-icon.model\";\nimport {MapService} from \"../../services/map.service\";\n\nexport class InternalListItemConfig {\n  icon: {\n    type: IconType;\n    size: IconSize;\n    colourCode: IncidentType | ReportOfFireType;\n    isBlinking: boolean;\n    isCancelled: boolean;\n    isAssignedToIncident: boolean;\n  };\n  time?: string;\n  title: string;\n  titleLevelInfo: Info;\n  infoRows: [[Info,Info]];\n  location: [number, number];\n}\n\n@Component({\n  selector: 'wf1-list-item',\n  templateUrl: './list-item.component.html',\n  styleUrls: ['./list-item.component.scss']\n})\nexport class ListItemComponent implements OnInit {\n  public TOOLTIP_DELAY = 500;\n\n  @Input()\n  config: ListItemConfig;\n  @Input()\n  mapElement: string;\n  @Output()\n  itemSelect = new EventEmitter<ListItemConfig>();\n\n  internalConfig: InternalListItemConfig;\n\n  constructor(private mapService: MapService) {}\n\n  ngOnInit() {\n    if (this.config) {\n      this.internalConfig = new InternalListItemConfig();\n      this.internalConfig.icon = {\n        type: this.config.icon as IconType,\n        size: (this.config.time) ? IconSize.LIST_SMALL : IconSize.LIST_LARGE,\n        colourCode: (this.config.iconColourCode !== undefined)\n          ? this.config.iconColourCode : IncidentType.DEFAULT,\n        isBlinking: (this.config.iconIsBlinking !== undefined)\n          ? this.config.iconIsBlinking : false,\n        isCancelled: (this.config.iconIsCancelled !== undefined)\n          ? this.config.iconIsCancelled : false,\n        isAssignedToIncident: (this.config.iconIsAssignedToIncident !== undefined)\n          ? this.config.iconIsAssignedToIncident : false,\n      };\n\n      this.internalConfig.time = this.config.time;\n      this.internalConfig.title = this.config.title;\n      this.internalConfig.infoRows = [[null, null]];\n      let currentRow:[Info, Info] = [null, null];\n      this.internalConfig.infoRows.shift();\n      console.log(this.config.info);\n      for (let index=0; index<this.config.info.length; index++) {\n        if (index == 0) {\n          this.internalConfig.titleLevelInfo = this.config.info[index];\n        } else {\n          let isFirstRowEntry = (index % 2);\n          if (isFirstRowEntry) {\n            currentRow[0] = this.config.info[index];\n          } else {\n            currentRow[1] = this.config.info[index];\n            this.internalConfig.infoRows.push(currentRow);\n            currentRow = [null, null];\n          }\n        }\n      }\n      this.internalConfig.location = this.config.location;\n      if (currentRow[0]) { //If odd number of items, push half-finished row into set.\n        this.internalConfig.infoRows.push(currentRow);\n      }\n    }\n  }\n\n  handleMouseEvent(location?: [number, number]) {\n    if (location) {\n      this.mapService.addHighlight(this.mapElement, location);\n    } else {\n      this.mapService.clearHighlight(this.mapElement);\n    }\n  }\n\n  handleClick() {\n    this.itemSelect.emit(this.config);\n  }\n\n  zoomToPlace(location: [number, number]) {\n    if (location) {\n      this.mapService.zoomToPoint(this.mapElement, location);\n    }\n  }\n}\n","import {Component, Input} from \"@angular/core\";\n\n@Component({\n  selector: 'wf1-list-container',\n  templateUrl: './list-container.component.html'\n})\nexport class ListContainerComponent {\n  @Input() public loading = false;\n}\n","import {Component, EventEmitter, Input, Output} from \"@angular/core\";\nimport {TokenService} from \"../services/token.service\";\nimport {BasicSidebarPanelComponent} from \"../basic-sidebar-panel/basic-sidebar-panel.component\";\n\n@Component({\n    selector: 'wf1-location-sidebar-panel',\n    templateUrl: `./location-sidebar-panel.component.html`,\n    styles: []\n})\nexport class LocationSidebarPanelComponent extends BasicSidebarPanelComponent {\n  @Input()\n  set location(location: [number, number]) {\n    if (location) {\n      this.selectedLocation = location;\n    }\n  }\n\n  selectedLocation: [number, number];\n\n  @Output()\n  locationSelect = new EventEmitter<[number, number]>();\n\n  isInitializing = true;\n\n//   constructor(public token: TokenService) {\n//       super(token);\n//   }\n\n  locationSelected(coordinates: [number, number]) {\n      this.locationSelect.emit(coordinates);\n  }\n}\n","import {Component, EventEmitter, Input, OnDestroy, OnInit, Output} from \"@angular/core\";\n// Models\nimport {AppConfigService} from \"../services/app-config.service\";\nimport {MapService} from \"../services/map.service\";\nimport {AbstractControl, FormControl, ValidatorFn} from \"@angular/forms\";\n\n@Component({\n    selector: 'wf1-location-toolbar',\n    templateUrl: 'location-toolbar.component.html',\n})\nexport class LocationToolbarComponent implements OnInit, OnDestroy {\n    @Input()\n    set location(location: [number, number]) {\n      if (location) {\n        // this.selectedLocation.setValue(this.mapService.formatCoordinates(location));\n        this.locationSelect.emit(location);\n      }\n    }\n\n    @Output()\n    locationSelect = new EventEmitter<[number, number]>();\n\n    public TOOLTIP_DELAY = 500;\n    public MAP_INSTANCE = 'map';\n\n    // selectedLocation = new FormControl('', this.geometryValidator(this.mapService));\n\n    constructor(\n        private config: AppConfigService,\n        private mapService: MapService,\n    ) {\n    }\n\n    geometryValidator(mapService): ValidatorFn {\n      return (control: AbstractControl): { [key: string]: any } | null => {\n          return null\n        // if (!control.value) {\n        //   return null;\n        // }\n        // const coordinates = mapService.parseCoordinates(control.value);\n        // if (!coordinates) {\n        //  return { invalidGeom: 'The geometry is invalid' };\n        // } else {\n        //   this.mapService.setAnchor(this.MAP_INSTANCE, coordinates);\n        //   // const formattedCoordinates = mapService.formatCoordinates(coordinates);\n        //   // if (formattedCoordinates !== control.value) {\n        //   //   control.patchValue(formattedCoordinates, { emitEvent: false })\n        //   // }\n        // }\n        // return null;\n      };\n    }\n\n    ngOnInit() {\n    }\n\n    ngOnDestroy() {\n    }\n\n    zoomToSelectedLocation() {\n        // this.mapService.zoomToPlaceNameSearchLocation(this.MAP_INSTANCE);\n    }\n\n    setAnchorFromMap() {\n        // const location = this.mapService.setAnchorFromMap(this.MAP_INSTANCE);\n        // if (location) {\n        //     this.selectedLocation.setValue(this.mapService.formatCoordinates(location));\n        //     this.locationSelect.emit(location);\n        // } else if (this.selectedLocation.value) {\n        //     this.locationSelect.emit(this.mapService.parseCoordinates(this.selectedLocation.value));\n        // } else {\n        //     this.locationSelect.emit(null);\n        // }\n    }\n\n    clearSelectedLocation() {\n        // this.selectedLocation.setValue('');\n        // this.locationSelect.emit(null);\n        // this.mapService.setAnchor(this.MAP_INSTANCE, null);\n    }\n}\n","import {Component, Inject, OnInit} from \"@angular/core\";\nimport {MAT_DIALOG_DATA} from \"@angular/material/dialog\";\n\n@Component({\n  selector: 'wf1-report-dialog',\n  templateUrl: './report-dialog.component.html',\n  styleUrls: ['./report-dialog.component.scss']\n})\nexport class ReportDialogComponent implements OnInit {\n  elementId;\n  reportPath;\n  reportParams;\n  supportedExportFormats;\n\n  constructor(@Inject(MAT_DIALOG_DATA) public data: any) {\n    if (data) {\n      this.elementId = data.elementId;\n      this.reportPath = data.reportPath;\n      this.reportParams = data.reportParams;\n      this.supportedExportFormats = data.supportedExportFormats;\n    }\n  }\n\n  ngOnInit() {\n  }\n\n}\n","import {AppConfigService} from \"../services/app-config.service\";\nimport {SearchState} from \"../search/store/state\";\nimport {Injector} from \"@angular/core\";\nimport {TokenService} from \"../services/token.service\";\n\n/**\n * Function needed to run the application config service at app initialization time.\n */\nexport function appInitializerFn(injector: Injector) {\n  const appConfig = injector.get(AppConfigService);\n  appConfig.configEmitter.subscribe(config => {\n    const tokenService = injector.get(TokenService);\n  });\n  return () => appConfig.loadAppConfig();\n}\n\n\nexport const selectCurrentSearchParam = (prop, param) => (state: SearchState): any => ((state[prop]) ? state[prop][param] : null);\n","import {Action} from \"@ngrx/store\";\n// Models\nimport {SortDirection} from \"../models/sort/sort-direction\";\n\nexport enum SearchActionTypes {\n  UPDATE_SEARCH_QUERY = '[ Search ] Update search query text',\n  RESET_SEARCH_QUERY = '[ Search ] Reset search query text',\n  UPDATE_SORT = '[ Search ] Update active sort',\n  TOGGLE_SORT_MODAL = '[ Search ] Toggle sort modal visibility',\n  UPDATE_ACTIVE_FILTERS = '[ Search ] Update active filters',\n  UPDATE_HIDDEN_FILTERS = '[ Search ] Update hidden filters',\n  CLEAR_FILTER = '[ Search ] Clear filter',\n  CLEAR_ALL_FILTERS = '[ Search ] Clear all filters',\n  REFRESH_SEARCH = '[ Search ] Refresh search'\n}\n\nexport class UpdateSearchQueryAction implements Action {\n  type = SearchActionTypes.UPDATE_SEARCH_QUERY;\n  constructor(public query: string, public componentId?: string) {}\n}\n\nexport class ResetSearchQueryAction implements Action {\n  type = SearchActionTypes.RESET_SEARCH_QUERY;\n  constructor(public componentId?: string) {}\n}\n\nexport class UpdateSortAction implements Action {\n  type = SearchActionTypes.UPDATE_SORT;\n  constructor(public param: string, public direction: SortDirection, public componentId?: string) {}\n}\n\nexport class ToggleSortModalAction implements Action {\n  type = SearchActionTypes.TOGGLE_SORT_MODAL;\n  constructor(public componentId?: string) {}\n}\n\nexport class UpdateActiveFiltersAction implements Action {\n  type = SearchActionTypes.UPDATE_ACTIVE_FILTERS;\n  constructor(public filters: { [param: string]: any[] }, public componentId?: string) {}\n}\n\nexport class UpdateHiddenFiltersAction implements Action {\n  type = SearchActionTypes.UPDATE_HIDDEN_FILTERS;\n  constructor(public filters: { [param: string]: any[] }, public componentId?: string) {}\n}\n\nexport class ClearFilterAction implements Action {\n  type = SearchActionTypes.CLEAR_FILTER;\n  constructor(public filterToRemove: string, public componentId?: string) {}\n}\n\nexport class ClearAllFiltersAction implements Action {\n  type = SearchActionTypes.CLEAR_ALL_FILTERS;\n  constructor(public componentId?: string) {}\n}\n\nexport class RefreshSearchAction implements Action {\n    type = SearchActionTypes.REFRESH_SEARCH;\n    constructor(public componentId?: string) {}\n}\n\nexport type SearchActions = UpdateSearchQueryAction |\n              ResetSearchQueryAction |\n              UpdateSortAction |\n              ToggleSortModalAction |\n              UpdateActiveFiltersAction |\n              UpdateHiddenFiltersAction |\n              ClearFilterAction |\n              ClearAllFiltersAction |\n              RefreshSearchAction;\n","import { AfterViewInit, Component, ElementRef, EventEmitter, Input, OnChanges, OnInit, Output, SimpleChanges, ViewChild } from \"@angular/core\";\nimport { FormArray, FormBuilder, FormControl, FormGroup } from \"@angular/forms\";\nimport { select, Store } from \"@ngrx/store\";\nimport * as momentInstance from \"moment\";\nimport { IncidentType } from \"../../../application-icon/application-icon.model\";\nimport { selectCurrentSearchParam } from \"../../../utils\";\nimport { FilterConfig } from \"../../models/filter/filter-config\";\nimport * as SearchActions from \"../../store/actions\";\nimport { SearchState } from \"../../store/state\";\n\nconst moment = momentInstance;\ndeclare var $: any;\n\n@Component({\n    selector: 'wf1-filters',\n    templateUrl: './filters.component.html',\n    styleUrls: ['./filters.component.scss']\n})\nexport class FiltersComponent implements OnInit, AfterViewInit, OnChanges {\n\n    @Input() filters: FilterConfig[] = []\n\n    constructor(\n        private formBuilder: FormBuilder,\n        private store: Store<SearchState>\n    ) { }\n\n    ngOnChanges(changes: SimpleChanges): void {\n        if (changes.filters) {\n            this.createForm()\n        }\n    }\n\n    public TOOLTIP_DELAY = 500;\n    fromDateMin = [];\n    toDateMax = [];\n    DATE_FORMATS = {\n        fullPickerInput: 'YYYY-MM-DD HH:mm',\n        datePickerInput: 'YYYY-MM-DD',\n        timePickerInput: 'HH:mm:ss',\n        monthYearLabel: 'YYYY-MM',\n        dateA11yLabel: 'YYYY-MMM-DD',\n        monthYearA11yLabel: 'YYYY-MMM',\n    };\n    private _filters: FilterConfig[];\n\n    @Input()\n    componentId: string;\n\n    @Output()\n    isShowingFilterOptions = new EventEmitter<boolean>();\n\n    filterForm: FormGroup;\n    activeFilters: { [param: string]: any[] } = {};\n    showBody = false;\n    lastTabPosition = -1;\n\n    clearFilterIconType = IncidentType.NOT_SET;\n\n    @ViewChild('filtertabbody')\n    filterTabBodyEl: ElementRef;\n\n    validateDate = (m): boolean => {\n        if (!m) { // empty value , so return valid format true\n            return true;\n        } else if (m.creationData) { //Moment\n            let input = m.creationData().input;\n            if (input.year) { //datepicker selection - input is a Date object - must be valid\n                return true;\n            } else { //string input - check strict format using moment\n                return moment(input, this.DATE_FORMATS.datePickerInput, true).isValid() || moment(input, this.DATE_FORMATS.fullPickerInput, true).isValid();\n            }\n        } else {\n            return true;\n        }\n    }\n\n    ngOnInit() {\n    }\n\n    ngAfterViewInit() {\n        this.getActiveFilters();\n        setTimeout(() => {\n            this.toggleActiveTabContent(true, true);\n        }, 500);\n    }\n\n    createForm() {\n        let fb = this.formBuilder\n\n        const config = this.filters.reduce(function (acc, f) {\n            switch (f.type) {\n                case 'dateRange':\n                case 'dateTimeRange':\n                    acc[f.param] = fb.array([fb.control(null), fb.control(null)])\n                    break\n\n                case 'single':\n                    acc[f.param] = fb.control(null)\n                    break\n\n                case 'multi':\n                default:\n                    acc[f.param] = fb.array(f.options.map(function () {\n                        return fb.control(false)\n                    }))\n                    break\n            }\n            return acc\n        }, {})\n\n        this.filterForm = this.formBuilder.group(config)\n    }\n\n    checkboxUpdated(event) {\n        const fv = this.filterForm.getRawValue()\n        // console.log(fv)\n        this.extractValuesFromForm(fv);\n    }\n\n    dateUpdated(event, param, fromTo) {\n        let fromControl = this.getFormControlsFromArray(this.filterForm, param)[0];\n        let toControl = this.getFormControlsFromArray(this.filterForm, param)[1];\n        let hasError = false;\n\n        let fromVal = fromTo == 'from' ? event.value : fromControl.value;\n        let toVal = fromTo == 'to' ? event.value : toControl.value;\n        if (fromTo == 'from' && !this.validateDate(fromVal)) {\n            fromControl.setErrors({ 'incorrectFormat': true });\n            hasError = true;\n        } else if (fromTo == 'to' && !this.validateDate(toVal)) {\n            toControl.setErrors({ 'incorrectFormat': true });\n            hasError = true;\n        }\n\n        if (!hasError && fromVal && toVal) {\n            fromControl.setErrors(null);\n            toControl.setErrors(null);\n            let toMoment = moment(toVal);\n            let fromMoment = moment(fromVal);\n            if (fromMoment.isAfter(toMoment)) {\n                if (fromTo == 'from') {\n                    fromControl.setErrors({ 'fromAfterTo': true });\n                } else {\n                    toControl.setErrors({ 'toBeforeFrom': true });\n                }\n                hasError = true;\n            }\n        }\n        if (!hasError) {\n            this.extractValuesFromForm(this.filterForm.getRawValue());\n        }\n    }\n\n    getActiveFilters() {\n        this.store.pipe(select(selectCurrentSearchParam(this.componentId, 'filters'))).subscribe(filters => {\n            this.activeFilters = filters;\n            setTimeout(() => {\n                this.updateFormValues();\n            }, 0);\n\n        });\n    }\n\n    selectTab(tab) {\n        // Toggle tab content if active tab is selected, or open tab content if tab clicked and currently tabs are hidden.\n        this.toggleActiveTabContent(tab.isActive, this.showBody);\n\n        if (tab.isActive || !this.showBody) {\n            this.showBody = !this.showBody;\n            this.isShowingFilterOptions.emit(this.showBody);\n        }\n\n        this.lastTabPosition = tab.position;\n    }\n\n    toggleActiveTabContent(isActiveTab, showBody) {\n        let tabBodyWrapperEl = this.filterTabBodyEl.nativeElement.parentElement;\n\n        if (isActiveTab) {\n            if (showBody) {\n                tabBodyWrapperEl.classList.remove('slidedown');\n                tabBodyWrapperEl.classList.add('slideup');\n            } else {\n                tabBodyWrapperEl.classList.remove('slideup');\n                tabBodyWrapperEl.classList.add('slidedown');\n            }\n        } else {\n            tabBodyWrapperEl.classList.remove('slideup');\n            tabBodyWrapperEl.classList.add('slidedown');\n        }\n    }\n\n    clearFilter(param: string) {\n        this.store.dispatch(new SearchActions.ClearFilterAction(param, this.componentId));\n        let formArray = this.filterForm.get(param) as FormArray;\n        for (let i = 0; i < formArray.length; i++) {\n            let formControl = formArray.controls[i] as FormControl;\n            formControl.reset();\n        }\n    }\n\n    // Update from values from Redux\n    updateFormValues() {\n        let af = this.activeFilters\n\n        const formValue = this.filters.reduce(function (acc, f) {\n            switch (f.type) {\n                case 'dateRange':\n                case 'dateTimeRange':\n                    acc[f.param] = af && af[f.param] || [null, null]\n                    break\n\n                case 'single':\n                    acc[f.param] = ([].concat(af[f.param]))[0] // ensure scalar, might be array\n                    break\n\n                case 'multi':\n                default:\n                    acc[f.param] = f.options\n                        .map(function (o) {\n                            if (!af || !af[f.param]) return false\n                            return af[f.param].includes(o.value)\n                        })\n                    break\n            }\n\n            return acc\n        }, {})\n        this.filterForm.patchValue(formValue, { emitEvent: false });\n    }\n\n    // Convert form control boolean values to filter values\n    extractValuesFromForm(filterValues: { [prop: string]: any }) {\n        const filter: { [key: string]: FilterConfig } = this.filters.reduce(function (acc, f) {\n            acc[f.param] = f\n            return acc\n        }, {})\n\n        const validDate = (d) => {\n            if (!d || !this.validateDate(d)) return null\n            return d\n        }\n\n        const activeFilters = Object.entries(filterValues).reduce(function (acc, [prop, val]) {\n            let f = filter[prop]\n\n            switch (f.type) {\n                case 'dateRange':\n                case 'dateTimeRange':\n                    acc[prop] = [validDate(val[prop][0]), validDate(val[prop][1])]\n                    break\n\n                case 'single':\n                    acc[prop] = val\n                    break\n\n                case 'multi':\n                default:\n                    let vals = val\n                        .map(function (v, i) { return v ? f.options[i].value : null })\n                        .filter(function (v) { return v })\n\n                    if (vals.length > 0)\n                        acc[prop] = vals\n\n                    break\n            }\n\n            return acc\n        }, {})\n\n        if (this.filterForm.valid) {\n            this.store.dispatch(new SearchActions.UpdateActiveFiltersAction(activeFilters, this.componentId));\n        }\n    }\n\n    // Template functions\n    getFormArrayNames(group: FormGroup): string[] {\n        return Object.keys(group.controls);\n    }\n\n    getFormControlsFromArray(group: FormGroup, prop: string): FormGroup[] {\n        const array = group.get(prop) as FormArray;\n        return array.controls as FormGroup[];\n    }\n\n    getSelectedFilterValues(param: string) {\n        const filter = this.filters.find(function (f) { return f.param == param })\n        let af = this.activeFilters[param]\n\n        switch (filter.type) {\n            case 'dateRange':\n            case 'dateTimeRange':\n                let controls = this.getFormControlsFromArray(this.filterForm, param);\n                if (controls) {\n                    let format = filter.type == 'dateRange' ? this.DATE_FORMATS.datePickerInput : this.DATE_FORMATS.fullPickerInput;\n\n                    let from = controls[0] && controls[0].value && this.validateDate(controls[0].value) ? moment(controls[0].value).format(format) : 'Any';\n                    let to = controls[1] && controls[1].value && this.validateDate(controls[1].value) ? moment(controls[1].value).format(format) : 'Any';\n                    return from == \"Any\" && to == \"Any\" ? \"Any\" : from + ' - ' + to;\n                } else {\n                    return \"Any\";\n                }\n\n            case 'single':\n                let val = ([].concat(af))[0]\n                if (!val) return 'Any'\n\n                return filter.options.find(function (o) { return o.value == val }).label\n\n            case 'multi':\n            default:\n                if (!af || !af.length)\n                    return 'Any'\n\n                return filter.options.find(function (o) { return o.value == af[0] }).label\n            // return (this.activeFilters\n            //     && this.labelLookup\n            //     && this.activeFilters[param]\n            //     && this.activeFilters[param].length > 0\n            //     //&& this.activeFilters[param][0]\n            //     && this.labelLookup[param])\n            //     ? this.labelLookup[param][this.activeFilters[param][0]]\n            //     : \"Any\";\n        }\n    }\n\n}\n","import {Component, Input, OnInit} from \"@angular/core\";\n// External\nimport {select, Store} from \"@ngrx/store\";\n// Models\nimport {DefaultSort} from \"../../models/sort/default-sort\";\nimport {SortDirection} from \"../../models/sort/sort-direction\";\nimport {SortOption} from \"../../models/sort/sort-option\";\n// Redux\nimport {SearchState} from \"../../store/state\";\nimport * as SearchActions from \"../../store/actions\";\nimport {selectCurrentSearchParam} from \"../../../utils\";\n\n@Component({\n  selector: 'wf1-sort-modal',\n  templateUrl: './sort.component.html',\n  styleUrls: []\n})\nexport class SortComponent implements OnInit {\n\n  @Input() defaultSort: DefaultSort;\n  @Input() options: SortOption[];\n  @Input() componentId: string;\n\n  isVisible = false;\n\n  activeSortParam: string;\n  activeSortDir: SortDirection;\n\n  constructor(\n    private store: Store<SearchState>\n  ) {}\n\n  ngOnInit() {\n    this.setVisiblility();\n    this.setDefaultSort();\n  }\n\n  setVisiblility() {\n    this.isVisible = true;\n    this.store.pipe(select(selectCurrentSearchParam(this.componentId, 'sortModalVisible'))).subscribe((isVisible: boolean) => this.isVisible = isVisible);\n  }\n\n  setDefaultSort() {\n    if (this.defaultSort) {\n      this.store.dispatch(new SearchActions.UpdateSortAction(this.defaultSort.param, this.defaultSort.direction, this.componentId));\n    }\n\n    this.store.pipe(select(selectCurrentSearchParam(this.componentId, 'sortParam'))).subscribe((param: string) => this.activeSortParam = param);\n    this.store.pipe(select(selectCurrentSearchParam(this.componentId, 'sortDirection'))).subscribe((dir: SortDirection) => this.activeSortDir = dir);\n  }\n\n  updateSort(option: SortOption) {\n    const direction: SortDirection = option.param === this.activeSortParam ? this.toggleSortDirection(this.activeSortDir) : 'DESC';\n    this.store.dispatch(new SearchActions.UpdateSortAction(option.param, direction, this.componentId));\n  }\n\n  close() {\n    this.store.dispatch(new SearchActions.ToggleSortModalAction(this.componentId));\n  }\n\n  toggleSortDirection = (dir: SortDirection) => dir === 'ASC' ? 'DESC' : 'ASC';\n\n  isActiveParam = (param: string) => param === this.activeSortParam;\n  isActiveDir = (dir: SortDirection) => dir === this.activeSortDir;\n  showArrow = (param: string, dir: SortDirection) => this.isActiveParam(param) && this.isActiveDir(dir);\n\n}\n","import {Component, ContentChild, Input, OnInit} from \"@angular/core\";\nimport {FormControl} from \"@angular/forms\";\n// Components\nimport {SortComponent} from \"../sort/sort.component\";\n// External\nimport {select, Store} from \"@ngrx/store\";\nimport {distinctUntilChanged} from \"rxjs/operators\";\n// Redux\nimport {SearchState} from \"../../store/state\";\nimport * as SearchActions from \"../../store/actions\";\nimport {IncidentType} from \"../../../application-icon/application-icon.model\";\nimport {selectCurrentSearchParam} from \"../../../utils\";\n\n@Component({\n    selector: 'wf1-search-bar',\n    templateUrl: './search-bar.component.html',\n    styleUrls: []\n})\nexport class SearchBarComponent implements OnInit {\n    public TOOLTIP_DELAY = 500;\n\n    @Input() count = 0;\n    @Input() componentId: string;\n\n    showSortButton: boolean = false;\n    @ContentChild(SortComponent) set sortModal(modal: SortComponent) {\n        this.showSortButton = modal ? true : false;\n    }\n\n    searchControl: FormControl = new FormControl();\n    clearFilterIconType = IncidentType.NOT_SET;\n    isResetSearch: boolean = false;\n\n    constructor(\n        private store: Store<SearchState>\n    ) {}\n\n    ngOnInit() {\n        this.resetSearch();\n        this.listenSearchChanges();\n    }\n\n    resetSearch() {\n        this.isResetSearch = true;\n        this.store.dispatch(new SearchActions.ResetSearchQueryAction(this.componentId));\n    }\n\n    listenSearchChanges() {\n        this.store.pipe(select(selectCurrentSearchParam(this.componentId, 'query'))).subscribe(\n\n            (searchTerm: string) => {\n                // console.log(\"this.searchControl.setValue change: \", searchTerm);\n                // console.log(\"this.searchControl.setValue isResetSearch: \" + this.isResetSearch);\n                if (this.isResetSearch && this.searchControl.value == searchTerm) {\n                    // console.log(\"isReset true and same value so won't trigger searchControl observable.  reset isReset to false;\")\n                    this.isResetSearch = false;\n                }\n                this.searchControl.setValue(searchTerm, { emitEvent: true });\n            }\n        );\n\n        this.searchControl.valueChanges.pipe(distinctUntilChanged()).subscribe(\n            (searchTerm: string) => {\n                // console.log(\"this.searchControl.valueChanges isResetSearch: \" + this.isResetSearch);\n                // console.log(\"searchControl value change: \", searchTerm);\n                if (this.isResetSearch) {\n                    // console.log(\"this.searchControl.valueChanges reset to false\");\n                    this.isResetSearch = false;\n                } else {\n                    // console.log(\"this.searchControl.valueChanges update search\");\n                    this.updateSearch(searchTerm);\n                }\n            }\n        );\n    }\n\n    refreshSearch() {\n        this.store.dispatch(new SearchActions.RefreshSearchAction(this.componentId));\n    }\n\n    updateSearch(searchTerm: string) {\n        this.store.dispatch(new SearchActions.UpdateSearchQueryAction(searchTerm, this.componentId));\n    }\n\n    toggleSortModal() {\n        this.store.dispatch(new SearchActions.ToggleSortModalAction(this.componentId));\n    }\n\n    clearFilters() {\n        this.store.dispatch(new SearchActions.ClearAllFiltersAction(this.componentId));\n    }\n}\n","import {Action} from \"@ngrx/store\";\n\nexport const MAPTOOL_WINDOW_NAME = 'maptool-application-window';\nexport const WFROF_WINDOW_NAME = 'wfrof-application-window';\nexport const WFNROF_WINDOW_NAME = 'wfnrof-application-window';\nexport const WFIM_WINDOW_NAME = 'wfim-application-window';\n\n\nexport const WFIM_LIST_COMPONENT_ID = 'searchIMMap';\nexport const WFROF_LIST_COMPONENT_ID = 'searchROFMap';\nexport const WFNROF_LIST_COMPONENT_ID = 'searchNROFMap';\nexport const WFIM_TABLE_COMPONENT_ID = 'searchIM';\nexport const WFROF_TABLE_COMPONENT_ID = 'searchROF';\nexport const WFNROF_TABLE_COMPONENT_ID = 'searchNROF';\n\nexport enum MessageType {\n  ACTION = 'action', // Application actions type\n  READY = 'ready', // Indicate to parent the child is ready to receive messages\n  WINDOW_CLOSING = 'window-closing', // Indicate to the parent the child window is closing\n  ACKNOWLEDGE = 'acknowledge', // Acknowledge receipt of a message back to the sender\n}\n\nexport class Message {\n  type: MessageType;\n  action?: Action;\n}\n\nexport class MessagePacket {\n  id: string;\n  originWindowName: string;\n  date: Date;\n  message: Message;\n}\n\nexport class WindowConfig {\n  fullscreen: boolean;\n  rememberWindowSize: boolean;\n}\n\nexport class ApplicationWindow {\n  id: string;\n  isParent: boolean;\n  url?: string;\n  windowName?: string;\n  windowConfig?: WindowConfig;\n  window: Window;\n  messageQueue: MessagePacket[];\n}\n","import {Injectable} from \"@angular/core\";\nimport {UUID} from \"angular2-uuid\";\nimport {Subject} from \"rxjs\";\nimport {\n  ApplicationWindow,\n  MAPTOOL_WINDOW_NAME,\n  Message,\n  MessagePacket,\n  MessageType,\n  WindowConfig\n} from \"./window-messaging.state\";\nimport {Action} from \"@ngrx/store\";\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class WindowMessagingService {\n  private stream: Subject<Message>;\n  private children: ApplicationWindow[] = [];\n  private readonly parentWindow: ApplicationWindow;\n\n  constructor() {\n    if (window.opener) {\n      this.parentWindow = {\n        id: UUID.UUID(),\n        isParent: true,\n        window: window.opener,\n        messageQueue: []\n      };\n      window.addEventListener('onbeforeunload', () => this.broadcastMessage(this.getParentWindowId(), { type: MessageType.WINDOW_CLOSING }));\n    } else {\n      window.name = MAPTOOL_WINDOW_NAME;\n    }\n    this.stream = new Subject();\n    window.addEventListener('message', (message) => this.receiveMessage(message.data));\n\n    // setInterval( () => {\n    //   if (this.parentWindow) {\n    //\n    //   } else {\n    //     for (let currentChild of this.children) {\n    //\n    //     }\n    //   }\n    // }, 1000);\n  }\n\n  public getParentWindowId(): UUID {\n    return this.parentWindow ? this.parentWindow.id : null;\n  }\n\n  public getWindowId(windowName: string): UUID {\n    const targetWindowIndex = this.children.findIndex(currentChild => currentChild.windowName === windowName);\n    let targetWindow = (targetWindowIndex > -1) ? this.children[targetWindowIndex] : null;\n    if (targetWindow && targetWindow.window && targetWindow.window.closed) {\n      // If the window was closed, remove the object from the list of child windows.\n      this.children.splice(targetWindowIndex, 1);\n      targetWindow = null;\n    }\n    return (targetWindow) ? targetWindow.id : null;\n  }\n\n  public broadcastAction(windowId: UUID, action: Action) {\n    this.broadcastMessage(windowId, {\n      type: MessageType.ACTION,\n      action\n    });\n  }\n\n  public openWindow(url: string, windowName = 'default', windowConfig: WindowConfig = {\n    fullscreen: true,\n    rememberWindowSize: true\n  }): UUID {\n    const windowFeatures = this.getWindowFeaturesSettings(windowConfig);\n    const newWindow: ApplicationWindow = {\n      id: UUID.UUID(),\n      isParent: false,\n      url,\n      windowName,\n      windowConfig,\n      window: window.open(url, windowName, windowFeatures),\n      messageQueue: []\n    };\n\n    this.children.push(newWindow);\n    return newWindow.id;\n  }\n\n  public subscribeToMessageStream(listenerFunction: (message: Message) => any) {\n    this.stream.subscribe(message => listenerFunction(message));\n    if (this.getParentWindowId() !== null) {\n      // Once a listener has been registered, tell the parent to send along any queued messages\n      this.broadcastMessage(this.getParentWindowId(), { type: MessageType.READY });\n    }\n  }\n\n  public focusWindow(windowId: UUID) {\n    let targetWindow;\n    if (windowId === this.getParentWindowId()) { // Children will only message their parent\n      // This window.open call doesn't actually open a window, but is necessary for window.focus() to work on the parent window\n      targetWindow = window.open('', MAPTOOL_WINDOW_NAME);\n    } else {\n      const target = this.getWindow(windowId);\n      if (target && target.window) {\n        targetWindow = target.window;\n      }\n    }\n    targetWindow.focus();\n  }\n\n  private broadcastAcknowledge(packet: MessagePacket) {\n    let target;\n    if (this.getParentWindowId()) { // Children will only message their parent\n      target = this.parentWindow;\n    } else {\n      target = this.children.find(child => child.windowName === packet.originWindowName);\n    }\n    if (target) {\n      const messagePacket: MessagePacket = {\n        id: packet.id,\n        originWindowName: window.name,\n        date: new Date(),\n        message: { type: MessageType.ACKNOWLEDGE }\n      };\n      target.window.postMessage(messagePacket, '*');\n    }\n  }\n\n  private broadcastMessage(windowId: UUID, message: Message) {\n    let target;\n    if (this.getParentWindowId() === windowId) {\n      target = this.parentWindow;\n    } else {\n      target = this.getWindow(windowId);\n    }\n    if (target) {\n      const messagePacket: MessagePacket = {\n        id: UUID.UUID(),\n        originWindowName: window.name,\n        date: new Date(),\n        message: message\n      };\n      target.messageQueue.push(messagePacket);\n      target.window.postMessage(messagePacket, '*');\n    }\n  }\n\n  private receiveMessage(packet: MessagePacket) {\n    if (!packet || !packet.message) { return; } // Ignore other window messages.\n    let sendAcknowledge = false;\n    switch (packet.message.type) {\n      case MessageType.READY: {\n        const targetWindow = this.children.find(child => child.windowName === packet.originWindowName);\n        // If messages were sent before the window was ready, resend them again.\n        if (targetWindow && targetWindow.messageQueue.length > 0) {\n          for (let messagePacket of targetWindow.messageQueue) {\n            messagePacket.date = new Date();\n            targetWindow.window.postMessage(messagePacket, '*');\n          }\n        }\n        sendAcknowledge = true;\n        break;\n      }\n      case MessageType.WINDOW_CLOSING: {\n        const closingWindowIndex = this.children.findIndex(child => child.windowName === packet.originWindowName);\n        if (closingWindowIndex > -1) {\n          this.children.splice(closingWindowIndex, 1);\n        }\n        console.log('Child is closing');\n        break;\n      }\n      case MessageType.ACTION: {\n        sendAcknowledge = true;\n        this.stream.next(packet.message);\n        break;\n      }\n      case MessageType.ACKNOWLEDGE: {\n        let targetWindow;\n        if (packet.originWindowName === MAPTOOL_WINDOW_NAME) {\n          targetWindow = this.parentWindow;\n        } else {\n          targetWindow = this.children.find(child => child.windowName === packet.originWindowName);\n        }\n        if (targetWindow) {\n          const messageIndex = targetWindow.messageQueue.findIndex(message => message.id === packet.id);\n          if (messageIndex > -1) { targetWindow.messageQueue.splice(messageIndex, 1); }\n        }\n        break;\n      }\n      default: {\n        console.error(`Received message of unknown type ${packet.message.type}: ${JSON.stringify(packet)}`);\n      }\n    }\n    if (sendAcknowledge) { this.broadcastAcknowledge(packet); }\n  }\n\n  private getWindow(id: UUID): ApplicationWindow {\n    return this.children.find(child => child.id === id);\n  }\n\n  private getWindowFeaturesSettings(windowConfig: WindowConfig): string {\n    const left = 0;\n    const top = 0;\n    const { innerWidth, innerHeight, outerWidth, outerHeight } = window;\n    const { availWidth: availScreenWidth, availHeight: availScreenHeight } = window.screen;\n    const width = availScreenWidth;\n    const height = availScreenHeight - (outerHeight - innerHeight);\n    const positionSettings = windowConfig.fullscreen ? `,left=${left},top=${top},width=${width},height=${height}` : '';\n\n    return `resizable=yes,scrollbars=yes,status=yes,location=no${positionSettings}`;\n  }\n}\n","import {Component, Input, OnInit, TemplateRef} from \"@angular/core\";\nimport {TokenService} from \"../services/token.service\";\n\n@Component({\n  selector: 'wf1-sidebar-container',\n  templateUrl: `./sidebar.component.html`,\n  styles: []\n})\nexport class SidebarComponent implements OnInit {\n  @Input()\n  titleText: string;\n  @Input()\n  menuTemplate: TemplateRef<any>;\n  @Input()\n  toolbarTemplate: TemplateRef<any>;\n  @Input()\n  sidebarTemplate: TemplateRef<any>;\n  @Input()\n  mainContentTemplate: TemplateRef<any>;\n\n  public opened = true;\n  public isInitializing = true;\n\n  constructor(private token: TokenService) {\n    this.isInitializing = token.getOauthToken() === null;\n  }\n\n  ngOnInit() {\n    this.token.authTokenEmitter.subscribe(() => {\n      this.isInitializing = false;\n    });\n  }\n}\n","import {Component} from \"@angular/core\";\n\n@Component({\n  selector: 'wf1-spinner',\n  templateUrl: './spinner.component.html',\n  styleUrls: ['./spinner.component.scss']\n})\nexport class SpinnerComponent {}\n","import {Component, OnInit} from \"@angular/core\";\n\n@Component({\n  selector: 'wf1-unauthorized-page',\n  templateUrl: './unauthorized-page.component.html'\n})\nexport class UnauthorizedPageComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit() {\n  }\n\n}\n","import {AfterViewInit, Component, Input, OnInit} from \"@angular/core\";\nimport {AppConfigService} from \"../services/app-config.service\";\n\ndeclare var visualize: any; // Loaded by Visualize.JS api in the project's angular.json file.\n\ninterface ReportConfig {\n  resource: string;\n  container: string;\n  error: any;\n  params?: any;\n}\n\n@Component({\n  selector: 'wf1-visualize-js',\n  templateUrl: './visualize-js.component.html',\n  styleUrls: ['./visualize-js.component.scss']\n})\nexport class VisualizeJSComponent implements OnInit, AfterViewInit {\n\n  constructor(private appConfig: AppConfigService) {\n\n  }\n  @Input()\n  elementId: string;\n  @Input()\n  reportPath: string;\n  @Input()\n  reportParams?: any;\n  @Input()\n  supportedExportFormats?: string[];\n\n  currentPage = 1;\n\n  private report: any;\n\n  static handleError(err) {\n    console.error(err.message);\n  }\n\n  ngOnInit() {\n\n  }\n\n  ngAfterViewInit() {\n    const config = this.appConfig.getConfig();\n    if (!config || !config.externalAppConfig || !config.externalAppConfig.jasper) {\n      throw new Error('Could not find Jasper configuration settings in application configuration');\n    }\n      let themeHref = `${config.externalAppConfig.jasper.url}/_themes/${config.externalAppConfig.jasper.themeHash}/theme.css`.split(\"/\").slice(0, -1).join(\"/\");\n\n      visualize.config({\n          server : config.externalAppConfig.jasper.url,\n          scripts : `runtime/${config.externalAppConfig.jasper.scriptsHash}/optimized-scripts`,\n          logEnabled: true,\n          logLevel: \"error\",\n          _showInputControls: \"true\" === \"true\",\n          theme: {\n              href: themeHref\n          }\n      });\n    // new Promise((resolve, reject) => {\n\n    visualize({\n      server: config.externalAppConfig.jasper.url\n    }, (vis: any) => {\n      let reportConfig: any = {\n        resource: this.reportPath,\n        container: `#${this.elementId}`,\n        error: VisualizeJSComponent.handleError,\n      };\n      if (this.reportParams) {\n        reportConfig.params = this.reportParams;\n      }\n      this.report = vis.report(reportConfig);\n    });\n    // }).then(result => this.report = result)\n    //   .catch(error => console.error(error));\n  }\n\n  isExportFormatSupported(format: string) {\n    if (format) {\n      if (this.supportedExportFormats && this.supportedExportFormats.length > 0) {\n        return this.supportedExportFormats.includes(format);\n      }\n    }\n    return false;\n  }\n\n  exportToPDF() {\n    this.export('pdf');\n  }\n\n  exportToExcel() {\n    this.export('csv');\n  }\n\n  previousPage() {\n    if (this.currentPage !== 1) {\n      this.currentPage -= 1;\n      this.report.pages(this.currentPage).run().fail((err) => console.error(err));\n    }\n  }\n\n  nextPage() {\n    this.currentPage += 1;\n    this.report.pages(this.currentPage).run().fail((err) => {\n      if (err.errorCode === 'page.number.out.of.range') {\n        this.currentPage -= 1;\n      } else {\n        console.error(err);\n      }\n    });\n  }\n\n  private export(outputFormat: string) {\n    let params = { outputFormat: outputFormat,\n                   ignorePagination: outputFormat === 'csv' ? true : false\n                 };\n    this.report.export(params)\n      .done(function (link) {\n        window.open(link.href); // open new window to download report\n      })\n      .fail(function (err) {\n        alert(err.message);\n      });\n  }\n}\n","import {Component, OnInit} from \"@angular/core\";\nimport {MapService} from \"../services/map.service\";\n\nexport interface BaseMap {\n  key: string;\n  title: string;\n}\n\n@Component({\n  selector: 'wf1-wfml-basemap-selector',\n  templateUrl: './wfml-basemap-selector.component.html',\n  styleUrls: ['./wfml-basemap-selector.component.scss']\n})\nexport class WFMLBasemapSelectorComponent implements OnInit {\n  basemaps: BaseMap[] = [];\n\n  constructor(private mapService: MapService) {\n  }\n\n  ngOnInit() {\n    if (this.mapService.isMapInitialized('map')) {\n      this.initializeBasemaps();\n    } else {\n      this.mapService.mapInstanceEmitter.asObservable().subscribe(data => {\n        this.initializeBasemaps();\n      });\n    }\n  }\n\n  initializeBasemaps() {\n    this.basemaps = this.mapService.getBasemaps('map');\n  }\n\n  displayBasemap(index: number) {\n    this.mapService.setBasemap('map', index);\n  }\n}\n","import {ChangeDetectorRef, Component, OnInit} from \"@angular/core\";\nimport {MapService} from \"../services/map.service\";\nimport {TreeNode} from \"../interfaces/layer-treemap\";\nimport {NestedTreeControl} from \"@angular/cdk/tree\";\nimport {MatTreeNestedDataSource} from \"@angular/material/tree\";\nimport {SelectionModel} from \"@angular/cdk/collections\";\n\n@Component({\n  selector: 'wf1-wfml-layer-tree',\n  templateUrl: './wfml-layer-tree.component.html',\n  styles: []\n})\nexport class WFMLLayerTreeComponent implements OnInit {\n  treeControl: NestedTreeControl<TreeNode>;\n  dataSource: MatTreeNestedDataSource<TreeNode>;\n\n  /** The selection for checklist */\n  checklistSelection = new SelectionModel<TreeNode>(true /* multiple */);\n\n  constructor(private mapService: MapService, private changeDetectorRef: ChangeDetectorRef) {\n    this.treeControl = new NestedTreeControl<TreeNode>((node: TreeNode) => node.child);\n    this.dataSource = new MatTreeNestedDataSource<TreeNode>();\n  }\n\n  ngOnInit() {\n    if (this.mapService.isMapInitialized('map')) {\n      this.initializeTreeLayer();\n    } else {\n      this.mapService.mapInstanceEmitter.asObservable().subscribe(data => {\n        this.initializeTreeLayer();\n      });\n    }\n  }\n\n  initializeTreeLayer() {\n    const layerTreeView = this.mapService.getLayerTreeView('map');\n    if (layerTreeView) {\n      this.dataSource.data = layerTreeView.child;\n      this.checklistSelection.select(...this.findSelectedElements(layerTreeView));\n    }\n  }\n\n  findSelectedElements(node: TreeNode): TreeNode[] {\n    const results: TreeNode[] = [];\n    if (node.isVisible || (node.lyr && node.lyr.isVisible)) {\n      results.push(node);\n    }\n    if (node.child) {\n      for (const childNode of node.child) {\n        results.push(...this.findSelectedElements(childNode));\n      }\n    }\n    return results;\n  }\n\n  hasChildren = (_: number, node: TreeNode) => !!node.child;\n\n  /** Whether all the descendants of the node are selected */\n  descendantsAllSelected(node: TreeNode): boolean {\n    const descendants = this.treeControl.getDescendants(node);\n    if (!descendants.length) {\n      return this.checklistSelection.isSelected(node);\n    }\n    const selected = this.checklistSelection.isSelected(node);\n    const allSelected = descendants.every(child => this.checklistSelection.isSelected(child));\n    if (!selected && allSelected) {\n      this.checklistSelection.select(node);\n      this.changeDetectorRef.markForCheck();\n    }\n    return allSelected;\n  }\n\n  /** Whether part of the descendants are selected */\n  descendantsPartiallySelected(node: TreeNode): boolean {\n    const descendants = this.treeControl.getDescendants(node);\n    if (!descendants.length) {\n      return false;\n    }\n    const result = descendants.some(child => this.checklistSelection.isSelected(child));\n    return result && !this.descendantsAllSelected(node);\n  }\n\n  /** Toggle the game selection. Select/deselect all the descendants node */\n  nodeSelectionToggle(node: TreeNode): void {\n    this.checklistSelection.toggle(node);\n    if (node.lyr) {\n      this.mapService.setLayerVisibility('map', node.lyr.id, this.checklistSelection.isSelected(node));\n    }\n    const descendants = this.treeControl.getDescendants(node);\n    if (this.checklistSelection.isSelected(node)) {\n      this.checklistSelection.select(...descendants, node);\n    } else {\n      this.checklistSelection.deselect(...descendants, node);\n    }\n    for (const childNode of descendants) {\n      if (childNode.lyr) {\n        this.mapService.setLayerVisibility('map', childNode.lyr.id, this.checklistSelection.isSelected(childNode));\n      }\n    }\n    this.changeDetectorRef.markForCheck();\n  }\n}\n","import {AfterViewChecked, Component, Input, OnInit, TemplateRef} from \"@angular/core\";\n\nimport {TokenService} from \"../services/token.service\";\nimport {MapControl} from \"../application-toolbar/application-toolbar.component\";\nimport {AppConfigService} from \"../services/app-config.service\";\n\n@Component({\n  selector: 'wf1-wfml-mapping-container',\n  templateUrl: './wfml-mapping-container.component.html',\n  styles: []\n})\nexport class WFMLMappingContainerComponent implements OnInit, AfterViewChecked {\n  @Input()\n  titleText: string;\n  @Input()\n  menuTemplate: TemplateRef<any>;\n  @Input()\n  toolbarTemplate: TemplateRef<any>;\n  @Input()\n  sidebarTemplate: TemplateRef<any>;\n  @Input()\n  mainContentTemplate: TemplateRef<any>;\n\n  @Input() showToolbar: boolean = true\n\n  opened = true;\n//   mapControlsOpened = false;\n//   layerTreeSelected = false;\n//   basemapsSelected = false;\n  isInitializing = true;\n//   isMapInitialized = false;\n\n  constructor(private token: TokenService,\n              private appConfig: AppConfigService) {\n    this.isInitializing = token.getOauthToken() === null;\n  }\n\n  ngOnInit() {\n      if (!this.appConfig.getConfig().application.lazyAuthenticate) {\n          this.token.authTokenEmitter.subscribe(() => {\n              this.isInitializing = false;\n          });\n      } else {\n        this.isInitializing = false;\n      }\n  }\n\n  ngAfterViewChecked() {\n    // if (!this.isInitializing && !this.isMapInitialized) {\n    //   this.initializeMap();\n    //   this.isMapInitialized = true;\n    // }\n  }\n\n  toggleSideNav() {\n    // this.mapService.onResize();\n  }\n\n  initializeMap() {\n    // this.mapService.initializeMap('map');\n  }\n\n  onMapControlToggled(currentMapControl: MapControl) {\n    // this.mapControlsOpened = currentMapControl !== MapControl.NONE;\n    // this.layerTreeSelected = currentMapControl === MapControl.LAYER_TREE;\n    // this.basemapsSelected = currentMapControl === MapControl.BASEMAPS;\n  }\n}\n","import { ScrollingModule } from \"@angular/cdk/scrolling\";\nimport { CommonModule } from \"@angular/common\";\nimport { HttpClientModule, HttpHandler } from \"@angular/common/http\";\nimport { APP_INITIALIZER, Injector, ModuleWithProviders, NgModule } from \"@angular/core\";\nimport { FormsModule, ReactiveFormsModule } from \"@angular/forms\";\nimport { MatButtonModule } from \"@angular/material/button\";\nimport { MatButtonToggleModule } from \"@angular/material/button-toggle\";\nimport { MatCardModule } from \"@angular/material/card\";\nimport { MatCheckboxModule } from \"@angular/material/checkbox\";\nimport { MatExpansionModule } from \"@angular/material/expansion\";\nimport { MatFormFieldModule } from \"@angular/material/form-field\";\nimport { MatGridListModule } from \"@angular/material/grid-list\";\nimport { MatIconModule } from \"@angular/material/icon\";\nimport { MatInputModule } from \"@angular/material/input\";\nimport { MatListModule } from \"@angular/material/list\";\nimport { MatMenuModule } from \"@angular/material/menu\";\nimport { MatProgressSpinnerModule } from \"@angular/material/progress-spinner\";\nimport { MatRadioModule } from \"@angular/material/radio\";\nimport { MatSidenavModule } from \"@angular/material/sidenav\";\nimport { MatTabsModule } from \"@angular/material/tabs\";\nimport { MatToolbarModule } from \"@angular/material/toolbar\";\nimport { MatTooltipModule } from \"@angular/material/tooltip\";\nimport { MatTreeModule } from \"@angular/material/tree\";\nimport { BrowserModule } from \"@angular/platform-browser\";\nimport { BrowserAnimationsModule } from \"@angular/platform-browser/animations\";\nimport { OwlDateTimeModule, OwlMomentDateTimeModule, OWL_DATE_TIME_FORMATS } from \"@busacca/ng-pick-datetime\";\nimport { ApiModule as OrgUnitApiModule } from \"@wf1/orgunit-rest-api\";\nimport { OAuthModule } from \"angular-oauth2-oidc\";\nimport { MomentModule } from \"ngx-moment\";\nimport { ApplicationHeaderComponent } from \"./application-header/application-header.component\";\nimport { ApplicationIconComponent } from \"./application-icon/application-icon.component\";\nimport { ApplicationToolbarComponent } from \"./application-toolbar/application-toolbar.component\";\nimport { BasicSidebarPanelComponent } from \"./basic-sidebar-panel/basic-sidebar-panel.component\";\nimport { LibraryConfig } from \"./config/library-config\";\nimport { DateTimePickerComponent } from \"./date-time-picker/date-time-picker.component\";\nimport { DateMaskDirective } from \"./directives/date-mask.directive\";\nimport { FilterSidebarPanelComponent } from \"./filter-sidebar-panel/filter-sidebar-panel.component\";\nimport { FullWidthContainerComponent } from \"./full-width-container/full-width-container.component\";\nimport { FullWidthPanelComponent } from \"./full-width-panel/full-width-panel.component\";\nimport { InfoIncidentPanelComponent } from \"./info-incident-panel/info-incident-panel.component\";\nimport { ListItemComponent } from \"./list/item/list-item.component\";\nimport { ListContainerComponent } from \"./list/list-container.component\";\nimport { LocationSidebarPanelComponent } from \"./location-sidebar-panel/location-sidebar-panel.component\";\nimport { LocationToolbarComponent } from \"./location/location-toolbar.component\";\nimport { ReportDialogComponent } from \"./report-dialog/report-dialog.component\";\nimport { FiltersComponent } from \"./search/components/filters/filters.component\";\nimport { SearchBarComponent } from \"./search/components/search-bar/search-bar.component\";\nimport { SortComponent } from \"./search/components/sort/sort.component\";\nimport { AppConfigService } from \"./services/app-config.service\";\nimport { MapService } from \"./services/map.service\";\nimport { NavigationService } from \"./services/navigation.service\";\nimport { SpatialUtilsService } from \"./services/spatial-utils.service\";\nimport { WindowMessagingService } from \"./services/window-messaging.service\";\nimport { SidebarComponent } from \"./sidebar-container/sidebar.component\";\nimport { SpinnerComponent } from \"./spinner/spinner.component\";\nimport { UnauthorizedPageComponent } from \"./unauthorized-panel/unauthorized-page.component\";\nimport { appInitializerFn } from \"./utils\";\nimport { VisualizeJSComponent } from \"./visualize-js/visualize-js.component\";\nimport { WFMLBasemapSelectorComponent } from \"./wfml-basemap-selector/wfml-basemap-selector.component\";\nimport { WFMLLayerTreeComponent } from \"./wfml-layer-tree/wfml-layer-tree.component\";\nimport { WFMLMappingContainerComponent } from \"./wfml-mapping-container/wfml-mapping-container.component\";\n\n\n\nexport const DATE_FORMATS = {\n  fullPickerInput: 'YYYY-MM-DD HH:mm',\n  datePickerInput: 'YYYY-MM-DD',\n  timePickerInput: 'HH:mm:ss',\n  monthYearLabel: 'YYYY-MM',\n  dateA11yLabel: 'YYYY-MMM-DD',\n  monthYearA11yLabel: 'YYYY-MMM',\n};\n\n// Below dynamic decorator is here to resolve a compile problem described here: https://github.com/angular/angular/issues/20903\n// See also: https://angular.io/guide/aot-compiler#strictmetadataemit\n// @dynamic\n@NgModule({\n  imports: [\n    OrgUnitApiModule,\n    OwlDateTimeModule,\n    OwlMomentDateTimeModule,\n    BrowserAnimationsModule,\n    BrowserModule,\n    CommonModule,\n    FormsModule,\n    HttpClientModule,\n    MatButtonModule,\n    MatButtonToggleModule,\n    MatCardModule,\n    MatCheckboxModule,\n    MatExpansionModule,\n    MatFormFieldModule,\n    MatGridListModule,\n    MatListModule,\n    MatIconModule,\n    MatInputModule,\n    MatMenuModule,\n    MatProgressSpinnerModule,\n    MatRadioModule,\n    MatSidenavModule,\n    MatTabsModule,\n    MatToolbarModule,\n    MatTooltipModule,\n    MatTreeModule,\n    ScrollingModule,\n    MomentModule,\n    OAuthModule.forRoot(),\n    ReactiveFormsModule,\n  ],\n  providers: [\n    SpatialUtilsService,\n    WindowMessagingService,\n  ],\n  declarations: [\n    ApplicationHeaderComponent,\n    ApplicationIconComponent,\n    ApplicationToolbarComponent,\n    BasicSidebarPanelComponent,\n    DateTimePickerComponent,\n    DateMaskDirective,\n    FiltersComponent,\n    FilterSidebarPanelComponent,\n    FullWidthContainerComponent,\n    FullWidthPanelComponent,\n    InfoIncidentPanelComponent,\n    ListContainerComponent,\n    ListItemComponent,\n    LocationSidebarPanelComponent,\n    LocationToolbarComponent,\n    ReportDialogComponent,\n    SearchBarComponent,\n    SidebarComponent,\n    SortComponent,\n    SpinnerComponent,\n    UnauthorizedPageComponent,\n    VisualizeJSComponent,\n    WFMLBasemapSelectorComponent,\n    WFMLLayerTreeComponent,\n    WFMLMappingContainerComponent\n  ],\n  exports: [\n    ApplicationIconComponent,\n    BasicSidebarPanelComponent,\n    DateTimePickerComponent,\n    FiltersComponent,\n    FilterSidebarPanelComponent,\n    FullWidthContainerComponent,\n    FullWidthPanelComponent,\n    // InfoIncidentPanelComponent,\n    ListContainerComponent,\n    // ListItemComponent,\n    // LocationSidebarPanelComponent,\n    ReportDialogComponent,\n    SearchBarComponent,\n    SidebarComponent,\n    SortComponent,\n    SpinnerComponent,\n    UnauthorizedPageComponent,\n    VisualizeJSComponent,\n    WFMLMappingContainerComponent,\n  ]\n})\nexport class CoreUIModule {\n  static forRoot(config: LibraryConfig): ModuleWithProviders<CoreUIModule> {\n    // User config get logged here\n    // console.log(config);\n    return {\n      ngModule: CoreUIModule,\n      providers: [\n        // Initializes the AppConfigService on Angular app init, so it is ready before components are loaded.\n        // Technically, we're adding an additional dependency for the Angular APP_INITIALIZER token (Thus: 'multi:true').\n        // That dependency fires a factory function 'appInitializerFn' that depends on the AppConfigService singleton,\n        // and which call the service's loadAppConfig() function on Angular init.\n        // See for reference: https://www.intertech.com/Blog/angular-4-tutorial-run-code-during-app-initialization/\n        {\n          provide: APP_INITIALIZER,\n          useFactory: appInitializerFn,\n          multi: true,\n          deps: [Injector]\n        },\n        {\n          provide: LibraryConfig,\n          useValue: config\n        },\n        {\n          provide: AppConfigService,\n          useClass: AppConfigService,\n          deps: [HttpHandler, LibraryConfig]\n        },\n        MapService, // FUTURE: need to decouple map service\n        {\n          provide: OWL_DATE_TIME_FORMATS,\n          useValue: DATE_FORMATS\n        },\n        NavigationService\n      ]\n    };\n  }\n}\n","import {Injectable} from \"@angular/core\";\nimport {ActivatedRouteSnapshot, CanActivate, Router, RouterStateSnapshot} from \"@angular/router\";\nimport {TokenService} from \"../token.service\";\nimport {Observable, of} from \"rxjs\";\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class AuthGuard implements CanActivate {\n  protected credentials;\n  protected baseScopes = []; //[\"WFRM.GET_CODE_TABLES\",\"WFRM.GET_TOPLEVEL\"];\n  constructor(protected tokenService: TokenService, protected router: Router) {\n   // console.log(\"using auth guard\");\n    this.tokenService.credentialsEmitter.subscribe(credentials => {\n      this.credentials = credentials;\n    });\n  }\n\n  canActivate(\n    next: ActivatedRouteSnapshot,\n    state: RouterStateSnapshot): Observable<boolean> | boolean {\n    let url: string = state.url;\n    let result = this.checkLogin(url, this.baseScopes);\n    return of(result);\n  }\n\n  checkLogin(url: string, scopes: string[]): boolean {\n    let isAuthorized = (this.credentials) ? this.tokenService.doesUserHaveApplicationPermissions(scopes) : false;\n\n    if (!isAuthorized) {\n      this.redirectToErrorPage();\n    }\n    return isAuthorized;\n  }\n\n  redirectToErrorPage() {\n    // Navigate to the unauthorized page\n    this.router.navigate([{ outlets: { root: ['unauthorized'] } }]);\n  }\n}\n","import {Component, Input, OnInit} from \"@angular/core\";\n\nexport class PublicAppHeaderActionItem {\n    label: string;\n    icon?: any;\n    svgIcon?: any;\n    badge?: number;\n    callBackFunction?: Function;\n    menuItems?: PublicAppHeaderMenuItem[];\n}\n\nexport class PublicAppHeaderMenuItem {\n    label: string;\n    icon?: any;\n    svgIcon?: any;\n    badge?: number;\n    callBackFunction?: Function;\n}\n\n@Component({\n  selector: 'wf1-public-application-header',\n  templateUrl: './public-application-header.component.html',\n  styles: []\n})\nexport class PublicApplicationHeaderComponent implements OnInit {\n\n  @Input() titleText: string;\n\n    @Input() headerItems: PublicAppHeaderActionItem[];\n    @Input() headerLogoPath: string;\n\n  public appVersion: string;\n  public userName: string;\n  public environment: string;\n  public acronym: string;\n  public buildNumber: string;\n\n  constructor() { }\n\n  ngOnInit() {\n\n  }\n\n}\n","import {CommonModule} from \"@angular/common\";\nimport {NgModule} from \"@angular/core\";\nimport {\n    PublicAppHeaderActionItem,\n    PublicAppHeaderMenuItem,\n    PublicApplicationHeaderComponent\n} from \"./public-application-header/public-application-header.component\";\nimport {MatMenuModule} from \"@angular/material/menu\";\nimport {MatToolbarModule} from \"@angular/material/toolbar\";\nimport {MatIconModule} from \"@angular/material/icon\";\nimport {MatDividerModule} from \"@angular/material/divider\";\n\nexport { PublicAppHeaderActionItem, PublicAppHeaderMenuItem };\n\n@NgModule({\n    imports: [\n        CommonModule,\n        MatIconModule,\n        MatMenuModule,\n        MatToolbarModule,\n        MatDividerModule,\n    ],\n    declarations: [\n        PublicApplicationHeaderComponent\n    ],\n    exports: [\n        PublicApplicationHeaderComponent\n    ]\n})\nexport class PublicApplicationHeaderModule {}\n","import {Injectable, Injector} from \"@angular/core\";\nimport {HttpEvent, HttpHandler, HttpInterceptor, HttpRequest} from \"@angular/common/http\";\nimport {Observable} from \"rxjs\";\nimport {AppConfigService} from \"../services/app-config.service\";\nimport {TokenService} from \"../services/token.service\";\n\n/** Pass untouched request through to the next request handler. */\n@Injectable()\nexport class AuthenticationInterceptor implements HttpInterceptor {\n  private token;\n  private authToken;\n\n  constructor(protected injector: Injector) {\n  }\n\n  intercept(req: HttpRequest<any>, next: HttpHandler): Observable<HttpEvent<any>> {\n   // console.log(this.appConfig.getConfig());\n    let processedRequest = req;\n    if (this.isUrlSecured(req.url)) {\n      this.token = this.injector.get(TokenService);\n      this.authToken = this.token.getOauthToken();\n\n      if (this.authToken) {\n        processedRequest = req.clone({\n          headers: req.headers.set('Authorization', 'Bearer ' + this.authToken)\n        });\n      }\n    }\n    return next.handle(processedRequest);\n  }\n\n  isUrlSecured(url: string): boolean {\n    let isSecured = false;\n    const config = this.injector.get(AppConfigService).getConfig();\n    if (config && config.rest) {\n      for (let endpoint in config.rest) {\n        if (url.startsWith(config.rest[endpoint])) {\n          isSecured = true;\n          break;\n        }\n      }\n    }\n    return isSecured;\n  }\n}\n","import {FilterOption} from \"./filter-option\";\n\nexport abstract class FilterConfig {\n  label: string;\n  param: string;\n  options: FilterOption[];\n  type?: string = 'multi';\n}\n","import {SortDirection} from \"../models/sort/sort-direction\";\n\nexport interface SearchState {\n  query: string;\n  sortParam: string;\n  sortDirection: SortDirection;\n  sortModalVisible: boolean;\n  filters: { [param: string]: any[] };\n  hiddenFilters: { [param: string]: any[] };\n  componentId?: string;\n}\n\nexport const initialState: SearchState = {\n  query: null,\n  sortParam: null,\n  sortDirection: null,\n  sortModalVisible: false,\n  filters: {},\n  hiddenFilters: {}\n};\n","import {SearchState} from \"./state\";\n\n\nexport const getSearchQuery = (state: SearchState) => state.query;\n\nexport const getSortParam = (state: SearchState) => state.sortParam;\nexport const getSortDirection = (state: SearchState) => state.sortDirection;\nexport const getEncodedSort = (state: SearchState) => encodeURIComponent(`${state.sortParam} ${state.sortDirection}`);\nexport const isSortModalVisible = (state: SearchState) => state.sortModalVisible;\n\nexport const getActiveFilters = (state: SearchState) => state.filters;\n","import {createSelector, MemoizedSelector} from \"@ngrx/store\";\n\nimport {SearchState} from \"./state\";\nimport {SortDirection} from \"../models/sort/sort-direction\";\nimport * as SearchFunctions from \"./functions\";\n\n\nconst getSearchState = (state: SearchState) => state;\n\nexport const getSearchQuerySelector: MemoizedSelector<SearchState, string> = createSelector(getSearchState, SearchFunctions.getSearchQuery);\n\nexport const getSortParamSelector: MemoizedSelector<SearchState, string> = createSelector(getSearchState, SearchFunctions.getSortParam);\n\nexport const getSortDirectionSelector: MemoizedSelector<SearchState, SortDirection> =\n    createSelector(getSearchState, SearchFunctions.getSortDirection);\n\nexport const getEncodedSortSelector: MemoizedSelector<SearchState, string> = createSelector(getSearchState, SearchFunctions.getEncodedSort);\n\nexport const isSortModalVisibleSelector: MemoizedSelector<SearchState, boolean> =\n    createSelector(getSearchState, SearchFunctions.isSortModalVisible);\n\nexport const getActiveFiltersSelector: MemoizedSelector<SearchState, { [param: string]: any[] }> =\n    createSelector(getSearchState, SearchFunctions.getActiveFilters);\n","import * as Search from \"./actions\";\nimport {SearchState} from \"./state\";\n\nexport function searchReducer(state: SearchState, action: Search.SearchActions): SearchState {\n  switch (action.type) {\n    case Search.SearchActionTypes.UPDATE_SEARCH_QUERY: {\n      if (!isMyComponent(state, action.componentId)) {\n        return state;\n      }\n\n      const query = (<Search.UpdateSearchQueryAction>action).query;\n      return Object.assign({}, state, { query: query });\n    }\n\n    case Search.SearchActionTypes.RESET_SEARCH_QUERY: {\n      if (!isMyComponent(state, action.componentId)) {\n        return state;\n      }\n      return Object.assign({}, state, { query: null });\n    }\n\n    case Search.SearchActionTypes.UPDATE_SORT: {\n      if (!isMyComponent(state, action.componentId)) {\n        return state;\n      }\n      const { param, direction } = (<Search.UpdateSortAction>action);\n      return Object.assign({}, state, { sortParam: param, sortDirection: direction });\n    }\n\n    case Search.SearchActionTypes.TOGGLE_SORT_MODAL: {\n      if (!isMyComponent(state, action.componentId)) {\n        return state;\n      }\n      return Object.assign({}, state, { sortModalVisible: !state.sortModalVisible });\n    }\n\n    case Search.SearchActionTypes.UPDATE_ACTIVE_FILTERS: {\n      if (!isMyComponent(state, action.componentId)) {\n        return state;\n      }\n      const activeFilters = (<Search.UpdateActiveFiltersAction>action).filters;\n      return Object.assign({}, state, { filters: activeFilters });\n    }\n\n    case Search.SearchActionTypes.UPDATE_HIDDEN_FILTERS: {\n      if (!isMyComponent(state, action.componentId)) {\n        return state;\n      }\n      const hiddenFilters = (<Search.UpdateHiddenFiltersAction>action).filters;\n      return Object.assign({}, state, { hiddenFilters: hiddenFilters });\n    }\n\n    case Search.SearchActionTypes.CLEAR_FILTER: {\n      if (!isMyComponent(state, action.componentId)) {\n        return state;\n      }\n      const filterName = (<Search.ClearFilterAction>action).filterToRemove;\n      const { [filterName]: clearedFilter, ...remainingFilters } = state.filters;\n      return Object.assign({}, state, { filters: remainingFilters });\n    }\n\n    case Search.SearchActionTypes.CLEAR_ALL_FILTERS: {\n      if (!isMyComponent(state, action.componentId)) {\n        return state;\n      }\n      return Object.assign({}, state, { filters: {} });\n    }\n\n    default: {\n      return state;\n    }\n\n  }\n}\n\nconst isMyComponent = (state: any, componentId: string): boolean => {\n  if (state && state.componentId && componentId) {\n    if (state.componentId === componentId) {\n      return true;\n    }\n  }\n  return false;\n};\n","/*\n * Public API Surface of core-ui\n */\n\nexport * from './lib/core-ui.service';\nexport * from './lib/core-ui.module';\n\nexport { AppConfigService } from './lib/services/app-config.service';\nexport { LibraryConfig } from './lib/config/library-config';\n\nexport { CodeIndex } from './lib/info-incident-panel/models/code-index';\nexport { CodeTablesIndex } from './lib/info-incident-panel/models/code-tables-index';\n\n// export { MapService, WFMLLocation } from './lib/services/map.service';\nexport { UnauthorizedPageComponent } from './lib/unauthorized-panel/unauthorized-page.component';\nexport { AuthGuard } from './lib/services/util/auth-guard';\n// export { ImOauthConfiguration } from './lib/services/token.service';\nexport { CoreUIModule } from './lib/core-ui.module';\n\nexport { PublicApplicationHeaderModule} from './lib/public-application-header.module';\n\nexport { appInitializerFn } from './lib/utils';\nexport { AuthenticationInterceptor } from './lib/interceptors/authentication-interceptor';\nexport * from './lib/interfaces/application-config';\n\nexport { ReportDialogComponent } from './lib/report-dialog/report-dialog.component';\n\nexport { IconType, IconSize, IncidentType, IncidentTypeWithStatus, IncidentTypeAgencyAssist, IncidentTypeFieldActivity, ReportOfFireType } from './lib/application-icon/application-icon.model';\n\nexport { ListContainerComponent } from './lib/list/list-container.component';\nexport { ListItemComponent } from './lib/list/item/list-item.component';\nexport { ListItemConfig } from './lib/list/item/list-item-config';\n\nexport { FilterConfig } from './lib/search/models/filter/filter-config';\nexport { FilterOption } from './lib/search/models/filter/filter-option';\nexport { DefaultSort } from './lib/search/models/sort/default-sort';\nexport { SortDirection } from './lib/search/models/sort/sort-direction';\nexport { SortOption } from './lib/search/models/sort/sort-option';\nexport { SearchState, initialState } from './lib/search/store/state';\nimport * as SearchActions from \"./lib/search/store/actions\";\nimport * as SearchFunctions from \"./lib/search/store/functions\";\nimport * as SearchSelectors from \"./lib/search/store/selectors\";\n\nexport { SearchActions, SearchFunctions, SearchSelectors };\nexport { FiltersComponent } from './lib/search/components/filters/filters.component';\nexport { SearchBarComponent } from './lib/search/components/search-bar/search-bar.component';\nexport { SortComponent } from './lib/search/components/sort/sort.component';\n\nexport { searchReducer } from './lib/search/store/reducers';\n\nexport { WindowMessagingService } from './lib/services/window-messaging.service';\nexport { Message, MessageType, WindowConfig, MAPTOOL_WINDOW_NAME, WFROF_WINDOW_NAME, WFNROF_WINDOW_NAME, WFIM_WINDOW_NAME, WFIM_LIST_COMPONENT_ID, WFIM_TABLE_COMPONENT_ID, WFROF_LIST_COMPONENT_ID, WFROF_TABLE_COMPONENT_ID, WFNROF_LIST_COMPONENT_ID, WFNROF_TABLE_COMPONENT_ID } from './lib/services/window-messaging.state';\nexport { ApplicationIconComponent } from './lib/application-icon/application-icon.component';\nexport { BasicSidebarPanelComponent } from './lib/basic-sidebar-panel/basic-sidebar-panel.component';\nexport { DateTimePickerComponent } from './lib/date-time-picker/date-time-picker.component';\nexport { FilterSidebarPanelComponent } from './lib/filter-sidebar-panel/filter-sidebar-panel.component';\nexport { FullWidthContainerComponent } from './lib/full-width-container/full-width-container.component';\nexport { FullWidthPanelComponent } from './lib/full-width-panel/full-width-panel.component';\nexport { InfoIncidentPanelComponent } from './lib/info-incident-panel/info-incident-panel.component';\nexport { SidebarComponent } from './lib/sidebar-container/sidebar.component';\nexport { LocationSidebarPanelComponent } from './lib/location-sidebar-panel/location-sidebar-panel.component';\nexport { SpinnerComponent } from './lib/spinner/spinner.component';\nexport { VisualizeJSComponent } from './lib/visualize-js/visualize-js.component';\nexport { WFMLMappingContainerComponent } from './lib/wfml-mapping-container/wfml-mapping-container.component';\nexport { PublicApplicationHeaderComponent } from './lib/public-application-header/public-application-header.component';\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public_api';\n\nexport {ApplicationHeaderComponent as ɵa} from './lib/application-header/application-header.component';\nexport {ApplicationToolbarComponent as ɵb} from './lib/application-toolbar/application-toolbar.component';\nexport {DateMaskDirective as ɵd} from './lib/directives/date-mask.directive';\nexport {LocationToolbarComponent as ɵf} from './lib/location/location-toolbar.component';\nexport {MapService as ɵe} from './lib/services/map.service';\nexport {NavigationService as ɵc} from './lib/services/navigation.service';\nexport {WFMLBasemapSelectorComponent as ɵg} from './lib/wfml-basemap-selector/wfml-basemap-selector.component';\nexport {WFMLLayerTreeComponent as ɵh} from './lib/wfml-layer-tree/wfml-layer-tree.component';"]}