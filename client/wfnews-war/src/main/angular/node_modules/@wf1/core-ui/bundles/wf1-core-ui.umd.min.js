!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("@angular/core"),require("@angular/common/http"),require("rxjs"),require("angular-oauth2-oidc"),require("moment"),require("rxjs/operators"),require("@angular/cdk/scrolling"),require("@angular/common"),require("@angular/forms"),require("@angular/material/button"),require("@angular/material/button-toggle"),require("@angular/material/card"),require("@angular/material/checkbox"),require("@angular/material/expansion"),require("@angular/material/form-field"),require("@angular/material/grid-list"),require("@angular/material/icon"),require("@angular/material/input"),require("@angular/material/list"),require("@angular/material/menu"),require("@angular/material/progress-spinner"),require("@angular/material/radio"),require("@angular/material/sidenav"),require("@angular/material/tabs"),require("@angular/material/toolbar"),require("@angular/material/tooltip"),require("@angular/material/tree"),require("@angular/platform-browser"),require("@angular/platform-browser/animations"),require("@busacca/ng-pick-datetime"),require("@wf1/orgunit-rest-api"),require("ngx-moment"),require("@angular/router"),require("vanilla-text-mask"),require("@ngrx/store"),require("@angular/material/dialog"),require("angular2-uuid"),require("@angular/cdk/tree"),require("@angular/cdk/collections"),require("@angular/material/divider")):"function"==typeof define&&define.amd?define("@wf1/core-ui",["exports","@angular/core","@angular/common/http","rxjs","angular-oauth2-oidc","moment","rxjs/operators","@angular/cdk/scrolling","@angular/common","@angular/forms","@angular/material/button","@angular/material/button-toggle","@angular/material/card","@angular/material/checkbox","@angular/material/expansion","@angular/material/form-field","@angular/material/grid-list","@angular/material/icon","@angular/material/input","@angular/material/list","@angular/material/menu","@angular/material/progress-spinner","@angular/material/radio","@angular/material/sidenav","@angular/material/tabs","@angular/material/toolbar","@angular/material/tooltip","@angular/material/tree","@angular/platform-browser","@angular/platform-browser/animations","@busacca/ng-pick-datetime","@wf1/orgunit-rest-api","ngx-moment","@angular/router","vanilla-text-mask","@ngrx/store","@angular/material/dialog","angular2-uuid","@angular/cdk/tree","@angular/cdk/collections","@angular/material/divider"],e):e(((t="undefined"!=typeof globalThis?globalThis:t||self).wf1=t.wf1||{},t.wf1["core-ui"]={}),t.ng.core,t.ng.common.http,t.rxjs,t.angularOauth2Oidc,t.momentInstance,t.rxjs.operators,t.ng.cdk.scrolling,t.ng.common,t.ng.forms,t.ng.material.button,t.ng.material.buttonToggle,t.ng.material.card,t.ng.material.checkbox,t.ng.material.expansion,t.ng.material.formField,t.ng.material.gridList,t.ng.material.icon,t.ng.material.input,t.ng.material.list,t.ng.material.menu,t.ng.material.progressSpinner,t.ng.material.radio,t.ng.material.sidenav,t.ng.material.tabs,t.ng.material.toolbar,t.ng.material.tooltip,t.ng.material.tree,t.ng.platformBrowser,t.ng.platformBrowser.animations,t.ngPickDatetime,t.orgunitRestApi,t.ngxMoment,t.ng.router,t.textMask,t.store,t.ng.material.dialog,t.angular2Uuid,t.ng.cdk.tree,t.ng.cdk.collections,t.ng.material.divider)}(this,(function(t,e,n,i,o,a,r,s,l,c,p,d,u,m,f,h,g,v,y,I,b,w,T,C,S,k,M,E,_,A,O,L,x,F,D,R,P,N,z,j,Y){"use strict";function B(t){if(t&&t.__esModule)return t;var e=Object.create(null);return t&&Object.keys(t).forEach((function(n){if("default"!==n){var i=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(e,n,i.get?i:{enumerable:!0,get:function(){return t[n]}})}})),e.default=t,Object.freeze(e)}var U=B(a),W=function(){};W.ɵprov=e.ɵɵdefineInjectable({factory:function(){return new W},token:W,providedIn:"root"}),W.decorators=[{type:e.Injectable,args:[{providedIn:"root"}]}];var H=function(){function t(t,e){this.httpHandler=t,this.libConfig=e,this.config=new i.AsyncSubject,this.configEmitter=this.config.asObservable()}return t.prototype.loadAppConfig=function(){var t=this;return new n.HttpClient(this.httpHandler).get(this.libConfig.configurationPath).toPromise().then((function(e){t.appConfig=e,t.config.next(t.appConfig),t.config.complete()}))},t.prototype.getConfig=function(){return this.appConfig},t}();H.ɵprov=e.ɵɵdefineInjectable({factory:function(){return new H(e.ɵɵinject(n.HttpBackend),e.ɵɵinject(W))},token:H,providedIn:"root"}),H.decorators=[{type:e.Injectable,args:[{providedIn:"root"}]}],H.ctorParameters=function(){return[{type:n.HttpBackend},{type:W}]};var q="[ \\t,\\|]+",V="(\\d+(?:\\.\\d+)?)",G=new RegExp("^\\s*"+V+q+V+q+"([zZ]([oO][nN][eE])?[ ])?"+"(\\d+)"+"\\s*$"),Q={"°":"deg","'":"min",'"':"sec","’":"min","”":"sec"},K={deg:1,min:60,sec:3600},J=function(){function t(){}return t.prototype.convertPointCoordinatesToGeoJSON=function(t){return t?{type:"Feature",geometry:{type:"Point",coordinates:t}}:void 0},t.prototype.formatCoordinates=function(t){return this.formatDM(t)},t.prototype.parseCoordinates=function(t){var e=this.parseLocation(t);if(e)return[parseFloat(e[0].toFixed(8)),parseFloat(e[1].toFixed(8))]},t.prototype.formatDM=function(t){return t?e(t[1])+", "+e(t[0]):"";function e(t){return function(t){return t<0?Math.ceil(t):Math.floor(t)}(t)+" "+(60*function(t){var e=Math.abs(t);return e-Math.floor(e)}(t)).toFixed(3)+"'"}},t.prototype.parseLocation=function(t){var e=this.parseGeo(t);return e||this.parseUTM(t)},t.prototype.getUTMCoordinate=function(t){var e=G.exec(t);return e?[parseInt(e[1]),parseInt(e[2]),parseInt(e[5])]:null},t.prototype.parseUTM=function(t){var e=this.getUTMCoordinate(t);return e?this.convertUTM(e):null},t.prototype.convertUTM=function(t){var e=t[0],n=t[1],i=t[2];return this.transformUTMtoGeo([e,n,i])},t.prototype.transformUTMtoGeo=function(t){var e=t[2];Proj4js.defs.UTM="+proj=utm +zone="+e;var n=new Proj4js.Proj("UTM"),i=new Proj4js.Proj("EPSG:4326"),o=new Proj4js.Point(t[0],t[1]);return Proj4js.transform(n,i,o),[o.x,o.y]},t.prototype.parseGeo=function(t){var e=new String(t).replace(/\s*,\s*/g," ,").replace(/[news]/gi,"").trim();try{var n=e.split(/\s+/).map((function(t,e){var n=t.match(/^([,]?)([-]?\d+[.]?\d*)([Â°'"â€™â€]?)$/);if(!n)throw new Error("component not valid: "+t);var i=Q[n[3]];if(0==e||n[1]){if(i&&"deg"!=i)throw new Error("component scale should be degrees: "+t);i="deg"}var o=parseFloat(n[2]);if(i&&"deg"!=i&&o<0)throw new Error("component should not be negative: "+t);return{val:o,scale:i}}))}catch(t){return}if(!(n.length<2||n.length>6))switch(n.length){case 2:return this.checkRangeFixOrderSign(this.resolveDMSpair(n.slice(0,1),n.slice(1,2)));case 3:return this.checkRangeFixOrderSign(this.resolveDMSpair(n.slice(0,2),n.slice(2,3)))||this.checkRangeFixOrderSign(this.resolveDMSpair(n.slice(0,1),n.slice(1,3)));case 4:return this.checkRangeFixOrderSign(this.resolveDMSpair(n.slice(0,2),n.slice(2,4)))||this.checkRangeFixOrderSign(this.resolveDMSpair(n.slice(0,3),n.slice(3,4)))||this.checkRangeFixOrderSign(this.resolveDMSpair(n.slice(0,1),n.slice(1,4)));case 5:return this.checkRangeFixOrderSign(this.resolveDMSpair(n.slice(0,3),n.slice(3,5)))||this.checkRangeFixOrderSign(this.resolveDMSpair(n.slice(0,2),n.slice(2,5)));case 6:return this.checkRangeFixOrderSign(this.resolveDMSpair(n.slice(0,3),n.slice(3,6)))}},t.prototype.checkRangeFixOrderSign=function(t){if(t){var e=t[0],n=t[1];return this.checkRangeFixOrder(e,n)||this.checkRangeFixOrder(-e,n)||this.checkRangeFixOrder(e,-n)||this.checkRangeFixOrder(-e,-n)}},t.prototype.checkRangeFixOrder=function(t,e){return this.checkRange(e,t)||this.checkRange(t,e)},t.prototype.checkRange=function(t,e){if(!(e>90||e<0||t>-100||t<-200))return[t,e]},t.prototype.resolveDMSpair=function(t,e){var n=this.resolveDMS.apply(this,t);if(!1===n)return!1;var i=this.resolveDMS.apply(this,e);return!1!==i&&[n,i]},t.prototype.resolveDMS=function(t,e,n){if(null==t)return!1;if(t.scale&&"deg"!=t.scale)return!1;if(null!=e&&e.scale&&"deg"==e.scale)return!1;if(null!=n&&n.scale&&("deg"==n.scale||"min"==n.scale||"sec"==e.scale))return!1;var i=t.val;return null==e?i:!(e.val<0)&&(i+=this.sameSign(e.val,t.val)/K[e.scale||"min"],null==n?i:!(n.val<0)&&(i+=this.sameSign(n.val,t.val)/K.sec))},t.prototype.sameSign=function(t,e){return e>=0?Math.abs(t):-Math.abs(t)},t}();J.ɵprov=e.ɵɵdefineInjectable({factory:function(){return new J},token:J,providedIn:"root"}),J.decorators=[{type:e.Injectable,args:[{providedIn:"root"}]}],J.ctorParameters=function(){return[]};var $=U,Z=function(){function t(t,e){this.injector=t,this.appConfigService=e,this.LOCAL_STORAGE_KEY="oauth",this.useLocalStore=!1,this.credentials=new i.AsyncSubject,this.authToken=new i.AsyncSubject,this.credentialsEmitter=this.credentials.asObservable(),this.authTokenEmitter=this.authToken.asObservable();var n=e.getConfig().application.lazyAuthenticate,o=e.getConfig().application.enableLocalStorageToken,a=e.getConfig().application.localStorageTokenKey,r=e.getConfig().application.allowLocalExpiredToken;a&&(this.LOCAL_STORAGE_KEY=a),o&&(this.useLocalStore=!0),this.checkForToken(void 0,n,r)}return t.prototype.checkForToken=function(t,e,n){var i=window.location.hash;if(i&&i.indexOf("access_token")>-1)this.parseToken(i);else if(this.useLocalStore&&!navigator.onLine){var o=localStorage.getItem(this.LOCAL_STORAGE_KEY);if(o)try{o=JSON.parse(o),this.initAuthFromSession()}catch(e){console.log("Failed to read session token - reinitializing"),this.tokenDetails=void 0,localStorage.removeItem(this.LOCAL_STORAGE_KEY),this.initImplicitFlow(t)}else this.initImplicitFlow(t);!n&&this.isTokenExpired(this.tokenDetails)&&(localStorage.removeItem(this.LOCAL_STORAGE_KEY),this.initImplicitFlow(t))}else{if(i&&i.indexOf("error")>-1)return void alert("Error occurred during authentication.");e||this.initImplicitFlow(t)}},t.prototype.isTokenExpired=function(t){var e,n=$();return!(t&&t.exp&&(e=$.unix(t.exp),n.isBefore(e)))},t.prototype.parseToken=function(t){t.startsWith("#")&&(t=t.substr(1));for(var e=t.split("&"),n=[],i=0;i<e.length;i++)n[e[i].split("=")[0]]=e[i].split("=")[1];void 0!==n.access_token&&null!==n.access_token&&(location.hash="",this.initAuth(n))},t.prototype.initImplicitFlow=function(t){var e=this.appConfigService.getConfig(),n={oidc:!1,issuer:e.application.baseUrl,loginUrl:e.webade.oauth2Url,redirectUri:t||window.location.href,clientId:e.webade.clientId,scope:e.webade.authScopes},i=this.injector.get(o.OAuthService);i.configure(n),i.initImplicitFlow()},t.prototype.initRefreshTokenImplicitFlow=function(t,e,n){var o=this,a="resizable=yes,scrollbars=yes,statusbar=yes,status=yes",r=window.open(t,null,a),s=new i.AsyncSubject,l=setInterval((function(){if(r||(n("Session Expired. Unable to open refresh window. Please allow pop-ups."),r=window.open(t,null,a)),r&&r.closed){clearInterval(l);var i=window.localStorage.getItem(""+e);i=JSON.parse(i),window.localStorage.removeItem(""+e),o.updateToken(i),s.next(i),s.complete()}}),500);return s.asObservable()},t.prototype.initAuthFromSession=function(){try{var t=localStorage.getItem(this.LOCAL_STORAGE_KEY);t=JSON.parse(t),this.oauth=t,this.initAndEmit()}catch(t){localStorage.removeItem(this.LOCAL_STORAGE_KEY),console.log("Failed to handle token payload",this.oauth),this.handleError(t,"Failed to handle token")}},t.prototype.initAuth=function(t){if(t)try{if(this.useLocalStore){var e={access_token:t.access_token,expires_in:t.expires_in};localStorage.setItem(this.LOCAL_STORAGE_KEY,JSON.stringify(e))}this.oauth=t,this.initAndEmit()}catch(t){this.useLocalStore&&localStorage.removeItem(this.LOCAL_STORAGE_KEY),console.log("Failed to handle token payload",this.oauth),this.handleError(t,"Failed to handle token")}},t.prototype.initAndEmit=function(){var t=this;if(this.appConfigService.getConfig().webade.enableCheckToken){var e=this.appConfigService.getConfig().application.baseUrl;e.endsWith("/")||(e=e.concat("/"));var i=""+e+this.appConfigService.getConfig().webade.checkTokenUrl,o=new n.HttpHeaders({Authorization:"Bearer "+this.oauth.access_token});setTimeout((function(){new n.HttpClient(t.injector.get(n.HttpHandler)).get(i,{headers:o}).toPromise().then((function(e){t.tokenDetails=e,t.authToken.next(t.oauth.access_token),t.authToken.complete(),t.credentials.next(t.tokenDetails),t.credentials.complete()})),r.catchError((function(t){return console.log(t),alert("App initialization Failed "+t.status+". Status(Check token failed)"),t}))}))}else{var a=this.oauth.access_token.split(".");a.length>1&&(this.tokenDetails=JSON.parse(atob(a[1]))),this.authToken.next(this.oauth.access_token),this.authToken.complete(),this.credentials.next(this.tokenDetails),this.credentials.complete()}},t.prototype.updateToken=function(t){this.oauth=t,this.initAndEmit()},t.prototype.getOauthToken=function(){return this.oauth?this.oauth.access_token:null},t.prototype.getTokenDetails=function(){return this.tokenDetails?this.tokenDetails:null},t.prototype.doesUserHaveApplicationPermissions=function(t){if(this.tokenDetails&&this.tokenDetails.scope&&this.tokenDetails.scope.length>0&&t){for(var e=0;e<t.length;e++)if(-1==this.tokenDetails.scope.indexOf(t[e]))return!1;return!0}return!1},t.prototype.clearLocalStorageToken=function(){localStorage.removeItem(this.LOCAL_STORAGE_KEY)},t.prototype.handleError=function(t,e){throw console.error("Unexpected error",t),alert(e?e+" "+t:""+t),t},t}();Z.ɵprov=e.ɵɵdefineInjectable({factory:function(){return new Z(e.ɵɵinject(e.INJECTOR),e.ɵɵinject(H))},token:Z,providedIn:"root"}),Z.decorators=[{type:e.Injectable,args:[{providedIn:"root"}]}],Z.ctorParameters=function(){return[{type:e.Injector},{type:H}]};var X,tt,et,nt,it,ot,at,rt=function(){function t(t,e){this.appConfig=t,this.token=e}return t.prototype.ngOnInit=function(){var t=this,e=this.appConfig.getConfig();this.appVersion=e.application.version,this.acronym=e.application.acronym,this.environment=e.application.environment,this.buildNumber=e.application.buildNumber?"."+e.application.buildNumber:"",this.token.credentialsEmitter.subscribe((function(e){e.given_name&&e.family_name?t.userName=e.given_name+" "+e.family_name:e.givenName&&e.familyName&&(t.userName=e.givenName+" "+e.familyName)}))},t}();rt.decorators=[{type:e.Component,args:[{selector:"wf1-application-header",template:'<mat-toolbar class="mat-typography wf1-application-header" color="primary">\n  <div class="bc-logo-div">\n    <img src="assets/images/logo/bcgov-logo.png" class="img-fluid center-block logo" alt="BC Gov">\n  </div>\n  <div class="app-logo-and-title-div">\n    <img src="assets/images/logo/wildfire-one-logo-text-horizontal-light.png" class="img-fluid center-block logo" alt="Wildfire ONE">\n    <span class="mat-title" id="header-title">- {{ titleText }}</span>\n  </div>\n  <div class="system-and-user-info mat-caption">\n    <div *ngIf="appVersion">\n      <p class="header-caption-label">SYSTEM: </p>\n      <p class="header-caption-text"> {{ acronym }} {{ appVersion }}{{ buildNumber }} {{ environment }} </p>\n    </div>\n    <div *ngIf="userName">\n      <p class="header-caption-label">USER: </p>\n      <p class="header-caption-text"> {{ userName }} </p>\n    </div>\n  </div>\n</mat-toolbar>\n'}]}],rt.ctorParameters=function(){return[{type:H},{type:Z}]},rt.propDecorators={titleText:[{type:e.Input}]},(X=t.IconType||(t.IconType={})).INCIDENT="incident",X.INCIDENT_WITH_STATUS="incident-with-status",X.INCIDENT_AGENCY_ASSIST="incident-agency-assist",X.INCIDENT_FIELD_ACTIVITY="incident-field-activity",X.REPORT_OF_FIRE="report-of-fire",X.NO_MORE_REPORT_OF_FIRE="no-more-report-of-fire",X.NO_MORE_REPORT_OF_FIRE_DARK="no-more-report-of-fire-dark",X.NO_MORE_REPORT_OF_FIRE_LIGHT="no-more-report-of-fire-light",X.PLACE_NAME_SEARCH="place-name-search",X.POINT_ID="point-id",X.FILTER_CANCEL="filter-cancel",(tt=t.IconSize||(t.IconSize={})).DEFAULT="toolbar",tt.TOOLBAR="toolbar",tt.LIST_SMALL="list-small",tt.LIST_LARGE="list-large",(et=t.IncidentType||(t.IncidentType={})).DEFAULT="wf1-incident-icon-default",et.OUT="wf1-incident-icon-out",et.BEING_HELD="wf1-incident-icon-being-held",et.NOT_SET="wf1-incident-icon-not-set",et.OUT_OF_CONTROL="wf1-incident-icon-out-of-control",et.UNDER_CONTROL="wf1-incident-icon-under-control",(nt=t.IncidentTypeWithStatus||(t.IncidentTypeWithStatus={})).ACTIVE="wf1-incident-with-status-icon-active",nt.COMPLETED="wf1-incident-with-status-icon-completed",(it=t.IncidentTypeAgencyAssist||(t.IncidentTypeAgencyAssist={})).ACTIVE="wf1-incident-agency-assist-icon-active",it.COMPLETED="wf1-incident-agency-assist-icon-completed",(ot=t.IncidentTypeFieldActivity||(t.IncidentTypeFieldActivity={})).ACTIVE="wf1-incident-field-activity-icon-active",ot.COMPLETED="wf1-incident-field-activity-icon-completed",(at=t.ReportOfFireType||(t.ReportOfFireType={})).DEFAULT="wf1-rof-icon-default",at.GENERAL="wf1-rof-icon-general",at.INTERFACE="wf1-rof-icon-interface",at.CAMPFIRE="wf1-rof-icon-campfire",at.CIGARETTE="wf1-rof-icon-cigarette";var st,lt={icon:'\n      <svg version="1.0" xmlns="http://www.w3.org/2000/svg" width="189.000000pt" height="191.000000pt"\n           viewBox="0 0 189.000000 191.000000" preserveAspectRatio="xMidYMid meet">\n        <g transform="translate(0.000000,191.000000) scale(0.100000,-0.100000)" stroke="none">\n          <path d="M493 1407 c-366 -365 -423 -426 -423 -452 0 -25 38 -67 262 -292\n          l262 -263 103 0 c57 0 103 4 103 9 0 4 -30 26 -66 47 -122 71 -191 172 -201\n          293 -8 95 14 161 90 271 84 123 117 187 117 229 0 47 12 67 28 48 22 -26 40\n          -82 47 -147 l8 -65 27 34 c78 93 58 271 -47 409 -18 23 -33 45 -33 48 0 12 76\n          -8 130 -34 67 -33 191 -154 239 -235 79 -133 109 -267 91 -399 -6 -39 -13 -74\n          -16 -79 -14 -23 17 -5 44 25 33 38 51 84 62 160 l7 51 28 -59 c90 -190 -11\n          -466 -203 -555 -80 -37 -69 -51 41 -51 l92 0 262 262 c143 145 264 274 268\n          287 6 21 -40 70 -421 452 -337 337 -434 429 -454 429 -19 0 -116 -91 -447\n          -423z"/>\n          <path d="M878 985 c-48 -80 -53 -95 -37 -95 10 0 19 -2 19 -4 0 -2 -16 -32\n            -34 -65 -25 -44 -31 -61 -20 -61 19 0 19 -2 -18 -73 -18 -34 -34 -65 -36 -69\n          -2 -5 6 -8 17 -8 12 0 21 -2 21 -3 0 -2 -13 -28 -30 -58 -16 -30 -30 -57 -30\n          -61 0 -4 33 -8 73 -10 l72 -3 3 -59 3 -59 -120 6 c-67 3 -121 2 -121 -2 0 -4\n          62 -69 138 -144 99 -98 145 -137 162 -137 17 0 63 39 162 137 76 75 138 141\n          138 146 0 5 -49 8 -112 6 l-113 -4 -3 52 c-3 60 -2 61 100 65 l56 3 -34 58\n          c-19 32 -34 60 -34 62 0 3 9 5 20 5 26 0 26 3 -15 77 -29 52 -32 65 -20 69 13\n          5 10 16 -16 62 -28 48 -30 56 -17 66 14 10 8 24 -39 104 -31 50 -61 92 -67 92\n          -6 -1 -36 -43 -68 -95z"/>\n        </g>\n      </svg>\n    ',halo:'\n      <svg version="1.0" xmlns="http://www.w3.org/2000/svg" width="189.000000pt" height="191.000000pt"\n           viewBox="0 0 189.000000 191.000000" preserveAspectRatio="xMidYMid meet">\n        <g transform="translate(0.000000,191.000000) scale(0.100000,-0.100000)" stroke="none">\n          <path d="M910 1870 c-39 -24 -882 -878 -887 -898 -3 -13 -2 -32 3 -43 10 -22\n          860 -875 887 -891 11 -5 29 -7 40 -4 29 7 903 884 912 914 6 21 -44 75 -447\n          478 -297 298 -460 454 -473 454 -11 0 -27 -4 -35 -10z"/>\n        </g>\n      </svg>\n    '},ct={icon:'\n        <svg id="Capa_1" enable-background="new 0 0 512 512" height="512" viewBox="0 0 512 512" width="512" \n        xmlns="http://www.w3.org/2000/svg">\n            <g>\n                <path d="m483.577 335.232c-4.061-5.345-9.542-9.517-15.783-11.989-10.92-4.325-22.773-3.425-32.737 \n                  2.328l-65.792 37.985c-.373 5.55-1.426 11.155-3.267 16.71-11.309 34.118-47.824 53.021-82.542 \n                  43.718l-65.035-17.426c-8.002-2.144-12.751-10.369-10.607-18.371 2.144-8.002 10.369-12.751 \n                  18.371-10.607l66.028 17.692c20.005 5.36 40.568-6.511 45.928-26.516 \n                  5.36-20.005-6.512-40.568-26.516-45.928l-100.807-27.011c-19.351-5.185-39.562-2.525-56.911 \n                  7.492l-125.702 72.575c-7.174 4.142-9.633 13.316-5.49 20.49l62.426 108.126c1.989 3.446 5.265 5.959 \n                  9.108 6.989s7.937.491 11.382-1.499l56.689-32.729 121.262 7.822c14.825.955 29.461-2.466 \n                  42.327-9.894l146.648-84.666c19.295-11.142 24.947-36.96 11.02-55.291z"/>\n                <path d="m156 240h200c8.284 0 15-6.716 15-15 0-39.813-20.34-74.962-51.171-95.612-16.612 15.86-39.103 \n                    25.612-63.829 25.612s-47.217-9.752-63.829-25.612c-30.831 20.65-51.171 55.799-51.171 95.612 0 8.284 \n                    6.716 15 15 15z"/><circle cx="256" cy="62.5" r="62.5"/>\n            </g>\n        </svg>\n    ',halo:'\n      <svg version="1.0" xmlns="http://www.w3.org/2000/svg" width="189.000000pt" height="191.000000pt"\n           viewBox="0 0 189.000000 191.000000" preserveAspectRatio="xMidYMid meet">\n        <g transform="translate(0.000000,191.000000) scale(0.100000,-0.100000)" stroke="none">\n          <path d="M910 1870 c-39 -24 -882 -878 -887 -898 -3 -13 -2 -32 3 -43 10 -22\n          860 -875 887 -891 11 -5 29 -7 40 -4 29 7 903 884 912 914 6 21 -44 75 -447\n          478 -297 298 -460 454 -473 454 -11 0 -27 -4 -35 -10z"/>\n        </g>\n      </svg>\n    '},pt={icon:'\n\n      <svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" \n        x="0px" y="0px" viewBox="0 0 511.999 511.999" style="enable-background:new 0 0 511.999 511.999;" \n        xml:space="preserve">\n        <g>\n            <g>\n              <path d="M507.408,145.509l-73.855-17.919l-16.404-11.476l8.541-12.21c4.603-6.58,\n                3-15.647-3.58-20.25l-27.314-19.108c-6.58-4.603-15.647-3-20.25,3.58l-8.541,\n                12.21l-7.72-5.4c-6.928-4.847-16.473-3.159-21.32,3.769l-45.227,64.653c-4.847,6.928-3.159,16.474,3.769,\n                21.32l7.72,5.4l-26.752,38.243l38.085,54.444l39.81-56.91l16.404,11.476l42.155,63.234c1.614,2.422,4.736,\n                3.341,7.402,2.173c11.908-5.219,43.951-21.367,65.302-51.889c21.351-30.522,25.533-66.16,26.353-79.135\n                C512.171,148.805,510.242,146.196,507.408,145.509z"/>\n            </g>\n        </g>\n        <g>\n            <g>\n              <path d="M197.44,321.307l-60.711,86.788c-4.603,6.58-3,15.647,3.58,20.25l27.314,19.107c6.58,4.603,15.647,3,20.25-3.58\n              l47.652-68.12L197.44,321.307z"/>\n            </g>\n        </g>\n        <g>\n            <g>\n              <path d="M375.27,408.096L208.773,170.082l7.72-5.4c6.928-4.847,8.616-14.392,3.769-21.32l-45.227-64.654\n              c-4.847-6.928-14.392-8.616-21.32-3.769l-7.72,5.4l-8.541-12.21c-4.603-6.579-13.668-8.184-20.25-3.58L89.89,83.655\n              c-6.58,4.603-8.183,13.669-3.58,20.25l8.541,12.21L78.447,127.59l-14.122,3.426L4.591,145.509\n              c-2.829,0.687-4.763,3.303-4.579,6.208c0.819,12.976,5.002,48.613,26.353,79.135c21.351,30.522,53.394,46.67,65.302,51.889\n              c2.671,1.171,5.784,0.254,7.402-2.173l34.095-51.144l8.06-12.091l16.404-11.476l166.498,238.015\n              c4.603,6.58,13.668,8.183,20.25,3.58l27.314-19.106C378.27,423.743,379.873,414.676,375.27,408.096z"/>\n            </g>\n        </g>      \n        <g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g>\n      </svg>\n    ',halo:'\n      <svg version="1.0" xmlns="http://www.w3.org/2000/svg" width="189.000000pt" height="191.000000pt"\n           viewBox="0 0 189.000000 191.000000" preserveAspectRatio="xMidYMid meet">\n        <g transform="translate(0.000000,191.000000) scale(0.100000,-0.100000)" stroke="none">\n          <path d="M910 1870 c-39 -24 -882 -878 -887 -898 -3 -13 -2 -32 3 -43 10 -22\n          860 -875 887 -891 11 -5 29 -7 40 -4 29 7 903 884 912 914 6 21 -44 75 -447\n          478 -297 298 -460 454 -473 454 -11 0 -27 -4 -35 -10z"/>\n        </g>\n      </svg>\n    '},dt={icon:'\n      <svg version="1.0" xmlns="http://www.w3.org/2000/svg" width="245.000000pt" height="245.000000pt"\n           viewBox="0 0 245.000000 245.000000" preserveAspectRatio="xMidYMid meet">\n        <g transform="translate(0.000000,245.000000) scale(0.100000,-0.100000)" stroke="none">\n          <path d="M1631 2331 c-14 -14 -21 -34 -21 -59 0 -104 -52 -218 -162 -357 -107\n            -135 -123 -176 -123 -310 0 -96 3 -116 24 -155 47 -91 122 -146 229 -169 80\n          -17 79 -17 87 46 4 32 16 87 27 123 22 70 91 214 108 225 14 9 104 -183 124\n          -266 9 -36 16 -82 16 -103 l0 -38 48 6 c107 15 152 35 208 90 44 45 56 65 75\n          126 18 61 21 87 16 164 -10 156 -60 276 -117 276 -12 0 -54 -32 -100 -75 -122\n          -114 -119 -114 -113 8 10 192 -58 350 -189 440 -70 48 -109 56 -137 28z"/>\n          <path d="M525 2190 c-36 -15 -353 -343 -360 -373 -11 -41 1 -95 41 -190 219\n            -525 1022 -1308 1541 -1503 53 -20 77 -24 113 -19 42 6 56 18 216 178 183 183\n          196 204 175 270 -8 23 -84 105 -239 259 -288 285 -280 283 -430 135 l-82 -82\n          -287 287 -287 287 87 90 c87 90 87 90 87 143 l0 52 -222 224 c-123 123 -235\n          230 -250 238 -30 15 -72 17 -103 4z"/>\n        </g>\n      </svg>\n    ',halo:'\n      <svg version="1.0" xmlns="http://www.w3.org/2000/svg" width="245.000000pt" height="245.000000pt"\n      viewBox="0 0 245.000000 245.000000" preserveAspectRatio="xMidYMid meet">\n        <g transform="translate(0.000000,245.000000) scale(0.100000,-0.100000)" stroke="none">\n        <path d="M1600 2428 c-60 -30 -90 -77 -90 -139 0 -100 -37 -179 -150 -319 -29\n          -36 -71 -103 -94 -150 l-41 -85 0 -130 c0 -125 1 -132 32 -197 62 -132 175\n        -209 335 -229 133 -17 154 0 177 147 6 39 16 84 22 100 l12 29 18 -55 c10 -30\n        18 -72 18 -93 2 -95 54 -131 176 -125 145 8 255 75 318 196 66 124 74 305 23\n        468 -34 105 -58 141 -109 164 -54 25 -98 25 -148 0 -44 -23 -40 -26 -59 55\n        -34 149 -146 295 -272 355 -75 36 -109 37 -168 8z"/>\n        <path d="M480 2279 c-63 -28 -362 -326 -395 -393 -48 -96 -30 -189 75 -396\n        145 -283 403 -604 717 -893 259 -237 470 -390 693 -502 201 -101 284 -115 379\n        -65 46 24 363 343 387 390 26 50 24 143 -3 195 -26 48 -465 486 -510 509 -43\n        21 -154 21 -195 0 -18 -9 -55 -38 -83 -65 l-51 -48 -214 214 -215 215 52 52\n        c28 29 58 67 67 85 23 45 21 144 -3 191 -29 54 -477 498 -523 517 -51 21 -124\n        19 -178 -6z"/>\n        </g>\n      </svg>\n    '},ut={icon:'\n      <svg xmlns="http://www.w3.org/2000/svg" preserveAspectRatio="xMidYMid meet" \n      viewBox="0 0 322.723 322.723" height="430.297" width="430.297"><defs><symbol >\n      <g stroke="none"><path d="M1600 2428c-60-30-90-77-90-139 0-100-37-179-150-319-29-36-71-103-94-150l-41-85v-130c0-125 \n      1-132 32-197 62-132 175-209 335-229 133-17 154 0 177 147 6 39 16 84 22 100l12 29 18-55c10-30 18-72 18-93 2-95 54-131 \n      176-125 145 8 255 75 318 196 66 124 74 305 23 468-34 105-58 141-109 164-54 25-98 25-148 0-44-23-40-26-59 55-34 149-146 \n      295-272 355-75 36-109 37-168 8zM480 2279c-63-28-362-326-395-393-48-96-30-189 75-396 145-283 403-604 717-893 259-237 \n      470-390 693-502 201-101 284-115 379-65 46 24 363 343 387 390 26 50 24 143-3 195-26 48-465 486-510 509-43 21-154 21-195 \n      0-18-9-55-38-83-65l-51-48-429 429 52 52c28 29 58 67 67 85 23 45 21 144-3 191-29 54-477 498-523 517-51 21-124 19-178-6z" \n      fill="#fff" transform="matrix(.1 0 0 -.1 35.477344 281.60534)"/><path d="M1631 2331c-14-14-21-34-21-59 0-104-52-218-162-357-107-135-123-176-123-310\n       0-96 3-116 24-155 47-91 122-146 229-169 80-17 79-17 87 46 4 32 16 87 27 123 22 70 91 214 108 225 14 9 104-183 124-266 9-36 16-82 16-103v-38l48 \n       6c107 15 152 35 208 90 44 45 56 65 75 126 18 61 21 87 16 164-10 156-60 276-117 276-12 0-54-32-100-75-122-114-119-114-113 8 10 192-58 350-189 440-70 \n       48-109 56-137 28zM525 2190c-36-15-353-343-360-373-11-41 1-95 41-190C425 1102 1228 319 1747 124c53-20 77-24 113-19 42 6 56 18 216 178 183 183 196 204 \n       175 270-8 23-84 105-239 259-288 285-280 283-430 135l-82-82-574 574 87 90c87 90 87 90 87 143v52l-222 224c-123 123-235 230-250 238-30 15-72 17-103 4z" \n       transform="matrix(.1 0 0 -.1 35.510667 281.87686)"/></g></symbol></defs><path d="M103.432 95.678c-2.533 1.056-24.84 24.137-25.334 26.25-.774 2.885.07\n        6.685 2.885 13.37 15.41 36.945 71.92 92.046 108.442 105.768 3.73 1.407 5.42 1.69 7.952 1.337 2.956-.422 3.94-1.267 15.2-12.526 12.878-12.878 \n        13.793-14.356 12.315-19-.563-1.62-5.91-7.39-16.82-18.226-20.267-20.056-19.704-19.915-30.26-9.5l-5.77 5.77-40.393-40.393 6.122-6.333c6.122-6.333 \n        6.122-6.333 6.122-10.063v-3.66l-15.622-15.763c-8.656-8.656-16.537-16.185-17.593-16.748-2.11-1.056-5.067-1.196-7.248-.28zm77.83-9.922c-.985.985-1.478 \n        2.393-1.478 4.152 0 7.32-3.66 15.34-11.4 25.123-7.53 9.5-8.656 12.385-8.656 21.815 0 6.756.21 8.163 1.69 10.908 3.307 6.404 8.585 10.274 16.115 \n        11.893 5.63 1.196 5.56 1.196 6.122-3.237.28-2.252 1.126-6.122 1.9-8.656 1.548-4.926 6.404-15.06 7.6-15.834.985-.633 7.32 12.878 8.726 18.72.633 \n        2.533 1.126 5.77 1.126 7.248v2.674l3.378-.422c7.53-1.056 10.696-2.463 14.637-6.333 3.096-3.167 3.94-4.574 5.278-8.867 1.267-4.293 1.478-6.122 \n        1.126-11.54-.704-10.978-4.222-19.422-8.233-19.422-.844 0-3.8 2.252-7.037 5.278-8.585 8.022-8.374 8.022-7.952-.563.704-13.51-4.082-24.63-13.3-30.963-4.926-3.378-7.67-3.94-9.64-1.97zM228.2-.001L94.524.001 \n        0 94.523.001 228.2l94.523 94.524 133.677.001 94.523-94.525-.001-133.676-9.344-9.344zM107.74 31.906h107.246l75.834 75.834v107.246l-75.834 75.833H107.74l-75.834-75.833V107.74z" \n        fill="#263238" paint-order="markers stroke fill"/></svg>\n    ',dark:'<svg xmlns="http://www.w3.org/2000/svg" width="430.667" height="430.667" viewBox="0 0 323 323" xmlns:v="https://vecta.io/nano"><style><![CDATA[.B{dominant-baseline:auto}]]></style><path d="M103 19.7l-83 83v117l83 83h117l83-83v-117l-83-83z" fill="#fff" stroke="#fff" stroke-linejoin="round" stroke-width="39.5" paint-order="markers stroke fill" class="B"/><g transform="matrix(.878 0 0 .878 19.7 19.7)"><path d="M94.5 0L0 94.5l.001 134L94.5 323h134l94.5-94.5v-134L228.5.001z" fill="maroon" paint-order="markers stroke fill" class="B"/><path d="M225 8.45L98 8.452l-89.6 89.6.002 127 89.6 89.6h127l89.6-89.6-.002-127-6.87-6.87z" fill="#d40000" paint-order="markers stroke fill" class="B"/><path d="M107 87.3c-2.26-.094-4.56.335-6.9 1.32-3.044 1.272-2.834 1.732-3.854 2.612l-3.45 3.17c-2.57 2.45-5.66 5.56-8.7 8.7s-6 6.3-8.3 8.9c-1.16 1.3-2.14 2.45-2.96 3.48a24.79 24.79 0 0 0-1.15 1.55c-.367.548-.83.73-1.4 3.02-1.52 5.8.25 11.1 3.23 18.2.006.013.007.018.01.024 8.47 20.3 26.9 43.5 48 64.1s44.6 38.3 64.8 45.9c4.132 1.56 8.162 2.25 11.702 1.76l.014-.002.016-.002c2.07-.295 5.68-1.73 8.28-3.88s5.6-5.18 11.3-10.8c6.48-6.48 10-9.95 12.6-13.8 2.52-3.9 2.6-9.9 1.64-12.9l-.03-.098-.033-.096c-.913-2.62-1.64-3.1-2.6-4.28-.942-1.18-2.1-2.48-3.55-4.06-2.9-3.15-7.02-7.35-12.5-12.8l-.006-.006-.006-.004c-10.1-10-14.1-15.6-21.9-18-3.9-1.23-8.83-.037-11.7 1.88-2.87 1.9-4.86 4.08-7.46 6.65l-.018.02-.373.373-29.7-29.7.89-.922c3.06-3.17 4.76-4.66 6.4-7.35 1.64-2.7 1.88-6.17 1.88-8.04v-6.8l-17.912-18.012-11.8-11.5-4.13-3.85c-.558-.502-1.04-.927-1.5-1.3-.464-.385-.477-.584-2-1.4l-.1-.047-.1-.045c-2.2-1.1-4.44-1.72-6.7-1.82zm76.4-10.2c-2.9.19-6.04 1.4-7.92 3.27-2.66 2.66-3.72 6.38-3.72 9.57 0 4.77-2.54 11.3-9.75 20.4-7.77 9.8-10.3 16.5-10.3 26.6 0 3.46.012 5.75.38 8.12.362 2.35 1.28 4.63 2.2 6.34 4.26 8.2 12 13.8 21.3 15.8l.008.002.01.002c1.4.298 2.52.558 3.9.73s3.48.516 6.27-.977 4.14-4.46 4.55-5.97c.402-1.52.46-2.46.6-3.54v-.014c.18-1.45 1.03-5.4 1.62-7.34.05-.16.26-.59.326-.783.358 1 1.1 2.67 1.24 3.2l.016.062c.488 1.95.896 5.6.896 5.4v11.3l12.057-1.508c8.16-1.14 14.2-3.8 18.9-8.45l.057-.055.055-.057c3.4-3.48 5.65-7.23 7.1-11.9l.016-.057.018-.055c1.37-4.64 1.8-8.48 1.42-14.2l.002.006c-.396-6.18-1.5-11.7-3.46-16.3-.974-2.3-2.13-4.43-3.95-6.37s-4.77-3.9-8.46-3.9c-3.6 0-3.96.923-4.84 1.43s-1.6 1.02-2.4 1.62c-.157.12-.346.308-.506.432-1.48-11.7-6.96-22-16.2-28.4l-.004-.004c-2.85-1.95-5.34-3.48-8.72-4.18-.847-.173-1.78-.222-2.74-.158z" fill="maroon" paint-order="markers stroke fill" class="B"/><path d="M103 95.7c-2.53 1.06-24.8 24.1-25.3 26.2-.774 2.9.07 6.7 2.9 13.4 15.4 36.9 71.9 92 108 106 3.73 1.4 5.42 1.7 7.95 1.34 2.96-.422 3.94-1.27 15.2-12.5 12.9-12.9 13.8-14.4 12.3-19-.563-1.62-5.9-7.4-16.8-18.2-20.3-20.1-19.7-19.9-30.3-9.5l-5.77 5.77-40.4-40.4 6.12-6.33c6.12-6.33 6.12-6.33 6.12-10.1v-3.66l-15.6-15.8c-8.66-8.66-16.5-16.2-17.6-16.7-2.1-1.06-5.07-1.2-7.25-.28zm77.8-9.92c-.985.985-1.48 2.4-1.48 4.15 0 7.32-3.66 15.3-11.4 25.1-7.53 9.5-8.66 12.4-8.66 21.8 0 6.76.21 8.16 1.7 10.9 3.3 6.4 8.6 10.3 16.1 11.9 5.63 1.2 5.56 1.2 6.12-3.24.282-2.25 1.13-6.12 1.9-8.66 1.55-4.93 6.4-15.1 7.6-15.8.985-.633 7.32 12.9 8.73 18.7.633 2.53 1.13 5.77 1.13 7.25v2.67l3.38-.422c7.53-1.06 10.7-2.46 14.6-6.33 3.1-3.17 3.94-4.57 5.28-8.87 1.27-4.3 1.48-6.12 1.13-11.5-.704-11-4.22-19.4-8.23-19.4-.844 0-3.8 2.25-7.04 5.28-8.6 8.02-8.37 8.02-7.95-.563.704-13.5-4.08-24.6-13.3-31-4.93-3.38-7.67-3.94-9.64-1.97z" fill="#fff" paint-order="markers stroke fill"/><path d="M222 121c.01-.006-.046.17-.492.344L222 121zm-136.9 4c-.16.3-.26.343-.258.34l.258-.34zM199 137c.024-.035.042.067-.207.34L199 137zm19 76c.005.016.01.005.014.02z" paint-order="markers stroke fill" fill="maroon" class="B"/></g></svg>',light:'<svg xmlns="http://www.w3.org/2000/svg" width="430.667" height="430.667" viewBox="0 0 323 323" xmlns:v="https://vecta.io/nano"><g transform="matrix(.878 0 0 .878 19.7 19.7)"><path d="M94.5 0L0 94.5l.001 134L94.5 323h134l94.5-94.5v-134L228.5.001z" dominant-baseline="auto" fill="#fff" stroke="#fff" stroke-linejoin="round" stroke-width="45" paint-order="markers stroke fill"/><path d="M94.5 0L0 94.5l.001 134L94.5 323h134l94.5-94.5v-134L228.5.001z" dominant-baseline="auto" fill="maroon" paint-order="markers stroke fill"/><path d="M101 16l-85.2 85.2v120l85.2 85.2h120l85.2-85.2v-120L221 16z" dominant-baseline="auto" fill="none" stroke="#d40000" stroke-width="15" paint-order="markers stroke fill"/><path d="M290.78 107.676l-.055 107.28-75.845 75.87-107.28-.055-75.87-75.845.055-107.28 75.845-75.87 107.28.055z" fill="#fff" paint-order="markers stroke fill"/><path d="M103 95.7c-2.53 1.06-24.8 24.1-25.3 26.2-.774 2.9.07 6.7 2.9 13.4 15.4 36.9 71.9 92 108 106 3.73 1.4 5.42 1.7 7.95 1.34 2.96-.422 3.94-1.27 15.2-12.5 12.9-12.9 13.8-14.4 12.3-19-.563-1.62-5.9-7.4-16.8-18.2-20.3-20.1-19.7-19.9-30.3-9.5l-5.77 5.77-40.4-40.4 6.12-6.33c6.12-6.33 6.12-6.33 6.12-10.1v-3.66l-15.6-15.8c-8.66-8.66-16.5-16.2-17.6-16.7-2.1-1.06-5.07-1.2-7.25-.28zm77.8-9.92c-.985.985-1.48 2.4-1.48 4.15 0 7.32-3.66 15.3-11.4 25.1-7.53 9.5-8.66 12.4-8.66 21.8 0 6.76.21 8.16 1.7 10.9 3.3 6.4 8.6 10.3 16.1 11.9 5.63 1.2 5.56 1.2 6.12-3.24.282-2.25 1.13-6.12 1.9-8.66 1.55-4.93 6.4-15.1 7.6-15.8.985-.633 7.32 12.9 8.73 18.7.633 2.53 1.13 5.77 1.13 7.25v2.67l3.38-.422c7.53-1.06 10.7-2.46 14.6-6.33 3.1-3.17 3.94-4.57 5.28-8.87 1.27-4.3 1.48-6.12 1.13-11.5-.704-11-4.22-19.4-8.23-19.4-.844 0-3.8 2.25-7.04 5.28-8.6 8.02-8.37 8.02-7.95-.563.704-13.5-4.08-24.6-13.3-31-4.93-3.38-7.67-3.94-9.64-1.97z" fill="maroon" paint-order="markers stroke fill"/><path d="M186 94c-1.4 13.4-12.2 22.7-18.3 33.9-4.02 8.6-1.9 21.5 8.27 24.5 2.28.517 1.4-4.28 2.53-5.88 2.34-7.63 5.43-16.1 12-20.9 2.37-1.16 5.88.477 7.1 1.42-2.42-5.68.83-11.8-1.18-17.7-1.3-6.42-4.54-13-10.4-16.3l-.08.847zm-80.1 8.37c-6.62 4.6-11 11.7-17.2 16.8-3.13 2.45-5.15 6.3-2.95 10.1 5.93 17.6 18.6 31.8 30.2 46.1 21.2 24.2 46 45.9 75.3 59.4 4.55 2.2 8.42-1.2 11-4.65 5.02-5.6 11.8-10.2 15.5-16.7-3.34-5.87-9.73-9.52-13.9-14.9-5.15-5.3-10.2-11.8-16.9-14.9-5.28 3.57-8.1 12.2-15.7 11.5-8.03-1-11.1-9.78-17-14.1l-31.8-31.9c3.05-7.2 12.2-10.2 14.1-17.7-3.88-5.65-9.98-9.32-14.3-14.7-5.13-4.86-9.98-11.7-16.3-14.4zm112 20.5c-4.26 4.18-9.8 11.4-16.6 8.2-1.6-1.05 1.26 2.53 1.3 3.54 2.74 5.9 5.34 12 6.46 18.4 9.67-2.46 13-13.5 11.1-22.3-.337-2.58-.807-5.98-2.22-7.8z" fill="#d40000" paint-order="markers stroke fill"/></g></svg>'},mt={icon:'\n      <svg version="1.0" xmlns="http://www.w3.org/2000/svg" width="309.000000pt" height="308.000000pt"\n           viewBox="0 0 309.000000 308.000000" preserveAspectRatio="xMidYMid meet">\n        <g transform="translate(0.000000,308.000000) scale(0.100000,-0.100000)" stroke="none">\n        <path d="M1086 3004 c-380 -69 -718 -321 -891 -664 -277 -550 -126 -1213 360\n        -1578 87 -66 305 -175 405 -202 340 -94 697 -50 981 121 l83 50 321 -320 c176\n        -175 336 -327 355 -337 47 -24 143 -24 190 0 83 43 133 118 133 201 1 102 -1\n        105 -350 456 l-324 326 47 76 c211 352 228 821 43 1189 -89 177 -261 379 -406\n        477 -146 98 -340 176 -507 206 -110 19 -332 18 -440 -1z m411 -459 c241 -56\n        464 -248 558 -482 69 -171 73 -386 10 -565 -29 -83 -84 -183 -95 -171 -4 4\n        -67 157 -139 339 -73 183 -140 339 -150 348 -14 13 -43 16 -161 16 -113 0\n        -140 -3 -132 -12 5 -7 11 -53 13 -103 l4 -90 -90 0 -90 0 4 90 c2 50 8 96 13\n        103 8 9 -19 12 -132 12 -118 0 -147 -3 -161 -16 -10 -9 -80 -171 -156 -361\n        -155 -389 -136 -367 -203 -228 -57 116 -74 196 -74 345 0 219 64 381 213 542\n        195 211 483 298 768 233z m-84 -842 c3 -5 10 -73 17 -152 9 -118 9 -146 -2\n        -153 -15 -10 -223 -7 -233 4 -8 7 12 267 21 293 5 12 25 15 99 15 52 0 96 -3\n        98 -7z m41 -490 c2 -10 8 -66 11 -124 l7 -106 -38 -6 c-51 -9 -203 -9 -244 -1\n        l-32 7 7 106 c3 58 9 114 11 124 5 15 20 17 139 17 119 0 134 -2 139 -17z"/>\n        </g>\n      </svg>\n    '},ft={icon:'\n      <svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 24 24" height="24" width="24">\n        <path d="M 5,1 C 3.9,1 3.0097656,1.9 3.0097656,3 L 3,15.929688 c 0,0.69 0.3508594,1.300156 0.8808594,1.660156\n        L 12,23 20.109375,17.589844 c 0.53,-0.36 0.880859,-0.970156 0.880859,-1.660156 L 21,3 C 21,1.9 20.1,1 19,1 Z m\n        7.017578,1.765625 c 0.34378,0 0.638348,0.1141006 0.882813,0.34375 0.244465,0.2296493 0.367187,0.510388\n        0.367187,0.84375 0,0.325954 -0.122722,0.6086457 -0.367187,0.8457031 -0.244465,0.2370574 -0.539033,0.3554688\n        -0.882813,0.3554688 -0.320861,0 -0.603191,-0.1184114 -0.847656,-0.3554688 -0.244465,-0.2444655\n        -0.365234,-0.5271572 -0.365234,-0.8457031 0,-0.3111379 0.120769,-0.5852082 0.365234,-0.8222656\n        0.244465,-0.2444655 0.526795,-0.3652344 0.847656,-0.3652344 z m -1.03125,4.2988281 h 2.085938 L 13,16 h -2 z" />\n      </svg>\n    '},ht={icon:'\n      <svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 133.15887 117.29034" height="117.29034mm" width="133.15887mm">\n        <g transform="translate(-34.473864,-66.676034)">\n          <g>\n            <g>\n              <path d="M 94.473677,137.49393 34.473864,66.783005 34.564632,66.676034 H 154.38314 l 0.0907,0.106971 z" />\n              <rect y="129.02737" x="88.416046" height="45.357258" width="12.115609" />\n            </g>\n            <rect width="29.482143" height="76.351196" x="79.73278" y="107.61517" />\n          </g>\n          <g transform="translate(500.06128,136.57473)">\n            <rect width="14.363094" height="49.892857" x="-249.284" y="235.20406" transform="rotate(45)" />\n            <rect width="14.363095" height="49.892857" x="-267.59927" y="-266.99539" transform="rotate(-45)" />\n          </g>\n        </g>\n      </svg>\n    '},gt=function(){function e(e,n){this.iconSize=t.IconSize.DEFAULT,this.hasHalo=!1,this.colourCode=t.IncidentType.DEFAULT,this.isBlinking=!1,this.isCancelled=!1,this.isAssignedToIncident=!1,this.HALO_SUFFIX="-halo";var i=function(t,i){e.addSvgIconLiteral(t,n.bypassSecurityTrustHtml(i))};i(t.IconType.INCIDENT,lt.icon),i(t.IconType.INCIDENT_WITH_STATUS,lt.icon),i(t.IconType.INCIDENT_AGENCY_ASSIST,ct.icon),i(t.IconType.INCIDENT_FIELD_ACTIVITY,pt.icon),i(t.IconType.REPORT_OF_FIRE,dt.icon),i(t.IconType.NO_MORE_REPORT_OF_FIRE,ut.icon),i(t.IconType.NO_MORE_REPORT_OF_FIRE_DARK,ut.dark),i(t.IconType.NO_MORE_REPORT_OF_FIRE_LIGHT,ut.light),i(t.IconType.INCIDENT+this.HALO_SUFFIX,lt.halo),i(t.IconType.REPORT_OF_FIRE+this.HALO_SUFFIX,dt.halo),i(t.IconType.PLACE_NAME_SEARCH,mt.icon),i(t.IconType.POINT_ID,ft.icon),i(t.IconType.FILTER_CANCEL,ht.icon)}return e.prototype.ngOnInit=function(){},e.prototype.getHaloType=function(){return this.iconType+this.HALO_SUFFIX},e.prototype.getRootIconClasses=function(){return"wf1-application-icon "+(this.iconSize===t.IconSize.TOOLBAR?"wf1-icon-size-toolbar":this.iconSize===t.IconSize.LIST_SMALL?"wf1-icon-size-list-small":this.iconSize===t.IconSize.LIST_LARGE?"wf1-icon-size-list-large":"wf1-icon-size-toolbar")},e.prototype.getMainIconClasses=function(){return this.colourCode+" "+(this.isBlinking?"wf1-icon-blink":"")+" "+(this.isCancelled||this.isAssignedToIncident?"wf1-icon-contained":"")},e.prototype.getHaloIconClasses=function(){return(this.isBlinking?"wf1-icon-blink":"")+" "+(this.isCancelled||this.isAssignedToIncident?"wf1-icon-contained":"")},e}();gt.decorators=[{type:e.Component,args:[{selector:"wf1-application-icon",template:'<div [ngClass]="getRootIconClasses()">\n  <div class="wf1-main-icon">\n    <mat-icon [ngClass]="getMainIconClasses()" [svgIcon]="iconType" color="primary"></mat-icon>\n  </div>\n  <div class="wf1-halo-icon" *ngIf="hasHalo">\n    <mat-icon [ngClass]="getHaloIconClasses()" [svgIcon]="getHaloType()"></mat-icon>\n  </div>\n  <div class="wf1-cancelled-icon" *ngIf="isCancelled">\n    <mat-icon>block</mat-icon>\n  </div>\n  <div class="wf1-assigned-to-incident-icon" *ngIf="isAssignedToIncident">\n    <mat-icon>panorama_fish_eye</mat-icon>\n  </div>\n</div>\n',styles:[""]}]}],gt.ctorParameters=function(){return[{type:v.MatIconRegistry},{type:_.DomSanitizer}]},gt.propDecorators={iconType:[{type:e.Input}],iconSize:[{type:e.Input}],hasHalo:[{type:e.Input}],colourCode:[{type:e.Input}],isBlinking:[{type:e.Input}],isCancelled:[{type:e.Input}],isAssignedToIncident:[{type:e.Input}]},function(t){t.NONE="none",t.LAYER_TREE="layer-tree",t.BASEMAPS="basemaps"}(st||(st={}));var vt=function(){function t(){this.selectedMapControl=new e.EventEmitter,this.isLayersToggled=!1,this.isBasemapsToggled=!1}return t.prototype.ngOnInit=function(){},t.prototype.ngAfterViewInit=function(){},t}();vt.decorators=[{type:e.Component,args:[{selector:"wf1-application-toolbar",template:'<ng-template #defaultToolbar>\n  <button class="wf1-menu-button" mat-button color="primary">\n    <wf1-application-icon iconType="incident" [hasHalo]="true"></wf1-application-icon>\n  </button>\n  <button class="wf1-menu-button" mat-button color="primary">\n    <wf1-application-icon iconType="report-of-fire"></wf1-application-icon>\n  </button>\n</ng-template>\n\n<mat-toolbar class="mat-typography wf1-application-toolbar" color="accent">\n\n  <ng-container *ngIf="menuTemplate">\n    <mat-menu #appMenu="matMenu">\n      <div *ngTemplateOutlet="menuTemplate"></div>\n    </mat-menu>\n\n    <button class="wf1-menu-button" mat-button color="primary" [matMenuTriggerFor]="appMenu" matTooltip="Menu">\n      <mat-icon>menu</mat-icon>\n    </button>\n  </ng-container>\n\n  <div *ngTemplateOutlet="toolbarTemplate ? toolbarTemplate: defaultToolbar"></div>\n\n</mat-toolbar>\n'}]}],vt.ctorParameters=function(){return[]},vt.propDecorators={menuTemplate:[{type:e.Input}],toolbarTemplate:[{type:e.Input}],selectedMapControl:[{type:e.Output}]};var yt=function(){function t(t,e){var n=this;this.router=t,this.location=e,this.navigations=0,this.router.events.subscribe((function(t){t instanceof F.NavigationEnd&&(n.navigations+=1)}))}return t.prototype.back=function(){this.navigations>1?this.location.back():this.router.navigateByUrl("/")},t}();yt.ɵprov=e.ɵɵdefineInjectable({factory:function(){return new yt(e.ɵɵinject(F.Router),e.ɵɵinject(l.Location))},token:yt,providedIn:"root"}),yt.decorators=[{type:e.Injectable,args:[{providedIn:"root"}]}],yt.ctorParameters=function(){return[{type:F.Router},{type:l.Location}]};var It=function(){function t(t,n){this.token=t,this.navigationService=n,this.TOOLTIP_DELAY=500,this.showBackButton=!1,this.linkClick=new e.EventEmitter,this.isInitializing=!0,this.isInitializing=null===t.getOauthToken()}return t.prototype.ngOnInit=function(){var t=this;this.token.authTokenEmitter.subscribe((function(){t.isInitializing=!1})),this.linkTitle||("launch"==this.linkIcon?this.linkTitle="Launch Dual Window":"arrow_back"==this.linkIcon?this.linkTitle="Back":this.linkTitle=null)},t.prototype.getTitleIconClasses=function(){return this.linkAlignLeft?"side-panel-link-button side-panel-link-button-left":"side-panel-link-button side-panel-link-button-right"},t.prototype.getMainContentClasses=function(){return"side-panel-content"},t.prototype.titleLinkClicked=function(){this.linkClick.emit(this.titleText)},t.prototype.titleBackClicked=function(){this.navigationService.back()},t}();It.decorators=[{type:e.Component,args:[{selector:"wf1-basic-sidebar-panel",template:'<div class="side-panel-container">\n    <div class="side-panel-title-section">\n        <div class="side-panel-link-button side-panel-link-button-left" *ngIf="showBackButton">\n            <button mat-button (click)="titleBackClicked()" matTooltip="Go Back" [matTooltipShowDelay]="TOOLTIP_DELAY"><mat-icon>arrow_back</mat-icon></button>\n        </div>\n\n        <h3 class="side-panel-title">{{titleText}}</h3>\n\n        <div [ngClass]="getTitleIconClasses()" *ngIf="linkIcon !== undefined">\n            <button mat-button (click)="titleLinkClicked()" [matTooltip]="linkTitle" [matTooltipShowDelay]="TOOLTIP_DELAY"><mat-icon>{{linkIcon}}</mat-icon></button>\n        </div>\n    </div>\n    <div [ngClass]="getMainContentClasses()">\n        <div class="interior-panel">\n            <ng-content></ng-content>\n        </div>\n    </div>\n</div>\n'}]}],It.ctorParameters=function(){return[{type:Z},{type:yt}]},It.propDecorators={titleText:[{type:e.Input}],linkIcon:[{type:e.Input}],linkAlignLeft:[{type:e.Input}],linkTitle:[{type:e.Input}],showBackButton:[{type:e.Input}],linkClick:[{type:e.Output}]};var bt=function(){};bt.decorators=[{type:e.Component,args:[{selector:"wf1-date-time-picker",template:'<span class="date-time-picker">\n    <input matInput\n           [owlDateTime]="dtpicker"\n           [owlDateTimeTrigger]="dtpicker"\n           [formControlName]="controlName"\n           [placeholder]="placeholderText"\n           [required]="isRequired"\n           [value]="formControl ? formControl.value : \'\'">\n    <owl-date-time #dtpicker></owl-date-time>\n</span>'}]}],bt.ctorParameters=function(){return[]},bt.propDecorators={controlName:[{type:e.Input}],placeholderText:[{type:e.Input}],isRequired:[{type:e.Input}],formControl:[{type:e.Input}]};var wt=function(){function t(t){this.element=t,this.mask=[/\d/,/\d/,/\d/,/\d/,"-",/\d/,/\d/,"-",/\d/,/\d/],this.dateInputElement=this.element.nativeElement,this.dateInputController=D.maskInput({inputElement:this.element.nativeElement,mask:this.mask,guide:!1})}return t.prototype.ngOnDestroy=function(){this.dateInputController.destroy()},t}();wt.decorators=[{type:e.Directive,args:[{selector:"[wf1CoreDateMask]"}]}],wt.ctorParameters=function(){return[{type:e.ElementRef}]},wt.propDecorators={formControl:[{type:e.Input}]};
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation.

    Permission to use, copy, modify, and/or distribute this software for any
    purpose with or without fee is hereby granted.

    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
    PERFORMANCE OF THIS SOFTWARE.
    ***************************************************************************** */
var Tt=function(t,e){return(Tt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function Ct(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}Tt(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}Object.create;function St(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function kt(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,o,a=n.call(t),r=[];try{for(;(void 0===e||e-- >0)&&!(i=a.next()).done;)r.push(i.value)}catch(t){o={error:t}}finally{try{i&&!i.done&&(n=a.return)&&n.call(a)}finally{if(o)throw o.error}}return r}function Mt(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(kt(arguments[e]));return t}Object.create;var Et=function(t){function e(){var e=t.apply(this,Mt(arguments))||this;return e.recordCount=0,e.isInitializing=!0,e.isShowingFilterOptions=!1,e}return Ct(e,t),e.prototype.getMainContentClasses=function(){return this.isShowingFilterOptions?"side-panel-with-toolbar-and-filter-and-filter-content":"side-panel-with-toolbar-and-filter-content"},e.prototype.setFilterSize=function(t){this.isShowingFilterOptions=t},e}(It);Et.decorators=[{type:e.Component,args:[{selector:"wf1-filter-sidebar-panel",template:'<div class="side-panel-container">\n    <div class="side-panel-title-section">\n        <div class="side-panel-link-button side-panel-link-button-left" *ngIf="showBackButton">\n            <button mat-button (click)="titleBackClicked()" matTooltip="Go Back" [matTooltipShowDelay]="TOOLTIP_DELAY"><mat-icon>arrow_back</mat-icon></button>\n        </div>\n\n        <h3 class="side-panel-title">{{titleText}}</h3>\n        \n        <div [ngClass]="getTitleIconClasses()" *ngIf="linkIcon !== undefined">\n            <button mat-button (click)="titleLinkClicked()" [matTooltip]="linkTitle" [matTooltipShowDelay]="TOOLTIP_DELAY"><mat-icon>{{linkIcon}}</mat-icon></button>\n        </div>\n    </div>\n    <wf1-search-bar [count]="recordCount" [componentId]="componentId">\n        <wf1-sort-modal *ngIf="sortOptions && defaultSort" [options]="sortOptions" [defaultSort]="defaultSort" [componentId]="componentId"></wf1-sort-modal>\n    </wf1-search-bar>\n    <wf1-filters [filters]="filters" (isShowingFilterOptions)="setFilterSize($event)" [componentId]="componentId"></wf1-filters>\n    <div [ngClass]="getMainContentClasses()">\n        <div class="interior-panel">\n            <ng-content></ng-content>\n        </div>\n    </div>\n</div>\n'}]}],Et.propDecorators={recordCount:[{type:e.Input}],filters:[{type:e.Input}],defaultSort:[{type:e.Input}],sortOptions:[{type:e.Input}],componentId:[{type:e.Input}]};var _t=function(){function t(t){this.token=t,this.isInitializing=!0,this.isInitializing=null===t.getOauthToken()}return t.prototype.ngOnInit=function(){var t=this;this.token.authTokenEmitter.subscribe((function(){t.isInitializing=!1}))},t}();_t.decorators=[{type:e.Component,args:[{selector:"wf1-full-width-container",template:'\x3c!--\n  DEFAULT TEMPLATE DECLARATIONS FOR SUB-COMPONENTS\n--\x3e\n\n<ng-template #defaultMainContent>\n  <p>\n    Lorem ipsum dolor sit amet, consectetur adipisicing elit. Aspernatur consectetur debitis, delectus deleniti dolore\n    earum explicabo facere facilis, fugiat itaque numquam provident quam quo quos sint veritatis vero voluptas voluptate?\n  </p>\n</ng-template>\n\n\x3c!--\n  MAIN TEMPLATE DECLARATION\n--\x3e\n<div id="core-interface-container">\n  <wf1-application-header [titleText]="titleText"></wf1-application-header>\n\n  <div class="wf1-loading-screen" *ngIf="isInitializing">\n    <h1>Initializing Application</h1>\n    <wf1-spinner></wf1-spinner>\n    <h3>Please wait while the application initializes.</h3>\n  </div>\n\n  <div class="main-content-container" *ngIf="!isInitializing">\n    <ng-container *ngTemplateOutlet="mainContentTemplate ? mainContentTemplate: defaultMainContent"></ng-container>\n  </div>\n</div>\n'}]}],_t.ctorParameters=function(){return[{type:Z}]},_t.propDecorators={titleText:[{type:e.Input}],mainContentTemplate:[{type:e.Input}]};var At=function(){function t(t){this.token=t,this.recordCount=0,this.linkClick=new e.EventEmitter,this.isInitializing=!0,this.isShowingFilterOptions=!1,this.isInitializing=null===t.getOauthToken()}return t.prototype.ngOnInit=function(){var t=this;this.token.authTokenEmitter.subscribe((function(){t.isInitializing=!1}))},t.prototype.getMainContentClasses=function(){return this.isShowingFilterOptions?"side-panel-with-toolbar-and-filter-and-filter-content":"side-panel-with-toolbar-and-filter-content"},t.prototype.setFilterSize=function(t){this.isShowingFilterOptions=t},t.prototype.titleLinkClicked=function(){this.linkClick.emit(this.titleText)},t}();At.decorators=[{type:e.Component,args:[{selector:"wf1-full-width-panel",template:'<div class="side-panel-container">\n    <div class="side-panel-title-section">\n        <h3 class="side-panel-title">{{titleText}}</h3>\n        <div class="side-panel-link-button" *ngIf="linkIcon !== undefined">\n            <button mat-button (click)="titleLinkClicked()"><mat-icon>{{linkIcon}}</mat-icon></button>\n        </div>\n    </div>\n    <wf1-search-bar [count]="recordCount"></wf1-search-bar>\n    <wf1-filters [filters]="filters" (isShowingFilterOptions)="setFilterSize($event)"></wf1-filters>\n    <div [ngClass]="getMainContentClasses()">\n        <div class="interior-panel">\n            <ng-content></ng-content>\n        </div>\n    </div>\n</div>\n'}]}],At.ctorParameters=function(){return[{type:Z}]},At.propDecorators={titleText:[{type:e.Input}],linkIcon:[{type:e.Input}],recordCount:[{type:e.Input}],filters:[{type:e.Input}],linkClick:[{type:e.Output}]};var Ot=function(){function t(t){this.appConfig=t,this.mapInstances=[],this.mapInstanceEmitter=new i.Subject}return t.prototype.findMapInstance=function(t){return this.mapInstances.find((function(e){return e.name===t}))},t.prototype.onResize=function(){},t.prototype.isMapInitialized=function(t){var e=this.findMapInstance(t);return e&&e.isInitialized},t.prototype.initializeMap=function(t){},t.prototype.getLayerTreeView=function(t){var e=this.findMapInstance(t);return e&&e.isInitialized?e.api.layer.treeView():null},t.prototype.setLayerVisibility=function(t,e,n){var i=this.findMapInstance(t);i&&i.isInitialized&&i.api.layer.visible(e,n)},t.prototype.zoomToPoint=function(t,e,n){this.findMapInstance(t).api.navigation.zoom(e,n)},t.prototype.stopEdit=function(t){this.findMapInstance(t).api.edit.stop()},t.prototype.hideAll=function(t,e){this.findMapInstance(t).api.layer.treeView().child.find((function(t){return t.title===e})).child.map((function(t){t.lyr.isVisible=!1}))},t.prototype.redrawLayer=function(t,e){this.findMapInstance(t).api.layer.redraw(e)},t.prototype.addHighlight=function(t,e){var n=this.findMapInstance(t);this.clearHighlight(t),n.api.highlight.add(e)},t.prototype.clearHighlight=function(t){this.findMapInstance(t).api.highlight.clear()},t.prototype.loadRoFMarkers=function(t,e,n){var i=this,o=this.findMapInstance(t),a=e.map((function(t){var e=t.messageStatusTimestamp?new l.DatePipe("en-US").transform(new Date(t.messageStatusTimestamp),"yyyy-MM-dd HH:mm:ss"):"",n="";if(t.callerTelephone){var o=t.callerTelephone.replace(/\D/g,"").match(/(\d{3})(\d{3})(\d{4})/);o&&4===o.length?n="("+o[1]+") "+o[2]+"-"+o[3]:console.error("RoF "+t.wildfireYear+"-"+t.reportOfFireNumber+" phone number value '"+t.callerTelephone+"' is not valid.")}return{messageTypeCode:"Public Report of Fire",messageStatusCode:t.messageStatusCode,reportOfFireNumber:t.reportOfFireNumber,reportOfFireLabel:t.reportOfFireLabel,wildfireYear:t.wildfireYear,hoverTitle:t.publicReportTypeCode,publicReportTypeCode:t.publicReportTypeCode,latitude:t.latitude,longitude:t.longitude,yearNumber:t.reportOfFireLabel,latLon:i.formatCoordinates([t.longitude,t.latitude]),lastUpdated:e,updatedBy:t.messageStatusUserId,valuesBeingThreatenedNote:t.valuesBeingThreatenedNote,fireSizeComparisonCode:t.fireSizeComparisionCode,callerName:t.callerName,callerTelephone:n}}));o.api.layer.visible(WFML.RoF.LAYER_ID,!0),WFML.RoF.Util.clear(o.api),WFML.RoF.Util.addClusteredMarkers(o.api,a,n)},t.prototype.loadIncidentMarkers=function(t,e,n,i,o){var a=this.findMapInstance(t),r=e.map((function(t){var e=!!t.incidentSituation&&t.incidentSituation.interfaceFireInd,o=e?"Interface":"Non Interface",a=t.incidentLabel===t.wildfireYear+"-"+t.incidentNumberSequence?""+t.incidentNumberSequence:t.incidentLabel,r=n.INCIDENT_TYPE_CODE.find((function(e){return e.code===t.incidentTypeCode})),s=t.incidentSituation?n.STAGE_OF_CONTROL_CODE.find((function(e){return e.code===t.incidentSituation.stageOfControlCode})):void 0,l=i.FIRE_CENTRE_CODE.find((function(e){return e.code===t.fireCentreOrgUnitIdentifier})),c=i.ZONE_CODE.find((function(e){return e.code===t.zoneOrgUnitIdentifier}));return{wildfireYear:t.wildfireYear,incidentNumberSequence:t.incidentNumberSequence,hoverTitle:o,incidentId:t.incidentId,incidentName:t.incidentName,incidentLocation:{latitude:t.incidentLocation?t.incidentLocation.latitude:"",longitude:t.incidentLocation?t.incidentLocation.longitude:""},incidentSituation:{interfaceFireInd:e},incidentStatusCode:t.incidentStatusCode,markerLabel:a,incidentLabel:t.incidentLabel,probabilityOfInitialAttackSuccessCode:t.probabilityOfInitialAttackSuccessCode,suspectedCauseCategoryCode:t.suspectedCauseCategoryCode,incidentCategoryCode:t.incidentCategoryCode,incidentTypeCode:r?r.description:"",stageOfControlCode:s?s.description:"",fireCentreOrgUnitIdentifier:l?l.description:"",zoneOrgUnitIdentifier:c?c.description:"",latLon:t.incidentLocation?WFML.Location.format([t.incidentLocation.longitude,t.incidentLocation.latitude]):[],geographicDescription:t.incidentLocation?t.incidentLocation.geographicDescription:"",fireSizeHectares:t.incidentSituation?t.incidentSituation.fireSizeHectares:""}}));a.api.layer.visible(WFML.Incident.LAYER_ID,!0),WFML.Incident.Util.clear(a.api),WFML.Incident.Util.addClusteredMarkers(a.api,r,o)},t.prototype.clearMarkers=function(t,e){return this.findMapInstance(t).api.marker.removeMarkers(e)},t.prototype.showMarkers=function(t,e,n){return this.findMapInstance(t).api.marker.showMarkers(e,n)},t.prototype.addLegend=function(t,e,n){var i=this.findMapInstance(t);i&&i.api.layer.legend(e,n)},t.prototype.clearSelectPoint=function(t){var e=this.findMapInstance(t);e&&e.api.selectPoint.clear()},t.prototype.setMaxSearchDistance=function(t,e){this.findMapInstance(t).api.search.setMaximumDistance(e)},t.prototype.findPlace=function(t,e){this.findMapInstance(t).api.search.findPlace(e)},t.prototype.findRoad=function(t,e){this.findMapInstance(t).api.search.findRoad(e)},t.prototype.findIntersection=function(t,e,n){this.findMapInstance(t).api.search.findIntersection(e,n)},t.prototype.clearPlaceNameSearch=function(t){this.findMapInstance(t).api.search.clear()},t.prototype.panToPlaceNameSearchLocation=function(t){this.findMapInstance(t).api.search.panToAnchor()},t.prototype.zoomToPlaceNameSearchLocation=function(t){this.findMapInstance(t).api.search.zoomToAnchor()},t.prototype.showCandidate=function(t,e){this.findMapInstance(t).api.search.showCandidate(e)},t.prototype.clearCandidate=function(t){this.findMapInstance(t).api.search.showCandidate()},t.prototype.setAnchor=function(t,e){this.findMapInstance(t).api.search.setAnchor(e)},t.prototype.setAnchorFromMap=function(t){var e=this.findMapInstance(t),n=e.api.selectPoint.get();return n&&e.api.search.setAnchor(n),n},t.prototype.getBasemaps=function(t){return this.findMapInstance(t).api.basemap.all()},t.prototype.setBasemap=function(t,e){this.findMapInstance(t).api.basemap.switch(e)},t.prototype.registerPlaceNameSearchListener=function(t,e){this.findMapInstance(t).api.search.setResultHandler(e)},t.prototype.registerMapClickListener=function(t,e){this.findMapInstance(t).api.callback.click(e)},t.prototype.registerMapHoverListener=function(t,e,n){this.findMapInstance(t).api.callback.hover(e,n)},t.prototype.registerMapSelectPointListener=function(t,e){this.findMapInstance(t).api.callback.selectPoint(e)},t.prototype.clearPlaceNameSearchListener=function(t){this.findMapInstance(t).api.search.setResultHandler()},t.prototype.clearMapClickListener=function(t){this.findMapInstance(t).api.callback.click()},t.prototype.clearMapHoverListener=function(t){this.findMapInstance(t).api.callback.hover()},t.prototype.clearMapSelectPointListener=function(t){this.findMapInstance(t).api.callback.selectPoint()},t.prototype.formatCoordinates=function(t){return WFML.Location.format(t)},t.prototype.parseCoordinates=function(t){return WFML.Location.parse(t)},t.prototype.activateTool=function(t,e){this.findMapInstance(t).api.tool.activate(e)},t.prototype.persistState=function(t,e,n){this.findMapInstance(t).api.state.persist(e,n)},t}();Ot.ɵprov=e.ɵɵdefineInjectable({factory:function(){return new Ot(e.ɵɵinject(H))},token:Ot,providedIn:"root"}),Ot.decorators=[{type:e.Injectable,args:[{providedIn:"root"}]}],Ot.ctorParameters=function(){return[{type:H}]},Ot.propDecorators={onResize:[{type:e.HostListener,args:["resize"]}]};var Lt=function(){function t(t,e){this.store=t,this.mapService=e,this.codeLabelLookupTables={}}return t.prototype.ngOnInit=function(){this.getCodeLookupTables()},t.prototype.getCodeLookupTables=function(){var t=this;this.store.pipe(R.select("codeData","codeIndex")).subscribe((function(e){return t.codeLabelLookupTables=e}))},t.prototype.getLabel=function(t,e){return this.codeLabelLookupTables[t]&&e?this.codeLabelLookupTables[t][e]:""},t.prototype.getPanelClasses=function(){return"info-panel "+(this.incident.incidentSituation?this.incident.incidentSituation.interfaceFireInd?"incident-interface":"incident-non-interface":"incident-default")},t.prototype.getFormattedLocation=function(){return this.incident&&this.incident.incidentLocation?this.mapService.formatCoordinates([this.incident.incidentLocation.longitude,this.incident.incidentLocation.latitude]):""},t}();Lt.decorators=[{type:e.Component,args:[{selector:"wf1-info-incident-panel",template:'<div [ngClass]="getPanelClasses()">\n  <h3 class="incident-detail-id">\n    {{incident.incidentLabel}}\n    <span class="incident-detail-id-type">{{getLabel("INCIDENT_TYPE_CODE", incident.incidentTypeCode)}}</span>\n  </h3>\n  <div><strong>Point:</strong> {{getFormattedLocation()}}</div>\n  <div><strong>Incident Commander:</strong> {{incident.incidentCommanderName}}</div>\n  <div><strong>Stage of Control:</strong> {{getLabel("STAGE_OF_CONTROL_CODE", incident.incidentSituation.stageOfControlCode)}}</div>\n  <div><strong>Size:</strong> {{incident.incidentSituation.fireSizeHectares}}</div>\n</div>\n',styles:[".info-panel{padding:1rem}.info-panel .incident-detail-id{font-weight:700;padding-bottom:.5rem;margin-bottom:0}.info-panel .incident-detail-id-type{font-weight:400;font-style:italic;margin-left:1rem}.incident-default{color:#fff;background-color:#263238}.incident-interface{color:#fff;background-color:#ff4545}.incident-non-interface{color:#fff;background-color:#009e73}"]}]}],Lt.ctorParameters=function(){return[{type:R.Store},{type:Ot}]},Lt.propDecorators={incident:[{type:e.Input}]};var xt=function(){},Ft=function(){function n(t){this.mapService=t,this.TOOLTIP_DELAY=500,this.itemSelect=new e.EventEmitter}return n.prototype.ngOnInit=function(){if(this.config){this.internalConfig=new xt,this.internalConfig.icon={type:this.config.icon,size:this.config.time?t.IconSize.LIST_SMALL:t.IconSize.LIST_LARGE,colourCode:void 0!==this.config.iconColourCode?this.config.iconColourCode:t.IncidentType.DEFAULT,isBlinking:void 0!==this.config.iconIsBlinking&&this.config.iconIsBlinking,isCancelled:void 0!==this.config.iconIsCancelled&&this.config.iconIsCancelled,isAssignedToIncident:void 0!==this.config.iconIsAssignedToIncident&&this.config.iconIsAssignedToIncident},this.internalConfig.time=this.config.time,this.internalConfig.title=this.config.title,this.internalConfig.infoRows=[[null,null]];var e=[null,null];this.internalConfig.infoRows.shift(),console.log(this.config.info);for(var n=0;n<this.config.info.length;n++){if(0==n)this.internalConfig.titleLevelInfo=this.config.info[n];else n%2?e[0]=this.config.info[n]:(e[1]=this.config.info[n],this.internalConfig.infoRows.push(e),e=[null,null])}this.internalConfig.location=this.config.location,e[0]&&this.internalConfig.infoRows.push(e)}},n.prototype.handleMouseEvent=function(t){t?this.mapService.addHighlight(this.mapElement,t):this.mapService.clearHighlight(this.mapElement)},n.prototype.handleClick=function(){this.itemSelect.emit(this.config)},n.prototype.zoomToPlace=function(t){t&&this.mapService.zoomToPoint(this.mapElement,t)},n}();Ft.decorators=[{type:e.Component,args:[{selector:"wf1-list-item",template:'<mat-list-item class="list-item" *ngIf="config">\n  <div class="list-item-icon-section" (mouseover)="handleMouseEvent(internalConfig.location)" (mouseout)="handleMouseEvent()" (focus)="handleMouseEvent(internalConfig.location)" (blur)="handleMouseEvent()" (click)="handleClick()" (keydown)="handleClick()">\n    <div class="list-item-icon">\n      <wf1-application-icon\n              [iconType]="internalConfig.icon.type"\n              [iconSize]="internalConfig.icon.size"\n              [colourCode]="internalConfig.icon.colourCode"\n              [isBlinking]="internalConfig.icon.isBlinking"\n              [isCancelled]="internalConfig.icon.isCancelled"\n              [isAssignedToIncident]="internalConfig.icon.isAssignedToIncident"\n      ></wf1-application-icon>\n    </div>\n    <div *ngIf="internalConfig.time" class="list-item-date">{{internalConfig.time | amDateFormat: \'YYYY-MM-DD\'}}</div>\n    <div *ngIf="internalConfig.time" class="list-item-time">{{internalConfig.time | amDateFormat: \'HH:mm:ss\'}}</div>\n  </div>\n\n  <div class="list-item-data-section">\n    <div class="list-item-title-section">\n      <span class="list-item-title" (mouseover)="handleMouseEvent(internalConfig.location)" (mouseout)="handleMouseEvent()" (click)="handleClick()">{{internalConfig.title}}</span>\n      <span class="list-item-title-level-info" (mouseover)="handleMouseEvent(internalConfig.location)" (mouseout)="handleMouseEvent()" (click)="handleClick()">\n        <span class="list-item-info {{internalConfig.titleLevelInfo.fullWidth?\'list-item-info-full-width\':\'\'}}">\n          <span class="list-item-info-label">{{internalConfig.titleLevelInfo.label}}:</span>\n          <span class="list-item-info-value {{internalConfig.titleLevelInfo.emphasis?\'list-item-info-value-emphasis\':\'\'}}"><strong>{{internalConfig.titleLevelInfo.value}}</strong></span>\n        </span>\n      </span>\n      <span class="list-item-locate-button">\n        <button *ngIf="internalConfig.location" mat-button (click)="zoomToPlace(internalConfig.location)" matTooltip="Locate on Map" [matTooltipShowDelay]="TOOLTIP_DELAY"><mat-icon>place</mat-icon></button>\n      </span>\n    </div>\n\n    <ng-container *ngFor="let row of internalConfig.infoRows">\n      <div class="list-item-info-row" (mouseover)="handleMouseEvent(internalConfig.location)" (mouseout)="handleMouseEvent()" (focus)="handleMouseEvent(internalConfig.location)" (blur)="handleMouseEvent()" (click)="handleClick()" (keydown)="handleClick()">\n        <ng-container *ngFor="let column of row">\n          <span class="list-item-info {{column.fullWidth?\'list-item-info-full-width\':\'\'}}" *ngIf="column">\n            <span class="list-item-info-label">{{column.label}}:</span>\n            <span class="list-item-info-value {{column.emphasis?\'list-item-info-value-emphasis\':\'\'}}"><strong>{{column.value}}</strong></span>\n          </span>\n        </ng-container>\n      </div>\n    </ng-container>\n  </div>\n</mat-list-item>\n',styles:["mat-list-item.list-item{height:auto;padding:.25rem 0;border-bottom:.0625rem solid #c4c4c4}mat-list-item.list-item:hover{background-color:#eee;cursor:pointer}mat-list-item.list-item .list-item-icon-section{flex:0 0 5rem;width:5rem;height:100%;display:flex;flex-direction:column;justify-content:center;align-items:center}mat-list-item.list-item .list-item-icon-section .list-item-icon .mat-icon,mat-list-item.list-item .list-item-icon-section .list-item-icon .mat-icon svg,mat-list-item.list-item .list-item-icon-section .wf1-application-icon,mat-list-item.list-item .list-item-icon-section .wf1-application-icon svg,mat-list-item.list-item .list-item-icon-section .wf1-main-icon,mat-list-item.list-item .list-item-icon-section .wf1-main-icon svg,mat-list-item.list-item .list-item-icon-section wf1-application-icon,mat-list-item.list-item .list-item-icon-section wf1-application-icon svg{width:3rem;height:3rem}mat-list-item.list-item .list-item-icon-section .list-item-date,mat-list-item.list-item .list-item-icon-section .list-item-time{font-size:x-small;line-height:.75rem}mat-list-item.list-item .list-item-icon-section .list-item-date{padding-top:.5rem}mat-list-item.list-item .list-item-data-section{width:100%}mat-list-item.list-item .list-item-data-section .list-item-title-section{display:flex;justify-content:flex-start;align-items:baseline}mat-list-item.list-item .list-item-data-section .list-item-title-section .list-item-title{flex:0 0 9rem;display:inline-block;padding-right:1rem;margin-bottom:0;font-size:.9rem;font-weight:900}@media (-ms-high-contrast:active),(-ms-high-contrast:none){mat-list-item.list-item .list-item-data-section .list-item-title-section .list-item-title{padding-right:0}}mat-list-item.list-item .list-item-data-section .list-item-title-section .list-item-locate-button{height:1rem;width:1rem}mat-list-item.list-item .list-item-data-section .list-item-title-section .list-item-locate-button .mat-button{min-width:1rem;line-height:1rem;padding:0}mat-list-item.list-item .list-item-data-section .list-item-title-section .list-item-locate-button .mat-button .mat-icon{height:1rem;width:1rem;font-size:1rem}mat-list-item.list-item .list-item-data-section .list-item-info-row{display:flex;justify-content:flex-start;align-items:baseline}mat-list-item.list-item .list-item-data-section .list-item-info{flex:0 0 9rem;display:flex;justify-content:flex-start;font-size:small}mat-list-item.list-item .list-item-data-section .list-item-info .list-item-info-label{flex:0 0 3rem;padding-right:.5rem;width:3rem;font-size:x-small;text-transform:uppercase}mat-list-item.list-item .list-item-data-section .list-item-info .list-item-info-value{flex:0 0 6rem;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;width:6rem;margin-right:.5rem;font-size:.75rem}"]}]}],Ft.ctorParameters=function(){return[{type:Ot}]},Ft.propDecorators={config:[{type:e.Input}],mapElement:[{type:e.Input}],itemSelect:[{type:e.Output}]};var Dt=function(){this.loading=!1};Dt.decorators=[{type:e.Component,args:[{selector:"wf1-list-container",template:'\x3c!--<cdk-virtual-scroll-viewport itemSize="50" class="example-viewport">--\x3e\n\t\x3c!--<ng-container *ngIf="loading">--\x3e\n  \t\x3c!--<wf1-spinner></wf1-spinner>--\x3e\n\t\x3c!--</ng-container>--\x3e\n\t\x3c!--<ng-container *ngIf="!loading">--\x3e\n\t  \x3c!--<ng-content></ng-content>--\x3e\n\t\x3c!--</ng-container>--\x3e\n\x3c!--</cdk-virtual-scroll-viewport>--\x3e\n<mat-list role="list">\n\t<ng-container *ngIf="loading">\n\t\t<wf1-spinner></wf1-spinner>\n\t</ng-container>\n\t<ng-container *ngIf="!loading">\n\t\t<ng-content></ng-content>\n\t</ng-container>\n</mat-list>\n'}]}],Dt.propDecorators={loading:[{type:e.Input}]};var Rt=function(t){function n(){var n=t.apply(this,Mt(arguments))||this;return n.locationSelect=new e.EventEmitter,n.isInitializing=!0,n}return Ct(n,t),Object.defineProperty(n.prototype,"location",{set:function(t){t&&(this.selectedLocation=t)},enumerable:!1,configurable:!0}),n.prototype.locationSelected=function(t){this.locationSelect.emit(t)},n}(It);Rt.decorators=[{type:e.Component,args:[{selector:"wf1-location-sidebar-panel",template:'<div class="side-panel-container">\n    <div class="side-panel-title-section">\n        <h3 class="side-panel-title">{{titleText}}</h3>\n        <div [ngClass]="getTitleIconClasses()" *ngIf="linkIcon !== undefined">\n            <button mat-button (click)="titleLinkClicked()" [matTooltip]="linkTitle" [matTooltipShowDelay]="TOOLTIP_DELAY"><mat-icon>{{linkIcon}}</mat-icon></button>\n        </div>\n    </div>\n    <wf1-location-toolbar [location]="selectedLocation" (locationSelect)="locationSelected($event)"></wf1-location-toolbar>\n    <div class="side-panel-with-toolbar-content">\n        <div class="interior-panel">\n            <ng-content></ng-content>\n        </div>\n    </div>\n</div>\n'}]}],Rt.propDecorators={location:[{type:e.Input}],locationSelect:[{type:e.Output}]};var Pt=function(){function t(t,n){this.config=t,this.mapService=n,this.locationSelect=new e.EventEmitter,this.TOOLTIP_DELAY=500,this.MAP_INSTANCE="map"}return Object.defineProperty(t.prototype,"location",{set:function(t){t&&this.locationSelect.emit(t)},enumerable:!1,configurable:!0}),t.prototype.geometryValidator=function(t){return function(t){return null}},t.prototype.ngOnInit=function(){},t.prototype.ngOnDestroy=function(){},t.prototype.zoomToSelectedLocation=function(){},t.prototype.setAnchorFromMap=function(){},t.prototype.clearSelectedLocation=function(){},t}();Pt.decorators=[{type:e.Component,args:[{selector:"wf1-location-toolbar",template:'<div class="location-toolbar">\n    <mat-form-field aria-label="Selected Location" class="selected-location">\n        \x3c!-- <input matInput placeholder="Selected location (lat, long)" [formControl]="selectedLocation">\n        <mat-error *ngIf="selectedLocation.hasError(\'required\')">Coordinates are required</mat-error>\n        <mat-error *ngIf="selectedLocation.hasError(\'invalidGeom\')">Coordinates are invalid</mat-error> --\x3e\n    </mat-form-field>\n    <div class="location-toolbar-buttons">\n        <button class="location-section-header-button" mat-button matTooltip="Zoom To Selected Location" [matTooltipShowDelay]="TOOLTIP_DELAY" aria-label="Zoom To Selected Location" (click)="zoomToSelectedLocation()">\n            <mat-icon>place</mat-icon>\n        </button>\n        <button class="location-section-header-button" mat-button matTooltip="Set Location From Map" [matTooltipShowDelay]="TOOLTIP_DELAY" aria-label="Set Location From Map" (click)="setAnchorFromMap()">\n            <mat-icon>map</mat-icon>\n        </button>\n        <button class="location-section-header-button" mat-button matTooltip="Clear Search Fields" [matTooltipShowDelay]="TOOLTIP_DELAY" aria-label="Clear Point ID Search Fields" (click)="clearSelectedLocation()">\n            <mat-icon>clear</mat-icon>\n        </button>\n    </div>\n</div>\n'}]}],Pt.ctorParameters=function(){return[{type:H},{type:Ot}]},Pt.propDecorators={location:[{type:e.Input}],locationSelect:[{type:e.Output}]};var Nt=function(){function t(t){this.data=t,t&&(this.elementId=t.elementId,this.reportPath=t.reportPath,this.reportParams=t.reportParams,this.supportedExportFormats=t.supportedExportFormats)}return t.prototype.ngOnInit=function(){},t}();function zt(t){var e=t.get(H);return e.configEmitter.subscribe((function(e){t.get(Z)})),function(){return e.loadAppConfig()}}Nt.decorators=[{type:e.Component,args:[{selector:"wf1-report-dialog",template:'<wf1-visualize-js [elementId]="elementId" [reportPath]="reportPath" [reportParams]="reportParams" [supportedExportFormats]="supportedExportFormats"></wf1-visualize-js>\n',styles:[""]}]}],Nt.ctorParameters=function(){return[{type:void 0,decorators:[{type:e.Inject,args:[P.MAT_DIALOG_DATA]}]}]};var jt,Yt=function(t,e){return function(n){return n[t]?n[t][e]:null}};!function(t){t.UPDATE_SEARCH_QUERY="[ Search ] Update search query text",t.RESET_SEARCH_QUERY="[ Search ] Reset search query text",t.UPDATE_SORT="[ Search ] Update active sort",t.TOGGLE_SORT_MODAL="[ Search ] Toggle sort modal visibility",t.UPDATE_ACTIVE_FILTERS="[ Search ] Update active filters",t.UPDATE_HIDDEN_FILTERS="[ Search ] Update hidden filters",t.CLEAR_FILTER="[ Search ] Clear filter",t.CLEAR_ALL_FILTERS="[ Search ] Clear all filters",t.REFRESH_SEARCH="[ Search ] Refresh search"}(jt||(jt={}));var Bt=function(t,e){this.query=t,this.componentId=e,this.type=jt.UPDATE_SEARCH_QUERY},Ut=function(t){this.componentId=t,this.type=jt.RESET_SEARCH_QUERY},Wt=function(t,e,n){this.param=t,this.direction=e,this.componentId=n,this.type=jt.UPDATE_SORT},Ht=function(t){this.componentId=t,this.type=jt.TOGGLE_SORT_MODAL},qt=function(t,e){this.filters=t,this.componentId=e,this.type=jt.UPDATE_ACTIVE_FILTERS},Vt=function(t,e){this.filters=t,this.componentId=e,this.type=jt.UPDATE_HIDDEN_FILTERS},Gt=function(t,e){this.filterToRemove=t,this.componentId=e,this.type=jt.CLEAR_FILTER},Qt=function(t){this.componentId=t,this.type=jt.CLEAR_ALL_FILTERS},Kt=function(t){this.componentId=t,this.type=jt.REFRESH_SEARCH},Jt=Object.freeze({__proto__:null,get SearchActionTypes(){return jt},UpdateSearchQueryAction:Bt,ResetSearchQueryAction:Ut,UpdateSortAction:Wt,ToggleSortModalAction:Ht,UpdateActiveFiltersAction:qt,UpdateHiddenFiltersAction:Vt,ClearFilterAction:Gt,ClearAllFiltersAction:Qt,RefreshSearchAction:Kt}),$t=U,Zt=function(){function n(n,i){var o=this;this.formBuilder=n,this.store=i,this.filters=[],this.TOOLTIP_DELAY=500,this.fromDateMin=[],this.toDateMax=[],this.DATE_FORMATS={fullPickerInput:"YYYY-MM-DD HH:mm",datePickerInput:"YYYY-MM-DD",timePickerInput:"HH:mm:ss",monthYearLabel:"YYYY-MM",dateA11yLabel:"YYYY-MMM-DD",monthYearA11yLabel:"YYYY-MMM"},this.isShowingFilterOptions=new e.EventEmitter,this.activeFilters={},this.showBody=!1,this.lastTabPosition=-1,this.clearFilterIconType=t.IncidentType.NOT_SET,this.validateDate=function(t){if(t){if(t.creationData){var e=t.creationData().input;return!!e.year||($t(e,o.DATE_FORMATS.datePickerInput,!0).isValid()||$t(e,o.DATE_FORMATS.fullPickerInput,!0).isValid())}return!0}return!0}}return n.prototype.ngOnChanges=function(t){t.filters&&this.createForm()},n.prototype.ngOnInit=function(){},n.prototype.ngAfterViewInit=function(){var t=this;this.getActiveFilters(),setTimeout((function(){t.toggleActiveTabContent(!0,!0)}),500)},n.prototype.createForm=function(){var t=this.formBuilder,e=this.filters.reduce((function(e,n){switch(n.type){case"dateRange":case"dateTimeRange":e[n.param]=t.array([t.control(null),t.control(null)]);break;case"single":e[n.param]=t.control(null);break;case"multi":default:e[n.param]=t.array(n.options.map((function(){return t.control(!1)})))}return e}),{});this.filterForm=this.formBuilder.group(e)},n.prototype.checkboxUpdated=function(t){var e=this.filterForm.getRawValue();this.extractValuesFromForm(e)},n.prototype.dateUpdated=function(t,e,n){var i=this.getFormControlsFromArray(this.filterForm,e)[0],o=this.getFormControlsFromArray(this.filterForm,e)[1],a=!1,r="from"==n?t.value:i.value,s="to"==n?t.value:o.value;if("from"!=n||this.validateDate(r)?"to"!=n||this.validateDate(s)||(o.setErrors({incorrectFormat:!0}),a=!0):(i.setErrors({incorrectFormat:!0}),a=!0),!a&&r&&s){i.setErrors(null),o.setErrors(null);var l=$t(s);$t(r).isAfter(l)&&("from"==n?i.setErrors({fromAfterTo:!0}):o.setErrors({toBeforeFrom:!0}),a=!0)}a||this.extractValuesFromForm(this.filterForm.getRawValue())},n.prototype.getActiveFilters=function(){var t=this;this.store.pipe(R.select(Yt(this.componentId,"filters"))).subscribe((function(e){t.activeFilters=e,setTimeout((function(){t.updateFormValues()}),0)}))},n.prototype.selectTab=function(t){this.toggleActiveTabContent(t.isActive,this.showBody),!t.isActive&&this.showBody||(this.showBody=!this.showBody,this.isShowingFilterOptions.emit(this.showBody)),this.lastTabPosition=t.position},n.prototype.toggleActiveTabContent=function(t,e){var n=this.filterTabBodyEl.nativeElement.parentElement;t&&e?(n.classList.remove("slidedown"),n.classList.add("slideup")):(n.classList.remove("slideup"),n.classList.add("slidedown"))},n.prototype.clearFilter=function(t){this.store.dispatch(new Gt(t,this.componentId));for(var e=this.filterForm.get(t),n=0;n<e.length;n++){e.controls[n].reset()}},n.prototype.updateFormValues=function(){var t=this.activeFilters,e=this.filters.reduce((function(e,n){switch(n.type){case"dateRange":case"dateTimeRange":e[n.param]=t&&t[n.param]||[null,null];break;case"single":e[n.param]=[].concat(t[n.param])[0];break;case"multi":default:e[n.param]=n.options.map((function(e){return!(!t||!t[n.param])&&t[n.param].includes(e.value)}))}return e}),{});this.filterForm.patchValue(e,{emitEvent:!1})},n.prototype.extractValuesFromForm=function(t){var e=this,n=this.filters.reduce((function(t,e){return t[e.param]=e,t}),{}),i=function(t){return t&&e.validateDate(t)?t:null},o=Object.entries(t).reduce((function(t,e){var o=kt(e,2),a=o[0],r=o[1],s=n[a];switch(s.type){case"dateRange":case"dateTimeRange":t[a]=[i(r[a][0]),i(r[a][1])];break;case"single":t[a]=r;break;case"multi":default:var l=r.map((function(t,e){return t?s.options[e].value:null})).filter((function(t){return t}));l.length>0&&(t[a]=l)}return t}),{});this.filterForm.valid&&this.store.dispatch(new qt(o,this.componentId))},n.prototype.getFormArrayNames=function(t){return Object.keys(t.controls)},n.prototype.getFormControlsFromArray=function(t,e){return t.get(e).controls},n.prototype.getSelectedFilterValues=function(t){var e=this.filters.find((function(e){return e.param==t})),n=this.activeFilters[t];switch(e.type){case"dateRange":case"dateTimeRange":var i=this.getFormControlsFromArray(this.filterForm,t);if(i){var o="dateRange"==e.type?this.DATE_FORMATS.datePickerInput:this.DATE_FORMATS.fullPickerInput,a=i[0]&&i[0].value&&this.validateDate(i[0].value)?$t(i[0].value).format(o):"Any",r=i[1]&&i[1].value&&this.validateDate(i[1].value)?$t(i[1].value).format(o):"Any";return"Any"==a&&"Any"==r?"Any":a+" - "+r}return"Any";case"single":var s=[].concat(n)[0];return s?e.options.find((function(t){return t.value==s})).label:"Any";case"multi":default:return n&&n.length?e.options.find((function(t){return t.value==n[0]})).label:"Any"}},n}();Zt.decorators=[{type:e.Component,args:[{selector:"wf1-filters",template:'<form class="wf1-filters" [formGroup]="filterForm">\n\t<mat-tab-group>\n\t\t<mat-tab #tab="matTab" class="filter-tab" *ngFor="let param of getFormArrayNames(filterForm); let i = index">\n\t\t\t<ng-template matTabLabel>\n\t\t\t\t<div class="filter-tab__header" (click)="selectTab(tab)" (keydown)="selectTab(tab)">\n\t\t\t\t\t<span class="filter-tab__header__title">{{filters[i].label}}</span>\n\t\t\t\t\t<span class="filter-tab__header__subtitle">\n\t\t\t\t\t\t{{ getSelectedFilterValues( param ) }}\n\t\t\t\t\t</span>\n\t\t\t\t</div>\n\t\t\t</ng-template>\n\t\t\t<ng-template matTabContent>\n\t\t\t\t<div class="filter-tab__body" #filtertabbody>\n\t\t\t\t\t<div class="filter-tab__body__icon">\n\t\t\t\t\t\t<wf1-application-icon class="filter-tab__body__clear" iconType="filter-cancel" [colourCode]="clearFilterIconType" (click)="clearFilter(param)" matTooltip="Clear Filter" [matTooltipShowDelay]="TOOLTIP_DELAY"></wf1-application-icon>\n\t\t\t\t\t</div>\n          \t\t\t<div class="filter-tab__body__options">\n\t\t\t\t\t\t<ng-container *ngIf="filters[i].type == \'dateRange\' || filters[i].type == \'dateTimeRange\'">\n\t\t\t\t\t\t\t<mat-form-field class="date-picker-input">\n\t\t\t\t\t\t\t\t<input matInput [owlDateTime]="fromDT" (dateTimeChange)="dateUpdated($event, param, \'from\')"\n\t\t\t\t\t\t\t\t\t   placeholder="From"\n\t\t\t\t\t\t\t\t\t   [formControl]="getFormControlsFromArray(filterForm, param)[0]"\n\t\t\t\t\t\t\t\t\t   wf1CoreDateMask>\n\t\t\t\t\t\t\t\t<button mat-button [owlDateTimeTrigger]="fromDT">\n\t\t\t\t\t\t\t\t\t<mat-icon>event</mat-icon>\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t<owl-date-time #fromDT pickerType="{{filters[i].type == \'dateRange\'? \'calendar\': \'both\'}}"\n\t\t\t\t\t\t\t\t\t\t\t   [showSecondsTimer]="false"></owl-date-time>\n\t\t\t\t\t\t\t\t<mat-error *ngIf="getFormControlsFromArray(filterForm, param)[0].hasError(\'incorrectFormat\') || getFormControlsFromArray(filterForm, param)[0].hasError(\'owlDateTimeParse\')">Format must be {{filters[i].type == \'dateRange\'? DATE_FORMATS.datePickerInput: DATE_FORMATS.fullPickerInput}}</mat-error>\n\t\t\t\t\t\t\t\t<mat-error *ngIf="getFormControlsFromArray(filterForm, param)[0].hasError(\'fromAfterTo\')">"From" date cannot be after "To" date.</mat-error>\n\t\t\t\t\t\t\t</mat-form-field>\n\t\t\t\t\t\t\t<mat-form-field class="date-picker-input">\n\t\t\t\t\t\t\t\t<input matInput [owlDateTime]="toDT" (dateTimeChange)="dateUpdated($event, param,\'to\')"\n\t\t\t\t\t\t\t\t\t   placeholder="To"\n\t\t\t\t\t\t\t\t\t   [formControl]="getFormControlsFromArray(filterForm, param)[1]"\n\t\t\t\t\t\t\t\t\t   wf1CoreDateMask>\n\t\t\t\t\t\t\t\t<button mat-button [owlDateTimeTrigger]="toDT">\n\t\t\t\t\t\t\t\t\t<mat-icon>event</mat-icon>\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t<owl-date-time #toDT pickerType="{{filters[i].type == \'dateRange\'? \'calendar\': \'both\'}}"\n\t\t\t\t\t\t\t\t\t\t\t   [showSecondsTimer]="false" ></owl-date-time>\n\t\t\t\t\t\t\t\t<mat-error *ngIf="getFormControlsFromArray(filterForm, param)[1].hasError(\'incorrectFormat\') || getFormControlsFromArray(filterForm, param)[1].hasError(\'owlDateTimeParse\')">Format must be {{filters[i].type == \'dateRange\'? DATE_FORMATS.datePickerInput: DATE_FORMATS.fullPickerInput}}</mat-error>\n\t\t\t\t\t\t\t\t<mat-error *ngIf="getFormControlsFromArray(filterForm, param)[1].hasError(\'toBeforeFrom\')">"To" date cannot be before "From" date.</mat-error>\n\t\t\t\t\t\t\t</mat-form-field>\n\t\t\t\t\t\t</ng-container>\n\n                        <ng-container *ngIf="filters[i].type == \'single\'">\n\t\t\t\t\t\t\t<mat-radio-group  \n                                class="filter-tab__body__radiogroup" \n                                [formControl]="filterForm.get( param )" \n                                (change)="checkboxUpdated($event);"\n                            >\n\t\t\t\t\t\t\t\t<mat-radio-button\n                                    *ngFor="let filterControl of filters[ i ].options; let j = index" \n                                    class="filter-tab__body__radiogroup__radiobutton" \n                                    [value]="filters[i].options[j].value"\n                                >\n                                    <span class="filter-tab__body__radiogroup__radiobutton__label">\n                                        {{filters[i].options[j].label}}\n                                    </span>\n\t\t\t\t\t\t\t\t</mat-radio-button>\n\t\t\t\t\t\t\t</mat-radio-group>\n\t\t\t\t\t\t</ng-container>\n\n                        <ng-container *ngIf="filters[i].type == \'multi\' || !filters[i].type">\n\t\t\t\t\t\t\t<ng-container *ngFor="let filterControl of getFormControlsFromArray(filterForm, param); let j = index" >\n\t\t\t\t\t\t\t\t<mat-checkbox \n                                    class="filter-tab__body__checkbox" \n                                    [formControl]="filterControl" \n                                    *ngIf="filters[i].options[j]" \n                                    (change)="checkboxUpdated($event);"\n                                >\n\t\t\t\t\t\t\t\t    <span class="filter-tab__body__checkbox__label">\n\t\t\t\t\t\t\t\t\t    {{filters[i].options[j].label}}\n\t\t\t\t\t\t\t\t    </span>\n\t\t\t\t\t\t\t\t</mat-checkbox>\n\t\t\t\t\t\t\t</ng-container>\n\t\t\t\t\t\t</ng-container>\n                    </div>\n\t\t\t\t</div>\n\t\t\t</ng-template>\n\t\t</mat-tab>\n\t</mat-tab-group>\n</form>\n',styles:["::ng-deep .slideup{max-height:0!important;overflow-y:hidden!important;transition:max-height .8s ease-in!important}::ng-deep .slidedown{max-height:500px!important;overflow-y:hidden!important;transition:max-height .8s ease-out!important}"]}]}],Zt.ctorParameters=function(){return[{type:c.FormBuilder},{type:R.Store}]},Zt.propDecorators={filters:[{type:e.Input}],componentId:[{type:e.Input}],isShowingFilterOptions:[{type:e.Output}],filterTabBodyEl:[{type:e.ViewChild,args:["filtertabbody"]}]};var Xt=function(){function t(t){var e=this;this.store=t,this.isVisible=!1,this.toggleSortDirection=function(t){return"ASC"===t?"DESC":"ASC"},this.isActiveParam=function(t){return t===e.activeSortParam},this.isActiveDir=function(t){return t===e.activeSortDir},this.showArrow=function(t,n){return e.isActiveParam(t)&&e.isActiveDir(n)}}return t.prototype.ngOnInit=function(){this.setVisiblility(),this.setDefaultSort()},t.prototype.setVisiblility=function(){var t=this;this.isVisible=!0,this.store.pipe(R.select(Yt(this.componentId,"sortModalVisible"))).subscribe((function(e){return t.isVisible=e}))},t.prototype.setDefaultSort=function(){var t=this;this.defaultSort&&this.store.dispatch(new Wt(this.defaultSort.param,this.defaultSort.direction,this.componentId)),this.store.pipe(R.select(Yt(this.componentId,"sortParam"))).subscribe((function(e){return t.activeSortParam=e})),this.store.pipe(R.select(Yt(this.componentId,"sortDirection"))).subscribe((function(e){return t.activeSortDir=e}))},t.prototype.updateSort=function(t){var e=t.param===this.activeSortParam?this.toggleSortDirection(this.activeSortDir):"DESC";this.store.dispatch(new Wt(t.param,e,this.componentId))},t.prototype.close=function(){this.store.dispatch(new Ht(this.componentId))},t}();Xt.decorators=[{type:e.Component,args:[{selector:"wf1-sort-modal",template:'<div class="sort-popup" [class.sort-popup--visible]="isVisible">\n\t<div class="sort-popup__header">\n\t\t<span class="sort-popup__header__text">Sort</span>\n\t\t<mat-icon class="sort-popup__header__icon" (click)="close()" (keydown)="close()">close</mat-icon>\n\t</div>\n\t<ng-container *ngFor="let option of options">\n\t\t<div class="sort-popup__item" [ngClass]="{\'sort-popup__item--active\': isActiveParam(option.param)}" (click)="updateSort(option)" (keydown)="updateSort(option)">\n\t\t\t<span class="sort-popup__item__text">{{option.label}}</span>\n\t\t\t<mat-icon class="sort-popup__item__icon" *ngIf="!isActiveParam(option.param) || showArrow(option.param, \'DESC\')">\n\t\t\t\tarrow_drop_down\n\t\t\t</mat-icon>\n\t\t\t<mat-icon class="sort-popup__item__icon" *ngIf="showArrow(option.param, \'ASC\')">\n\t\t\t\tarrow_drop_up\n\t\t\t</mat-icon>\n\t\t</div>\n\t</ng-container>\n</div>\n'}]}],Xt.ctorParameters=function(){return[{type:R.Store}]},Xt.propDecorators={defaultSort:[{type:e.Input}],options:[{type:e.Input}],componentId:[{type:e.Input}]};var te=function(){function e(e){this.store=e,this.TOOLTIP_DELAY=500,this.count=0,this.showSortButton=!1,this.searchControl=new c.FormControl,this.clearFilterIconType=t.IncidentType.NOT_SET,this.isResetSearch=!1}return Object.defineProperty(e.prototype,"sortModal",{set:function(t){this.showSortButton=!!t},enumerable:!1,configurable:!0}),e.prototype.ngOnInit=function(){this.resetSearch(),this.listenSearchChanges()},e.prototype.resetSearch=function(){this.isResetSearch=!0,this.store.dispatch(new Ut(this.componentId))},e.prototype.listenSearchChanges=function(){var t=this;this.store.pipe(R.select(Yt(this.componentId,"query"))).subscribe((function(e){t.isResetSearch&&t.searchControl.value==e&&(t.isResetSearch=!1),t.searchControl.setValue(e,{emitEvent:!0})})),this.searchControl.valueChanges.pipe(r.distinctUntilChanged()).subscribe((function(e){t.isResetSearch?t.isResetSearch=!1:t.updateSearch(e)}))},e.prototype.refreshSearch=function(){this.store.dispatch(new Kt(this.componentId))},e.prototype.updateSearch=function(t){this.store.dispatch(new Bt(t,this.componentId))},e.prototype.toggleSortModal=function(){this.store.dispatch(new Ht(this.componentId))},e.prototype.clearFilters=function(){this.store.dispatch(new Qt(this.componentId))},e}();te.decorators=[{type:e.Component,args:[{selector:"wf1-search-bar",template:'<div class="side-panel-toolbar search">\n\t<div *ngIf="showSortButton" class="search__sort" matTooltip="Sort" [matTooltipShowDelay]="TOOLTIP_DELAY" (click)="toggleSortModal()" (keydown)="toggleSortModal()">\n\t\t<mat-icon class="search__sort__icon">sort</mat-icon>\n\t</div>\n\t<ng-content select="wf1-sort-modal"></ng-content>\n\t<div class="search__count">\n\t\t<span class="search__count__number">{{count}}</span>\n\t</div>\n\t<div class="search__input">\n\t\t<mat-form-field aria-label="Search..." class="search__input__control">\n\t\t\t<input matInput placeholder="Search..." [formControl]="searchControl">\n\t\t</mat-form-field>\n\t</div>\n\t<div class="search__cancel" (click)="resetSearch()" (keydown)="resetSearch()" matTooltip="Clear Search" [matTooltipShowDelay]="TOOLTIP_DELAY">\n\t\t<mat-icon class="search__cancel__icon">close</mat-icon>\n\t</div>\n\t<div class="search__refresh" (click)="refreshSearch()" (keydown)="refreshSearch()" matTooltip="Refresh Search" [matTooltipShowDelay]="TOOLTIP_DELAY">\n\t\t<mat-icon class="search__refresh__icon">refresh</mat-icon>\n\t</div>\n\t<div class="search__clear-filters" (click)="clearFilters()" (keydown)="clearFilters()" matTooltip="Clear Filters" [matTooltipShowDelay]="TOOLTIP_DELAY">\n\t\t<wf1-application-icon iconType="filter-cancel" [colourCode]="clearFilterIconType"></wf1-application-icon>\n\t</div>\n</div>\n'}]}],te.ctorParameters=function(){return[{type:R.Store}]},te.propDecorators={count:[{type:e.Input}],componentId:[{type:e.Input}],sortModal:[{type:e.ContentChild,args:[Xt]}]};var ee,ne="maptool-application-window";(ee=t.MessageType||(t.MessageType={})).ACTION="action",ee.READY="ready",ee.WINDOW_CLOSING="window-closing",ee.ACKNOWLEDGE="acknowledge";var ie=function(){},oe=function(){},ae=function(){function e(){var e=this;this.children=[],window.opener?(this.parentWindow={id:N.UUID.UUID(),isParent:!0,window:window.opener,messageQueue:[]},window.addEventListener("onbeforeunload",(function(){return e.broadcastMessage(e.getParentWindowId(),{type:t.MessageType.WINDOW_CLOSING})}))):window.name=ne,this.stream=new i.Subject,window.addEventListener("message",(function(t){return e.receiveMessage(t.data)}))}return e.prototype.getParentWindowId=function(){return this.parentWindow?this.parentWindow.id:null},e.prototype.getWindowId=function(t){var e=this.children.findIndex((function(e){return e.windowName===t})),n=e>-1?this.children[e]:null;return n&&n.window&&n.window.closed&&(this.children.splice(e,1),n=null),n?n.id:null},e.prototype.broadcastAction=function(e,n){this.broadcastMessage(e,{type:t.MessageType.ACTION,action:n})},e.prototype.openWindow=function(t,e,n){void 0===e&&(e="default"),void 0===n&&(n={fullscreen:!0,rememberWindowSize:!0});var i=this.getWindowFeaturesSettings(n),o={id:N.UUID.UUID(),isParent:!1,url:t,windowName:e,windowConfig:n,window:window.open(t,e,i),messageQueue:[]};return this.children.push(o),o.id},e.prototype.subscribeToMessageStream=function(e){this.stream.subscribe((function(t){return e(t)})),null!==this.getParentWindowId()&&this.broadcastMessage(this.getParentWindowId(),{type:t.MessageType.READY})},e.prototype.focusWindow=function(t){var e;if(t===this.getParentWindowId())e=window.open("",ne);else{var n=this.getWindow(t);n&&n.window&&(e=n.window)}e.focus()},e.prototype.broadcastAcknowledge=function(e){var n;if(n=this.getParentWindowId()?this.parentWindow:this.children.find((function(t){return t.windowName===e.originWindowName}))){var i={id:e.id,originWindowName:window.name,date:new Date,message:{type:t.MessageType.ACKNOWLEDGE}};n.window.postMessage(i,"*")}},e.prototype.broadcastMessage=function(t,e){var n;if(n=this.getParentWindowId()===t?this.parentWindow:this.getWindow(t)){var i={id:N.UUID.UUID(),originWindowName:window.name,date:new Date,message:e};n.messageQueue.push(i),n.window.postMessage(i,"*")}},e.prototype.receiveMessage=function(e){var n,i;if(e&&e.message){var o=!1;switch(e.message.type){case t.MessageType.READY:if((c=this.children.find((function(t){return t.windowName===e.originWindowName})))&&c.messageQueue.length>0)try{for(var a=St(c.messageQueue),r=a.next();!r.done;r=a.next()){var s=r.value;s.date=new Date,c.window.postMessage(s,"*")}}catch(t){n={error:t}}finally{try{r&&!r.done&&(i=a.return)&&i.call(a)}finally{if(n)throw n.error}}o=!0;break;case t.MessageType.WINDOW_CLOSING:var l=this.children.findIndex((function(t){return t.windowName===e.originWindowName}));l>-1&&this.children.splice(l,1),console.log("Child is closing");break;case t.MessageType.ACTION:o=!0,this.stream.next(e.message);break;case t.MessageType.ACKNOWLEDGE:var c=void 0;if(c=e.originWindowName===ne?this.parentWindow:this.children.find((function(t){return t.windowName===e.originWindowName}))){var p=c.messageQueue.findIndex((function(t){return t.id===e.id}));p>-1&&c.messageQueue.splice(p,1)}break;default:console.error("Received message of unknown type "+e.message.type+": "+JSON.stringify(e))}o&&this.broadcastAcknowledge(e)}},e.prototype.getWindow=function(t){return this.children.find((function(e){return e.id===t}))},e.prototype.getWindowFeaturesSettings=function(t){window.innerWidth;var e=window.innerHeight,n=(window.outerWidth,window.outerHeight),i=window.screen,o=i.availWidth,a=i.availHeight-(n-e);return"resizable=yes,scrollbars=yes,status=yes,location=no"+(t.fullscreen?",left=0,top=0,width="+o+",height="+a:"")},e}();ae.ɵprov=e.ɵɵdefineInjectable({factory:function(){return new ae},token:ae,providedIn:"root"}),ae.decorators=[{type:e.Injectable,args:[{providedIn:"root"}]}],ae.ctorParameters=function(){return[]};var re=function(){function t(t){this.token=t,this.opened=!0,this.isInitializing=!0,this.isInitializing=null===t.getOauthToken()}return t.prototype.ngOnInit=function(){var t=this;this.token.authTokenEmitter.subscribe((function(){t.isInitializing=!1}))},t}();re.decorators=[{type:e.Component,args:[{selector:"wf1-sidebar-container",template:'\x3c!--\n  DEFAULT TEMPLATE DECLARATIONS FOR SUB-COMPONENTS\n--\x3e\n\n<ng-template #defaultSidebar>\n  <h4>WILDFIRE INCIDENT MANAGEMENT</h4>\n  <mat-accordion>\n    <mat-expansion-panel>\n      <mat-expansion-panel-header>\n        <mat-panel-title>\n          <i class="material-icons">layers</i>\n        </mat-panel-title>\n        <mat-panel-description>\n          Layers\n        </mat-panel-description>\n      </mat-expansion-panel-header>\n\n      Content here\n      \x3c!--<mat-tree>--\x3e\n        \x3c!--<mat-nested-tree-node>--\x3e\n          \x3c!--parent node--\x3e\n          \x3c!--<mat-nested-tree-node> &#45;&#45; child node1 </mat-nested-tree-node>--\x3e\n          \x3c!--<mat-nested-tree-node> &#45;&#45; child node2 </mat-nested-tree-node>--\x3e\n        \x3c!--</mat-nested-tree-node>--\x3e\n      \x3c!--</mat-tree>--\x3e\n\n    </mat-expansion-panel>\n    <mat-expansion-panel>\n      <mat-expansion-panel-header>\n        <mat-panel-title>\n          <i class="material-icons">apps</i>\n        </mat-panel-title>\n        <mat-panel-description>\n          Basemaps\n        </mat-panel-description>\n      </mat-expansion-panel-header>\n\n      <mat-button-toggle-group name="basemaps" aria-label="Basemaps">\n        <mat-button-toggle value="imagery">Imagery</mat-button-toggle>\n        <mat-button-toggle value="street">Street</mat-button-toggle>\n        <mat-button-toggle value="topographic">Topographic</mat-button-toggle>\n      </mat-button-toggle-group>\n\n    </mat-expansion-panel>\n  </mat-accordion>\n</ng-template>\n\n<ng-template #defaultMainContent>\n  <p>\n    Lorem ipsum dolor sit amet, consectetur adipisicing elit. Aspernatur consectetur debitis, delectus deleniti dolore\n    earum explicabo facere facilis, fugiat itaque numquam provident quam quo quos sint veritatis vero voluptas voluptate?\n  </p>\n</ng-template>\n\n\x3c!--\n  MAIN TEMPLATE DECLARATION\n--\x3e\n<div id="core-interface-container">\n  <wf1-application-header [titleText]="titleText"></wf1-application-header>\n\n  <div class="wf1-loading-screen" *ngIf="isInitializing">\n    <h1>Initializing Application</h1>\n    <wf1-spinner></wf1-spinner>\n    <h3>Please wait while the application initializes.</h3>\n  </div>\n\n  <ng-container *ngIf="!isInitializing">\n    <wf1-application-toolbar menuTemplate="menuTemplate" toolbarTemplate="toolbarTemplate"></wf1-application-toolbar>\n\n    <mat-sidenav-container class="mat-typography" hasBackdrop=false>\n      <mat-sidenav id="side-nav" #sidebar mode="side" [(opened)]="opened" >\n        <ng-container *ngTemplateOutlet="sidebarTemplate ? sidebarTemplate: defaultSidebar"></ng-container>\n      </mat-sidenav>\n      <mat-sidenav-content>\n        <div id="side-nav-toggle" (click)="sidebar.toggle()" (keydown)="sidebar.toggle()">\n          <mat-icon>{{ (opened) ? \'arrow_left\' : \'arrow_right\' }}</mat-icon>\n        </div>\n        <ng-container *ngTemplateOutlet="mainContentTemplate ? mainContentTemplate: defaultMainContent"></ng-container>\n      </mat-sidenav-content>\n    </mat-sidenav-container>\n  </ng-container>\n</div>\n'}]}],re.ctorParameters=function(){return[{type:Z}]},re.propDecorators={titleText:[{type:e.Input}],menuTemplate:[{type:e.Input}],toolbarTemplate:[{type:e.Input}],sidebarTemplate:[{type:e.Input}],mainContentTemplate:[{type:e.Input}]};var se=function(){};se.decorators=[{type:e.Component,args:[{selector:"wf1-spinner",template:'<div class="spinner">\n\t<mat-spinner class="spinner__icon" aria-label="Loading..."></mat-spinner>\n</div>\n',styles:[".spinner{display:flex;justify-content:center}"]}]}];var le=function(){function t(){}return t.prototype.ngOnInit=function(){},t}();le.decorators=[{type:e.Component,args:[{selector:"wf1-unauthorized-page",template:'<ng-template #mainContent>\n  <div class="unauthorized-page">\n    <div>\n      <h1>WFIM Unauthorized Page</h1>\n      <p>An authorization error has occurred</p>\n      <h2>Required WebADE role does not exist, is expired, or is not active.</h2>\n    </div>\n  </div>\n</ng-template>\n\n<wf1-full-width-container titleText="Incident Management" [mainContentTemplate]="mainContent"></wf1-full-width-container>\n'}]}],le.ctorParameters=function(){return[]};var ce=function(){function t(t){this.appConfig=t,this.currentPage=1}return t.handleError=function(t){console.error(t.message)},t.prototype.ngOnInit=function(){},t.prototype.ngAfterViewInit=function(){var e=this,n=this.appConfig.getConfig();if(!n||!n.externalAppConfig||!n.externalAppConfig.jasper)throw new Error("Could not find Jasper configuration settings in application configuration");var i=(n.externalAppConfig.jasper.url+"/_themes/"+n.externalAppConfig.jasper.themeHash+"/theme.css").split("/").slice(0,-1).join("/");visualize.config({server:n.externalAppConfig.jasper.url,scripts:"runtime/"+n.externalAppConfig.jasper.scriptsHash+"/optimized-scripts",logEnabled:!0,logLevel:"error",_showInputControls:!0,theme:{href:i}}),visualize({server:n.externalAppConfig.jasper.url},(function(n){var i={resource:e.reportPath,container:"#"+e.elementId,error:t.handleError};e.reportParams&&(i.params=e.reportParams),e.report=n.report(i)}))},t.prototype.isExportFormatSupported=function(t){return!!(t&&this.supportedExportFormats&&this.supportedExportFormats.length>0)&&this.supportedExportFormats.includes(t)},t.prototype.exportToPDF=function(){this.export("pdf")},t.prototype.exportToExcel=function(){this.export("csv")},t.prototype.previousPage=function(){1!==this.currentPage&&(this.currentPage-=1,this.report.pages(this.currentPage).run().fail((function(t){return console.error(t)})))},t.prototype.nextPage=function(){var t=this;this.currentPage+=1,this.report.pages(this.currentPage).run().fail((function(e){"page.number.out.of.range"===e.errorCode?t.currentPage-=1:console.error(e)}))},t.prototype.export=function(t){var e={outputFormat:t,ignorePagination:"csv"===t};this.report.export(e).done((function(t){window.open(t.href)})).fail((function(t){alert(t.message)}))},t}();ce.decorators=[{type:e.Component,args:[{selector:"wf1-visualize-js",template:'<div class="wf1-jaspersoft-report">\n  <div class="wf1-jaspersoft-report-toolbar">\n    <button matTooltip="Export to PDF" (click)="exportToPDF()" [hidden]="!isExportFormatSupported(\'pdf\')"><mat-icon>picture_as_pdf</mat-icon></button>\n    <button matTooltip="Export to Excel" (click)="exportToExcel()" [hidden]="!isExportFormatSupported(\'csv\')"><mat-icon>table_chart</mat-icon></button>\n    <button matTooltip="Previous Page" (click)="previousPage()"><mat-icon>navigate_before</mat-icon></button>\n    <button matTooltip="Next Page" (click)="nextPage()"><mat-icon>navigate_next</mat-icon></button>\n  </div>\n  <div [id]="elementId" class="wf1-jaspersoft-report-content"></div>\n</div>\n',styles:[""]}]}],ce.ctorParameters=function(){return[{type:H}]},ce.propDecorators={elementId:[{type:e.Input}],reportPath:[{type:e.Input}],reportParams:[{type:e.Input}],supportedExportFormats:[{type:e.Input}]};var pe=function(){function t(t){this.mapService=t,this.basemaps=[]}return t.prototype.ngOnInit=function(){var t=this;this.mapService.isMapInitialized("map")?this.initializeBasemaps():this.mapService.mapInstanceEmitter.asObservable().subscribe((function(e){t.initializeBasemaps()}))},t.prototype.initializeBasemaps=function(){this.basemaps=this.mapService.getBasemaps("map")},t.prototype.displayBasemap=function(t){this.mapService.setBasemap("map",t)},t}();pe.decorators=[{type:e.Component,args:[{selector:"wf1-wfml-basemap-selector",template:'<div class="basemap-list">\n    <mat-card class="basemap" *ngFor="let basemap of basemaps; let i = index" (click)="displayBasemap(i)">\n        <img alt="{{basemap.title}}" mat-card-image src="assets/images/map-thumbnails/{{basemap.key}}.jpg">\n        <mat-card-title>{{basemap.title}}</mat-card-title>\n    </mat-card>\n</div>\n',styles:[".basemap-list{display:flex}.basemap-list .basemap{flex:1 1 2rem;text-align:center;padding:0}.basemap-list .basemap .mat-card-image{width:100%;margin:0}.basemap-list .basemap .mat-card-title{padding:1.25rem;font-size:medium}"]}]}],pe.ctorParameters=function(){return[{type:Ot}]};var de=function(){function t(t,e){this.mapService=t,this.changeDetectorRef=e,this.checklistSelection=new j.SelectionModel(!0),this.hasChildren=function(t,e){return!!e.child},this.treeControl=new z.NestedTreeControl((function(t){return t.child})),this.dataSource=new E.MatTreeNestedDataSource}return t.prototype.ngOnInit=function(){var t=this;this.mapService.isMapInitialized("map")?this.initializeTreeLayer():this.mapService.mapInstanceEmitter.asObservable().subscribe((function(e){t.initializeTreeLayer()}))},t.prototype.initializeTreeLayer=function(){var t,e=this.mapService.getLayerTreeView("map");e&&(this.dataSource.data=e.child,(t=this.checklistSelection).select.apply(t,Mt(this.findSelectedElements(e))))},t.prototype.findSelectedElements=function(t){var e,n,i=[];if((t.isVisible||t.lyr&&t.lyr.isVisible)&&i.push(t),t.child)try{for(var o=St(t.child),a=o.next();!a.done;a=o.next()){var r=a.value;i.push.apply(i,Mt(this.findSelectedElements(r)))}}catch(t){e={error:t}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return i},t.prototype.descendantsAllSelected=function(t){var e=this,n=this.treeControl.getDescendants(t);if(!n.length)return this.checklistSelection.isSelected(t);var i=this.checklistSelection.isSelected(t),o=n.every((function(t){return e.checklistSelection.isSelected(t)}));return!i&&o&&(this.checklistSelection.select(t),this.changeDetectorRef.markForCheck()),o},t.prototype.descendantsPartiallySelected=function(t){var e=this,n=this.treeControl.getDescendants(t);return!!n.length&&(n.some((function(t){return e.checklistSelection.isSelected(t)}))&&!this.descendantsAllSelected(t))},t.prototype.nodeSelectionToggle=function(t){var e,n,i,o;this.checklistSelection.toggle(t),t.lyr&&this.mapService.setLayerVisibility("map",t.lyr.id,this.checklistSelection.isSelected(t));var a=this.treeControl.getDescendants(t);this.checklistSelection.isSelected(t)?(e=this.checklistSelection).select.apply(e,Mt(a,[t])):(n=this.checklistSelection).deselect.apply(n,Mt(a,[t]));try{for(var r=St(a),s=r.next();!s.done;s=r.next()){var l=s.value;l.lyr&&this.mapService.setLayerVisibility("map",l.lyr.id,this.checklistSelection.isSelected(l))}}catch(t){i={error:t}}finally{try{s&&!s.done&&(o=r.return)&&o.call(r)}finally{if(i)throw i.error}}this.changeDetectorRef.markForCheck()},t}();de.decorators=[{type:e.Component,args:[{selector:"wf1-wfml-layer-tree",template:'<mat-tree [dataSource]="dataSource" [treeControl]="treeControl" class="wf1-layer-tree">\n    <mat-nested-tree-node *matTreeNodeDef="let node">\n      <li>\n        <div class="mat-tree-node">\n\x3c!--          <button mat-icon-button disabled></button>--\x3e\n          <mat-checkbox [checked]="descendantsAllSelected(node)"\n                        [indeterminate]="descendantsPartiallySelected(node)"\n                        (change)="nodeSelectionToggle(node)"\n                        labelPosition="before">\n            {{node.title}}\n          </mat-checkbox>\n        </div>\n      </li>\n    </mat-nested-tree-node>\n\n    <mat-nested-tree-node *matTreeNodeDef="let node; when: hasChildren">\n      <li>\n        <div class="mat-tree-node">\n          <button mat-icon-button matTreeNodeToggle\n                  [attr.aria-label]="\'toggle \' + node.title">\n            <mat-icon>\n              {{treeControl.isExpanded(node) ? \'expand_more\' : \'chevron_right\'}}\n            </mat-icon>\n          </button>\n          <mat-checkbox [checked]="descendantsAllSelected(node)"\n                        [indeterminate]="descendantsPartiallySelected(node)"\n                        (change)="nodeSelectionToggle(node)"\n                        labelPosition="before">\n            {{node.title}}\n          </mat-checkbox>\n        </div>\n        <ul>\n          <div *ngIf="treeControl.isExpanded(node)">\n            <ng-container matTreeNodeOutlet></ng-container>\n          </div>\n        </ul>\n      </li>\n    </mat-nested-tree-node>\n  </mat-tree>\n'}]}],de.ctorParameters=function(){return[{type:Ot},{type:e.ChangeDetectorRef}]};var ue=function(){function t(t,e){this.token=t,this.appConfig=e,this.showToolbar=!0,this.opened=!0,this.isInitializing=!0,this.isInitializing=null===t.getOauthToken()}return t.prototype.ngOnInit=function(){var t=this;this.appConfig.getConfig().application.lazyAuthenticate?this.isInitializing=!1:this.token.authTokenEmitter.subscribe((function(){t.isInitializing=!1}))},t.prototype.ngAfterViewChecked=function(){},t.prototype.toggleSideNav=function(){},t.prototype.initializeMap=function(){},t.prototype.onMapControlToggled=function(t){},t}();ue.decorators=[{type:e.Component,args:[{selector:"wf1-wfml-mapping-container",template:'\x3c!--\n  TEMPLATE DECLARATIONS FOR SUB-COMPONENTS\n--\x3e\n<ng-template #wfmlMapPanel>\n  <div id="map"></div>\n</ng-template>\n\n<ng-template #wfmlSidebar>\n  <header>\n    <h4>WILDFIRE INCIDENT MANAGEMENT</h4>\n  </header>\n  <mat-accordion>\n    <mat-expansion-panel>\n      <mat-expansion-panel-header>\n        <mat-panel-title>\n          <i class="material-icons">layers</i>\n        </mat-panel-title>\n        <mat-panel-description>\n          Layers\n        </mat-panel-description>\n      </mat-expansion-panel-header>\n\n      <wf1-wfml-layer-tree></wf1-wfml-layer-tree>\n\n    </mat-expansion-panel>\n    <mat-expansion-panel>\n      <mat-expansion-panel-header>\n        <mat-panel-title>\n          <i class="material-icons">apps</i>\n        </mat-panel-title>\n        <mat-panel-description>\n          Basemaps\n        </mat-panel-description>\n      </mat-expansion-panel-header>\n\n      <mat-button-toggle-group name="basemaps" aria-label="Basemaps">\n        <mat-button-toggle value="imagery">Imagery</mat-button-toggle>\n        <mat-button-toggle value="street">Street</mat-button-toggle>\n        <mat-button-toggle value="topographic">Topographic</mat-button-toggle>\n      </mat-button-toggle-group>\n\n    </mat-expansion-panel>\n  </mat-accordion>\n</ng-template>\n\n\x3c!--\n  MAIN TEMPLATE DECLARATION\n--\x3e\n\n\n\x3c!--\n  MAIN TEMPLATE DECLARATION\n--\x3e\n<div id="core-interface-container">\n  <wf1-application-header [titleText]="titleText"></wf1-application-header>\n\n  <div class="wf1-loading-screen" *ngIf="isInitializing">\n    <h1>Initializing Application</h1>\n    <wf1-spinner></wf1-spinner>\n    <h3>Please wait while the application initializes.</h3>\n  </div>\n\n  <ng-container *ngIf="!isInitializing">\n    <wf1-application-toolbar \n        *ngIf="showToolbar"\n        [menuTemplate]="menuTemplate" \n        [toolbarTemplate]="toolbarTemplate" \n        (selectedMapControl)="onMapControlToggled($event)"\n    ></wf1-application-toolbar>\n\n    <mat-sidenav-container class="mat-typography" hasBackdrop=false>\n      <mat-sidenav id="side-nav" #sidebar mode="side" [(opened)]="opened" >\n        <ng-container *ngTemplateOutlet="sidebarTemplate ? sidebarTemplate : wfmlSidebar"></ng-container>\n      </mat-sidenav>\n      \x3c!-- <mat-sidenav id="layers-sidebar" #mapControls mode="over" hasBackdrop="false" position="end" [(opened)]="mapControlsOpened" > --\x3e\n        \x3c!-- <ng-container *ngIf="layerTreeSelected">\n          <wf1-wfml-layer-tree></wf1-wfml-layer-tree>\n        </ng-container>\n        <ng-container *ngIf="basemapsSelected">\n          <wf1-wfml-basemap-selector></wf1-wfml-basemap-selector>\n        </ng-container> --\x3e\n      \x3c!-- </mat-sidenav> --\x3e\n      <mat-sidenav-content>\n        <div id="side-nav-toggle" (click)="sidebar.toggle();toggleSideNav()" (keydown)="sidebar.toggle();toggleSideNav()">\n          <mat-icon>{{ (opened) ? \'arrow_left\' : \'arrow_right\' }}</mat-icon>\n        </div>\n        <ng-container *ngTemplateOutlet="mainContentTemplate ? mainContentTemplate : wfmlMapPanel"></ng-container>\n      </mat-sidenav-content>\n    </mat-sidenav-container>\n  </ng-container>\n</div>\n'}]}],ue.ctorParameters=function(){return[{type:Z},{type:H}]},ue.propDecorators={titleText:[{type:e.Input}],menuTemplate:[{type:e.Input}],toolbarTemplate:[{type:e.Input}],sidebarTemplate:[{type:e.Input}],mainContentTemplate:[{type:e.Input}],showToolbar:[{type:e.Input}]};var me={fullPickerInput:"YYYY-MM-DD HH:mm",datePickerInput:"YYYY-MM-DD",timePickerInput:"HH:mm:ss",monthYearLabel:"YYYY-MM",dateA11yLabel:"YYYY-MMM-DD",monthYearA11yLabel:"YYYY-MMM"},fe=function(){function t(){}return t.forRoot=function(i){return{ngModule:t,providers:[{provide:e.APP_INITIALIZER,useFactory:zt,multi:!0,deps:[e.Injector]},{provide:W,useValue:i},{provide:H,useClass:H,deps:[n.HttpHandler,W]},Ot,{provide:O.OWL_DATE_TIME_FORMATS,useValue:me},yt]}},t}();fe.decorators=[{type:e.NgModule,args:[{imports:[L.ApiModule,O.OwlDateTimeModule,O.OwlMomentDateTimeModule,A.BrowserAnimationsModule,_.BrowserModule,l.CommonModule,c.FormsModule,n.HttpClientModule,p.MatButtonModule,d.MatButtonToggleModule,u.MatCardModule,m.MatCheckboxModule,f.MatExpansionModule,h.MatFormFieldModule,g.MatGridListModule,I.MatListModule,v.MatIconModule,y.MatInputModule,b.MatMenuModule,w.MatProgressSpinnerModule,T.MatRadioModule,C.MatSidenavModule,S.MatTabsModule,k.MatToolbarModule,M.MatTooltipModule,E.MatTreeModule,s.ScrollingModule,x.MomentModule,o.OAuthModule.forRoot(),c.ReactiveFormsModule],providers:[J,ae],declarations:[rt,gt,vt,It,bt,wt,Zt,Et,_t,At,Lt,Dt,Ft,Rt,Pt,Nt,te,re,Xt,se,le,ce,pe,de,ue],exports:[gt,It,bt,Zt,Et,_t,At,Dt,Nt,te,re,Xt,se,le,ce,ue]}]}];var he=function(){function t(t,e){var n=this;this.tokenService=t,this.router=e,this.baseScopes=[],this.tokenService.credentialsEmitter.subscribe((function(t){n.credentials=t}))}return t.prototype.canActivate=function(t,e){var n=e.url,o=this.checkLogin(n,this.baseScopes);return i.of(o)},t.prototype.checkLogin=function(t,e){var n=!!this.credentials&&this.tokenService.doesUserHaveApplicationPermissions(e);return n||this.redirectToErrorPage(),n},t.prototype.redirectToErrorPage=function(){this.router.navigate([{outlets:{root:["unauthorized"]}}])},t}();he.ɵprov=e.ɵɵdefineInjectable({factory:function(){return new he(e.ɵɵinject(Z),e.ɵɵinject(F.Router))},token:he,providedIn:"root"}),he.decorators=[{type:e.Injectable,args:[{providedIn:"root"}]}],he.ctorParameters=function(){return[{type:Z},{type:F.Router}]};var ge=function(){function t(){}return t.prototype.ngOnInit=function(){},t}();ge.decorators=[{type:e.Component,args:[{selector:"wf1-public-application-header",template:'<mat-toolbar class="mat-typography wf1-public-application-header" color="primary">\n  <div class="bc-logo-div">\n    <img [src]="headerLogoPath?headerLogoPath:\'assets/images/logo/bcgov-logo.png\'" class="img-fluid center-block logo" alt="BC Gov">\n  </div>\n  <div *ngIf="titleText" class="app-logo-and-title-div">\n    <img src="assets/images/logo/wildfire-one-logo-text-horizontal-light.png" class="img-fluid center-block logo" alt="Wildfire ONE">\n    <span class="title-hyphen"> - </span>\n    <span class="mat-title" id="header-title">{{ titleText }}</span>\n  </div>\n  <div class="action-items mat-caption" *ngIf="headerItems">\n    <ng-container *ngFor="let headerItem of headerItems">\n      <div *ngIf="headerItem.menuItems && headerItem.menuItems.length > 0">\n        <button [attr.aria-label]="headerItem.label"  [mat-menu-trigger-for]="headerItemMenu"><mat-icon >{{headerItem.icon}}</mat-icon></button>\n        <mat-menu #headerItemMenu="matMenu" xPosition="before" class="wf1-public-application-header-menu">\n          <button [attr.aria-label]="headerMenuItem.label" *ngFor="let headerMenuItem of headerItem.menuItems" mat-menu-item (click)="headerMenuItem.callBackFunction()">\n            <mat-icon *ngIf="headerMenuItem.svgIcon" [svgIcon]="headerMenuItem.svgIcon"></mat-icon>\n            <mat-icon *ngIf="headerMenuItem.icon">{{headerMenuItem.icon}}</mat-icon>\n            <span>{{headerMenuItem.label}}</span>\n          </button>\n        </mat-menu>\n      </div>\n      <div *ngIf="!headerItem.menuItems || headerItem.menuItems.length == 0">\n        <button [attr.aria-label]="headerItem.label" (click)="headerItem.callBackFunction()">\n          <mat-icon *ngIf="headerItem.svgIcon" [svgIcon]="headerItem.svgIcon"></mat-icon>\n          <mat-icon *ngIf="headerItem.icon">{{headerItem.icon}}</mat-icon>\n        </button>\n      </div>\n    </ng-container>\n  </div>\n</mat-toolbar>\n'}]}],ge.ctorParameters=function(){return[]},ge.propDecorators={titleText:[{type:e.Input}],headerItems:[{type:e.Input}],headerLogoPath:[{type:e.Input}]};var ve=function(){};ve.decorators=[{type:e.NgModule,args:[{imports:[l.CommonModule,v.MatIconModule,b.MatMenuModule,k.MatToolbarModule,Y.MatDividerModule],declarations:[ge],exports:[ge]}]}];var ye=function(){function t(t){this.injector=t}return t.prototype.intercept=function(t,e){var n=t;return this.isUrlSecured(t.url)&&(this.token=this.injector.get(Z),this.authToken=this.token.getOauthToken(),this.authToken&&(n=t.clone({headers:t.headers.set("Authorization","Bearer "+this.authToken)}))),e.handle(n)},t.prototype.isUrlSecured=function(t){var e=!1,n=this.injector.get(H).getConfig();if(n&&n.rest)for(var i in n.rest)if(t.startsWith(n.rest[i])){e=!0;break}return e},t}();ye.decorators=[{type:e.Injectable}],ye.ctorParameters=function(){return[{type:e.Injector}]};var Ie=function(){this.type="multi"},be=function(t){return t.query},we=function(t){return t.sortParam},Te=function(t){return t.sortDirection},Ce=function(t){return encodeURIComponent(t.sortParam+" "+t.sortDirection)},Se=function(t){return t.sortModalVisible},ke=function(t){return t.filters},Me=Object.freeze({__proto__:null,getSearchQuery:be,getSortParam:we,getSortDirection:Te,getEncodedSort:Ce,isSortModalVisible:Se,getActiveFilters:ke}),Ee=function(t){return t},_e=Ee,Ae=R.createSelector(Ee,be),Oe=R.createSelector(Ee,we),Le=R.createSelector(Ee,Te),xe=R.createSelector(Ee,Ce),Fe=R.createSelector(Ee,Se),De=R.createSelector(Ee,ke),Re=Object.freeze({__proto__:null,getSearchQuerySelector:Ae,getSortParamSelector:Oe,getSortDirectionSelector:Le,getEncodedSortSelector:xe,isSortModalVisibleSelector:Fe,getActiveFiltersSelector:De,"ɵ0":_e});var Pe=function(t,e){return!!(t&&t.componentId&&e&&t.componentId===e)};t.AppConfigService=H,t.ApplicationIconComponent=gt,t.AuthGuard=he,t.AuthenticationInterceptor=ye,t.BasicSidebarPanelComponent=It,t.CoreUIModule=fe,t.DATE_FORMATS=me,t.DateTimePickerComponent=bt,t.FilterConfig=Ie,t.FilterSidebarPanelComponent=Et,t.FiltersComponent=Zt,t.FullWidthContainerComponent=_t,t.FullWidthPanelComponent=At,t.InfoIncidentPanelComponent=Lt,t.LibraryConfig=W,t.ListContainerComponent=Dt,t.ListItemComponent=Ft,t.LocationSidebarPanelComponent=Rt,t.MAPTOOL_WINDOW_NAME=ne,t.Message=ie,t.PublicApplicationHeaderComponent=ge,t.PublicApplicationHeaderModule=ve,t.ReportDialogComponent=Nt,t.SearchActions=Jt,t.SearchBarComponent=te,t.SearchFunctions=Me,t.SearchSelectors=Re,t.SidebarComponent=re,t.SortComponent=Xt,t.SpatialUtilsService=J,t.SpinnerComponent=se,t.TokenService=Z,t.UnauthorizedPageComponent=le,t.VisualizeJSComponent=ce,t.WFIM_LIST_COMPONENT_ID="searchIMMap",t.WFIM_TABLE_COMPONENT_ID="searchIM",t.WFIM_WINDOW_NAME="wfim-application-window",t.WFMLMappingContainerComponent=ue,t.WFNROF_LIST_COMPONENT_ID="searchNROFMap",t.WFNROF_TABLE_COMPONENT_ID="searchNROF",t.WFNROF_WINDOW_NAME="wfnrof-application-window",t.WFROF_LIST_COMPONENT_ID="searchROFMap",t.WFROF_TABLE_COMPONENT_ID="searchROF",t.WFROF_WINDOW_NAME="wfrof-application-window",t.WindowConfig=oe,t.WindowMessagingService=ae,t.appInitializerFn=zt,t.initialState={query:null,sortParam:null,sortDirection:null,sortModalVisible:!1,filters:{},hiddenFilters:{}},t.searchReducer=function(t,e){switch(e.type){case jt.UPDATE_SEARCH_QUERY:if(!Pe(t,e.componentId))return t;var n=e.query;return Object.assign({},t,{query:n});case jt.RESET_SEARCH_QUERY:return Pe(t,e.componentId)?Object.assign({},t,{query:null}):t;case jt.UPDATE_SORT:if(!Pe(t,e.componentId))return t;var i=e.param,o=e.direction;return Object.assign({},t,{sortParam:i,sortDirection:o});case jt.TOGGLE_SORT_MODAL:return Pe(t,e.componentId)?Object.assign({},t,{sortModalVisible:!t.sortModalVisible}):t;case jt.UPDATE_ACTIVE_FILTERS:if(!Pe(t,e.componentId))return t;var a=e.filters;return Object.assign({},t,{filters:a});case jt.UPDATE_HIDDEN_FILTERS:if(!Pe(t,e.componentId))return t;var r=e.filters;return Object.assign({},t,{hiddenFilters:r});case jt.CLEAR_FILTER:if(!Pe(t,e.componentId))return t;var s=e.filterToRemove,l=t.filters,c=s,p=(l[c],function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(i=Object.getOwnPropertySymbols(t);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(t,i[o])&&(n[i[o]]=t[i[o]])}return n}(l,["symbol"==typeof c?c:c+""]));return Object.assign({},t,{filters:p});case jt.CLEAR_ALL_FILTERS:return Pe(t,e.componentId)?Object.assign({},t,{filters:{}}):t;default:return t}},t.ɵa=rt,t.ɵb=vt,t.ɵc=yt,t.ɵd=wt,t.ɵe=Ot,t.ɵf=Pt,t.ɵg=pe,t.ɵh=de,Object.defineProperty(t,"__esModule",{value:!0})}));
//# sourceMappingURL=wf1-core-ui.umd.min.js.map