import { Component, Input } from "@angular/core";
import { AppConfigService } from "../services/app-config.service";
import { TokenService } from "../services/token.service";
export class ApplicationHeaderComponent {
    constructor(appConfig, token) {
        this.appConfig = appConfig;
        this.token = token;
    }
    ngOnInit() {
        const config = this.appConfig.getConfig();
        this.appVersion = config.application.version;
        this.acronym = config.application.acronym;
        this.environment = config.application.environment;
        this.buildNumber = config.application.buildNumber ? `.${config.application.buildNumber}` : '';
        this.token.credentialsEmitter.subscribe((credentialDetails) => {
            if (credentialDetails.given_name && credentialDetails.family_name) {
                this.userName = `${credentialDetails.given_name} ${credentialDetails.family_name}`;
            }
            else if (credentialDetails.givenName && credentialDetails.familyName) {
                this.userName = `${credentialDetails.givenName} ${credentialDetails.familyName}`;
            }
        });
    }
}
ApplicationHeaderComponent.decorators = [
    { type: Component, args: [{
                selector: 'wf1-application-header',
                template: "<mat-toolbar class=\"mat-typography wf1-application-header\" color=\"primary\">\n  <div class=\"bc-logo-div\">\n    <img src=\"assets/images/logo/bcgov-logo.png\" class=\"img-fluid center-block logo\" alt=\"BC Gov\">\n  </div>\n  <div class=\"app-logo-and-title-div\">\n    <img src=\"assets/images/logo/wildfire-one-logo-text-horizontal-light.png\" class=\"img-fluid center-block logo\" alt=\"Wildfire ONE\">\n    <span class=\"mat-title\" id=\"header-title\">- {{ titleText }}</span>\n  </div>\n  <div class=\"system-and-user-info mat-caption\">\n    <div *ngIf=\"appVersion\">\n      <p class=\"header-caption-label\">SYSTEM: </p>\n      <p class=\"header-caption-text\"> {{ acronym }} {{ appVersion }}{{ buildNumber }} {{ environment }} </p>\n    </div>\n    <div *ngIf=\"userName\">\n      <p class=\"header-caption-label\">USER: </p>\n      <p class=\"header-caption-text\"> {{ userName }} </p>\n    </div>\n  </div>\n</mat-toolbar>\n"
            },] }
];
ApplicationHeaderComponent.ctorParameters = () => [
    { type: AppConfigService },
    { type: TokenService }
];
ApplicationHeaderComponent.propDecorators = {
    titleText: [{ type: Input }]
};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYXBwbGljYXRpb24taGVhZGVyLmNvbXBvbmVudC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uL3Byb2plY3RzL2NvcmUtdWkvc3JjL2xpYi9hcHBsaWNhdGlvbi1oZWFkZXIvYXBwbGljYXRpb24taGVhZGVyLmNvbXBvbmVudC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUMsU0FBUyxFQUFFLEtBQUssRUFBUyxNQUFNLGVBQWUsQ0FBQztBQUN2RCxPQUFPLEVBQUMsZ0JBQWdCLEVBQUMsTUFBTSxnQ0FBZ0MsQ0FBQztBQUNoRSxPQUFPLEVBQUMsWUFBWSxFQUFDLE1BQU0sMkJBQTJCLENBQUM7QUFPdkQsTUFBTSxPQUFPLDBCQUEwQjtJQVVyQyxZQUFvQixTQUEyQixFQUFVLEtBQW1CO1FBQXhELGNBQVMsR0FBVCxTQUFTLENBQWtCO1FBQVUsVUFBSyxHQUFMLEtBQUssQ0FBYztJQUFJLENBQUM7SUFFakYsUUFBUTtRQUNOLE1BQU0sTUFBTSxHQUFHLElBQUksQ0FBQyxTQUFTLENBQUMsU0FBUyxFQUFFLENBQUM7UUFDMUMsSUFBSSxDQUFDLFVBQVUsR0FBRyxNQUFNLENBQUMsV0FBVyxDQUFDLE9BQU8sQ0FBQztRQUM3QyxJQUFJLENBQUMsT0FBTyxHQUFHLE1BQU0sQ0FBQyxXQUFXLENBQUMsT0FBTyxDQUFDO1FBQzFDLElBQUksQ0FBQyxXQUFXLEdBQUcsTUFBTSxDQUFDLFdBQVcsQ0FBQyxXQUFXLENBQUM7UUFDbEQsSUFBSSxDQUFDLFdBQVcsR0FBRyxNQUFNLENBQUMsV0FBVyxDQUFDLFdBQVcsQ0FBQyxDQUFDLENBQUMsSUFBSSxNQUFNLENBQUMsV0FBVyxDQUFDLFdBQVcsRUFBRSxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUM7UUFDOUYsSUFBSSxDQUFDLEtBQUssQ0FBQyxrQkFBa0IsQ0FBQyxTQUFTLENBQUMsQ0FBQyxpQkFBaUIsRUFBRSxFQUFFO1lBQzVELElBQUksaUJBQWlCLENBQUMsVUFBVSxJQUFJLGlCQUFpQixDQUFDLFdBQVcsRUFBRTtnQkFDL0QsSUFBSSxDQUFDLFFBQVEsR0FBRyxHQUFHLGlCQUFpQixDQUFDLFVBQVUsSUFBSSxpQkFBaUIsQ0FBQyxXQUFXLEVBQUUsQ0FBQzthQUN0RjtpQkFBTSxJQUFJLGlCQUFpQixDQUFDLFNBQVMsSUFBSSxpQkFBaUIsQ0FBQyxVQUFVLEVBQUU7Z0JBQ3BFLElBQUksQ0FBQyxRQUFRLEdBQUcsR0FBRyxpQkFBaUIsQ0FBQyxTQUFTLElBQUksaUJBQWlCLENBQUMsVUFBVSxFQUFFLENBQUM7YUFDcEY7UUFDSCxDQUFDLENBQUMsQ0FBQztJQUNMLENBQUM7OztZQTlCRixTQUFTLFNBQUM7Z0JBQ1QsUUFBUSxFQUFFLHdCQUF3QjtnQkFDbEMsdzdCQUFrRDthQUVuRDs7O1lBUE8sZ0JBQWdCO1lBQ2hCLFlBQVk7Ozt3QkFTakIsS0FBSyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7Q29tcG9uZW50LCBJbnB1dCwgT25Jbml0fSBmcm9tIFwiQGFuZ3VsYXIvY29yZVwiO1xuaW1wb3J0IHtBcHBDb25maWdTZXJ2aWNlfSBmcm9tIFwiLi4vc2VydmljZXMvYXBwLWNvbmZpZy5zZXJ2aWNlXCI7XG5pbXBvcnQge1Rva2VuU2VydmljZX0gZnJvbSBcIi4uL3NlcnZpY2VzL3Rva2VuLnNlcnZpY2VcIjtcblxuQENvbXBvbmVudCh7XG4gIHNlbGVjdG9yOiAnd2YxLWFwcGxpY2F0aW9uLWhlYWRlcicsXG4gIHRlbXBsYXRlVXJsOiAnLi9hcHBsaWNhdGlvbi1oZWFkZXIuY29tcG9uZW50Lmh0bWwnLFxuICBzdHlsZXM6IFtdXG59KVxuZXhwb3J0IGNsYXNzIEFwcGxpY2F0aW9uSGVhZGVyQ29tcG9uZW50IGltcGxlbWVudHMgT25Jbml0IHtcblxuICBASW5wdXQoKSB0aXRsZVRleHQ6IHN0cmluZztcblxuICBwdWJsaWMgYXBwVmVyc2lvbjogc3RyaW5nO1xuICBwdWJsaWMgdXNlck5hbWU6IHN0cmluZztcbiAgcHVibGljIGVudmlyb25tZW50OiBzdHJpbmc7XG4gIHB1YmxpYyBhY3JvbnltOiBzdHJpbmc7XG4gIHB1YmxpYyBidWlsZE51bWJlcjogc3RyaW5nO1xuXG4gIGNvbnN0cnVjdG9yKHByaXZhdGUgYXBwQ29uZmlnOiBBcHBDb25maWdTZXJ2aWNlLCBwcml2YXRlIHRva2VuOiBUb2tlblNlcnZpY2UpIHsgfVxuXG4gIG5nT25Jbml0KCkge1xuICAgIGNvbnN0IGNvbmZpZyA9IHRoaXMuYXBwQ29uZmlnLmdldENvbmZpZygpO1xuICAgIHRoaXMuYXBwVmVyc2lvbiA9IGNvbmZpZy5hcHBsaWNhdGlvbi52ZXJzaW9uO1xuICAgIHRoaXMuYWNyb255bSA9IGNvbmZpZy5hcHBsaWNhdGlvbi5hY3JvbnltO1xuICAgIHRoaXMuZW52aXJvbm1lbnQgPSBjb25maWcuYXBwbGljYXRpb24uZW52aXJvbm1lbnQ7XG4gICAgdGhpcy5idWlsZE51bWJlciA9IGNvbmZpZy5hcHBsaWNhdGlvbi5idWlsZE51bWJlciA/IGAuJHtjb25maWcuYXBwbGljYXRpb24uYnVpbGROdW1iZXJ9YCA6ICcnO1xuICAgIHRoaXMudG9rZW4uY3JlZGVudGlhbHNFbWl0dGVyLnN1YnNjcmliZSgoY3JlZGVudGlhbERldGFpbHMpID0+IHtcbiAgICAgIGlmIChjcmVkZW50aWFsRGV0YWlscy5naXZlbl9uYW1lICYmIGNyZWRlbnRpYWxEZXRhaWxzLmZhbWlseV9uYW1lKSB7XG4gICAgICAgICAgdGhpcy51c2VyTmFtZSA9IGAke2NyZWRlbnRpYWxEZXRhaWxzLmdpdmVuX25hbWV9ICR7Y3JlZGVudGlhbERldGFpbHMuZmFtaWx5X25hbWV9YDtcbiAgICAgIH0gZWxzZSBpZiAoY3JlZGVudGlhbERldGFpbHMuZ2l2ZW5OYW1lICYmIGNyZWRlbnRpYWxEZXRhaWxzLmZhbWlseU5hbWUpIHtcbiAgICAgICAgICB0aGlzLnVzZXJOYW1lID0gYCR7Y3JlZGVudGlhbERldGFpbHMuZ2l2ZW5OYW1lfSAke2NyZWRlbnRpYWxEZXRhaWxzLmZhbWlseU5hbWV9YDtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG59XG4iXX0=