(function (global, factory) {
    typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports, require('@angular/common/http'), require('@angular/core'), require('@angular/common')) :
    typeof define === 'function' && define.amd ? define('@wf1/orgunit-rest-api', ['exports', '@angular/common/http', '@angular/core', '@angular/common'], factory) :
    (factory((global.wf1 = global.wf1 || {}, global.wf1['orgunit-rest-api'] = {}),global.ng.common.http,global.ng.core,global.ng.common));
}(this, (function (exports,http,core,common) { 'use strict';

    /*! *****************************************************************************
    Copyright (c) Microsoft Corporation. All rights reserved.
    Licensed under the Apache License, Version 2.0 (the "License"); you may not use
    this file except in compliance with the License. You may obtain a copy of the
    License at http://www.apache.org/licenses/LICENSE-2.0

    THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
    KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
    WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
    MERCHANTABLITY OR NON-INFRINGEMENT.

    See the Apache Version 2.0 License for specific language governing permissions
    and limitations under the License.
    ***************************************************************************** */
    /* global Reflect, Promise */
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b)
                if (b.hasOwnProperty(p))
                    d[p] = b[p]; };
        return extendStatics(d, b);
    };
    function __extends(d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    }
    function __values(o) {
        var m = typeof Symbol === "function" && o[Symbol.iterator], i = 0;
        if (m)
            return m.call(o);
        return {
            next: function () {
                if (o && i >= o.length)
                    o = void 0;
                return { value: o && o[i++], done: !o };
            }
        };
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    /**
     * CustomHttpUrlEncodingCodec
     * Fix plus sign (+) not encoding, so sent as blank space
     * See: https://github.com/angular/angular/issues/11058#issuecomment-247367318
     */
    var /**
     * CustomHttpUrlEncodingCodec
     * Fix plus sign (+) not encoding, so sent as blank space
     * See: https://github.com/angular/angular/issues/11058#issuecomment-247367318
     */ CustomHttpUrlEncodingCodec = (function (_super) {
        __extends(CustomHttpUrlEncodingCodec, _super);
        function CustomHttpUrlEncodingCodec() {
            return _super !== null && _super.apply(this, arguments) || this;
        }
        /**
         * @param {?} k
         * @return {?}
         */
        CustomHttpUrlEncodingCodec.prototype.encodeKey = /**
         * @param {?} k
         * @return {?}
         */
            function (k) {
                k = _super.prototype.encodeKey.call(this, k);
                return k.replace(/\+/gi, '%2B');
            };
        /**
         * @param {?} v
         * @return {?}
         */
        CustomHttpUrlEncodingCodec.prototype.encodeValue = /**
         * @param {?} v
         * @return {?}
         */
            function (v) {
                v = _super.prototype.encodeValue.call(this, v);
                return v.replace(/\+/gi, '%2B');
            };
        return CustomHttpUrlEncodingCodec;
    }(http.HttpUrlEncodingCodec));

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    /** @type {?} */
    var BASE_PATH = new core.InjectionToken('basePath');
    /** @type {?} */
    var COLLECTION_FORMATS = {
        'csv': ',',
        'tsv': '   ',
        'ssv': ' ',
        'pipes': '|'
    };

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    var OrgUnitConfiguration = (function () {
        function OrgUnitConfiguration(configurationParameters) {
            if (configurationParameters === void 0) {
                configurationParameters = {};
            }
            this.apiKeys = configurationParameters.apiKeys;
            this.username = configurationParameters.username;
            this.password = configurationParameters.password;
            this.accessToken = configurationParameters.accessToken;
            this.basePath = configurationParameters.basePath;
            this.withCredentials = configurationParameters.withCredentials;
        }
        /**
         * Select the correct content-type to use for a request.
         * Uses {\@link OrgUnitConfiguration#isJsonMime} to determine the correct content-type.
         * If no content type is found return the first found type if the contentTypes is not empty
         * @param {?} contentTypes - the array of content types that are available for selection
         * @return {?} the selected content-type or <code>undefined</code> if no selection could be made.
         */
        OrgUnitConfiguration.prototype.selectHeaderContentType = /**
         * Select the correct content-type to use for a request.
         * Uses {\@link OrgUnitConfiguration#isJsonMime} to determine the correct content-type.
         * If no content type is found return the first found type if the contentTypes is not empty
         * @param {?} contentTypes - the array of content types that are available for selection
         * @return {?} the selected content-type or <code>undefined</code> if no selection could be made.
         */
            function (contentTypes) {
                var _this = this;
                if (contentTypes.length == 0) {
                    return undefined;
                }
                /** @type {?} */
                var type = contentTypes.find(function (x) { return _this.isJsonMime(x); });
                if (type === undefined) {
                    return contentTypes[0];
                }
                return type;
            };
        /**
         * Select the correct accept content-type to use for a request.
         * Uses {\@link OrgUnitConfiguration#isJsonMime} to determine the correct accept content-type.
         * If no content type is found return the first found type if the contentTypes is not empty
         * @param {?} accepts - the array of content types that are available for selection.
         * @return {?} the selected content-type or <code>undefined</code> if no selection could be made.
         */
        OrgUnitConfiguration.prototype.selectHeaderAccept = /**
         * Select the correct accept content-type to use for a request.
         * Uses {\@link OrgUnitConfiguration#isJsonMime} to determine the correct accept content-type.
         * If no content type is found return the first found type if the contentTypes is not empty
         * @param {?} accepts - the array of content types that are available for selection.
         * @return {?} the selected content-type or <code>undefined</code> if no selection could be made.
         */
            function (accepts) {
                var _this = this;
                if (accepts.length == 0) {
                    return undefined;
                }
                /** @type {?} */
                var type = accepts.find(function (x) { return _this.isJsonMime(x); });
                if (type === undefined) {
                    return accepts[0];
                }
                return type;
            };
        /**
         * Check if the given MIME is a JSON MIME.
         * JSON MIME examples:
         *   application/json
         *   application/json; charset=UTF8
         *   APPLICATION/JSON
         *   application/vnd.company+json
         * @param {?} mime - MIME (Multipurpose Internet Mail Extensions)
         * @return {?} True if the given MIME is JSON, false otherwise.
         */
        OrgUnitConfiguration.prototype.isJsonMime = /**
         * Check if the given MIME is a JSON MIME.
         * JSON MIME examples:
         *   application/json
         *   application/json; charset=UTF8
         *   APPLICATION/JSON
         *   application/vnd.company+json
         * @param {?} mime - MIME (Multipurpose Internet Mail Extensions)
         * @return {?} True if the given MIME is JSON, false otherwise.
         */
            function (mime) {
                /** @type {?} */
                var jsonMime = new RegExp('^(application\/json|[^;/ \t]+\/[^;/ \t]+[+]json)[ \t]*(;.*)?$', 'i');
                return mime != null && (jsonMime.test(mime) || mime.toLowerCase() === 'application/json-patch+json');
            };
        return OrgUnitConfiguration;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    var CodeHierarchyEndpointsService = (function () {
        function CodeHierarchyEndpointsService(httpClient, basePath, configuration) {
            this.httpClient = httpClient;
            this.basePath = 'https://https://d1api.vividsolutions.com/wforg-org-unit-api';
            this.defaultHeaders = new http.HttpHeaders();
            this.configuration = new OrgUnitConfiguration();
            if (basePath) {
                this.basePath = basePath;
            }
            if (configuration) {
                this.configuration = configuration;
                this.basePath = basePath || configuration.basePath || this.basePath;
            }
        }
        /**
         * @param {?} consumes string[] mime-types
         * @return {?} true: consumes contains 'multipart/form-data', false: otherwise
         */
        CodeHierarchyEndpointsService.prototype.canConsumeForm = /**
         * @param {?} consumes string[] mime-types
         * @return {?} true: consumes contains 'multipart/form-data', false: otherwise
         */
            function (consumes) {
                /** @type {?} */
                var form = 'multipart/form-data';
                try {
                    for (var consumes_1 = __values(consumes), consumes_1_1 = consumes_1.next(); !consumes_1_1.done; consumes_1_1 = consumes_1.next()) {
                        var consume = consumes_1_1.value;
                        if (form === consume) {
                            return true;
                        }
                    }
                }
                catch (e_1_1) {
                    e_1 = { error: e_1_1 };
                }
                finally {
                    try {
                        if (consumes_1_1 && !consumes_1_1.done && (_a = consumes_1.return))
                            _a.call(consumes_1);
                    }
                    finally {
                        if (e_1)
                            throw e_1.error;
                    }
                }
                return false;
                var e_1, _a;
            };
        /**
         * @param {?} codeHierarchyName
         * @param {?=} effectiveAsOfDate
         * @param {?=} restVersion
         * @param {?=} observe
         * @param {?=} reportProgress
         * @return {?}
         */
        CodeHierarchyEndpointsService.prototype.getCodeHierarchy1 = /**
         * @param {?} codeHierarchyName
         * @param {?=} effectiveAsOfDate
         * @param {?=} restVersion
         * @param {?=} observe
         * @param {?=} reportProgress
         * @return {?}
         */
            function (codeHierarchyName, effectiveAsOfDate, restVersion, observe, reportProgress) {
                if (observe === void 0) {
                    observe = 'body';
                }
                if (reportProgress === void 0) {
                    reportProgress = false;
                }
                if (codeHierarchyName === null || codeHierarchyName === undefined) {
                    throw new Error('Required parameter codeHierarchyName was null or undefined when calling getCodeHierarchy1.');
                }
                /** @type {?} */
                var queryParameters = new http.HttpParams({ encoder: new CustomHttpUrlEncodingCodec() });
                if (effectiveAsOfDate !== undefined) {
                    queryParameters = queryParameters.set('effectiveAsOfDate', /** @type {?} */ (effectiveAsOfDate));
                }
                /** @type {?} */
                var headers = this.defaultHeaders;
                if (restVersion !== undefined && restVersion !== null) {
                    headers = headers.set('Rest-Version', String(restVersion));
                }
                /** @type {?} */
                var httpHeaderAccepts = [
                    'application/json',
                    'application/xml'
                ];
                /** @type {?} */
                var httpHeaderAcceptSelected = this.configuration.selectHeaderAccept(httpHeaderAccepts);
                if (httpHeaderAcceptSelected != undefined) {
                    headers = headers.set("Accept", httpHeaderAcceptSelected);
                }
                return this.httpClient.get(this.basePath + "/codeHierarchies/" + encodeURIComponent(String(codeHierarchyName)), {
                    params: queryParameters,
                    withCredentials: this.configuration.withCredentials,
                    headers: headers,
                    observe: observe,
                    reportProgress: reportProgress
                });
            };
        /**
         * @param {?} codeHierarchyName
         * @param {?} codeHierarchy
         * @param {?} ifMatch
         * @param {?=} restVersion
         * @param {?=} observe
         * @param {?=} reportProgress
         * @return {?}
         */
        CodeHierarchyEndpointsService.prototype.updateCodeHierarchy1 = /**
         * @param {?} codeHierarchyName
         * @param {?} codeHierarchy
         * @param {?} ifMatch
         * @param {?=} restVersion
         * @param {?=} observe
         * @param {?=} reportProgress
         * @return {?}
         */
            function (codeHierarchyName, codeHierarchy, ifMatch, restVersion, observe, reportProgress) {
                if (observe === void 0) {
                    observe = 'body';
                }
                if (reportProgress === void 0) {
                    reportProgress = false;
                }
                if (codeHierarchyName === null || codeHierarchyName === undefined) {
                    throw new Error('Required parameter codeHierarchyName was null or undefined when calling updateCodeHierarchy1.');
                }
                if (codeHierarchy === null || codeHierarchy === undefined) {
                    throw new Error('Required parameter codeHierarchy was null or undefined when calling updateCodeHierarchy1.');
                }
                if (ifMatch === null || ifMatch === undefined) {
                    throw new Error('Required parameter ifMatch was null or undefined when calling updateCodeHierarchy1.');
                }
                /** @type {?} */
                var headers = this.defaultHeaders;
                if (restVersion !== undefined && restVersion !== null) {
                    headers = headers.set('Rest-Version', String(restVersion));
                }
                if (ifMatch !== undefined && ifMatch !== null) {
                    headers = headers.set('If-Match', String(ifMatch));
                }
                /** @type {?} */
                var httpHeaderAccepts = [
                    'application/json',
                    'application/xml'
                ];
                /** @type {?} */
                var httpHeaderAcceptSelected = this.configuration.selectHeaderAccept(httpHeaderAccepts);
                if (httpHeaderAcceptSelected != undefined) {
                    headers = headers.set("Accept", httpHeaderAcceptSelected);
                }
                /** @type {?} */
                var consumes = [
                    'application/json',
                    'application/xml'
                ];
                /** @type {?} */
                var httpContentTypeSelected = this.configuration.selectHeaderContentType(consumes);
                if (httpContentTypeSelected != undefined) {
                    headers = headers.set("Content-Type", httpContentTypeSelected);
                }
                return this.httpClient.put(this.basePath + "/codeHierarchies/" + encodeURIComponent(String(codeHierarchyName)), codeHierarchy, {
                    withCredentials: this.configuration.withCredentials,
                    headers: headers,
                    observe: observe,
                    reportProgress: reportProgress
                });
            };
        CodeHierarchyEndpointsService.decorators = [
            { type: core.Injectable },
        ];
        /** @nocollapse */
        CodeHierarchyEndpointsService.ctorParameters = function () {
            return [
                { type: http.HttpClient },
                { type: String, decorators: [{ type: core.Optional }, { type: core.Inject, args: [BASE_PATH,] }] },
                { type: OrgUnitConfiguration, decorators: [{ type: core.Optional }] }
            ];
        };
        return CodeHierarchyEndpointsService;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    var CodeHierarchyListEndpointsService = (function () {
        function CodeHierarchyListEndpointsService(httpClient, basePath, configuration) {
            this.httpClient = httpClient;
            this.basePath = 'https://https://d1api.vividsolutions.com/wforg-org-unit-api';
            this.defaultHeaders = new http.HttpHeaders();
            this.configuration = new OrgUnitConfiguration();
            if (basePath) {
                this.basePath = basePath;
            }
            if (configuration) {
                this.configuration = configuration;
                this.basePath = basePath || configuration.basePath || this.basePath;
            }
        }
        /**
         * @param {?} consumes string[] mime-types
         * @return {?} true: consumes contains 'multipart/form-data', false: otherwise
         */
        CodeHierarchyListEndpointsService.prototype.canConsumeForm = /**
         * @param {?} consumes string[] mime-types
         * @return {?} true: consumes contains 'multipart/form-data', false: otherwise
         */
            function (consumes) {
                /** @type {?} */
                var form = 'multipart/form-data';
                try {
                    for (var consumes_1 = __values(consumes), consumes_1_1 = consumes_1.next(); !consumes_1_1.done; consumes_1_1 = consumes_1.next()) {
                        var consume = consumes_1_1.value;
                        if (form === consume) {
                            return true;
                        }
                    }
                }
                catch (e_1_1) {
                    e_1 = { error: e_1_1 };
                }
                finally {
                    try {
                        if (consumes_1_1 && !consumes_1_1.done && (_a = consumes_1.return))
                            _a.call(consumes_1);
                    }
                    finally {
                        if (e_1)
                            throw e_1.error;
                    }
                }
                return false;
                var e_1, _a;
            };
        /**
         * @param {?=} effectiveAsOfDate
         * @param {?=} codeHierarchyName
         * @param {?=} restVersion
         * @param {?=} observe
         * @param {?=} reportProgress
         * @return {?}
         */
        CodeHierarchyListEndpointsService.prototype.getCodeHierarchyList1 = /**
         * @param {?=} effectiveAsOfDate
         * @param {?=} codeHierarchyName
         * @param {?=} restVersion
         * @param {?=} observe
         * @param {?=} reportProgress
         * @return {?}
         */
            function (effectiveAsOfDate, codeHierarchyName, restVersion, observe, reportProgress) {
                if (observe === void 0) {
                    observe = 'body';
                }
                if (reportProgress === void 0) {
                    reportProgress = false;
                }
                /** @type {?} */
                var queryParameters = new http.HttpParams({ encoder: new CustomHttpUrlEncodingCodec() });
                if (effectiveAsOfDate !== undefined) {
                    queryParameters = queryParameters.set('effectiveAsOfDate', /** @type {?} */ (effectiveAsOfDate));
                }
                if (codeHierarchyName !== undefined) {
                    queryParameters = queryParameters.set('codeHierarchyName', /** @type {?} */ (codeHierarchyName));
                }
                /** @type {?} */
                var headers = this.defaultHeaders;
                if (restVersion !== undefined && restVersion !== null) {
                    headers = headers.set('Rest-Version', String(restVersion));
                }
                /** @type {?} */
                var httpHeaderAccepts = [
                    'application/json',
                    'application/xml'
                ];
                /** @type {?} */
                var httpHeaderAcceptSelected = this.configuration.selectHeaderAccept(httpHeaderAccepts);
                if (httpHeaderAcceptSelected != undefined) {
                    headers = headers.set("Accept", httpHeaderAcceptSelected);
                }
                return this.httpClient.get(this.basePath + "/codeHierarchies", {
                    params: queryParameters,
                    withCredentials: this.configuration.withCredentials,
                    headers: headers,
                    observe: observe,
                    reportProgress: reportProgress
                });
            };
        CodeHierarchyListEndpointsService.decorators = [
            { type: core.Injectable },
        ];
        /** @nocollapse */
        CodeHierarchyListEndpointsService.ctorParameters = function () {
            return [
                { type: http.HttpClient },
                { type: String, decorators: [{ type: core.Optional }, { type: core.Inject, args: [BASE_PATH,] }] },
                { type: OrgUnitConfiguration, decorators: [{ type: core.Optional }] }
            ];
        };
        return CodeHierarchyListEndpointsService;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    var CodeTableEndpointsService = (function () {
        function CodeTableEndpointsService(httpClient, basePath, configuration) {
            this.httpClient = httpClient;
            this.basePath = 'https://https://d1api.vividsolutions.com/wforg-org-unit-api';
            this.defaultHeaders = new http.HttpHeaders();
            this.configuration = new OrgUnitConfiguration();
            if (basePath) {
                this.basePath = basePath;
            }
            if (configuration) {
                this.configuration = configuration;
                this.basePath = basePath || configuration.basePath || this.basePath;
            }
        }
        /**
         * @param {?} consumes string[] mime-types
         * @return {?} true: consumes contains 'multipart/form-data', false: otherwise
         */
        CodeTableEndpointsService.prototype.canConsumeForm = /**
         * @param {?} consumes string[] mime-types
         * @return {?} true: consumes contains 'multipart/form-data', false: otherwise
         */
            function (consumes) {
                /** @type {?} */
                var form = 'multipart/form-data';
                try {
                    for (var consumes_1 = __values(consumes), consumes_1_1 = consumes_1.next(); !consumes_1_1.done; consumes_1_1 = consumes_1.next()) {
                        var consume = consumes_1_1.value;
                        if (form === consume) {
                            return true;
                        }
                    }
                }
                catch (e_1_1) {
                    e_1 = { error: e_1_1 };
                }
                finally {
                    try {
                        if (consumes_1_1 && !consumes_1_1.done && (_a = consumes_1.return))
                            _a.call(consumes_1);
                    }
                    finally {
                        if (e_1)
                            throw e_1.error;
                    }
                }
                return false;
                var e_1, _a;
            };
        /**
         * @param {?} codeTableName
         * @param {?=} effectiveAsOfDate
         * @param {?=} restVersion
         * @param {?=} observe
         * @param {?=} reportProgress
         * @return {?}
         */
        CodeTableEndpointsService.prototype.getCodeTable1 = /**
         * @param {?} codeTableName
         * @param {?=} effectiveAsOfDate
         * @param {?=} restVersion
         * @param {?=} observe
         * @param {?=} reportProgress
         * @return {?}
         */
            function (codeTableName, effectiveAsOfDate, restVersion, observe, reportProgress) {
                if (observe === void 0) {
                    observe = 'body';
                }
                if (reportProgress === void 0) {
                    reportProgress = false;
                }
                if (codeTableName === null || codeTableName === undefined) {
                    throw new Error('Required parameter codeTableName was null or undefined when calling getCodeTable1.');
                }
                /** @type {?} */
                var queryParameters = new http.HttpParams({ encoder: new CustomHttpUrlEncodingCodec() });
                if (effectiveAsOfDate !== undefined) {
                    queryParameters = queryParameters.set('effectiveAsOfDate', /** @type {?} */ (effectiveAsOfDate));
                }
                /** @type {?} */
                var headers = this.defaultHeaders;
                if (restVersion !== undefined && restVersion !== null) {
                    headers = headers.set('Rest-Version', String(restVersion));
                }
                /** @type {?} */
                var httpHeaderAccepts = [
                    'application/json',
                    'application/xml'
                ];
                /** @type {?} */
                var httpHeaderAcceptSelected = this.configuration.selectHeaderAccept(httpHeaderAccepts);
                if (httpHeaderAcceptSelected != undefined) {
                    headers = headers.set("Accept", httpHeaderAcceptSelected);
                }
                return this.httpClient.get(this.basePath + "/codeTables/" + encodeURIComponent(String(codeTableName)), {
                    params: queryParameters,
                    withCredentials: this.configuration.withCredentials,
                    headers: headers,
                    observe: observe,
                    reportProgress: reportProgress
                });
            };
        /**
         * @param {?} codeTableName
         * @param {?} codeTable
         * @param {?} ifMatch
         * @param {?=} restVersion
         * @param {?=} observe
         * @param {?=} reportProgress
         * @return {?}
         */
        CodeTableEndpointsService.prototype.updateCodeTable1 = /**
         * @param {?} codeTableName
         * @param {?} codeTable
         * @param {?} ifMatch
         * @param {?=} restVersion
         * @param {?=} observe
         * @param {?=} reportProgress
         * @return {?}
         */
            function (codeTableName, codeTable, ifMatch, restVersion, observe, reportProgress) {
                if (observe === void 0) {
                    observe = 'body';
                }
                if (reportProgress === void 0) {
                    reportProgress = false;
                }
                if (codeTableName === null || codeTableName === undefined) {
                    throw new Error('Required parameter codeTableName was null or undefined when calling updateCodeTable1.');
                }
                if (codeTable === null || codeTable === undefined) {
                    throw new Error('Required parameter codeTable was null or undefined when calling updateCodeTable1.');
                }
                if (ifMatch === null || ifMatch === undefined) {
                    throw new Error('Required parameter ifMatch was null or undefined when calling updateCodeTable1.');
                }
                /** @type {?} */
                var headers = this.defaultHeaders;
                if (restVersion !== undefined && restVersion !== null) {
                    headers = headers.set('Rest-Version', String(restVersion));
                }
                if (ifMatch !== undefined && ifMatch !== null) {
                    headers = headers.set('If-Match', String(ifMatch));
                }
                /** @type {?} */
                var httpHeaderAccepts = [
                    'application/json',
                    'application/xml'
                ];
                /** @type {?} */
                var httpHeaderAcceptSelected = this.configuration.selectHeaderAccept(httpHeaderAccepts);
                if (httpHeaderAcceptSelected != undefined) {
                    headers = headers.set("Accept", httpHeaderAcceptSelected);
                }
                /** @type {?} */
                var consumes = [
                    'application/json',
                    'application/xml'
                ];
                /** @type {?} */
                var httpContentTypeSelected = this.configuration.selectHeaderContentType(consumes);
                if (httpContentTypeSelected != undefined) {
                    headers = headers.set("Content-Type", httpContentTypeSelected);
                }
                return this.httpClient.put(this.basePath + "/codeTables/" + encodeURIComponent(String(codeTableName)), codeTable, {
                    withCredentials: this.configuration.withCredentials,
                    headers: headers,
                    observe: observe,
                    reportProgress: reportProgress
                });
            };
        CodeTableEndpointsService.decorators = [
            { type: core.Injectable },
        ];
        /** @nocollapse */
        CodeTableEndpointsService.ctorParameters = function () {
            return [
                { type: http.HttpClient },
                { type: String, decorators: [{ type: core.Optional }, { type: core.Inject, args: [BASE_PATH,] }] },
                { type: OrgUnitConfiguration, decorators: [{ type: core.Optional }] }
            ];
        };
        return CodeTableEndpointsService;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    var CodeTableListEndpointsService = (function () {
        function CodeTableListEndpointsService(httpClient, basePath, configuration) {
            this.httpClient = httpClient;
            this.basePath = 'https://https://d1api.vividsolutions.com/wforg-org-unit-api';
            this.defaultHeaders = new http.HttpHeaders();
            this.configuration = new OrgUnitConfiguration();
            if (basePath) {
                this.basePath = basePath;
            }
            if (configuration) {
                this.configuration = configuration;
                this.basePath = basePath || configuration.basePath || this.basePath;
            }
        }
        /**
         * @param {?} consumes string[] mime-types
         * @return {?} true: consumes contains 'multipart/form-data', false: otherwise
         */
        CodeTableListEndpointsService.prototype.canConsumeForm = /**
         * @param {?} consumes string[] mime-types
         * @return {?} true: consumes contains 'multipart/form-data', false: otherwise
         */
            function (consumes) {
                /** @type {?} */
                var form = 'multipart/form-data';
                try {
                    for (var consumes_1 = __values(consumes), consumes_1_1 = consumes_1.next(); !consumes_1_1.done; consumes_1_1 = consumes_1.next()) {
                        var consume = consumes_1_1.value;
                        if (form === consume) {
                            return true;
                        }
                    }
                }
                catch (e_1_1) {
                    e_1 = { error: e_1_1 };
                }
                finally {
                    try {
                        if (consumes_1_1 && !consumes_1_1.done && (_a = consumes_1.return))
                            _a.call(consumes_1);
                    }
                    finally {
                        if (e_1)
                            throw e_1.error;
                    }
                }
                return false;
                var e_1, _a;
            };
        /**
         * @param {?=} effectiveAsOfDate
         * @param {?=} codeTableName
         * @param {?=} restVersion
         * @param {?=} observe
         * @param {?=} reportProgress
         * @return {?}
         */
        CodeTableListEndpointsService.prototype.getCodeTableList1 = /**
         * @param {?=} effectiveAsOfDate
         * @param {?=} codeTableName
         * @param {?=} restVersion
         * @param {?=} observe
         * @param {?=} reportProgress
         * @return {?}
         */
            function (effectiveAsOfDate, codeTableName, restVersion, observe, reportProgress) {
                if (observe === void 0) {
                    observe = 'body';
                }
                if (reportProgress === void 0) {
                    reportProgress = false;
                }
                /** @type {?} */
                var queryParameters = new http.HttpParams({ encoder: new CustomHttpUrlEncodingCodec() });
                if (effectiveAsOfDate !== undefined) {
                    queryParameters = queryParameters.set('effectiveAsOfDate', /** @type {?} */ (effectiveAsOfDate));
                }
                if (codeTableName !== undefined) {
                    queryParameters = queryParameters.set('codeTableName', /** @type {?} */ (codeTableName));
                }
                /** @type {?} */
                var headers = this.defaultHeaders;
                if (restVersion !== undefined && restVersion !== null) {
                    headers = headers.set('Rest-Version', String(restVersion));
                }
                /** @type {?} */
                var httpHeaderAccepts = [
                    'application/json',
                    'application/xml'
                ];
                /** @type {?} */
                var httpHeaderAcceptSelected = this.configuration.selectHeaderAccept(httpHeaderAccepts);
                if (httpHeaderAcceptSelected != undefined) {
                    headers = headers.set("Accept", httpHeaderAcceptSelected);
                }
                return this.httpClient.get(this.basePath + "/codeTables", {
                    params: queryParameters,
                    withCredentials: this.configuration.withCredentials,
                    headers: headers,
                    observe: observe,
                    reportProgress: reportProgress
                });
            };
        CodeTableListEndpointsService.decorators = [
            { type: core.Injectable },
        ];
        /** @nocollapse */
        CodeTableListEndpointsService.ctorParameters = function () {
            return [
                { type: http.HttpClient },
                { type: String, decorators: [{ type: core.Optional }, { type: core.Inject, args: [BASE_PATH,] }] },
                { type: OrgUnitConfiguration, decorators: [{ type: core.Optional }] }
            ];
        };
        return CodeTableListEndpointsService;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    var LocationAddressService = (function () {
        function LocationAddressService(httpClient, basePath, configuration) {
            this.httpClient = httpClient;
            this.basePath = 'https://https://d1api.vividsolutions.com/wforg-org-unit-api';
            this.defaultHeaders = new http.HttpHeaders();
            this.configuration = new OrgUnitConfiguration();
            if (basePath) {
                this.basePath = basePath;
            }
            if (configuration) {
                this.configuration = configuration;
                this.basePath = basePath || configuration.basePath || this.basePath;
            }
        }
        /**
         * @param {?} consumes string[] mime-types
         * @return {?} true: consumes contains 'multipart/form-data', false: otherwise
         */
        LocationAddressService.prototype.canConsumeForm = /**
         * @param {?} consumes string[] mime-types
         * @return {?} true: consumes contains 'multipart/form-data', false: otherwise
         */
            function (consumes) {
                /** @type {?} */
                var form = 'multipart/form-data';
                try {
                    for (var consumes_1 = __values(consumes), consumes_1_1 = consumes_1.next(); !consumes_1_1.done; consumes_1_1 = consumes_1.next()) {
                        var consume = consumes_1_1.value;
                        if (form === consume) {
                            return true;
                        }
                    }
                }
                catch (e_1_1) {
                    e_1 = { error: e_1_1 };
                }
                finally {
                    try {
                        if (consumes_1_1 && !consumes_1_1.done && (_a = consumes_1.return))
                            _a.call(consumes_1);
                    }
                    finally {
                        if (e_1)
                            throw e_1.error;
                    }
                }
                return false;
                var e_1, _a;
            };
        /**
         * @param {?} orgUnitId
         * @param {?} orgUnitLocationId
         * @param {?} locationAddressId
         * @param {?=} effectiveAsOfDate
         * @param {?=} restVersion
         * @param {?=} observe
         * @param {?=} reportProgress
         * @return {?}
         */
        LocationAddressService.prototype.getLocationAddress = /**
         * @param {?} orgUnitId
         * @param {?} orgUnitLocationId
         * @param {?} locationAddressId
         * @param {?=} effectiveAsOfDate
         * @param {?=} restVersion
         * @param {?=} observe
         * @param {?=} reportProgress
         * @return {?}
         */
            function (orgUnitId, orgUnitLocationId, locationAddressId, effectiveAsOfDate, restVersion, observe, reportProgress) {
                if (observe === void 0) {
                    observe = 'body';
                }
                if (reportProgress === void 0) {
                    reportProgress = false;
                }
                if (orgUnitId === null || orgUnitId === undefined) {
                    throw new Error('Required parameter orgUnitId was null or undefined when calling getLocationAddress.');
                }
                if (orgUnitLocationId === null || orgUnitLocationId === undefined) {
                    throw new Error('Required parameter orgUnitLocationId was null or undefined when calling getLocationAddress.');
                }
                if (locationAddressId === null || locationAddressId === undefined) {
                    throw new Error('Required parameter locationAddressId was null or undefined when calling getLocationAddress.');
                }
                /** @type {?} */
                var queryParameters = new http.HttpParams({ encoder: new CustomHttpUrlEncodingCodec() });
                if (effectiveAsOfDate !== undefined) {
                    queryParameters = queryParameters.set('effectiveAsOfDate', /** @type {?} */ (effectiveAsOfDate));
                }
                /** @type {?} */
                var headers = this.defaultHeaders;
                if (restVersion !== undefined && restVersion !== null) {
                    headers = headers.set('Rest-Version', String(restVersion));
                }
                /** @type {?} */
                var httpHeaderAccepts = [
                    'application/json',
                    'application/xml'
                ];
                /** @type {?} */
                var httpHeaderAcceptSelected = this.configuration.selectHeaderAccept(httpHeaderAccepts);
                if (httpHeaderAcceptSelected != undefined) {
                    headers = headers.set("Accept", httpHeaderAcceptSelected);
                }
                return this.httpClient.get(this.basePath + "/orgUnits/" + encodeURIComponent(String(orgUnitId)) + "/locations/" + encodeURIComponent(String(orgUnitLocationId)) + "/addresses/" + encodeURIComponent(String(locationAddressId)), {
                    params: queryParameters,
                    withCredentials: this.configuration.withCredentials,
                    headers: headers,
                    observe: observe,
                    reportProgress: reportProgress
                });
            };
        LocationAddressService.decorators = [
            { type: core.Injectable },
        ];
        /** @nocollapse */
        LocationAddressService.ctorParameters = function () {
            return [
                { type: http.HttpClient },
                { type: String, decorators: [{ type: core.Optional }, { type: core.Inject, args: [BASE_PATH,] }] },
                { type: OrgUnitConfiguration, decorators: [{ type: core.Optional }] }
            ];
        };
        return LocationAddressService;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    var LocationContactService = (function () {
        function LocationContactService(httpClient, basePath, configuration) {
            this.httpClient = httpClient;
            this.basePath = 'https://https://d1api.vividsolutions.com/wforg-org-unit-api';
            this.defaultHeaders = new http.HttpHeaders();
            this.configuration = new OrgUnitConfiguration();
            if (basePath) {
                this.basePath = basePath;
            }
            if (configuration) {
                this.configuration = configuration;
                this.basePath = basePath || configuration.basePath || this.basePath;
            }
        }
        /**
         * @param {?} consumes string[] mime-types
         * @return {?} true: consumes contains 'multipart/form-data', false: otherwise
         */
        LocationContactService.prototype.canConsumeForm = /**
         * @param {?} consumes string[] mime-types
         * @return {?} true: consumes contains 'multipart/form-data', false: otherwise
         */
            function (consumes) {
                /** @type {?} */
                var form = 'multipart/form-data';
                try {
                    for (var consumes_1 = __values(consumes), consumes_1_1 = consumes_1.next(); !consumes_1_1.done; consumes_1_1 = consumes_1.next()) {
                        var consume = consumes_1_1.value;
                        if (form === consume) {
                            return true;
                        }
                    }
                }
                catch (e_1_1) {
                    e_1 = { error: e_1_1 };
                }
                finally {
                    try {
                        if (consumes_1_1 && !consumes_1_1.done && (_a = consumes_1.return))
                            _a.call(consumes_1);
                    }
                    finally {
                        if (e_1)
                            throw e_1.error;
                    }
                }
                return false;
                var e_1, _a;
            };
        /**
         * @param {?} orgUnitId
         * @param {?} orgUnitLocationId
         * @param {?} locationContactId
         * @param {?=} effectiveAsOfDate
         * @param {?=} restVersion
         * @param {?=} observe
         * @param {?=} reportProgress
         * @return {?}
         */
        LocationContactService.prototype.getLocationContact1 = /**
         * @param {?} orgUnitId
         * @param {?} orgUnitLocationId
         * @param {?} locationContactId
         * @param {?=} effectiveAsOfDate
         * @param {?=} restVersion
         * @param {?=} observe
         * @param {?=} reportProgress
         * @return {?}
         */
            function (orgUnitId, orgUnitLocationId, locationContactId, effectiveAsOfDate, restVersion, observe, reportProgress) {
                if (observe === void 0) {
                    observe = 'body';
                }
                if (reportProgress === void 0) {
                    reportProgress = false;
                }
                if (orgUnitId === null || orgUnitId === undefined) {
                    throw new Error('Required parameter orgUnitId was null or undefined when calling getLocationContact1.');
                }
                if (orgUnitLocationId === null || orgUnitLocationId === undefined) {
                    throw new Error('Required parameter orgUnitLocationId was null or undefined when calling getLocationContact1.');
                }
                if (locationContactId === null || locationContactId === undefined) {
                    throw new Error('Required parameter locationContactId was null or undefined when calling getLocationContact1.');
                }
                /** @type {?} */
                var queryParameters = new http.HttpParams({ encoder: new CustomHttpUrlEncodingCodec() });
                if (effectiveAsOfDate !== undefined) {
                    queryParameters = queryParameters.set('effectiveAsOfDate', /** @type {?} */ (effectiveAsOfDate));
                }
                /** @type {?} */
                var headers = this.defaultHeaders;
                if (restVersion !== undefined && restVersion !== null) {
                    headers = headers.set('Rest-Version', String(restVersion));
                }
                /** @type {?} */
                var httpHeaderAccepts = [
                    'application/json',
                    'application/xml'
                ];
                /** @type {?} */
                var httpHeaderAcceptSelected = this.configuration.selectHeaderAccept(httpHeaderAccepts);
                if (httpHeaderAcceptSelected != undefined) {
                    headers = headers.set("Accept", httpHeaderAcceptSelected);
                }
                return this.httpClient.get(this.basePath + "/orgUnits/" + encodeURIComponent(String(orgUnitId)) + "/locations/" + encodeURIComponent(String(orgUnitLocationId)) + "/contacts/" + encodeURIComponent(String(locationContactId)), {
                    params: queryParameters,
                    withCredentials: this.configuration.withCredentials,
                    headers: headers,
                    observe: observe,
                    reportProgress: reportProgress
                });
            };
        LocationContactService.decorators = [
            { type: core.Injectable },
        ];
        /** @nocollapse */
        LocationContactService.ctorParameters = function () {
            return [
                { type: http.HttpClient },
                { type: String, decorators: [{ type: core.Optional }, { type: core.Inject, args: [BASE_PATH,] }] },
                { type: OrgUnitConfiguration, decorators: [{ type: core.Optional }] }
            ];
        };
        return LocationContactService;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    var OrgUnitService = (function () {
        function OrgUnitService(httpClient, basePath, configuration) {
            this.httpClient = httpClient;
            this.basePath = 'https://https://d1api.vividsolutions.com/wforg-org-unit-api';
            this.defaultHeaders = new http.HttpHeaders();
            this.configuration = new OrgUnitConfiguration();
            if (basePath) {
                this.basePath = basePath;
            }
            if (configuration) {
                this.configuration = configuration;
                this.basePath = basePath || configuration.basePath || this.basePath;
            }
        }
        /**
         * @param {?} consumes string[] mime-types
         * @return {?} true: consumes contains 'multipart/form-data', false: otherwise
         */
        OrgUnitService.prototype.canConsumeForm = /**
         * @param {?} consumes string[] mime-types
         * @return {?} true: consumes contains 'multipart/form-data', false: otherwise
         */
            function (consumes) {
                /** @type {?} */
                var form = 'multipart/form-data';
                try {
                    for (var consumes_1 = __values(consumes), consumes_1_1 = consumes_1.next(); !consumes_1_1.done; consumes_1_1 = consumes_1.next()) {
                        var consume = consumes_1_1.value;
                        if (form === consume) {
                            return true;
                        }
                    }
                }
                catch (e_1_1) {
                    e_1 = { error: e_1_1 };
                }
                finally {
                    try {
                        if (consumes_1_1 && !consumes_1_1.done && (_a = consumes_1.return))
                            _a.call(consumes_1);
                    }
                    finally {
                        if (e_1)
                            throw e_1.error;
                    }
                }
                return false;
                var e_1, _a;
            };
        /**
         * @param {?} orgUnitId
         * @param {?=} effectiveAsOfDate
         * @param {?=} restVersion
         * @param {?=} observe
         * @param {?=} reportProgress
         * @return {?}
         */
        OrgUnitService.prototype.getOrgUnit1 = /**
         * @param {?} orgUnitId
         * @param {?=} effectiveAsOfDate
         * @param {?=} restVersion
         * @param {?=} observe
         * @param {?=} reportProgress
         * @return {?}
         */
            function (orgUnitId, effectiveAsOfDate, restVersion, observe, reportProgress) {
                if (observe === void 0) {
                    observe = 'body';
                }
                if (reportProgress === void 0) {
                    reportProgress = false;
                }
                if (orgUnitId === null || orgUnitId === undefined) {
                    throw new Error('Required parameter orgUnitId was null or undefined when calling getOrgUnit1.');
                }
                /** @type {?} */
                var queryParameters = new http.HttpParams({ encoder: new CustomHttpUrlEncodingCodec() });
                if (effectiveAsOfDate !== undefined) {
                    queryParameters = queryParameters.set('effectiveAsOfDate', /** @type {?} */ (effectiveAsOfDate));
                }
                /** @type {?} */
                var headers = this.defaultHeaders;
                if (restVersion !== undefined && restVersion !== null) {
                    headers = headers.set('Rest-Version', String(restVersion));
                }
                /** @type {?} */
                var httpHeaderAccepts = [
                    'application/json',
                    'application/xml'
                ];
                /** @type {?} */
                var httpHeaderAcceptSelected = this.configuration.selectHeaderAccept(httpHeaderAccepts);
                if (httpHeaderAcceptSelected != undefined) {
                    headers = headers.set("Accept", httpHeaderAcceptSelected);
                }
                return this.httpClient.get(this.basePath + "/orgUnits/" + encodeURIComponent(String(orgUnitId)), {
                    params: queryParameters,
                    withCredentials: this.configuration.withCredentials,
                    headers: headers,
                    observe: observe,
                    reportProgress: reportProgress
                });
            };
        OrgUnitService.decorators = [
            { type: core.Injectable },
        ];
        /** @nocollapse */
        OrgUnitService.ctorParameters = function () {
            return [
                { type: http.HttpClient },
                { type: String, decorators: [{ type: core.Optional }, { type: core.Inject, args: [BASE_PATH,] }] },
                { type: OrgUnitConfiguration, decorators: [{ type: core.Optional }] }
            ];
        };
        return OrgUnitService;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    var OrgUnitAreaService = (function () {
        function OrgUnitAreaService(httpClient, basePath, configuration) {
            this.httpClient = httpClient;
            this.basePath = 'https://https://d1api.vividsolutions.com/wforg-org-unit-api';
            this.defaultHeaders = new http.HttpHeaders();
            this.configuration = new OrgUnitConfiguration();
            if (basePath) {
                this.basePath = basePath;
            }
            if (configuration) {
                this.configuration = configuration;
                this.basePath = basePath || configuration.basePath || this.basePath;
            }
        }
        /**
         * @param {?} consumes string[] mime-types
         * @return {?} true: consumes contains 'multipart/form-data', false: otherwise
         */
        OrgUnitAreaService.prototype.canConsumeForm = /**
         * @param {?} consumes string[] mime-types
         * @return {?} true: consumes contains 'multipart/form-data', false: otherwise
         */
            function (consumes) {
                /** @type {?} */
                var form = 'multipart/form-data';
                try {
                    for (var consumes_1 = __values(consumes), consumes_1_1 = consumes_1.next(); !consumes_1_1.done; consumes_1_1 = consumes_1.next()) {
                        var consume = consumes_1_1.value;
                        if (form === consume) {
                            return true;
                        }
                    }
                }
                catch (e_1_1) {
                    e_1 = { error: e_1_1 };
                }
                finally {
                    try {
                        if (consumes_1_1 && !consumes_1_1.done && (_a = consumes_1.return))
                            _a.call(consumes_1);
                    }
                    finally {
                        if (e_1)
                            throw e_1.error;
                    }
                }
                return false;
                var e_1, _a;
            };
        /**
         * @param {?} orgUnitId
         * @param {?} orgUnitAreaId
         * @param {?} ifMatch
         * @param {?=} effectiveDate
         * @param {?=} expiryDate
         * @param {?=} restVersion
         * @param {?=} observe
         * @param {?=} reportProgress
         * @return {?}
         */
        OrgUnitAreaService.prototype.deleteOrgUnitArea1 = /**
         * @param {?} orgUnitId
         * @param {?} orgUnitAreaId
         * @param {?} ifMatch
         * @param {?=} effectiveDate
         * @param {?=} expiryDate
         * @param {?=} restVersion
         * @param {?=} observe
         * @param {?=} reportProgress
         * @return {?}
         */
            function (orgUnitId, orgUnitAreaId, ifMatch, effectiveDate, expiryDate, restVersion, observe, reportProgress) {
                if (observe === void 0) {
                    observe = 'body';
                }
                if (reportProgress === void 0) {
                    reportProgress = false;
                }
                if (orgUnitId === null || orgUnitId === undefined) {
                    throw new Error('Required parameter orgUnitId was null or undefined when calling deleteOrgUnitArea1.');
                }
                if (orgUnitAreaId === null || orgUnitAreaId === undefined) {
                    throw new Error('Required parameter orgUnitAreaId was null or undefined when calling deleteOrgUnitArea1.');
                }
                if (ifMatch === null || ifMatch === undefined) {
                    throw new Error('Required parameter ifMatch was null or undefined when calling deleteOrgUnitArea1.');
                }
                /** @type {?} */
                var queryParameters = new http.HttpParams({ encoder: new CustomHttpUrlEncodingCodec() });
                if (effectiveDate !== undefined) {
                    queryParameters = queryParameters.set('effectiveDate', /** @type {?} */ (effectiveDate));
                }
                if (expiryDate !== undefined) {
                    queryParameters = queryParameters.set('expiryDate', /** @type {?} */ (expiryDate));
                }
                /** @type {?} */
                var headers = this.defaultHeaders;
                if (restVersion !== undefined && restVersion !== null) {
                    headers = headers.set('Rest-Version', String(restVersion));
                }
                if (ifMatch !== undefined && ifMatch !== null) {
                    headers = headers.set('If-Match', String(ifMatch));
                }
                /** @type {?} */
                var httpHeaderAccepts = [];
                /** @type {?} */
                var httpHeaderAcceptSelected = this.configuration.selectHeaderAccept(httpHeaderAccepts);
                if (httpHeaderAcceptSelected != undefined) {
                    headers = headers.set("Accept", httpHeaderAcceptSelected);
                }
                return this.httpClient.delete(this.basePath + "/orgUnits/" + encodeURIComponent(String(orgUnitId)) + "/areas/" + encodeURIComponent(String(orgUnitAreaId)), {
                    params: queryParameters,
                    withCredentials: this.configuration.withCredentials,
                    headers: headers,
                    observe: observe,
                    reportProgress: reportProgress
                });
            };
        /**
         * @param {?} orgUnitId
         * @param {?} orgUnitAreaId
         * @param {?=} effectiveAsOfDate
         * @param {?=} includeGeometryInd
         * @param {?=} restVersion
         * @param {?=} observe
         * @param {?=} reportProgress
         * @return {?}
         */
        OrgUnitAreaService.prototype.getOrgUnitArea1 = /**
         * @param {?} orgUnitId
         * @param {?} orgUnitAreaId
         * @param {?=} effectiveAsOfDate
         * @param {?=} includeGeometryInd
         * @param {?=} restVersion
         * @param {?=} observe
         * @param {?=} reportProgress
         * @return {?}
         */
            function (orgUnitId, orgUnitAreaId, effectiveAsOfDate, includeGeometryInd, restVersion, observe, reportProgress) {
                if (observe === void 0) {
                    observe = 'body';
                }
                if (reportProgress === void 0) {
                    reportProgress = false;
                }
                if (orgUnitId === null || orgUnitId === undefined) {
                    throw new Error('Required parameter orgUnitId was null or undefined when calling getOrgUnitArea1.');
                }
                if (orgUnitAreaId === null || orgUnitAreaId === undefined) {
                    throw new Error('Required parameter orgUnitAreaId was null or undefined when calling getOrgUnitArea1.');
                }
                /** @type {?} */
                var queryParameters = new http.HttpParams({ encoder: new CustomHttpUrlEncodingCodec() });
                if (effectiveAsOfDate !== undefined) {
                    queryParameters = queryParameters.set('effectiveAsOfDate', /** @type {?} */ (effectiveAsOfDate));
                }
                if (includeGeometryInd !== undefined) {
                    queryParameters = queryParameters.set('includeGeometryInd', /** @type {?} */ (includeGeometryInd));
                }
                /** @type {?} */
                var headers = this.defaultHeaders;
                if (restVersion !== undefined && restVersion !== null) {
                    headers = headers.set('Rest-Version', String(restVersion));
                }
                /** @type {?} */
                var httpHeaderAccepts = [
                    'application/json',
                    'application/xml'
                ];
                /** @type {?} */
                var httpHeaderAcceptSelected = this.configuration.selectHeaderAccept(httpHeaderAccepts);
                if (httpHeaderAcceptSelected != undefined) {
                    headers = headers.set("Accept", httpHeaderAcceptSelected);
                }
                return this.httpClient.get(this.basePath + "/orgUnits/" + encodeURIComponent(String(orgUnitId)) + "/areas/" + encodeURIComponent(String(orgUnitAreaId)), {
                    params: queryParameters,
                    withCredentials: this.configuration.withCredentials,
                    headers: headers,
                    observe: observe,
                    reportProgress: reportProgress
                });
            };
        /**
         * @param {?} orgUnitId
         * @param {?} orgUnitAreaId
         * @param {?} orgUnitArea
         * @param {?} ifMatch
         * @param {?=} restVersion
         * @param {?=} observe
         * @param {?=} reportProgress
         * @return {?}
         */
        OrgUnitAreaService.prototype.updateOrgUnitArea1 = /**
         * @param {?} orgUnitId
         * @param {?} orgUnitAreaId
         * @param {?} orgUnitArea
         * @param {?} ifMatch
         * @param {?=} restVersion
         * @param {?=} observe
         * @param {?=} reportProgress
         * @return {?}
         */
            function (orgUnitId, orgUnitAreaId, orgUnitArea, ifMatch, restVersion, observe, reportProgress) {
                if (observe === void 0) {
                    observe = 'body';
                }
                if (reportProgress === void 0) {
                    reportProgress = false;
                }
                if (orgUnitId === null || orgUnitId === undefined) {
                    throw new Error('Required parameter orgUnitId was null or undefined when calling updateOrgUnitArea1.');
                }
                if (orgUnitAreaId === null || orgUnitAreaId === undefined) {
                    throw new Error('Required parameter orgUnitAreaId was null or undefined when calling updateOrgUnitArea1.');
                }
                if (orgUnitArea === null || orgUnitArea === undefined) {
                    throw new Error('Required parameter orgUnitArea was null or undefined when calling updateOrgUnitArea1.');
                }
                if (ifMatch === null || ifMatch === undefined) {
                    throw new Error('Required parameter ifMatch was null or undefined when calling updateOrgUnitArea1.');
                }
                /** @type {?} */
                var headers = this.defaultHeaders;
                if (restVersion !== undefined && restVersion !== null) {
                    headers = headers.set('Rest-Version', String(restVersion));
                }
                if (ifMatch !== undefined && ifMatch !== null) {
                    headers = headers.set('If-Match', String(ifMatch));
                }
                /** @type {?} */
                var httpHeaderAccepts = [
                    'application/json',
                    'application/xml'
                ];
                /** @type {?} */
                var httpHeaderAcceptSelected = this.configuration.selectHeaderAccept(httpHeaderAccepts);
                if (httpHeaderAcceptSelected != undefined) {
                    headers = headers.set("Accept", httpHeaderAcceptSelected);
                }
                /** @type {?} */
                var consumes = [
                    'application/json',
                    'application/xml'
                ];
                /** @type {?} */
                var httpContentTypeSelected = this.configuration.selectHeaderContentType(consumes);
                if (httpContentTypeSelected != undefined) {
                    headers = headers.set("Content-Type", httpContentTypeSelected);
                }
                return this.httpClient.put(this.basePath + "/orgUnits/" + encodeURIComponent(String(orgUnitId)) + "/areas/" + encodeURIComponent(String(orgUnitAreaId)), orgUnitArea, {
                    withCredentials: this.configuration.withCredentials,
                    headers: headers,
                    observe: observe,
                    reportProgress: reportProgress
                });
            };
        OrgUnitAreaService.decorators = [
            { type: core.Injectable },
        ];
        /** @nocollapse */
        OrgUnitAreaService.ctorParameters = function () {
            return [
                { type: http.HttpClient },
                { type: String, decorators: [{ type: core.Optional }, { type: core.Inject, args: [BASE_PATH,] }] },
                { type: OrgUnitConfiguration, decorators: [{ type: core.Optional }] }
            ];
        };
        return OrgUnitAreaService;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    var OrgUnitAreaListService = (function () {
        function OrgUnitAreaListService(httpClient, basePath, configuration) {
            this.httpClient = httpClient;
            this.basePath = 'https://https://d1api.vividsolutions.com/wforg-org-unit-api';
            this.defaultHeaders = new http.HttpHeaders();
            this.configuration = new OrgUnitConfiguration();
            if (basePath) {
                this.basePath = basePath;
            }
            if (configuration) {
                this.configuration = configuration;
                this.basePath = basePath || configuration.basePath || this.basePath;
            }
        }
        /**
         * @param {?} consumes string[] mime-types
         * @return {?} true: consumes contains 'multipart/form-data', false: otherwise
         */
        OrgUnitAreaListService.prototype.canConsumeForm = /**
         * @param {?} consumes string[] mime-types
         * @return {?} true: consumes contains 'multipart/form-data', false: otherwise
         */
            function (consumes) {
                /** @type {?} */
                var form = 'multipart/form-data';
                try {
                    for (var consumes_1 = __values(consumes), consumes_1_1 = consumes_1.next(); !consumes_1_1.done; consumes_1_1 = consumes_1.next()) {
                        var consume = consumes_1_1.value;
                        if (form === consume) {
                            return true;
                        }
                    }
                }
                catch (e_1_1) {
                    e_1 = { error: e_1_1 };
                }
                finally {
                    try {
                        if (consumes_1_1 && !consumes_1_1.done && (_a = consumes_1.return))
                            _a.call(consumes_1);
                    }
                    finally {
                        if (e_1)
                            throw e_1.error;
                    }
                }
                return false;
                var e_1, _a;
            };
        /**
         * @param {?} orgUnitId
         * @param {?} orgUnitArea
         * @param {?=} restVersion
         * @param {?=} observe
         * @param {?=} reportProgress
         * @return {?}
         */
        OrgUnitAreaListService.prototype.createOrgUnitArea1 = /**
         * @param {?} orgUnitId
         * @param {?} orgUnitArea
         * @param {?=} restVersion
         * @param {?=} observe
         * @param {?=} reportProgress
         * @return {?}
         */
            function (orgUnitId, orgUnitArea, restVersion, observe, reportProgress) {
                if (observe === void 0) {
                    observe = 'body';
                }
                if (reportProgress === void 0) {
                    reportProgress = false;
                }
                if (orgUnitId === null || orgUnitId === undefined) {
                    throw new Error('Required parameter orgUnitId was null or undefined when calling createOrgUnitArea1.');
                }
                if (orgUnitArea === null || orgUnitArea === undefined) {
                    throw new Error('Required parameter orgUnitArea was null or undefined when calling createOrgUnitArea1.');
                }
                /** @type {?} */
                var headers = this.defaultHeaders;
                if (restVersion !== undefined && restVersion !== null) {
                    headers = headers.set('Rest-Version', String(restVersion));
                }
                /** @type {?} */
                var httpHeaderAccepts = [
                    'application/json',
                    'application/xml'
                ];
                /** @type {?} */
                var httpHeaderAcceptSelected = this.configuration.selectHeaderAccept(httpHeaderAccepts);
                if (httpHeaderAcceptSelected != undefined) {
                    headers = headers.set("Accept", httpHeaderAcceptSelected);
                }
                /** @type {?} */
                var consumes = [
                    'application/json',
                    'application/xml'
                ];
                /** @type {?} */
                var httpContentTypeSelected = this.configuration.selectHeaderContentType(consumes);
                if (httpContentTypeSelected != undefined) {
                    headers = headers.set("Content-Type", httpContentTypeSelected);
                }
                return this.httpClient.post(this.basePath + "/orgUnits/" + encodeURIComponent(String(orgUnitId)) + "/areas", orgUnitArea, {
                    withCredentials: this.configuration.withCredentials,
                    headers: headers,
                    observe: observe,
                    reportProgress: reportProgress
                });
            };
        /**
         * @param {?} orgUnitId
         * @param {?=} effectiveAsOfDate
         * @param {?=} orgUnitAreaTypeCode
         * @param {?=} includeGeometryInd
         * @param {?=} pageNumber
         * @param {?=} pageRowCount
         * @param {?=} orderBy
         * @param {?=} restVersion
         * @param {?=} observe
         * @param {?=} reportProgress
         * @return {?}
         */
        OrgUnitAreaListService.prototype.getOrgUnitAreaList1 = /**
         * @param {?} orgUnitId
         * @param {?=} effectiveAsOfDate
         * @param {?=} orgUnitAreaTypeCode
         * @param {?=} includeGeometryInd
         * @param {?=} pageNumber
         * @param {?=} pageRowCount
         * @param {?=} orderBy
         * @param {?=} restVersion
         * @param {?=} observe
         * @param {?=} reportProgress
         * @return {?}
         */
            function (orgUnitId, effectiveAsOfDate, orgUnitAreaTypeCode, includeGeometryInd, pageNumber, pageRowCount, orderBy, restVersion, observe, reportProgress) {
                if (observe === void 0) {
                    observe = 'body';
                }
                if (reportProgress === void 0) {
                    reportProgress = false;
                }
                if (orgUnitId === null || orgUnitId === undefined) {
                    throw new Error('Required parameter orgUnitId was null or undefined when calling getOrgUnitAreaList1.');
                }
                /** @type {?} */
                var queryParameters = new http.HttpParams({ encoder: new CustomHttpUrlEncodingCodec() });
                if (effectiveAsOfDate !== undefined) {
                    queryParameters = queryParameters.set('effectiveAsOfDate', /** @type {?} */ (effectiveAsOfDate));
                }
                if (orgUnitAreaTypeCode !== undefined) {
                    queryParameters = queryParameters.set('orgUnitAreaTypeCode', /** @type {?} */ (orgUnitAreaTypeCode));
                }
                if (includeGeometryInd !== undefined) {
                    queryParameters = queryParameters.set('includeGeometryInd', /** @type {?} */ (includeGeometryInd));
                }
                if (pageNumber !== undefined) {
                    queryParameters = queryParameters.set('pageNumber', /** @type {?} */ (pageNumber));
                }
                if (pageRowCount !== undefined) {
                    queryParameters = queryParameters.set('pageRowCount', /** @type {?} */ (pageRowCount));
                }
                if (orderBy !== undefined) {
                    queryParameters = queryParameters.set('orderBy', /** @type {?} */ (orderBy));
                }
                /** @type {?} */
                var headers = this.defaultHeaders;
                if (restVersion !== undefined && restVersion !== null) {
                    headers = headers.set('Rest-Version', String(restVersion));
                }
                /** @type {?} */
                var httpHeaderAccepts = [
                    'application/json',
                    'application/xml'
                ];
                /** @type {?} */
                var httpHeaderAcceptSelected = this.configuration.selectHeaderAccept(httpHeaderAccepts);
                if (httpHeaderAcceptSelected != undefined) {
                    headers = headers.set("Accept", httpHeaderAcceptSelected);
                }
                return this.httpClient.get(this.basePath + "/orgUnits/" + encodeURIComponent(String(orgUnitId)) + "/areas", {
                    params: queryParameters,
                    withCredentials: this.configuration.withCredentials,
                    headers: headers,
                    observe: observe,
                    reportProgress: reportProgress
                });
            };
        OrgUnitAreaListService.decorators = [
            { type: core.Injectable },
        ];
        /** @nocollapse */
        OrgUnitAreaListService.ctorParameters = function () {
            return [
                { type: http.HttpClient },
                { type: String, decorators: [{ type: core.Optional }, { type: core.Inject, args: [BASE_PATH,] }] },
                { type: OrgUnitConfiguration, decorators: [{ type: core.Optional }] }
            ];
        };
        return OrgUnitAreaListService;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    var OrgUnitListService = (function () {
        function OrgUnitListService(httpClient, basePath, configuration) {
            this.httpClient = httpClient;
            this.basePath = 'https://https://d1api.vividsolutions.com/wforg-org-unit-api';
            this.defaultHeaders = new http.HttpHeaders();
            this.configuration = new OrgUnitConfiguration();
            if (basePath) {
                this.basePath = basePath;
            }
            if (configuration) {
                this.configuration = configuration;
                this.basePath = basePath || configuration.basePath || this.basePath;
            }
        }
        /**
         * @param {?} consumes string[] mime-types
         * @return {?} true: consumes contains 'multipart/form-data', false: otherwise
         */
        OrgUnitListService.prototype.canConsumeForm = /**
         * @param {?} consumes string[] mime-types
         * @return {?} true: consumes contains 'multipart/form-data', false: otherwise
         */
            function (consumes) {
                /** @type {?} */
                var form = 'multipart/form-data';
                try {
                    for (var consumes_1 = __values(consumes), consumes_1_1 = consumes_1.next(); !consumes_1_1.done; consumes_1_1 = consumes_1.next()) {
                        var consume = consumes_1_1.value;
                        if (form === consume) {
                            return true;
                        }
                    }
                }
                catch (e_1_1) {
                    e_1 = { error: e_1_1 };
                }
                finally {
                    try {
                        if (consumes_1_1 && !consumes_1_1.done && (_a = consumes_1.return))
                            _a.call(consumes_1);
                    }
                    finally {
                        if (e_1)
                            throw e_1.error;
                    }
                }
                return false;
                var e_1, _a;
            };
        /**
         * @param {?=} effectiveAsOfDate
         * @param {?=} orgUnitName
         * @param {?=} integerAlias
         * @param {?=} characterAlias
         * @param {?=} orgUnitTypeCode
         * @param {?=} orgUnitAreaTypeCode
         * @param {?=} point
         * @param {?=} pageNumber
         * @param {?=} pageRowCount
         * @param {?=} orderBy
         * @param {?=} restVersion
         * @param {?=} observe
         * @param {?=} reportProgress
         * @return {?}
         */
        OrgUnitListService.prototype.getOrgUnitList1 = /**
         * @param {?=} effectiveAsOfDate
         * @param {?=} orgUnitName
         * @param {?=} integerAlias
         * @param {?=} characterAlias
         * @param {?=} orgUnitTypeCode
         * @param {?=} orgUnitAreaTypeCode
         * @param {?=} point
         * @param {?=} pageNumber
         * @param {?=} pageRowCount
         * @param {?=} orderBy
         * @param {?=} restVersion
         * @param {?=} observe
         * @param {?=} reportProgress
         * @return {?}
         */
            function (effectiveAsOfDate, orgUnitName, integerAlias, characterAlias, orgUnitTypeCode, orgUnitAreaTypeCode, point, pageNumber, pageRowCount, orderBy, restVersion, observe, reportProgress) {
                if (observe === void 0) {
                    observe = 'body';
                }
                if (reportProgress === void 0) {
                    reportProgress = false;
                }
                /** @type {?} */
                var queryParameters = new http.HttpParams({ encoder: new CustomHttpUrlEncodingCodec() });
                if (effectiveAsOfDate !== undefined) {
                    queryParameters = queryParameters.set('effectiveAsOfDate', /** @type {?} */ (effectiveAsOfDate));
                }
                if (orgUnitName !== undefined) {
                    queryParameters = queryParameters.set('orgUnitName', /** @type {?} */ (orgUnitName));
                }
                if (integerAlias !== undefined) {
                    queryParameters = queryParameters.set('integerAlias', /** @type {?} */ (integerAlias));
                }
                if (characterAlias !== undefined) {
                    queryParameters = queryParameters.set('characterAlias', /** @type {?} */ (characterAlias));
                }
                if (orgUnitTypeCode !== undefined) {
                    queryParameters = queryParameters.set('orgUnitTypeCode', /** @type {?} */ (orgUnitTypeCode));
                }
                if (orgUnitAreaTypeCode !== undefined) {
                    queryParameters = queryParameters.set('orgUnitAreaTypeCode', /** @type {?} */ (orgUnitAreaTypeCode));
                }
                if (point !== undefined) {
                    queryParameters = queryParameters.set('point', /** @type {?} */ (point));
                }
                if (pageNumber !== undefined) {
                    queryParameters = queryParameters.set('pageNumber', /** @type {?} */ (pageNumber));
                }
                if (pageRowCount !== undefined) {
                    queryParameters = queryParameters.set('pageRowCount', /** @type {?} */ (pageRowCount));
                }
                if (orderBy !== undefined) {
                    queryParameters = queryParameters.set('orderBy', /** @type {?} */ (orderBy));
                }
                /** @type {?} */
                var headers = this.defaultHeaders;
                if (restVersion !== undefined && restVersion !== null) {
                    headers = headers.set('Rest-Version', String(restVersion));
                }
                /** @type {?} */
                var httpHeaderAccepts = [
                    'application/json',
                    'application/xml'
                ];
                /** @type {?} */
                var httpHeaderAcceptSelected = this.configuration.selectHeaderAccept(httpHeaderAccepts);
                if (httpHeaderAcceptSelected != undefined) {
                    headers = headers.set("Accept", httpHeaderAcceptSelected);
                }
                return this.httpClient.get(this.basePath + "/orgUnits", {
                    params: queryParameters,
                    withCredentials: this.configuration.withCredentials,
                    headers: headers,
                    observe: observe,
                    reportProgress: reportProgress
                });
            };
        OrgUnitListService.decorators = [
            { type: core.Injectable },
        ];
        /** @nocollapse */
        OrgUnitListService.ctorParameters = function () {
            return [
                { type: http.HttpClient },
                { type: String, decorators: [{ type: core.Optional }, { type: core.Inject, args: [BASE_PATH,] }] },
                { type: OrgUnitConfiguration, decorators: [{ type: core.Optional }] }
            ];
        };
        return OrgUnitListService;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    var OrgUnitLocationService = (function () {
        function OrgUnitLocationService(httpClient, basePath, configuration) {
            this.httpClient = httpClient;
            this.basePath = 'https://https://d1api.vividsolutions.com/wforg-org-unit-api';
            this.defaultHeaders = new http.HttpHeaders();
            this.configuration = new OrgUnitConfiguration();
            if (basePath) {
                this.basePath = basePath;
            }
            if (configuration) {
                this.configuration = configuration;
                this.basePath = basePath || configuration.basePath || this.basePath;
            }
        }
        /**
         * @param {?} consumes string[] mime-types
         * @return {?} true: consumes contains 'multipart/form-data', false: otherwise
         */
        OrgUnitLocationService.prototype.canConsumeForm = /**
         * @param {?} consumes string[] mime-types
         * @return {?} true: consumes contains 'multipart/form-data', false: otherwise
         */
            function (consumes) {
                /** @type {?} */
                var form = 'multipart/form-data';
                try {
                    for (var consumes_1 = __values(consumes), consumes_1_1 = consumes_1.next(); !consumes_1_1.done; consumes_1_1 = consumes_1.next()) {
                        var consume = consumes_1_1.value;
                        if (form === consume) {
                            return true;
                        }
                    }
                }
                catch (e_1_1) {
                    e_1 = { error: e_1_1 };
                }
                finally {
                    try {
                        if (consumes_1_1 && !consumes_1_1.done && (_a = consumes_1.return))
                            _a.call(consumes_1);
                    }
                    finally {
                        if (e_1)
                            throw e_1.error;
                    }
                }
                return false;
                var e_1, _a;
            };
        /**
         * @param {?} orgUnitId
         * @param {?} orgUnitLocationId
         * @param {?} ifMatch
         * @param {?=} effectiveDate
         * @param {?=} expiryDate
         * @param {?=} restVersion
         * @param {?=} observe
         * @param {?=} reportProgress
         * @return {?}
         */
        OrgUnitLocationService.prototype.deleteOrgUnitLocation1 = /**
         * @param {?} orgUnitId
         * @param {?} orgUnitLocationId
         * @param {?} ifMatch
         * @param {?=} effectiveDate
         * @param {?=} expiryDate
         * @param {?=} restVersion
         * @param {?=} observe
         * @param {?=} reportProgress
         * @return {?}
         */
            function (orgUnitId, orgUnitLocationId, ifMatch, effectiveDate, expiryDate, restVersion, observe, reportProgress) {
                if (observe === void 0) {
                    observe = 'body';
                }
                if (reportProgress === void 0) {
                    reportProgress = false;
                }
                if (orgUnitId === null || orgUnitId === undefined) {
                    throw new Error('Required parameter orgUnitId was null or undefined when calling deleteOrgUnitLocation1.');
                }
                if (orgUnitLocationId === null || orgUnitLocationId === undefined) {
                    throw new Error('Required parameter orgUnitLocationId was null or undefined when calling deleteOrgUnitLocation1.');
                }
                if (ifMatch === null || ifMatch === undefined) {
                    throw new Error('Required parameter ifMatch was null or undefined when calling deleteOrgUnitLocation1.');
                }
                /** @type {?} */
                var queryParameters = new http.HttpParams({ encoder: new CustomHttpUrlEncodingCodec() });
                if (effectiveDate !== undefined) {
                    queryParameters = queryParameters.set('effectiveDate', /** @type {?} */ (effectiveDate));
                }
                if (expiryDate !== undefined) {
                    queryParameters = queryParameters.set('expiryDate', /** @type {?} */ (expiryDate));
                }
                /** @type {?} */
                var headers = this.defaultHeaders;
                if (restVersion !== undefined && restVersion !== null) {
                    headers = headers.set('Rest-Version', String(restVersion));
                }
                if (ifMatch !== undefined && ifMatch !== null) {
                    headers = headers.set('If-Match', String(ifMatch));
                }
                /** @type {?} */
                var httpHeaderAccepts = [];
                /** @type {?} */
                var httpHeaderAcceptSelected = this.configuration.selectHeaderAccept(httpHeaderAccepts);
                if (httpHeaderAcceptSelected != undefined) {
                    headers = headers.set("Accept", httpHeaderAcceptSelected);
                }
                return this.httpClient.delete(this.basePath + "/orgUnits/" + encodeURIComponent(String(orgUnitId)) + "/locations/" + encodeURIComponent(String(orgUnitLocationId)), {
                    params: queryParameters,
                    withCredentials: this.configuration.withCredentials,
                    headers: headers,
                    observe: observe,
                    reportProgress: reportProgress
                });
            };
        /**
         * @param {?} orgUnitId
         * @param {?} orgUnitLocationId
         * @param {?=} effectiveAsOfDate
         * @param {?=} restVersion
         * @param {?=} observe
         * @param {?=} reportProgress
         * @return {?}
         */
        OrgUnitLocationService.prototype.getOrgUnitLocation1 = /**
         * @param {?} orgUnitId
         * @param {?} orgUnitLocationId
         * @param {?=} effectiveAsOfDate
         * @param {?=} restVersion
         * @param {?=} observe
         * @param {?=} reportProgress
         * @return {?}
         */
            function (orgUnitId, orgUnitLocationId, effectiveAsOfDate, restVersion, observe, reportProgress) {
                if (observe === void 0) {
                    observe = 'body';
                }
                if (reportProgress === void 0) {
                    reportProgress = false;
                }
                if (orgUnitId === null || orgUnitId === undefined) {
                    throw new Error('Required parameter orgUnitId was null or undefined when calling getOrgUnitLocation1.');
                }
                if (orgUnitLocationId === null || orgUnitLocationId === undefined) {
                    throw new Error('Required parameter orgUnitLocationId was null or undefined when calling getOrgUnitLocation1.');
                }
                /** @type {?} */
                var queryParameters = new http.HttpParams({ encoder: new CustomHttpUrlEncodingCodec() });
                if (effectiveAsOfDate !== undefined) {
                    queryParameters = queryParameters.set('effectiveAsOfDate', /** @type {?} */ (effectiveAsOfDate));
                }
                /** @type {?} */
                var headers = this.defaultHeaders;
                if (restVersion !== undefined && restVersion !== null) {
                    headers = headers.set('Rest-Version', String(restVersion));
                }
                /** @type {?} */
                var httpHeaderAccepts = [
                    'application/json',
                    'application/xml'
                ];
                /** @type {?} */
                var httpHeaderAcceptSelected = this.configuration.selectHeaderAccept(httpHeaderAccepts);
                if (httpHeaderAcceptSelected != undefined) {
                    headers = headers.set("Accept", httpHeaderAcceptSelected);
                }
                return this.httpClient.get(this.basePath + "/orgUnits/" + encodeURIComponent(String(orgUnitId)) + "/locations/" + encodeURIComponent(String(orgUnitLocationId)), {
                    params: queryParameters,
                    withCredentials: this.configuration.withCredentials,
                    headers: headers,
                    observe: observe,
                    reportProgress: reportProgress
                });
            };
        /**
         * @param {?} orgUnitId
         * @param {?} orgUnitLocationId
         * @param {?} orgUnitLocation
         * @param {?} ifMatch
         * @param {?=} restVersion
         * @param {?=} observe
         * @param {?=} reportProgress
         * @return {?}
         */
        OrgUnitLocationService.prototype.updateOrgUnitLocation1 = /**
         * @param {?} orgUnitId
         * @param {?} orgUnitLocationId
         * @param {?} orgUnitLocation
         * @param {?} ifMatch
         * @param {?=} restVersion
         * @param {?=} observe
         * @param {?=} reportProgress
         * @return {?}
         */
            function (orgUnitId, orgUnitLocationId, orgUnitLocation, ifMatch, restVersion, observe, reportProgress) {
                if (observe === void 0) {
                    observe = 'body';
                }
                if (reportProgress === void 0) {
                    reportProgress = false;
                }
                if (orgUnitId === null || orgUnitId === undefined) {
                    throw new Error('Required parameter orgUnitId was null or undefined when calling updateOrgUnitLocation1.');
                }
                if (orgUnitLocationId === null || orgUnitLocationId === undefined) {
                    throw new Error('Required parameter orgUnitLocationId was null or undefined when calling updateOrgUnitLocation1.');
                }
                if (orgUnitLocation === null || orgUnitLocation === undefined) {
                    throw new Error('Required parameter orgUnitLocation was null or undefined when calling updateOrgUnitLocation1.');
                }
                if (ifMatch === null || ifMatch === undefined) {
                    throw new Error('Required parameter ifMatch was null or undefined when calling updateOrgUnitLocation1.');
                }
                /** @type {?} */
                var headers = this.defaultHeaders;
                if (restVersion !== undefined && restVersion !== null) {
                    headers = headers.set('Rest-Version', String(restVersion));
                }
                if (ifMatch !== undefined && ifMatch !== null) {
                    headers = headers.set('If-Match', String(ifMatch));
                }
                /** @type {?} */
                var httpHeaderAccepts = [
                    'application/json',
                    'application/xml'
                ];
                /** @type {?} */
                var httpHeaderAcceptSelected = this.configuration.selectHeaderAccept(httpHeaderAccepts);
                if (httpHeaderAcceptSelected != undefined) {
                    headers = headers.set("Accept", httpHeaderAcceptSelected);
                }
                /** @type {?} */
                var consumes = [
                    'application/json',
                    'application/xml'
                ];
                /** @type {?} */
                var httpContentTypeSelected = this.configuration.selectHeaderContentType(consumes);
                if (httpContentTypeSelected != undefined) {
                    headers = headers.set("Content-Type", httpContentTypeSelected);
                }
                return this.httpClient.put(this.basePath + "/orgUnits/" + encodeURIComponent(String(orgUnitId)) + "/locations/" + encodeURIComponent(String(orgUnitLocationId)), orgUnitLocation, {
                    withCredentials: this.configuration.withCredentials,
                    headers: headers,
                    observe: observe,
                    reportProgress: reportProgress
                });
            };
        OrgUnitLocationService.decorators = [
            { type: core.Injectable },
        ];
        /** @nocollapse */
        OrgUnitLocationService.ctorParameters = function () {
            return [
                { type: http.HttpClient },
                { type: String, decorators: [{ type: core.Optional }, { type: core.Inject, args: [BASE_PATH,] }] },
                { type: OrgUnitConfiguration, decorators: [{ type: core.Optional }] }
            ];
        };
        return OrgUnitLocationService;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    var OrgUnitLocationListService = (function () {
        function OrgUnitLocationListService(httpClient, basePath, configuration) {
            this.httpClient = httpClient;
            this.basePath = 'https://https://d1api.vividsolutions.com/wforg-org-unit-api';
            this.defaultHeaders = new http.HttpHeaders();
            this.configuration = new OrgUnitConfiguration();
            if (basePath) {
                this.basePath = basePath;
            }
            if (configuration) {
                this.configuration = configuration;
                this.basePath = basePath || configuration.basePath || this.basePath;
            }
        }
        /**
         * @param {?} consumes string[] mime-types
         * @return {?} true: consumes contains 'multipart/form-data', false: otherwise
         */
        OrgUnitLocationListService.prototype.canConsumeForm = /**
         * @param {?} consumes string[] mime-types
         * @return {?} true: consumes contains 'multipart/form-data', false: otherwise
         */
            function (consumes) {
                /** @type {?} */
                var form = 'multipart/form-data';
                try {
                    for (var consumes_1 = __values(consumes), consumes_1_1 = consumes_1.next(); !consumes_1_1.done; consumes_1_1 = consumes_1.next()) {
                        var consume = consumes_1_1.value;
                        if (form === consume) {
                            return true;
                        }
                    }
                }
                catch (e_1_1) {
                    e_1 = { error: e_1_1 };
                }
                finally {
                    try {
                        if (consumes_1_1 && !consumes_1_1.done && (_a = consumes_1.return))
                            _a.call(consumes_1);
                    }
                    finally {
                        if (e_1)
                            throw e_1.error;
                    }
                }
                return false;
                var e_1, _a;
            };
        /**
         * @param {?} orgUnitId
         * @param {?} orgUnitLocation
         * @param {?=} restVersion
         * @param {?=} observe
         * @param {?=} reportProgress
         * @return {?}
         */
        OrgUnitLocationListService.prototype.createOrgUnitLocation1 = /**
         * @param {?} orgUnitId
         * @param {?} orgUnitLocation
         * @param {?=} restVersion
         * @param {?=} observe
         * @param {?=} reportProgress
         * @return {?}
         */
            function (orgUnitId, orgUnitLocation, restVersion, observe, reportProgress) {
                if (observe === void 0) {
                    observe = 'body';
                }
                if (reportProgress === void 0) {
                    reportProgress = false;
                }
                if (orgUnitId === null || orgUnitId === undefined) {
                    throw new Error('Required parameter orgUnitId was null or undefined when calling createOrgUnitLocation1.');
                }
                if (orgUnitLocation === null || orgUnitLocation === undefined) {
                    throw new Error('Required parameter orgUnitLocation was null or undefined when calling createOrgUnitLocation1.');
                }
                /** @type {?} */
                var headers = this.defaultHeaders;
                if (restVersion !== undefined && restVersion !== null) {
                    headers = headers.set('Rest-Version', String(restVersion));
                }
                /** @type {?} */
                var httpHeaderAccepts = [
                    'application/json',
                    'application/xml'
                ];
                /** @type {?} */
                var httpHeaderAcceptSelected = this.configuration.selectHeaderAccept(httpHeaderAccepts);
                if (httpHeaderAcceptSelected != undefined) {
                    headers = headers.set("Accept", httpHeaderAcceptSelected);
                }
                /** @type {?} */
                var consumes = [
                    'application/json',
                    'application/xml'
                ];
                /** @type {?} */
                var httpContentTypeSelected = this.configuration.selectHeaderContentType(consumes);
                if (httpContentTypeSelected != undefined) {
                    headers = headers.set("Content-Type", httpContentTypeSelected);
                }
                return this.httpClient.post(this.basePath + "/orgUnits/" + encodeURIComponent(String(orgUnitId)) + "/locations", orgUnitLocation, {
                    withCredentials: this.configuration.withCredentials,
                    headers: headers,
                    observe: observe,
                    reportProgress: reportProgress
                });
            };
        /**
         * @param {?} orgUnitId
         * @param {?=} effectiveAsOfDate
         * @param {?=} orgUnitLocationTypeCode
         * @param {?=} locationName
         * @param {?=} primaryInd
         * @param {?=} pageNumber
         * @param {?=} pageRowCount
         * @param {?=} orderBy
         * @param {?=} restVersion
         * @param {?=} observe
         * @param {?=} reportProgress
         * @return {?}
         */
        OrgUnitLocationListService.prototype.getOrgUnitLocationList1 = /**
         * @param {?} orgUnitId
         * @param {?=} effectiveAsOfDate
         * @param {?=} orgUnitLocationTypeCode
         * @param {?=} locationName
         * @param {?=} primaryInd
         * @param {?=} pageNumber
         * @param {?=} pageRowCount
         * @param {?=} orderBy
         * @param {?=} restVersion
         * @param {?=} observe
         * @param {?=} reportProgress
         * @return {?}
         */
            function (orgUnitId, effectiveAsOfDate, orgUnitLocationTypeCode, locationName, primaryInd, pageNumber, pageRowCount, orderBy, restVersion, observe, reportProgress) {
                if (observe === void 0) {
                    observe = 'body';
                }
                if (reportProgress === void 0) {
                    reportProgress = false;
                }
                if (orgUnitId === null || orgUnitId === undefined) {
                    throw new Error('Required parameter orgUnitId was null or undefined when calling getOrgUnitLocationList1.');
                }
                /** @type {?} */
                var queryParameters = new http.HttpParams({ encoder: new CustomHttpUrlEncodingCodec() });
                if (effectiveAsOfDate !== undefined) {
                    queryParameters = queryParameters.set('effectiveAsOfDate', /** @type {?} */ (effectiveAsOfDate));
                }
                if (orgUnitLocationTypeCode !== undefined) {
                    queryParameters = queryParameters.set('orgUnitLocationTypeCode', /** @type {?} */ (orgUnitLocationTypeCode));
                }
                if (locationName !== undefined) {
                    queryParameters = queryParameters.set('locationName', /** @type {?} */ (locationName));
                }
                if (primaryInd !== undefined) {
                    queryParameters = queryParameters.set('primaryInd', /** @type {?} */ (primaryInd));
                }
                if (pageNumber !== undefined) {
                    queryParameters = queryParameters.set('pageNumber', /** @type {?} */ (pageNumber));
                }
                if (pageRowCount !== undefined) {
                    queryParameters = queryParameters.set('pageRowCount', /** @type {?} */ (pageRowCount));
                }
                if (orderBy !== undefined) {
                    queryParameters = queryParameters.set('orderBy', /** @type {?} */ (orderBy));
                }
                /** @type {?} */
                var headers = this.defaultHeaders;
                if (restVersion !== undefined && restVersion !== null) {
                    headers = headers.set('Rest-Version', String(restVersion));
                }
                /** @type {?} */
                var httpHeaderAccepts = [
                    'application/json',
                    'application/xml'
                ];
                /** @type {?} */
                var httpHeaderAcceptSelected = this.configuration.selectHeaderAccept(httpHeaderAccepts);
                if (httpHeaderAcceptSelected != undefined) {
                    headers = headers.set("Accept", httpHeaderAcceptSelected);
                }
                return this.httpClient.get(this.basePath + "/orgUnits/" + encodeURIComponent(String(orgUnitId)) + "/locations", {
                    params: queryParameters,
                    withCredentials: this.configuration.withCredentials,
                    headers: headers,
                    observe: observe,
                    reportProgress: reportProgress
                });
            };
        OrgUnitLocationListService.decorators = [
            { type: core.Injectable },
        ];
        /** @nocollapse */
        OrgUnitLocationListService.ctorParameters = function () {
            return [
                { type: http.HttpClient },
                { type: String, decorators: [{ type: core.Optional }, { type: core.Inject, args: [BASE_PATH,] }] },
                { type: OrgUnitConfiguration, decorators: [{ type: core.Optional }] }
            ];
        };
        return OrgUnitLocationListService;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    var OrgUnitTypeConfigService = (function () {
        function OrgUnitTypeConfigService(httpClient, basePath, configuration) {
            this.httpClient = httpClient;
            this.basePath = 'https://https://d1api.vividsolutions.com/wforg-org-unit-api';
            this.defaultHeaders = new http.HttpHeaders();
            this.configuration = new OrgUnitConfiguration();
            if (basePath) {
                this.basePath = basePath;
            }
            if (configuration) {
                this.configuration = configuration;
                this.basePath = basePath || configuration.basePath || this.basePath;
            }
        }
        /**
         * @param {?} consumes string[] mime-types
         * @return {?} true: consumes contains 'multipart/form-data', false: otherwise
         */
        OrgUnitTypeConfigService.prototype.canConsumeForm = /**
         * @param {?} consumes string[] mime-types
         * @return {?} true: consumes contains 'multipart/form-data', false: otherwise
         */
            function (consumes) {
                /** @type {?} */
                var form = 'multipart/form-data';
                try {
                    for (var consumes_1 = __values(consumes), consumes_1_1 = consumes_1.next(); !consumes_1_1.done; consumes_1_1 = consumes_1.next()) {
                        var consume = consumes_1_1.value;
                        if (form === consume) {
                            return true;
                        }
                    }
                }
                catch (e_1_1) {
                    e_1 = { error: e_1_1 };
                }
                finally {
                    try {
                        if (consumes_1_1 && !consumes_1_1.done && (_a = consumes_1.return))
                            _a.call(consumes_1);
                    }
                    finally {
                        if (e_1)
                            throw e_1.error;
                    }
                }
                return false;
                var e_1, _a;
            };
        /**
         * @param {?} orgUnitTypeCode
         * @param {?=} effectiveAsOfDate
         * @param {?=} restVersion
         * @param {?=} observe
         * @param {?=} reportProgress
         * @return {?}
         */
        OrgUnitTypeConfigService.prototype.getOrgUnitTypeConfig1 = /**
         * @param {?} orgUnitTypeCode
         * @param {?=} effectiveAsOfDate
         * @param {?=} restVersion
         * @param {?=} observe
         * @param {?=} reportProgress
         * @return {?}
         */
            function (orgUnitTypeCode, effectiveAsOfDate, restVersion, observe, reportProgress) {
                if (observe === void 0) {
                    observe = 'body';
                }
                if (reportProgress === void 0) {
                    reportProgress = false;
                }
                if (orgUnitTypeCode === null || orgUnitTypeCode === undefined) {
                    throw new Error('Required parameter orgUnitTypeCode was null or undefined when calling getOrgUnitTypeConfig1.');
                }
                /** @type {?} */
                var queryParameters = new http.HttpParams({ encoder: new CustomHttpUrlEncodingCodec() });
                if (effectiveAsOfDate !== undefined) {
                    queryParameters = queryParameters.set('effectiveAsOfDate', /** @type {?} */ (effectiveAsOfDate));
                }
                /** @type {?} */
                var headers = this.defaultHeaders;
                if (restVersion !== undefined && restVersion !== null) {
                    headers = headers.set('Rest-Version', String(restVersion));
                }
                /** @type {?} */
                var httpHeaderAccepts = [
                    'application/json',
                    'application/xml'
                ];
                /** @type {?} */
                var httpHeaderAcceptSelected = this.configuration.selectHeaderAccept(httpHeaderAccepts);
                if (httpHeaderAcceptSelected != undefined) {
                    headers = headers.set("Accept", httpHeaderAcceptSelected);
                }
                return this.httpClient.get(this.basePath + "/orgUnitTypeConfigs/" + encodeURIComponent(String(orgUnitTypeCode)), {
                    params: queryParameters,
                    withCredentials: this.configuration.withCredentials,
                    headers: headers,
                    observe: observe,
                    reportProgress: reportProgress
                });
            };
        /**
         * @param {?} orgUnitTypeConfig
         * @param {?=} restVersion
         * @param {?=} observe
         * @param {?=} reportProgress
         * @return {?}
         */
        OrgUnitTypeConfigService.prototype.upsertOrgUnitTypeConfig1 = /**
         * @param {?} orgUnitTypeConfig
         * @param {?=} restVersion
         * @param {?=} observe
         * @param {?=} reportProgress
         * @return {?}
         */
            function (orgUnitTypeConfig, restVersion, observe, reportProgress) {
                if (observe === void 0) {
                    observe = 'body';
                }
                if (reportProgress === void 0) {
                    reportProgress = false;
                }
                if (orgUnitTypeConfig === null || orgUnitTypeConfig === undefined) {
                    throw new Error('Required parameter orgUnitTypeConfig was null or undefined when calling upsertOrgUnitTypeConfig1.');
                }
                /** @type {?} */
                var headers = this.defaultHeaders;
                if (restVersion !== undefined && restVersion !== null) {
                    headers = headers.set('Rest-Version', String(restVersion));
                }
                /** @type {?} */
                var httpHeaderAccepts = [
                    'application/json',
                    'application/xml'
                ];
                /** @type {?} */
                var httpHeaderAcceptSelected = this.configuration.selectHeaderAccept(httpHeaderAccepts);
                if (httpHeaderAcceptSelected != undefined) {
                    headers = headers.set("Accept", httpHeaderAcceptSelected);
                }
                /** @type {?} */
                var consumes = [
                    'application/json',
                    'application/xml'
                ];
                /** @type {?} */
                var httpContentTypeSelected = this.configuration.selectHeaderContentType(consumes);
                if (httpContentTypeSelected != undefined) {
                    headers = headers.set("Content-Type", httpContentTypeSelected);
                }
                return this.httpClient.post(this.basePath + "/orgUnitTypeConfigs", orgUnitTypeConfig, {
                    withCredentials: this.configuration.withCredentials,
                    headers: headers,
                    observe: observe,
                    reportProgress: reportProgress
                });
            };
        OrgUnitTypeConfigService.decorators = [
            { type: core.Injectable },
        ];
        /** @nocollapse */
        OrgUnitTypeConfigService.ctorParameters = function () {
            return [
                { type: http.HttpClient },
                { type: String, decorators: [{ type: core.Optional }, { type: core.Inject, args: [BASE_PATH,] }] },
                { type: OrgUnitConfiguration, decorators: [{ type: core.Optional }] }
            ];
        };
        return OrgUnitTypeConfigService;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    var TopLevelService = (function () {
        function TopLevelService(httpClient, basePath, configuration) {
            this.httpClient = httpClient;
            this.basePath = 'https://https://d1api.vividsolutions.com/wforg-org-unit-api';
            this.defaultHeaders = new http.HttpHeaders();
            this.configuration = new OrgUnitConfiguration();
            if (basePath) {
                this.basePath = basePath;
            }
            if (configuration) {
                this.configuration = configuration;
                this.basePath = basePath || configuration.basePath || this.basePath;
            }
        }
        /**
         * @param {?} consumes string[] mime-types
         * @return {?} true: consumes contains 'multipart/form-data', false: otherwise
         */
        TopLevelService.prototype.canConsumeForm = /**
         * @param {?} consumes string[] mime-types
         * @return {?} true: consumes contains 'multipart/form-data', false: otherwise
         */
            function (consumes) {
                /** @type {?} */
                var form = 'multipart/form-data';
                try {
                    for (var consumes_1 = __values(consumes), consumes_1_1 = consumes_1.next(); !consumes_1_1.done; consumes_1_1 = consumes_1.next()) {
                        var consume = consumes_1_1.value;
                        if (form === consume) {
                            return true;
                        }
                    }
                }
                catch (e_1_1) {
                    e_1 = { error: e_1_1 };
                }
                finally {
                    try {
                        if (consumes_1_1 && !consumes_1_1.done && (_a = consumes_1.return))
                            _a.call(consumes_1);
                    }
                    finally {
                        if (e_1)
                            throw e_1.error;
                    }
                }
                return false;
                var e_1, _a;
            };
        /**
         * @param {?=} restVersion
         * @param {?=} observe
         * @param {?=} reportProgress
         * @return {?}
         */
        TopLevelService.prototype.getTopLevel1 = /**
         * @param {?=} restVersion
         * @param {?=} observe
         * @param {?=} reportProgress
         * @return {?}
         */
            function (restVersion, observe, reportProgress) {
                if (observe === void 0) {
                    observe = 'body';
                }
                if (reportProgress === void 0) {
                    reportProgress = false;
                }
                /** @type {?} */
                var headers = this.defaultHeaders;
                if (restVersion !== undefined && restVersion !== null) {
                    headers = headers.set('Rest-Version', String(restVersion));
                }
                /** @type {?} */
                var httpHeaderAccepts = [
                    'application/json',
                    'application/xml'
                ];
                /** @type {?} */
                var httpHeaderAcceptSelected = this.configuration.selectHeaderAccept(httpHeaderAccepts);
                if (httpHeaderAcceptSelected != undefined) {
                    headers = headers.set("Accept", httpHeaderAcceptSelected);
                }
                return this.httpClient.get(this.basePath + "/", {
                    withCredentials: this.configuration.withCredentials,
                    headers: headers,
                    observe: observe,
                    reportProgress: reportProgress
                });
            };
        TopLevelService.decorators = [
            { type: core.Injectable },
        ];
        /** @nocollapse */
        TopLevelService.ctorParameters = function () {
            return [
                { type: http.HttpClient },
                { type: String, decorators: [{ type: core.Optional }, { type: core.Inject, args: [BASE_PATH,] }] },
                { type: OrgUnitConfiguration, decorators: [{ type: core.Optional }] }
            ];
        };
        return TopLevelService;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    /** @type {?} */
    var APIS = [CodeHierarchyEndpointsService, CodeHierarchyListEndpointsService, CodeTableEndpointsService, CodeTableListEndpointsService, LocationAddressService, LocationContactService, OrgUnitService, OrgUnitAreaService, OrgUnitAreaListService, OrgUnitListService, OrgUnitLocationService, OrgUnitLocationListService, OrgUnitTypeConfigService, TopLevelService];

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    var ApiModule = (function () {
        function ApiModule(parentModule) {
            if (parentModule) {
                throw new Error('ApiModule is already loaded. Import your base AppModule only.');
            }
        }
        /**
         * @param {?} configurationFactory
         * @return {?}
         */
        ApiModule.forRoot = /**
         * @param {?} configurationFactory
         * @return {?}
         */
            function (configurationFactory) {
                return {
                    ngModule: ApiModule,
                    providers: [{ provide: OrgUnitConfiguration, useFactory: configurationFactory }]
                };
            };
        ApiModule.decorators = [
            { type: core.NgModule, args: [{
                        imports: [common.CommonModule, http.HttpClientModule],
                        declarations: [],
                        exports: [],
                        providers: [
                            CodeHierarchyEndpointsService,
                            CodeHierarchyListEndpointsService,
                            CodeTableEndpointsService,
                            CodeTableListEndpointsService,
                            LocationAddressService,
                            LocationContactService,
                            OrgUnitService,
                            OrgUnitAreaService,
                            OrgUnitAreaListService,
                            OrgUnitListService,
                            OrgUnitLocationService,
                            OrgUnitLocationListService,
                            OrgUnitTypeConfigService,
                            TopLevelService
                        ]
                    },] },
        ];
        /** @nocollapse */
        ApiModule.ctorParameters = function () {
            return [
                { type: ApiModule, decorators: [{ type: core.Optional }, { type: core.SkipSelf }] }
            ];
        };
        return ApiModule;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */

    exports.APIS = APIS;
    exports.CodeHierarchyEndpointsService = CodeHierarchyEndpointsService;
    exports.CodeHierarchyListEndpointsService = CodeHierarchyListEndpointsService;
    exports.CodeTableEndpointsService = CodeTableEndpointsService;
    exports.CodeTableListEndpointsService = CodeTableListEndpointsService;
    exports.LocationAddressService = LocationAddressService;
    exports.LocationContactService = LocationContactService;
    exports.OrgUnitService = OrgUnitService;
    exports.OrgUnitAreaService = OrgUnitAreaService;
    exports.OrgUnitAreaListService = OrgUnitAreaListService;
    exports.OrgUnitListService = OrgUnitListService;
    exports.OrgUnitLocationService = OrgUnitLocationService;
    exports.OrgUnitLocationListService = OrgUnitLocationListService;
    exports.OrgUnitTypeConfigService = OrgUnitTypeConfigService;
    exports.TopLevelService = TopLevelService;
    exports.BASE_PATH = BASE_PATH;
    exports.COLLECTION_FORMATS = COLLECTION_FORMATS;
    exports.OrgUnitConfiguration = OrgUnitConfiguration;
    exports.ApiModule = ApiModule;

    Object.defineProperty(exports, '__esModule', { value: true });

})));

//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoid2YxLW9yZ3VuaXQtcmVzdC1hcGkudW1kLmpzLm1hcCIsInNvdXJjZXMiOltudWxsLCJuZzovL0B3ZjEvb3JndW5pdC1yZXN0LWFwaS9lbmNvZGVyLnRzIiwibmc6Ly9Ad2YxL29yZ3VuaXQtcmVzdC1hcGkvdmFyaWFibGVzLnRzIiwibmc6Ly9Ad2YxL29yZ3VuaXQtcmVzdC1hcGkvY29uZmlndXJhdGlvbi50cyIsIm5nOi8vQHdmMS9vcmd1bml0LXJlc3QtYXBpL2FwaS9jb2RlSGllcmFyY2h5RW5kcG9pbnRzLnNlcnZpY2UudHMiLCJuZzovL0B3ZjEvb3JndW5pdC1yZXN0LWFwaS9hcGkvY29kZUhpZXJhcmNoeUxpc3RFbmRwb2ludHMuc2VydmljZS50cyIsIm5nOi8vQHdmMS9vcmd1bml0LXJlc3QtYXBpL2FwaS9jb2RlVGFibGVFbmRwb2ludHMuc2VydmljZS50cyIsIm5nOi8vQHdmMS9vcmd1bml0LXJlc3QtYXBpL2FwaS9jb2RlVGFibGVMaXN0RW5kcG9pbnRzLnNlcnZpY2UudHMiLCJuZzovL0B3ZjEvb3JndW5pdC1yZXN0LWFwaS9hcGkvbG9jYXRpb25BZGRyZXNzLnNlcnZpY2UudHMiLCJuZzovL0B3ZjEvb3JndW5pdC1yZXN0LWFwaS9hcGkvbG9jYXRpb25Db250YWN0LnNlcnZpY2UudHMiLCJuZzovL0B3ZjEvb3JndW5pdC1yZXN0LWFwaS9hcGkvb3JnVW5pdC5zZXJ2aWNlLnRzIiwibmc6Ly9Ad2YxL29yZ3VuaXQtcmVzdC1hcGkvYXBpL29yZ1VuaXRBcmVhLnNlcnZpY2UudHMiLCJuZzovL0B3ZjEvb3JndW5pdC1yZXN0LWFwaS9hcGkvb3JnVW5pdEFyZWFMaXN0LnNlcnZpY2UudHMiLCJuZzovL0B3ZjEvb3JndW5pdC1yZXN0LWFwaS9hcGkvb3JnVW5pdExpc3Quc2VydmljZS50cyIsIm5nOi8vQHdmMS9vcmd1bml0LXJlc3QtYXBpL2FwaS9vcmdVbml0TG9jYXRpb24uc2VydmljZS50cyIsIm5nOi8vQHdmMS9vcmd1bml0LXJlc3QtYXBpL2FwaS9vcmdVbml0TG9jYXRpb25MaXN0LnNlcnZpY2UudHMiLCJuZzovL0B3ZjEvb3JndW5pdC1yZXN0LWFwaS9hcGkvb3JnVW5pdFR5cGVDb25maWcuc2VydmljZS50cyIsIm5nOi8vQHdmMS9vcmd1bml0LXJlc3QtYXBpL2FwaS90b3BMZXZlbC5zZXJ2aWNlLnRzIiwibmc6Ly9Ad2YxL29yZ3VuaXQtcmVzdC1hcGkvYXBpL2FwaS50cyIsIm5nOi8vQHdmMS9vcmd1bml0LXJlc3QtYXBpL2FwaS5tb2R1bGUudHMiXSwic291cmNlc0NvbnRlbnQiOlsiLyohICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXHJcbkNvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxyXG5MaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpOyB5b3UgbWF5IG5vdCB1c2VcclxudGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGVcclxuTGljZW5zZSBhdCBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuXHJcblRISVMgQ09ERSBJUyBQUk9WSURFRCBPTiBBTiAqQVMgSVMqIEJBU0lTLCBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTllcclxuS0lORCwgRUlUSEVSIEVYUFJFU1MgT1IgSU1QTElFRCwgSU5DTFVESU5HIFdJVEhPVVQgTElNSVRBVElPTiBBTlkgSU1QTElFRFxyXG5XQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgVElUTEUsIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLFxyXG5NRVJDSEFOVEFCTElUWSBPUiBOT04tSU5GUklOR0VNRU5ULlxyXG5cclxuU2VlIHRoZSBBcGFjaGUgVmVyc2lvbiAyLjAgTGljZW5zZSBmb3Igc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zXHJcbmFuZCBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogKi9cclxuLyogZ2xvYmFsIFJlZmxlY3QsIFByb21pc2UgKi9cclxuXHJcbnZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24oZCwgYikge1xyXG4gICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxyXG4gICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcclxuICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTtcclxuICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG59O1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fZXh0ZW5kcyhkLCBiKSB7XHJcbiAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG4gICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XHJcbiAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XHJcbn1cclxuXHJcbmV4cG9ydCB2YXIgX19hc3NpZ24gPSBmdW5jdGlvbigpIHtcclxuICAgIF9fYXNzaWduID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiBfX2Fzc2lnbih0KSB7XHJcbiAgICAgICAgZm9yICh2YXIgcywgaSA9IDEsIG4gPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XHJcbiAgICAgICAgICAgIHMgPSBhcmd1bWVudHNbaV07XHJcbiAgICAgICAgICAgIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSkgdFtwXSA9IHNbcF07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0O1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIF9fYXNzaWduLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX3Jlc3QocywgZSkge1xyXG4gICAgdmFyIHQgPSB7fTtcclxuICAgIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSAmJiBlLmluZGV4T2YocCkgPCAwKVxyXG4gICAgICAgIHRbcF0gPSBzW3BdO1xyXG4gICAgaWYgKHMgIT0gbnVsbCAmJiB0eXBlb2YgT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyA9PT0gXCJmdW5jdGlvblwiKVxyXG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBwID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhzKTsgaSA8IHAubGVuZ3RoOyBpKyspIGlmIChlLmluZGV4T2YocFtpXSkgPCAwKVxyXG4gICAgICAgICAgICB0W3BbaV1dID0gc1twW2ldXTtcclxuICAgIHJldHVybiB0O1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19kZWNvcmF0ZShkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwgZGVzYykge1xyXG4gICAgdmFyIGMgPSBhcmd1bWVudHMubGVuZ3RoLCByID0gYyA8IDMgPyB0YXJnZXQgOiBkZXNjID09PSBudWxsID8gZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodGFyZ2V0LCBrZXkpIDogZGVzYywgZDtcclxuICAgIGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgUmVmbGVjdC5kZWNvcmF0ZSA9PT0gXCJmdW5jdGlvblwiKSByID0gUmVmbGVjdC5kZWNvcmF0ZShkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwgZGVzYyk7XHJcbiAgICBlbHNlIGZvciAodmFyIGkgPSBkZWNvcmF0b3JzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSBpZiAoZCA9IGRlY29yYXRvcnNbaV0pIHIgPSAoYyA8IDMgPyBkKHIpIDogYyA+IDMgPyBkKHRhcmdldCwga2V5LCByKSA6IGQodGFyZ2V0LCBrZXkpKSB8fCByO1xyXG4gICAgcmV0dXJuIGMgPiAzICYmIHIgJiYgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCByKSwgcjtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fcGFyYW0ocGFyYW1JbmRleCwgZGVjb3JhdG9yKSB7XHJcbiAgICByZXR1cm4gZnVuY3Rpb24gKHRhcmdldCwga2V5KSB7IGRlY29yYXRvcih0YXJnZXQsIGtleSwgcGFyYW1JbmRleCk7IH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fbWV0YWRhdGEobWV0YWRhdGFLZXksIG1ldGFkYXRhVmFsdWUpIHtcclxuICAgIGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgUmVmbGVjdC5tZXRhZGF0YSA9PT0gXCJmdW5jdGlvblwiKSByZXR1cm4gUmVmbGVjdC5tZXRhZGF0YShtZXRhZGF0YUtleSwgbWV0YWRhdGFWYWx1ZSk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2F3YWl0ZXIodGhpc0FyZywgX2FyZ3VtZW50cywgUCwgZ2VuZXJhdG9yKSB7XHJcbiAgICByZXR1cm4gbmV3IChQIHx8IChQID0gUHJvbWlzZSkpKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcclxuICAgICAgICBmdW5jdGlvbiBmdWxmaWxsZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3IubmV4dCh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XHJcbiAgICAgICAgZnVuY3Rpb24gcmVqZWN0ZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3JbXCJ0aHJvd1wiXSh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XHJcbiAgICAgICAgZnVuY3Rpb24gc3RlcChyZXN1bHQpIHsgcmVzdWx0LmRvbmUgPyByZXNvbHZlKHJlc3VsdC52YWx1ZSkgOiBuZXcgUChmdW5jdGlvbiAocmVzb2x2ZSkgeyByZXNvbHZlKHJlc3VsdC52YWx1ZSk7IH0pLnRoZW4oZnVsZmlsbGVkLCByZWplY3RlZCk7IH1cclxuICAgICAgICBzdGVwKChnZW5lcmF0b3IgPSBnZW5lcmF0b3IuYXBwbHkodGhpc0FyZywgX2FyZ3VtZW50cyB8fCBbXSkpLm5leHQoKSk7XHJcbiAgICB9KTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fZ2VuZXJhdG9yKHRoaXNBcmcsIGJvZHkpIHtcclxuICAgIHZhciBfID0geyBsYWJlbDogMCwgc2VudDogZnVuY3Rpb24oKSB7IGlmICh0WzBdICYgMSkgdGhyb3cgdFsxXTsgcmV0dXJuIHRbMV07IH0sIHRyeXM6IFtdLCBvcHM6IFtdIH0sIGYsIHksIHQsIGc7XHJcbiAgICByZXR1cm4gZyA9IHsgbmV4dDogdmVyYigwKSwgXCJ0aHJvd1wiOiB2ZXJiKDEpLCBcInJldHVyblwiOiB2ZXJiKDIpIH0sIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiAoZ1tTeW1ib2wuaXRlcmF0b3JdID0gZnVuY3Rpb24oKSB7IHJldHVybiB0aGlzOyB9KSwgZztcclxuICAgIGZ1bmN0aW9uIHZlcmIobikgeyByZXR1cm4gZnVuY3Rpb24gKHYpIHsgcmV0dXJuIHN0ZXAoW24sIHZdKTsgfTsgfVxyXG4gICAgZnVuY3Rpb24gc3RlcChvcCkge1xyXG4gICAgICAgIGlmIChmKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiR2VuZXJhdG9yIGlzIGFscmVhZHkgZXhlY3V0aW5nLlwiKTtcclxuICAgICAgICB3aGlsZSAoXykgdHJ5IHtcclxuICAgICAgICAgICAgaWYgKGYgPSAxLCB5ICYmICh0ID0gb3BbMF0gJiAyID8geVtcInJldHVyblwiXSA6IG9wWzBdID8geVtcInRocm93XCJdIHx8ICgodCA9IHlbXCJyZXR1cm5cIl0pICYmIHQuY2FsbCh5KSwgMCkgOiB5Lm5leHQpICYmICEodCA9IHQuY2FsbCh5LCBvcFsxXSkpLmRvbmUpIHJldHVybiB0O1xyXG4gICAgICAgICAgICBpZiAoeSA9IDAsIHQpIG9wID0gW29wWzBdICYgMiwgdC52YWx1ZV07XHJcbiAgICAgICAgICAgIHN3aXRjaCAob3BbMF0pIHtcclxuICAgICAgICAgICAgICAgIGNhc2UgMDogY2FzZSAxOiB0ID0gb3A7IGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSA0OiBfLmxhYmVsKys7IHJldHVybiB7IHZhbHVlOiBvcFsxXSwgZG9uZTogZmFsc2UgfTtcclxuICAgICAgICAgICAgICAgIGNhc2UgNTogXy5sYWJlbCsrOyB5ID0gb3BbMV07IG9wID0gWzBdOyBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgIGNhc2UgNzogb3AgPSBfLm9wcy5wb3AoKTsgXy50cnlzLnBvcCgpOyBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCEodCA9IF8udHJ5cywgdCA9IHQubGVuZ3RoID4gMCAmJiB0W3QubGVuZ3RoIC0gMV0pICYmIChvcFswXSA9PT0gNiB8fCBvcFswXSA9PT0gMikpIHsgXyA9IDA7IGNvbnRpbnVlOyB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wWzBdID09PSAzICYmICghdCB8fCAob3BbMV0gPiB0WzBdICYmIG9wWzFdIDwgdFszXSkpKSB7IF8ubGFiZWwgPSBvcFsxXTsgYnJlYWs7IH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAob3BbMF0gPT09IDYgJiYgXy5sYWJlbCA8IHRbMV0pIHsgXy5sYWJlbCA9IHRbMV07IHQgPSBvcDsgYnJlYWs7IH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAodCAmJiBfLmxhYmVsIDwgdFsyXSkgeyBfLmxhYmVsID0gdFsyXTsgXy5vcHMucHVzaChvcCk7IGJyZWFrOyB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRbMl0pIF8ub3BzLnBvcCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIF8udHJ5cy5wb3AoKTsgY29udGludWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgb3AgPSBib2R5LmNhbGwodGhpc0FyZywgXyk7XHJcbiAgICAgICAgfSBjYXRjaCAoZSkgeyBvcCA9IFs2LCBlXTsgeSA9IDA7IH0gZmluYWxseSB7IGYgPSB0ID0gMDsgfVxyXG4gICAgICAgIGlmIChvcFswXSAmIDUpIHRocm93IG9wWzFdOyByZXR1cm4geyB2YWx1ZTogb3BbMF0gPyBvcFsxXSA6IHZvaWQgMCwgZG9uZTogdHJ1ZSB9O1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19leHBvcnRTdGFyKG0sIGV4cG9ydHMpIHtcclxuICAgIGZvciAodmFyIHAgaW4gbSkgaWYgKCFleHBvcnRzLmhhc093blByb3BlcnR5KHApKSBleHBvcnRzW3BdID0gbVtwXTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fdmFsdWVzKG8pIHtcclxuICAgIHZhciBtID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9bU3ltYm9sLml0ZXJhdG9yXSwgaSA9IDA7XHJcbiAgICBpZiAobSkgcmV0dXJuIG0uY2FsbChvKTtcclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgbmV4dDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBpZiAobyAmJiBpID49IG8ubGVuZ3RoKSBvID0gdm9pZCAwO1xyXG4gICAgICAgICAgICByZXR1cm4geyB2YWx1ZTogbyAmJiBvW2krK10sIGRvbmU6ICFvIH07XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fcmVhZChvLCBuKSB7XHJcbiAgICB2YXIgbSA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvW1N5bWJvbC5pdGVyYXRvcl07XHJcbiAgICBpZiAoIW0pIHJldHVybiBvO1xyXG4gICAgdmFyIGkgPSBtLmNhbGwobyksIHIsIGFyID0gW10sIGU7XHJcbiAgICB0cnkge1xyXG4gICAgICAgIHdoaWxlICgobiA9PT0gdm9pZCAwIHx8IG4tLSA+IDApICYmICEociA9IGkubmV4dCgpKS5kb25lKSBhci5wdXNoKHIudmFsdWUpO1xyXG4gICAgfVxyXG4gICAgY2F0Y2ggKGVycm9yKSB7IGUgPSB7IGVycm9yOiBlcnJvciB9OyB9XHJcbiAgICBmaW5hbGx5IHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBpZiAociAmJiAhci5kb25lICYmIChtID0gaVtcInJldHVyblwiXSkpIG0uY2FsbChpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZmluYWxseSB7IGlmIChlKSB0aHJvdyBlLmVycm9yOyB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gYXI7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX3NwcmVhZCgpIHtcclxuICAgIGZvciAodmFyIGFyID0gW10sIGkgPSAwOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKVxyXG4gICAgICAgIGFyID0gYXIuY29uY2F0KF9fcmVhZChhcmd1bWVudHNbaV0pKTtcclxuICAgIHJldHVybiBhcjtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fYXdhaXQodikge1xyXG4gICAgcmV0dXJuIHRoaXMgaW5zdGFuY2VvZiBfX2F3YWl0ID8gKHRoaXMudiA9IHYsIHRoaXMpIDogbmV3IF9fYXdhaXQodik7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2FzeW5jR2VuZXJhdG9yKHRoaXNBcmcsIF9hcmd1bWVudHMsIGdlbmVyYXRvcikge1xyXG4gICAgaWYgKCFTeW1ib2wuYXN5bmNJdGVyYXRvcikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN5bWJvbC5hc3luY0l0ZXJhdG9yIGlzIG5vdCBkZWZpbmVkLlwiKTtcclxuICAgIHZhciBnID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pLCBpLCBxID0gW107XHJcbiAgICByZXR1cm4gaSA9IHt9LCB2ZXJiKFwibmV4dFwiKSwgdmVyYihcInRocm93XCIpLCB2ZXJiKFwicmV0dXJuXCIpLCBpW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXM7IH0sIGk7XHJcbiAgICBmdW5jdGlvbiB2ZXJiKG4pIHsgaWYgKGdbbl0pIGlbbl0gPSBmdW5jdGlvbiAodikgeyByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKGEsIGIpIHsgcS5wdXNoKFtuLCB2LCBhLCBiXSkgPiAxIHx8IHJlc3VtZShuLCB2KTsgfSk7IH07IH1cclxuICAgIGZ1bmN0aW9uIHJlc3VtZShuLCB2KSB7IHRyeSB7IHN0ZXAoZ1tuXSh2KSk7IH0gY2F0Y2ggKGUpIHsgc2V0dGxlKHFbMF1bM10sIGUpOyB9IH1cclxuICAgIGZ1bmN0aW9uIHN0ZXAocikgeyByLnZhbHVlIGluc3RhbmNlb2YgX19hd2FpdCA/IFByb21pc2UucmVzb2x2ZShyLnZhbHVlLnYpLnRoZW4oZnVsZmlsbCwgcmVqZWN0KSA6IHNldHRsZShxWzBdWzJdLCByKTsgfVxyXG4gICAgZnVuY3Rpb24gZnVsZmlsbCh2YWx1ZSkgeyByZXN1bWUoXCJuZXh0XCIsIHZhbHVlKTsgfVxyXG4gICAgZnVuY3Rpb24gcmVqZWN0KHZhbHVlKSB7IHJlc3VtZShcInRocm93XCIsIHZhbHVlKTsgfVxyXG4gICAgZnVuY3Rpb24gc2V0dGxlKGYsIHYpIHsgaWYgKGYodiksIHEuc2hpZnQoKSwgcS5sZW5ndGgpIHJlc3VtZShxWzBdWzBdLCBxWzBdWzFdKTsgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19hc3luY0RlbGVnYXRvcihvKSB7XHJcbiAgICB2YXIgaSwgcDtcclxuICAgIHJldHVybiBpID0ge30sIHZlcmIoXCJuZXh0XCIpLCB2ZXJiKFwidGhyb3dcIiwgZnVuY3Rpb24gKGUpIHsgdGhyb3cgZTsgfSksIHZlcmIoXCJyZXR1cm5cIiksIGlbU3ltYm9sLml0ZXJhdG9yXSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXM7IH0sIGk7XHJcbiAgICBmdW5jdGlvbiB2ZXJiKG4sIGYpIHsgaVtuXSA9IG9bbl0gPyBmdW5jdGlvbiAodikgeyByZXR1cm4gKHAgPSAhcCkgPyB7IHZhbHVlOiBfX2F3YWl0KG9bbl0odikpLCBkb25lOiBuID09PSBcInJldHVyblwiIH0gOiBmID8gZih2KSA6IHY7IH0gOiBmOyB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2FzeW5jVmFsdWVzKG8pIHtcclxuICAgIGlmICghU3ltYm9sLmFzeW5jSXRlcmF0b3IpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJTeW1ib2wuYXN5bmNJdGVyYXRvciBpcyBub3QgZGVmaW5lZC5cIik7XHJcbiAgICB2YXIgbSA9IG9bU3ltYm9sLmFzeW5jSXRlcmF0b3JdLCBpO1xyXG4gICAgcmV0dXJuIG0gPyBtLmNhbGwobykgOiAobyA9IHR5cGVvZiBfX3ZhbHVlcyA9PT0gXCJmdW5jdGlvblwiID8gX192YWx1ZXMobykgOiBvW1N5bWJvbC5pdGVyYXRvcl0oKSwgaSA9IHt9LCB2ZXJiKFwibmV4dFwiKSwgdmVyYihcInRocm93XCIpLCB2ZXJiKFwicmV0dXJuXCIpLCBpW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXM7IH0sIGkpO1xyXG4gICAgZnVuY3Rpb24gdmVyYihuKSB7IGlbbl0gPSBvW25dICYmIGZ1bmN0aW9uICh2KSB7IHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7IHYgPSBvW25dKHYpLCBzZXR0bGUocmVzb2x2ZSwgcmVqZWN0LCB2LmRvbmUsIHYudmFsdWUpOyB9KTsgfTsgfVxyXG4gICAgZnVuY3Rpb24gc2V0dGxlKHJlc29sdmUsIHJlamVjdCwgZCwgdikgeyBQcm9taXNlLnJlc29sdmUodikudGhlbihmdW5jdGlvbih2KSB7IHJlc29sdmUoeyB2YWx1ZTogdiwgZG9uZTogZCB9KTsgfSwgcmVqZWN0KTsgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19tYWtlVGVtcGxhdGVPYmplY3QoY29va2VkLCByYXcpIHtcclxuICAgIGlmIChPYmplY3QuZGVmaW5lUHJvcGVydHkpIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KGNvb2tlZCwgXCJyYXdcIiwgeyB2YWx1ZTogcmF3IH0pOyB9IGVsc2UgeyBjb29rZWQucmF3ID0gcmF3OyB9XHJcbiAgICByZXR1cm4gY29va2VkO1xyXG59O1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9faW1wb3J0U3Rhcihtb2QpIHtcclxuICAgIGlmIChtb2QgJiYgbW9kLl9fZXNNb2R1bGUpIHJldHVybiBtb2Q7XHJcbiAgICB2YXIgcmVzdWx0ID0ge307XHJcbiAgICBpZiAobW9kICE9IG51bGwpIGZvciAodmFyIGsgaW4gbW9kKSBpZiAoT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwobW9kLCBrKSkgcmVzdWx0W2tdID0gbW9kW2tdO1xyXG4gICAgcmVzdWx0LmRlZmF1bHQgPSBtb2Q7XHJcbiAgICByZXR1cm4gcmVzdWx0O1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19pbXBvcnREZWZhdWx0KG1vZCkge1xyXG4gICAgcmV0dXJuIChtb2QgJiYgbW9kLl9fZXNNb2R1bGUpID8gbW9kIDogeyBkZWZhdWx0OiBtb2QgfTtcclxufVxyXG4iLCIgICAgaW1wb3J0IHsgSHR0cFVybEVuY29kaW5nQ29kZWMgfSBmcm9tICdAYW5ndWxhci9jb21tb24vaHR0cCc7XG5cbi8qKlxuKiBDdXN0b21IdHRwVXJsRW5jb2RpbmdDb2RlY1xuKiBGaXggcGx1cyBzaWduICgrKSBub3QgZW5jb2RpbmcsIHNvIHNlbnQgYXMgYmxhbmsgc3BhY2VcbiogU2VlOiBodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci9hbmd1bGFyL2lzc3Vlcy8xMTA1OCNpc3N1ZWNvbW1lbnQtMjQ3MzY3MzE4XG4qL1xuZXhwb3J0IGNsYXNzIEN1c3RvbUh0dHBVcmxFbmNvZGluZ0NvZGVjIGV4dGVuZHMgSHR0cFVybEVuY29kaW5nQ29kZWMge1xuICAgIGVuY29kZUtleShrOiBzdHJpbmcpOiBzdHJpbmcge1xuICAgICAgICBrID0gc3VwZXIuZW5jb2RlS2V5KGspO1xuICAgICAgICByZXR1cm4gay5yZXBsYWNlKC9cXCsvZ2ksICclMkInKTtcbiAgICB9XG4gICAgZW5jb2RlVmFsdWUodjogc3RyaW5nKTogc3RyaW5nIHtcbiAgICAgICAgdiA9IHN1cGVyLmVuY29kZVZhbHVlKHYpO1xuICAgICAgICByZXR1cm4gdi5yZXBsYWNlKC9cXCsvZ2ksICclMkInKTtcbiAgICB9XG59XG5cbiIsImltcG9ydCB7IEluamVjdGlvblRva2VuIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5cbmV4cG9ydCBjb25zdCBCQVNFX1BBVEggPSBuZXcgSW5qZWN0aW9uVG9rZW48c3RyaW5nPignYmFzZVBhdGgnKTtcbmV4cG9ydCBjb25zdCBDT0xMRUNUSU9OX0ZPUk1BVFMgPSB7XG4gICAgJ2Nzdic6ICcsJyxcbiAgICAndHN2JzogJyAgICcsXG4gICAgJ3Nzdic6ICcgJyxcbiAgICAncGlwZXMnOiAnfCdcbn1cbiIsImV4cG9ydCBpbnRlcmZhY2UgQ29uZmlndXJhdGlvblBhcmFtZXRlcnMge1xuICAgIGFwaUtleXM/OiB7WyBrZXk6IHN0cmluZyBdOiBzdHJpbmd9O1xuICAgIHVzZXJuYW1lPzogc3RyaW5nO1xuICAgIHBhc3N3b3JkPzogc3RyaW5nO1xuICAgIGFjY2Vzc1Rva2VuPzogc3RyaW5nIHwgKCgpID0+IHN0cmluZyk7XG4gICAgYmFzZVBhdGg/OiBzdHJpbmc7XG4gICAgd2l0aENyZWRlbnRpYWxzPzogYm9vbGVhbjtcbn1cblxuZXhwb3J0IGNsYXNzIE9yZ1VuaXRDb25maWd1cmF0aW9uIHtcbiAgICBhcGlLZXlzPzoge1sga2V5OiBzdHJpbmcgXTogc3RyaW5nfTtcbiAgICB1c2VybmFtZT86IHN0cmluZztcbiAgICBwYXNzd29yZD86IHN0cmluZztcbiAgICBhY2Nlc3NUb2tlbj86IHN0cmluZyB8ICgoKSA9PiBzdHJpbmcpO1xuICAgIGJhc2VQYXRoPzogc3RyaW5nO1xuICAgIHdpdGhDcmVkZW50aWFscz86IGJvb2xlYW47XG5cbiAgICBjb25zdHJ1Y3Rvcihjb25maWd1cmF0aW9uUGFyYW1ldGVyczogQ29uZmlndXJhdGlvblBhcmFtZXRlcnMgPSB7fSkge1xuICAgICAgICB0aGlzLmFwaUtleXMgPSBjb25maWd1cmF0aW9uUGFyYW1ldGVycy5hcGlLZXlzO1xuICAgICAgICB0aGlzLnVzZXJuYW1lID0gY29uZmlndXJhdGlvblBhcmFtZXRlcnMudXNlcm5hbWU7XG4gICAgICAgIHRoaXMucGFzc3dvcmQgPSBjb25maWd1cmF0aW9uUGFyYW1ldGVycy5wYXNzd29yZDtcbiAgICAgICAgdGhpcy5hY2Nlc3NUb2tlbiA9IGNvbmZpZ3VyYXRpb25QYXJhbWV0ZXJzLmFjY2Vzc1Rva2VuO1xuICAgICAgICB0aGlzLmJhc2VQYXRoID0gY29uZmlndXJhdGlvblBhcmFtZXRlcnMuYmFzZVBhdGg7XG4gICAgICAgIHRoaXMud2l0aENyZWRlbnRpYWxzID0gY29uZmlndXJhdGlvblBhcmFtZXRlcnMud2l0aENyZWRlbnRpYWxzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNlbGVjdCB0aGUgY29ycmVjdCBjb250ZW50LXR5cGUgdG8gdXNlIGZvciBhIHJlcXVlc3QuXG4gICAgICogVXNlcyB7QGxpbmsgT3JnVW5pdENvbmZpZ3VyYXRpb24jaXNKc29uTWltZX0gdG8gZGV0ZXJtaW5lIHRoZSBjb3JyZWN0IGNvbnRlbnQtdHlwZS5cbiAgICAgKiBJZiBubyBjb250ZW50IHR5cGUgaXMgZm91bmQgcmV0dXJuIHRoZSBmaXJzdCBmb3VuZCB0eXBlIGlmIHRoZSBjb250ZW50VHlwZXMgaXMgbm90IGVtcHR5XG4gICAgICogQHBhcmFtIGNvbnRlbnRUeXBlcyAtIHRoZSBhcnJheSBvZiBjb250ZW50IHR5cGVzIHRoYXQgYXJlIGF2YWlsYWJsZSBmb3Igc2VsZWN0aW9uXG4gICAgICogQHJldHVybnMgdGhlIHNlbGVjdGVkIGNvbnRlbnQtdHlwZSBvciA8Y29kZT51bmRlZmluZWQ8L2NvZGU+IGlmIG5vIHNlbGVjdGlvbiBjb3VsZCBiZSBtYWRlLlxuICAgICAqL1xuICAgIHB1YmxpYyBzZWxlY3RIZWFkZXJDb250ZW50VHlwZSAoY29udGVudFR5cGVzOiBzdHJpbmdbXSk6IHN0cmluZyB8IHVuZGVmaW5lZCB7XG4gICAgICAgIGlmIChjb250ZW50VHlwZXMubGVuZ3RoID09IDApIHtcbiAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgdHlwZSA9IGNvbnRlbnRUeXBlcy5maW5kKHggPT4gdGhpcy5pc0pzb25NaW1lKHgpKTtcbiAgICAgICAgaWYgKHR5cGUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmV0dXJuIGNvbnRlbnRUeXBlc1swXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHlwZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZWxlY3QgdGhlIGNvcnJlY3QgYWNjZXB0IGNvbnRlbnQtdHlwZSB0byB1c2UgZm9yIGEgcmVxdWVzdC5cbiAgICAgKiBVc2VzIHtAbGluayBPcmdVbml0Q29uZmlndXJhdGlvbiNpc0pzb25NaW1lfSB0byBkZXRlcm1pbmUgdGhlIGNvcnJlY3QgYWNjZXB0IGNvbnRlbnQtdHlwZS5cbiAgICAgKiBJZiBubyBjb250ZW50IHR5cGUgaXMgZm91bmQgcmV0dXJuIHRoZSBmaXJzdCBmb3VuZCB0eXBlIGlmIHRoZSBjb250ZW50VHlwZXMgaXMgbm90IGVtcHR5XG4gICAgICogQHBhcmFtIGFjY2VwdHMgLSB0aGUgYXJyYXkgb2YgY29udGVudCB0eXBlcyB0aGF0IGFyZSBhdmFpbGFibGUgZm9yIHNlbGVjdGlvbi5cbiAgICAgKiBAcmV0dXJucyB0aGUgc2VsZWN0ZWQgY29udGVudC10eXBlIG9yIDxjb2RlPnVuZGVmaW5lZDwvY29kZT4gaWYgbm8gc2VsZWN0aW9uIGNvdWxkIGJlIG1hZGUuXG4gICAgICovXG4gICAgcHVibGljIHNlbGVjdEhlYWRlckFjY2VwdChhY2NlcHRzOiBzdHJpbmdbXSk6IHN0cmluZyB8IHVuZGVmaW5lZCB7XG4gICAgICAgIGlmIChhY2NlcHRzLmxlbmd0aCA9PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IHR5cGUgPSBhY2NlcHRzLmZpbmQoeCA9PiB0aGlzLmlzSnNvbk1pbWUoeCkpO1xuICAgICAgICBpZiAodHlwZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXR1cm4gYWNjZXB0c1swXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHlwZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVjayBpZiB0aGUgZ2l2ZW4gTUlNRSBpcyBhIEpTT04gTUlNRS5cbiAgICAgKiBKU09OIE1JTUUgZXhhbXBsZXM6XG4gICAgICogICBhcHBsaWNhdGlvbi9qc29uXG4gICAgICogICBhcHBsaWNhdGlvbi9qc29uOyBjaGFyc2V0PVVURjhcbiAgICAgKiAgIEFQUExJQ0FUSU9OL0pTT05cbiAgICAgKiAgIGFwcGxpY2F0aW9uL3ZuZC5jb21wYW55K2pzb25cbiAgICAgKiBAcGFyYW0gbWltZSAtIE1JTUUgKE11bHRpcHVycG9zZSBJbnRlcm5ldCBNYWlsIEV4dGVuc2lvbnMpXG4gICAgICogQHJldHVybiBUcnVlIGlmIHRoZSBnaXZlbiBNSU1FIGlzIEpTT04sIGZhbHNlIG90aGVyd2lzZS5cbiAgICAgKi9cbiAgICBwdWJsaWMgaXNKc29uTWltZShtaW1lOiBzdHJpbmcpOiBib29sZWFuIHtcbiAgICAgICAgY29uc3QganNvbk1pbWU6IFJlZ0V4cCA9IG5ldyBSZWdFeHAoJ14oYXBwbGljYXRpb25cXC9qc29ufFteOy8gXFx0XStcXC9bXjsvIFxcdF0rWytdanNvbilbIFxcdF0qKDsuKik/JCcsICdpJyk7XG4gICAgICAgIHJldHVybiBtaW1lICE9IG51bGwgJiYgKGpzb25NaW1lLnRlc3QobWltZSkgfHwgbWltZS50b0xvd2VyQ2FzZSgpID09PSAnYXBwbGljYXRpb24vanNvbi1wYXRjaCtqc29uJyk7XG4gICAgfVxufVxuIiwiLyoqXG4gKiBXaWxkZmlyZSBPcmcgVW5pdCBSRVNUIEFQSVxuICogVGhlIFdpbGRmaXJlIE9yZyBVbml0IFJFU1QgQVBJLlxuICpcbiAqIE9wZW5BUEkgc3BlYyB2ZXJzaW9uOiAxLjAuMC1TTkFQU0hPVFxuICogXG4gKlxuICogTk9URTogVGhpcyBjbGFzcyBpcyBhdXRvIGdlbmVyYXRlZCBieSB0aGUgc3dhZ2dlciBjb2RlIGdlbmVyYXRvciBwcm9ncmFtLlxuICogaHR0cHM6Ly9naXRodWIuY29tL3N3YWdnZXItYXBpL3N3YWdnZXItY29kZWdlbi5naXRcbiAqIERvIG5vdCBlZGl0IHRoZSBjbGFzcyBtYW51YWxseS5cbiAqL1xuLyogdHNsaW50OmRpc2FibGU6bm8tdW51c2VkLXZhcmlhYmxlIG1lbWJlci1vcmRlcmluZyAqL1xuXG5pbXBvcnQgeyBJbmplY3QsIEluamVjdGFibGUsIE9wdGlvbmFsIH0gICAgICAgICAgICAgICAgICAgICAgZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBIdHRwQ2xpZW50LCBIdHRwSGVhZGVycywgSHR0cFBhcmFtcyxcbiAgICAgICAgIEh0dHBSZXNwb25zZSwgSHR0cEV2ZW50IH0gICAgICAgICAgICAgICAgICAgICAgICAgICBmcm9tICdAYW5ndWxhci9jb21tb24vaHR0cCc7XG5pbXBvcnQgeyBDdXN0b21IdHRwVXJsRW5jb2RpbmdDb2RlYyB9ICAgICAgICAgICAgICAgICAgICAgICAgZnJvbSAnLi4vZW5jb2Rlcic7XG5cbmltcG9ydCB7IE9ic2VydmFibGUgfSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmcm9tICdyeGpzJztcblxuaW1wb3J0IHsgQ29kZUhpZXJhcmNoeVJlc291cmNlIH0gZnJvbSAnLi4vbW9kZWwvY29kZUhpZXJhcmNoeVJlc291cmNlJztcbmltcG9ydCB7IE1lc3NhZ2VzIH0gZnJvbSAnLi4vbW9kZWwvbWVzc2FnZXMnO1xuXG5pbXBvcnQgeyBCQVNFX1BBVEgsIENPTExFQ1RJT05fRk9STUFUUyB9ICAgICAgICAgICAgICAgICAgICAgZnJvbSAnLi4vdmFyaWFibGVzJztcbmltcG9ydCB7IE9yZ1VuaXRDb25maWd1cmF0aW9uIH0gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZnJvbSAnLi4vY29uZmlndXJhdGlvbic7XG5cblxuQEluamVjdGFibGUoKVxuZXhwb3J0IGNsYXNzIENvZGVIaWVyYXJjaHlFbmRwb2ludHNTZXJ2aWNlIHtcblxuICAgIHByb3RlY3RlZCBiYXNlUGF0aCA9ICdodHRwczovL2h0dHBzOi8vZDFhcGkudml2aWRzb2x1dGlvbnMuY29tL3dmb3JnLW9yZy11bml0LWFwaSc7XG4gICAgcHVibGljIGRlZmF1bHRIZWFkZXJzID0gbmV3IEh0dHBIZWFkZXJzKCk7XG4gICAgcHVibGljIGNvbmZpZ3VyYXRpb24gPSBuZXcgT3JnVW5pdENvbmZpZ3VyYXRpb24oKTtcblxuICAgIGNvbnN0cnVjdG9yKHByb3RlY3RlZCBodHRwQ2xpZW50OiBIdHRwQ2xpZW50LCBAT3B0aW9uYWwoKUBJbmplY3QoQkFTRV9QQVRIKSBiYXNlUGF0aDogc3RyaW5nLCBAT3B0aW9uYWwoKSBjb25maWd1cmF0aW9uOiBPcmdVbml0Q29uZmlndXJhdGlvbikge1xuICAgICAgICBpZiAoYmFzZVBhdGgpIHtcbiAgICAgICAgICAgIHRoaXMuYmFzZVBhdGggPSBiYXNlUGF0aDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY29uZmlndXJhdGlvbikge1xuICAgICAgICAgICAgdGhpcy5jb25maWd1cmF0aW9uID0gY29uZmlndXJhdGlvbjtcbiAgICAgICAgICAgIHRoaXMuYmFzZVBhdGggPSBiYXNlUGF0aCB8fCBjb25maWd1cmF0aW9uLmJhc2VQYXRoIHx8IHRoaXMuYmFzZVBhdGg7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAcGFyYW0gY29uc3VtZXMgc3RyaW5nW10gbWltZS10eXBlc1xuICAgICAqIEByZXR1cm4gdHJ1ZTogY29uc3VtZXMgY29udGFpbnMgJ211bHRpcGFydC9mb3JtLWRhdGEnLCBmYWxzZTogb3RoZXJ3aXNlXG4gICAgICovXG4gICAgcHJpdmF0ZSBjYW5Db25zdW1lRm9ybShjb25zdW1lczogc3RyaW5nW10pOiBib29sZWFuIHtcbiAgICAgICAgY29uc3QgZm9ybSA9ICdtdWx0aXBhcnQvZm9ybS1kYXRhJztcbiAgICAgICAgZm9yIChsZXQgY29uc3VtZSBvZiBjb25zdW1lcykge1xuICAgICAgICAgICAgaWYgKGZvcm0gPT09IGNvbnN1bWUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAgKiBHZXQgQ29kZUhpZXJhcmNoeSByZXNvdXJjZSBieSBjb2RlIHRhYmxlIG5hbWUuXG4gICAgICogR2V0IENvZGVIaWVyYXJjaHkgcmVzb3VyY2UgYnkgY29kZSB0YWJsZSBuYW1lLlxuICAgICAqIEBwYXJhbSBjb2RlSGllcmFyY2h5TmFtZSBUaGUgaWRlbnRpZmllciBvZiB0aGUgQ29kZUhpZXJhcmNoeSByZXNvdXJjZS5cbiAgICAgKiBAcGFyYW0gZWZmZWN0aXZlQXNPZkRhdGUgUmV0dXJuIHRoZSByZXN1bHRzIGFzIG9mIHRoZSBlZmZlY3RpdmVBc09mRGF0ZS5cbiAgICAgKiBAcGFyYW0gcmVzdFZlcnNpb24gVGhlIHZlcnNpb24gb2YgdGhlIFJlc3QgQVBJIHN1cHBvcnRlZCBieSB0aGUgcmVxdWVzdGluZyBjbGllbnQuXG4gICAgICogQHBhcmFtIG9ic2VydmUgc2V0IHdoZXRoZXIgb3Igbm90IHRvIHJldHVybiB0aGUgZGF0YSBPYnNlcnZhYmxlIGFzIHRoZSBib2R5LCByZXNwb25zZSBvciBldmVudHMuIGRlZmF1bHRzIHRvIHJldHVybmluZyB0aGUgYm9keS5cbiAgICAgKiBAcGFyYW0gcmVwb3J0UHJvZ3Jlc3MgZmxhZyB0byByZXBvcnQgcmVxdWVzdCBhbmQgcmVzcG9uc2UgcHJvZ3Jlc3MuXG4gICAgICovXG4gICAgcHVibGljIGdldENvZGVIaWVyYXJjaHkxKGNvZGVIaWVyYXJjaHlOYW1lOiBzdHJpbmcsIGVmZmVjdGl2ZUFzT2ZEYXRlPzogc3RyaW5nLCByZXN0VmVyc2lvbj86IG51bWJlciwgb2JzZXJ2ZT86ICdib2R5JywgcmVwb3J0UHJvZ3Jlc3M/OiBib29sZWFuKTogT2JzZXJ2YWJsZTxDb2RlSGllcmFyY2h5UmVzb3VyY2U+O1xuICAgIHB1YmxpYyBnZXRDb2RlSGllcmFyY2h5MShjb2RlSGllcmFyY2h5TmFtZTogc3RyaW5nLCBlZmZlY3RpdmVBc09mRGF0ZT86IHN0cmluZywgcmVzdFZlcnNpb24/OiBudW1iZXIsIG9ic2VydmU/OiAncmVzcG9uc2UnLCByZXBvcnRQcm9ncmVzcz86IGJvb2xlYW4pOiBPYnNlcnZhYmxlPEh0dHBSZXNwb25zZTxDb2RlSGllcmFyY2h5UmVzb3VyY2U+PjtcbiAgICBwdWJsaWMgZ2V0Q29kZUhpZXJhcmNoeTEoY29kZUhpZXJhcmNoeU5hbWU6IHN0cmluZywgZWZmZWN0aXZlQXNPZkRhdGU/OiBzdHJpbmcsIHJlc3RWZXJzaW9uPzogbnVtYmVyLCBvYnNlcnZlPzogJ2V2ZW50cycsIHJlcG9ydFByb2dyZXNzPzogYm9vbGVhbik6IE9ic2VydmFibGU8SHR0cEV2ZW50PENvZGVIaWVyYXJjaHlSZXNvdXJjZT4+O1xuICAgIHB1YmxpYyBnZXRDb2RlSGllcmFyY2h5MShjb2RlSGllcmFyY2h5TmFtZTogc3RyaW5nLCBlZmZlY3RpdmVBc09mRGF0ZT86IHN0cmluZywgcmVzdFZlcnNpb24/OiBudW1iZXIsIG9ic2VydmU6IGFueSA9ICdib2R5JywgcmVwb3J0UHJvZ3Jlc3M6IGJvb2xlYW4gPSBmYWxzZSApOiBPYnNlcnZhYmxlPGFueT4ge1xuICAgICAgICBpZiAoY29kZUhpZXJhcmNoeU5hbWUgPT09IG51bGwgfHwgY29kZUhpZXJhcmNoeU5hbWUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdSZXF1aXJlZCBwYXJhbWV0ZXIgY29kZUhpZXJhcmNoeU5hbWUgd2FzIG51bGwgb3IgdW5kZWZpbmVkIHdoZW4gY2FsbGluZyBnZXRDb2RlSGllcmFyY2h5MS4nKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBxdWVyeVBhcmFtZXRlcnMgPSBuZXcgSHR0cFBhcmFtcyh7ZW5jb2RlcjogbmV3IEN1c3RvbUh0dHBVcmxFbmNvZGluZ0NvZGVjKCl9KTtcbiAgICAgICAgaWYgKGVmZmVjdGl2ZUFzT2ZEYXRlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHF1ZXJ5UGFyYW1ldGVycyA9IHF1ZXJ5UGFyYW1ldGVycy5zZXQoJ2VmZmVjdGl2ZUFzT2ZEYXRlJywgPGFueT5lZmZlY3RpdmVBc09mRGF0ZSk7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgaGVhZGVycyA9IHRoaXMuZGVmYXVsdEhlYWRlcnM7XG4gICAgICAgIGlmIChyZXN0VmVyc2lvbiAhPT0gdW5kZWZpbmVkICYmIHJlc3RWZXJzaW9uICE9PSBudWxsKSB7XG4gICAgICAgICAgICBoZWFkZXJzID0gaGVhZGVycy5zZXQoJ1Jlc3QtVmVyc2lvbicsIFN0cmluZyhyZXN0VmVyc2lvbikpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gdG8gZGV0ZXJtaW5lIHRoZSBBY2NlcHQgaGVhZGVyXG4gICAgICAgIGxldCBodHRwSGVhZGVyQWNjZXB0czogc3RyaW5nW10gPSBbXG4gICAgICAgICAgICAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgICAgICAnYXBwbGljYXRpb24veG1sJ1xuICAgICAgICBdO1xuICAgICAgICBsZXQgaHR0cEhlYWRlckFjY2VwdFNlbGVjdGVkOiBzdHJpbmcgfCB1bmRlZmluZWQgPSB0aGlzLmNvbmZpZ3VyYXRpb24uc2VsZWN0SGVhZGVyQWNjZXB0KGh0dHBIZWFkZXJBY2NlcHRzKTtcbiAgICAgICAgaWYgKGh0dHBIZWFkZXJBY2NlcHRTZWxlY3RlZCAhPSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGhlYWRlcnMgPSBoZWFkZXJzLnNldChcIkFjY2VwdFwiLCBodHRwSGVhZGVyQWNjZXB0U2VsZWN0ZWQpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gdG8gZGV0ZXJtaW5lIHRoZSBDb250ZW50LVR5cGUgaGVhZGVyXG4gICAgICAgIGxldCBjb25zdW1lczogc3RyaW5nW10gPSBbXG4gICAgICAgIF07XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuaHR0cENsaWVudC5nZXQ8Q29kZUhpZXJhcmNoeVJlc291cmNlPihgJHt0aGlzLmJhc2VQYXRofS9jb2RlSGllcmFyY2hpZXMvJHtlbmNvZGVVUklDb21wb25lbnQoU3RyaW5nKGNvZGVIaWVyYXJjaHlOYW1lKSl9YCxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBwYXJhbXM6IHF1ZXJ5UGFyYW1ldGVycyxcbiAgICAgICAgICAgICAgICB3aXRoQ3JlZGVudGlhbHM6IHRoaXMuY29uZmlndXJhdGlvbi53aXRoQ3JlZGVudGlhbHMsXG4gICAgICAgICAgICAgICAgaGVhZGVyczogaGVhZGVycyxcbiAgICAgICAgICAgICAgICBvYnNlcnZlOiBvYnNlcnZlLFxuICAgICAgICAgICAgICAgIHJlcG9ydFByb2dyZXNzOiByZXBvcnRQcm9ncmVzc1xuICAgICAgICAgICAgfVxuICAgICAgICApO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFVwZGF0ZSBDb2RlSGllcmFyY2h5IHJlc291cmNlIGJ5IGNvZGUgdGFibGUgbmFtZS5cbiAgICAgKiBVcGRhdGUgQ29kZUhpZXJhcmNoeSBieSBjb2RlIHRhYmxlIG5hbWUuXG4gICAgICogQHBhcmFtIGNvZGVIaWVyYXJjaHlOYW1lIFRoZSBpZGVudGlmaWVyIG9mIHRoZSBDb2RlSGllcmFyY2h5IHJlc291cmNlLlxuICAgICAqIEBwYXJhbSBjb2RlSGllcmFyY2h5IFRoZSBDb2RlSGllcmFyY2h5IHJlc291cmNlIGNvbnRhaW5pbmcgdGhlIG5ldyB2YWx1ZXMuXG4gICAgICogQHBhcmFtIGlmTWF0Y2ggVGhlIElmLU1hdGNoIHJlcXVlc3QtaGVhZGVyIG11c3QgbWF0Y2ggdGhlIGN1cnJlbnQgZVRhZyBvZiB0aGUgcmVzb3VyY2Ugb3IgdGhlIHJlcXVlc3Qgd2lsbCBmYWlsLlxuICAgICAqIEBwYXJhbSByZXN0VmVyc2lvbiBUaGUgdmVyc2lvbiBvZiB0aGUgUmVzdCBBUEkgc3VwcG9ydGVkIGJ5IHRoZSByZXF1ZXN0aW5nIGNsaWVudC5cbiAgICAgKiBAcGFyYW0gb2JzZXJ2ZSBzZXQgd2hldGhlciBvciBub3QgdG8gcmV0dXJuIHRoZSBkYXRhIE9ic2VydmFibGUgYXMgdGhlIGJvZHksIHJlc3BvbnNlIG9yIGV2ZW50cy4gZGVmYXVsdHMgdG8gcmV0dXJuaW5nIHRoZSBib2R5LlxuICAgICAqIEBwYXJhbSByZXBvcnRQcm9ncmVzcyBmbGFnIHRvIHJlcG9ydCByZXF1ZXN0IGFuZCByZXNwb25zZSBwcm9ncmVzcy5cbiAgICAgKi9cbiAgICBwdWJsaWMgdXBkYXRlQ29kZUhpZXJhcmNoeTEoY29kZUhpZXJhcmNoeU5hbWU6IHN0cmluZywgY29kZUhpZXJhcmNoeTogQ29kZUhpZXJhcmNoeVJlc291cmNlLCBpZk1hdGNoOiBzdHJpbmcsIHJlc3RWZXJzaW9uPzogbnVtYmVyLCBvYnNlcnZlPzogJ2JvZHknLCByZXBvcnRQcm9ncmVzcz86IGJvb2xlYW4pOiBPYnNlcnZhYmxlPENvZGVIaWVyYXJjaHlSZXNvdXJjZT47XG4gICAgcHVibGljIHVwZGF0ZUNvZGVIaWVyYXJjaHkxKGNvZGVIaWVyYXJjaHlOYW1lOiBzdHJpbmcsIGNvZGVIaWVyYXJjaHk6IENvZGVIaWVyYXJjaHlSZXNvdXJjZSwgaWZNYXRjaDogc3RyaW5nLCByZXN0VmVyc2lvbj86IG51bWJlciwgb2JzZXJ2ZT86ICdyZXNwb25zZScsIHJlcG9ydFByb2dyZXNzPzogYm9vbGVhbik6IE9ic2VydmFibGU8SHR0cFJlc3BvbnNlPENvZGVIaWVyYXJjaHlSZXNvdXJjZT4+O1xuICAgIHB1YmxpYyB1cGRhdGVDb2RlSGllcmFyY2h5MShjb2RlSGllcmFyY2h5TmFtZTogc3RyaW5nLCBjb2RlSGllcmFyY2h5OiBDb2RlSGllcmFyY2h5UmVzb3VyY2UsIGlmTWF0Y2g6IHN0cmluZywgcmVzdFZlcnNpb24/OiBudW1iZXIsIG9ic2VydmU/OiAnZXZlbnRzJywgcmVwb3J0UHJvZ3Jlc3M/OiBib29sZWFuKTogT2JzZXJ2YWJsZTxIdHRwRXZlbnQ8Q29kZUhpZXJhcmNoeVJlc291cmNlPj47XG4gICAgcHVibGljIHVwZGF0ZUNvZGVIaWVyYXJjaHkxKGNvZGVIaWVyYXJjaHlOYW1lOiBzdHJpbmcsIGNvZGVIaWVyYXJjaHk6IENvZGVIaWVyYXJjaHlSZXNvdXJjZSwgaWZNYXRjaDogc3RyaW5nLCByZXN0VmVyc2lvbj86IG51bWJlciwgb2JzZXJ2ZTogYW55ID0gJ2JvZHknLCByZXBvcnRQcm9ncmVzczogYm9vbGVhbiA9IGZhbHNlICk6IE9ic2VydmFibGU8YW55PiB7XG4gICAgICAgIGlmIChjb2RlSGllcmFyY2h5TmFtZSA9PT0gbnVsbCB8fCBjb2RlSGllcmFyY2h5TmFtZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1JlcXVpcmVkIHBhcmFtZXRlciBjb2RlSGllcmFyY2h5TmFtZSB3YXMgbnVsbCBvciB1bmRlZmluZWQgd2hlbiBjYWxsaW5nIHVwZGF0ZUNvZGVIaWVyYXJjaHkxLicpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjb2RlSGllcmFyY2h5ID09PSBudWxsIHx8IGNvZGVIaWVyYXJjaHkgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdSZXF1aXJlZCBwYXJhbWV0ZXIgY29kZUhpZXJhcmNoeSB3YXMgbnVsbCBvciB1bmRlZmluZWQgd2hlbiBjYWxsaW5nIHVwZGF0ZUNvZGVIaWVyYXJjaHkxLicpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpZk1hdGNoID09PSBudWxsIHx8IGlmTWF0Y2ggPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdSZXF1aXJlZCBwYXJhbWV0ZXIgaWZNYXRjaCB3YXMgbnVsbCBvciB1bmRlZmluZWQgd2hlbiBjYWxsaW5nIHVwZGF0ZUNvZGVIaWVyYXJjaHkxLicpO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IGhlYWRlcnMgPSB0aGlzLmRlZmF1bHRIZWFkZXJzO1xuICAgICAgICBpZiAocmVzdFZlcnNpb24gIT09IHVuZGVmaW5lZCAmJiByZXN0VmVyc2lvbiAhPT0gbnVsbCkge1xuICAgICAgICAgICAgaGVhZGVycyA9IGhlYWRlcnMuc2V0KCdSZXN0LVZlcnNpb24nLCBTdHJpbmcocmVzdFZlcnNpb24pKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaWZNYXRjaCAhPT0gdW5kZWZpbmVkICYmIGlmTWF0Y2ggIT09IG51bGwpIHtcbiAgICAgICAgICAgIGhlYWRlcnMgPSBoZWFkZXJzLnNldCgnSWYtTWF0Y2gnLCBTdHJpbmcoaWZNYXRjaCkpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gdG8gZGV0ZXJtaW5lIHRoZSBBY2NlcHQgaGVhZGVyXG4gICAgICAgIGxldCBodHRwSGVhZGVyQWNjZXB0czogc3RyaW5nW10gPSBbXG4gICAgICAgICAgICAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgICAgICAnYXBwbGljYXRpb24veG1sJ1xuICAgICAgICBdO1xuICAgICAgICBsZXQgaHR0cEhlYWRlckFjY2VwdFNlbGVjdGVkOiBzdHJpbmcgfCB1bmRlZmluZWQgPSB0aGlzLmNvbmZpZ3VyYXRpb24uc2VsZWN0SGVhZGVyQWNjZXB0KGh0dHBIZWFkZXJBY2NlcHRzKTtcbiAgICAgICAgaWYgKGh0dHBIZWFkZXJBY2NlcHRTZWxlY3RlZCAhPSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGhlYWRlcnMgPSBoZWFkZXJzLnNldChcIkFjY2VwdFwiLCBodHRwSGVhZGVyQWNjZXB0U2VsZWN0ZWQpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gdG8gZGV0ZXJtaW5lIHRoZSBDb250ZW50LVR5cGUgaGVhZGVyXG4gICAgICAgIGxldCBjb25zdW1lczogc3RyaW5nW10gPSBbXG4gICAgICAgICAgICAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgICAgICAnYXBwbGljYXRpb24veG1sJ1xuICAgICAgICBdO1xuICAgICAgICBsZXQgaHR0cENvbnRlbnRUeXBlU2VsZWN0ZWQ6c3RyaW5nIHwgdW5kZWZpbmVkID0gdGhpcy5jb25maWd1cmF0aW9uLnNlbGVjdEhlYWRlckNvbnRlbnRUeXBlKGNvbnN1bWVzKTtcbiAgICAgICAgaWYgKGh0dHBDb250ZW50VHlwZVNlbGVjdGVkICE9IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgaGVhZGVycyA9IGhlYWRlcnMuc2V0KFwiQ29udGVudC1UeXBlXCIsIGh0dHBDb250ZW50VHlwZVNlbGVjdGVkKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLmh0dHBDbGllbnQucHV0PENvZGVIaWVyYXJjaHlSZXNvdXJjZT4oYCR7dGhpcy5iYXNlUGF0aH0vY29kZUhpZXJhcmNoaWVzLyR7ZW5jb2RlVVJJQ29tcG9uZW50KFN0cmluZyhjb2RlSGllcmFyY2h5TmFtZSkpfWAsXG4gICAgICAgICAgICBjb2RlSGllcmFyY2h5LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHdpdGhDcmVkZW50aWFsczogdGhpcy5jb25maWd1cmF0aW9uLndpdGhDcmVkZW50aWFscyxcbiAgICAgICAgICAgICAgICBoZWFkZXJzOiBoZWFkZXJzLFxuICAgICAgICAgICAgICAgIG9ic2VydmU6IG9ic2VydmUsXG4gICAgICAgICAgICAgICAgcmVwb3J0UHJvZ3Jlc3M6IHJlcG9ydFByb2dyZXNzXG4gICAgICAgICAgICB9XG4gICAgICAgICk7XG4gICAgfVxuXG59XG4iLCIvKipcbiAqIFdpbGRmaXJlIE9yZyBVbml0IFJFU1QgQVBJXG4gKiBUaGUgV2lsZGZpcmUgT3JnIFVuaXQgUkVTVCBBUEkuXG4gKlxuICogT3BlbkFQSSBzcGVjIHZlcnNpb246IDEuMC4wLVNOQVBTSE9UXG4gKiBcbiAqXG4gKiBOT1RFOiBUaGlzIGNsYXNzIGlzIGF1dG8gZ2VuZXJhdGVkIGJ5IHRoZSBzd2FnZ2VyIGNvZGUgZ2VuZXJhdG9yIHByb2dyYW0uXG4gKiBodHRwczovL2dpdGh1Yi5jb20vc3dhZ2dlci1hcGkvc3dhZ2dlci1jb2RlZ2VuLmdpdFxuICogRG8gbm90IGVkaXQgdGhlIGNsYXNzIG1hbnVhbGx5LlxuICovXG4vKiB0c2xpbnQ6ZGlzYWJsZTpuby11bnVzZWQtdmFyaWFibGUgbWVtYmVyLW9yZGVyaW5nICovXG5cbmltcG9ydCB7IEluamVjdCwgSW5qZWN0YWJsZSwgT3B0aW9uYWwgfSAgICAgICAgICAgICAgICAgICAgICBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IEh0dHBDbGllbnQsIEh0dHBIZWFkZXJzLCBIdHRwUGFyYW1zLFxuICAgICAgICAgSHR0cFJlc3BvbnNlLCBIdHRwRXZlbnQgfSAgICAgICAgICAgICAgICAgICAgICAgICAgIGZyb20gJ0Bhbmd1bGFyL2NvbW1vbi9odHRwJztcbmltcG9ydCB7IEN1c3RvbUh0dHBVcmxFbmNvZGluZ0NvZGVjIH0gICAgICAgICAgICAgICAgICAgICAgICBmcm9tICcuLi9lbmNvZGVyJztcblxuaW1wb3J0IHsgT2JzZXJ2YWJsZSB9ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZyb20gJ3J4anMnO1xuXG5pbXBvcnQgeyBDb2RlSGllcmFyY2h5TGlzdFJlc291cmNlIH0gZnJvbSAnLi4vbW9kZWwvY29kZUhpZXJhcmNoeUxpc3RSZXNvdXJjZSc7XG5pbXBvcnQgeyBNZXNzYWdlcyB9IGZyb20gJy4uL21vZGVsL21lc3NhZ2VzJztcblxuaW1wb3J0IHsgQkFTRV9QQVRILCBDT0xMRUNUSU9OX0ZPUk1BVFMgfSAgICAgICAgICAgICAgICAgICAgIGZyb20gJy4uL3ZhcmlhYmxlcyc7XG5pbXBvcnQgeyBPcmdVbml0Q29uZmlndXJhdGlvbiB9ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZyb20gJy4uL2NvbmZpZ3VyYXRpb24nO1xuXG5cbkBJbmplY3RhYmxlKClcbmV4cG9ydCBjbGFzcyBDb2RlSGllcmFyY2h5TGlzdEVuZHBvaW50c1NlcnZpY2Uge1xuXG4gICAgcHJvdGVjdGVkIGJhc2VQYXRoID0gJ2h0dHBzOi8vaHR0cHM6Ly9kMWFwaS52aXZpZHNvbHV0aW9ucy5jb20vd2Zvcmctb3JnLXVuaXQtYXBpJztcbiAgICBwdWJsaWMgZGVmYXVsdEhlYWRlcnMgPSBuZXcgSHR0cEhlYWRlcnMoKTtcbiAgICBwdWJsaWMgY29uZmlndXJhdGlvbiA9IG5ldyBPcmdVbml0Q29uZmlndXJhdGlvbigpO1xuXG4gICAgY29uc3RydWN0b3IocHJvdGVjdGVkIGh0dHBDbGllbnQ6IEh0dHBDbGllbnQsIEBPcHRpb25hbCgpQEluamVjdChCQVNFX1BBVEgpIGJhc2VQYXRoOiBzdHJpbmcsIEBPcHRpb25hbCgpIGNvbmZpZ3VyYXRpb246IE9yZ1VuaXRDb25maWd1cmF0aW9uKSB7XG4gICAgICAgIGlmIChiYXNlUGF0aCkge1xuICAgICAgICAgICAgdGhpcy5iYXNlUGF0aCA9IGJhc2VQYXRoO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjb25maWd1cmF0aW9uKSB7XG4gICAgICAgICAgICB0aGlzLmNvbmZpZ3VyYXRpb24gPSBjb25maWd1cmF0aW9uO1xuICAgICAgICAgICAgdGhpcy5iYXNlUGF0aCA9IGJhc2VQYXRoIHx8IGNvbmZpZ3VyYXRpb24uYmFzZVBhdGggfHwgdGhpcy5iYXNlUGF0aDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBwYXJhbSBjb25zdW1lcyBzdHJpbmdbXSBtaW1lLXR5cGVzXG4gICAgICogQHJldHVybiB0cnVlOiBjb25zdW1lcyBjb250YWlucyAnbXVsdGlwYXJ0L2Zvcm0tZGF0YScsIGZhbHNlOiBvdGhlcndpc2VcbiAgICAgKi9cbiAgICBwcml2YXRlIGNhbkNvbnN1bWVGb3JtKGNvbnN1bWVzOiBzdHJpbmdbXSk6IGJvb2xlYW4ge1xuICAgICAgICBjb25zdCBmb3JtID0gJ211bHRpcGFydC9mb3JtLWRhdGEnO1xuICAgICAgICBmb3IgKGxldCBjb25zdW1lIG9mIGNvbnN1bWVzKSB7XG4gICAgICAgICAgICBpZiAoZm9ybSA9PT0gY29uc3VtZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cblxuICAgIC8qKlxuICAgICAqIEdldCBDb2RlIEhpZXJhcmNoeSBMaXN0IFJlc291cmNlXG4gICAgICogR2V0IENvZGUgSGllcmFyY2h5IExpc3QgUmVzb3VyY2VcbiAgICAgKiBAcGFyYW0gZWZmZWN0aXZlQXNPZkRhdGUgUmV0dXJuIHRoZSByZXN1bHRzIGFzIG9mIHRoZSBlZmZlY3RpdmVBc09mRGF0ZS5cbiAgICAgKiBAcGFyYW0gY29kZUhpZXJhcmNoeU5hbWUgRmlsdGVyIHRoZSByZXN1bHRzIGJ5IHRoZSBjb2RlSGllcmFyY2h5TmFtZS5cbiAgICAgKiBAcGFyYW0gcmVzdFZlcnNpb24gVGhlIHZlcnNpb24gb2YgdGhlIFJlc3QgQVBJIHN1cHBvcnRlZCBieSB0aGUgcmVxdWVzdGluZyBjbGllbnQuXG4gICAgICogQHBhcmFtIG9ic2VydmUgc2V0IHdoZXRoZXIgb3Igbm90IHRvIHJldHVybiB0aGUgZGF0YSBPYnNlcnZhYmxlIGFzIHRoZSBib2R5LCByZXNwb25zZSBvciBldmVudHMuIGRlZmF1bHRzIHRvIHJldHVybmluZyB0aGUgYm9keS5cbiAgICAgKiBAcGFyYW0gcmVwb3J0UHJvZ3Jlc3MgZmxhZyB0byByZXBvcnQgcmVxdWVzdCBhbmQgcmVzcG9uc2UgcHJvZ3Jlc3MuXG4gICAgICovXG4gICAgcHVibGljIGdldENvZGVIaWVyYXJjaHlMaXN0MShlZmZlY3RpdmVBc09mRGF0ZT86IHN0cmluZywgY29kZUhpZXJhcmNoeU5hbWU/OiBzdHJpbmcsIHJlc3RWZXJzaW9uPzogbnVtYmVyLCBvYnNlcnZlPzogJ2JvZHknLCByZXBvcnRQcm9ncmVzcz86IGJvb2xlYW4pOiBPYnNlcnZhYmxlPENvZGVIaWVyYXJjaHlMaXN0UmVzb3VyY2U+O1xuICAgIHB1YmxpYyBnZXRDb2RlSGllcmFyY2h5TGlzdDEoZWZmZWN0aXZlQXNPZkRhdGU/OiBzdHJpbmcsIGNvZGVIaWVyYXJjaHlOYW1lPzogc3RyaW5nLCByZXN0VmVyc2lvbj86IG51bWJlciwgb2JzZXJ2ZT86ICdyZXNwb25zZScsIHJlcG9ydFByb2dyZXNzPzogYm9vbGVhbik6IE9ic2VydmFibGU8SHR0cFJlc3BvbnNlPENvZGVIaWVyYXJjaHlMaXN0UmVzb3VyY2U+PjtcbiAgICBwdWJsaWMgZ2V0Q29kZUhpZXJhcmNoeUxpc3QxKGVmZmVjdGl2ZUFzT2ZEYXRlPzogc3RyaW5nLCBjb2RlSGllcmFyY2h5TmFtZT86IHN0cmluZywgcmVzdFZlcnNpb24/OiBudW1iZXIsIG9ic2VydmU/OiAnZXZlbnRzJywgcmVwb3J0UHJvZ3Jlc3M/OiBib29sZWFuKTogT2JzZXJ2YWJsZTxIdHRwRXZlbnQ8Q29kZUhpZXJhcmNoeUxpc3RSZXNvdXJjZT4+O1xuICAgIHB1YmxpYyBnZXRDb2RlSGllcmFyY2h5TGlzdDEoZWZmZWN0aXZlQXNPZkRhdGU/OiBzdHJpbmcsIGNvZGVIaWVyYXJjaHlOYW1lPzogc3RyaW5nLCByZXN0VmVyc2lvbj86IG51bWJlciwgb2JzZXJ2ZTogYW55ID0gJ2JvZHknLCByZXBvcnRQcm9ncmVzczogYm9vbGVhbiA9IGZhbHNlICk6IE9ic2VydmFibGU8YW55PiB7XG5cbiAgICAgICAgbGV0IHF1ZXJ5UGFyYW1ldGVycyA9IG5ldyBIdHRwUGFyYW1zKHtlbmNvZGVyOiBuZXcgQ3VzdG9tSHR0cFVybEVuY29kaW5nQ29kZWMoKX0pO1xuICAgICAgICBpZiAoZWZmZWN0aXZlQXNPZkRhdGUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcXVlcnlQYXJhbWV0ZXJzID0gcXVlcnlQYXJhbWV0ZXJzLnNldCgnZWZmZWN0aXZlQXNPZkRhdGUnLCA8YW55PmVmZmVjdGl2ZUFzT2ZEYXRlKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY29kZUhpZXJhcmNoeU5hbWUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcXVlcnlQYXJhbWV0ZXJzID0gcXVlcnlQYXJhbWV0ZXJzLnNldCgnY29kZUhpZXJhcmNoeU5hbWUnLCA8YW55PmNvZGVIaWVyYXJjaHlOYW1lKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBoZWFkZXJzID0gdGhpcy5kZWZhdWx0SGVhZGVycztcbiAgICAgICAgaWYgKHJlc3RWZXJzaW9uICE9PSB1bmRlZmluZWQgJiYgcmVzdFZlcnNpb24gIT09IG51bGwpIHtcbiAgICAgICAgICAgIGhlYWRlcnMgPSBoZWFkZXJzLnNldCgnUmVzdC1WZXJzaW9uJywgU3RyaW5nKHJlc3RWZXJzaW9uKSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyB0byBkZXRlcm1pbmUgdGhlIEFjY2VwdCBoZWFkZXJcbiAgICAgICAgbGV0IGh0dHBIZWFkZXJBY2NlcHRzOiBzdHJpbmdbXSA9IFtcbiAgICAgICAgICAgICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgICAgICdhcHBsaWNhdGlvbi94bWwnXG4gICAgICAgIF07XG4gICAgICAgIGxldCBodHRwSGVhZGVyQWNjZXB0U2VsZWN0ZWQ6IHN0cmluZyB8IHVuZGVmaW5lZCA9IHRoaXMuY29uZmlndXJhdGlvbi5zZWxlY3RIZWFkZXJBY2NlcHQoaHR0cEhlYWRlckFjY2VwdHMpO1xuICAgICAgICBpZiAoaHR0cEhlYWRlckFjY2VwdFNlbGVjdGVkICE9IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgaGVhZGVycyA9IGhlYWRlcnMuc2V0KFwiQWNjZXB0XCIsIGh0dHBIZWFkZXJBY2NlcHRTZWxlY3RlZCk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyB0byBkZXRlcm1pbmUgdGhlIENvbnRlbnQtVHlwZSBoZWFkZXJcbiAgICAgICAgbGV0IGNvbnN1bWVzOiBzdHJpbmdbXSA9IFtcbiAgICAgICAgXTtcblxuICAgICAgICByZXR1cm4gdGhpcy5odHRwQ2xpZW50LmdldDxDb2RlSGllcmFyY2h5TGlzdFJlc291cmNlPihgJHt0aGlzLmJhc2VQYXRofS9jb2RlSGllcmFyY2hpZXNgLFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHBhcmFtczogcXVlcnlQYXJhbWV0ZXJzLFxuICAgICAgICAgICAgICAgIHdpdGhDcmVkZW50aWFsczogdGhpcy5jb25maWd1cmF0aW9uLndpdGhDcmVkZW50aWFscyxcbiAgICAgICAgICAgICAgICBoZWFkZXJzOiBoZWFkZXJzLFxuICAgICAgICAgICAgICAgIG9ic2VydmU6IG9ic2VydmUsXG4gICAgICAgICAgICAgICAgcmVwb3J0UHJvZ3Jlc3M6IHJlcG9ydFByb2dyZXNzXG4gICAgICAgICAgICB9XG4gICAgICAgICk7XG4gICAgfVxuXG59XG4iLCIvKipcbiAqIFdpbGRmaXJlIE9yZyBVbml0IFJFU1QgQVBJXG4gKiBUaGUgV2lsZGZpcmUgT3JnIFVuaXQgUkVTVCBBUEkuXG4gKlxuICogT3BlbkFQSSBzcGVjIHZlcnNpb246IDEuMC4wLVNOQVBTSE9UXG4gKiBcbiAqXG4gKiBOT1RFOiBUaGlzIGNsYXNzIGlzIGF1dG8gZ2VuZXJhdGVkIGJ5IHRoZSBzd2FnZ2VyIGNvZGUgZ2VuZXJhdG9yIHByb2dyYW0uXG4gKiBodHRwczovL2dpdGh1Yi5jb20vc3dhZ2dlci1hcGkvc3dhZ2dlci1jb2RlZ2VuLmdpdFxuICogRG8gbm90IGVkaXQgdGhlIGNsYXNzIG1hbnVhbGx5LlxuICovXG4vKiB0c2xpbnQ6ZGlzYWJsZTpuby11bnVzZWQtdmFyaWFibGUgbWVtYmVyLW9yZGVyaW5nICovXG5cbmltcG9ydCB7IEluamVjdCwgSW5qZWN0YWJsZSwgT3B0aW9uYWwgfSAgICAgICAgICAgICAgICAgICAgICBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IEh0dHBDbGllbnQsIEh0dHBIZWFkZXJzLCBIdHRwUGFyYW1zLFxuICAgICAgICAgSHR0cFJlc3BvbnNlLCBIdHRwRXZlbnQgfSAgICAgICAgICAgICAgICAgICAgICAgICAgIGZyb20gJ0Bhbmd1bGFyL2NvbW1vbi9odHRwJztcbmltcG9ydCB7IEN1c3RvbUh0dHBVcmxFbmNvZGluZ0NvZGVjIH0gICAgICAgICAgICAgICAgICAgICAgICBmcm9tICcuLi9lbmNvZGVyJztcblxuaW1wb3J0IHsgT2JzZXJ2YWJsZSB9ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZyb20gJ3J4anMnO1xuXG5pbXBvcnQgeyBDb2RlVGFibGVSZXNvdXJjZSB9IGZyb20gJy4uL21vZGVsL2NvZGVUYWJsZVJlc291cmNlJztcbmltcG9ydCB7IE1lc3NhZ2VzIH0gZnJvbSAnLi4vbW9kZWwvbWVzc2FnZXMnO1xuXG5pbXBvcnQgeyBCQVNFX1BBVEgsIENPTExFQ1RJT05fRk9STUFUUyB9ICAgICAgICAgICAgICAgICAgICAgZnJvbSAnLi4vdmFyaWFibGVzJztcbmltcG9ydCB7IE9yZ1VuaXRDb25maWd1cmF0aW9uIH0gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZnJvbSAnLi4vY29uZmlndXJhdGlvbic7XG5cblxuQEluamVjdGFibGUoKVxuZXhwb3J0IGNsYXNzIENvZGVUYWJsZUVuZHBvaW50c1NlcnZpY2Uge1xuXG4gICAgcHJvdGVjdGVkIGJhc2VQYXRoID0gJ2h0dHBzOi8vaHR0cHM6Ly9kMWFwaS52aXZpZHNvbHV0aW9ucy5jb20vd2Zvcmctb3JnLXVuaXQtYXBpJztcbiAgICBwdWJsaWMgZGVmYXVsdEhlYWRlcnMgPSBuZXcgSHR0cEhlYWRlcnMoKTtcbiAgICBwdWJsaWMgY29uZmlndXJhdGlvbiA9IG5ldyBPcmdVbml0Q29uZmlndXJhdGlvbigpO1xuXG4gICAgY29uc3RydWN0b3IocHJvdGVjdGVkIGh0dHBDbGllbnQ6IEh0dHBDbGllbnQsIEBPcHRpb25hbCgpQEluamVjdChCQVNFX1BBVEgpIGJhc2VQYXRoOiBzdHJpbmcsIEBPcHRpb25hbCgpIGNvbmZpZ3VyYXRpb246IE9yZ1VuaXRDb25maWd1cmF0aW9uKSB7XG4gICAgICAgIGlmIChiYXNlUGF0aCkge1xuICAgICAgICAgICAgdGhpcy5iYXNlUGF0aCA9IGJhc2VQYXRoO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjb25maWd1cmF0aW9uKSB7XG4gICAgICAgICAgICB0aGlzLmNvbmZpZ3VyYXRpb24gPSBjb25maWd1cmF0aW9uO1xuICAgICAgICAgICAgdGhpcy5iYXNlUGF0aCA9IGJhc2VQYXRoIHx8IGNvbmZpZ3VyYXRpb24uYmFzZVBhdGggfHwgdGhpcy5iYXNlUGF0aDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBwYXJhbSBjb25zdW1lcyBzdHJpbmdbXSBtaW1lLXR5cGVzXG4gICAgICogQHJldHVybiB0cnVlOiBjb25zdW1lcyBjb250YWlucyAnbXVsdGlwYXJ0L2Zvcm0tZGF0YScsIGZhbHNlOiBvdGhlcndpc2VcbiAgICAgKi9cbiAgICBwcml2YXRlIGNhbkNvbnN1bWVGb3JtKGNvbnN1bWVzOiBzdHJpbmdbXSk6IGJvb2xlYW4ge1xuICAgICAgICBjb25zdCBmb3JtID0gJ211bHRpcGFydC9mb3JtLWRhdGEnO1xuICAgICAgICBmb3IgKGxldCBjb25zdW1lIG9mIGNvbnN1bWVzKSB7XG4gICAgICAgICAgICBpZiAoZm9ybSA9PT0gY29uc3VtZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cblxuICAgIC8qKlxuICAgICAqIEdldCBDb2RlVGFibGUgcmVzb3VyY2UgYnkgY29kZSB0YWJsZSBuYW1lLlxuICAgICAqIEdldCBDb2RlVGFibGUgcmVzb3VyY2UgYnkgY29kZSB0YWJsZSBuYW1lLlxuICAgICAqIEBwYXJhbSBjb2RlVGFibGVOYW1lIFRoZSBpZGVudGlmaWVyIG9mIHRoZSBDb2RlVGFibGUgcmVzb3VyY2UuXG4gICAgICogQHBhcmFtIGVmZmVjdGl2ZUFzT2ZEYXRlIFJldHVybiB0aGUgcmVzdWx0cyBhcyBvZiB0aGUgZWZmZWN0aXZlQXNPZkRhdGUuXG4gICAgICogQHBhcmFtIHJlc3RWZXJzaW9uIFRoZSB2ZXJzaW9uIG9mIHRoZSBSZXN0IEFQSSBzdXBwb3J0ZWQgYnkgdGhlIHJlcXVlc3RpbmcgY2xpZW50LlxuICAgICAqIEBwYXJhbSBvYnNlcnZlIHNldCB3aGV0aGVyIG9yIG5vdCB0byByZXR1cm4gdGhlIGRhdGEgT2JzZXJ2YWJsZSBhcyB0aGUgYm9keSwgcmVzcG9uc2Ugb3IgZXZlbnRzLiBkZWZhdWx0cyB0byByZXR1cm5pbmcgdGhlIGJvZHkuXG4gICAgICogQHBhcmFtIHJlcG9ydFByb2dyZXNzIGZsYWcgdG8gcmVwb3J0IHJlcXVlc3QgYW5kIHJlc3BvbnNlIHByb2dyZXNzLlxuICAgICAqL1xuICAgIHB1YmxpYyBnZXRDb2RlVGFibGUxKGNvZGVUYWJsZU5hbWU6IHN0cmluZywgZWZmZWN0aXZlQXNPZkRhdGU/OiBzdHJpbmcsIHJlc3RWZXJzaW9uPzogbnVtYmVyLCBvYnNlcnZlPzogJ2JvZHknLCByZXBvcnRQcm9ncmVzcz86IGJvb2xlYW4pOiBPYnNlcnZhYmxlPENvZGVUYWJsZVJlc291cmNlPjtcbiAgICBwdWJsaWMgZ2V0Q29kZVRhYmxlMShjb2RlVGFibGVOYW1lOiBzdHJpbmcsIGVmZmVjdGl2ZUFzT2ZEYXRlPzogc3RyaW5nLCByZXN0VmVyc2lvbj86IG51bWJlciwgb2JzZXJ2ZT86ICdyZXNwb25zZScsIHJlcG9ydFByb2dyZXNzPzogYm9vbGVhbik6IE9ic2VydmFibGU8SHR0cFJlc3BvbnNlPENvZGVUYWJsZVJlc291cmNlPj47XG4gICAgcHVibGljIGdldENvZGVUYWJsZTEoY29kZVRhYmxlTmFtZTogc3RyaW5nLCBlZmZlY3RpdmVBc09mRGF0ZT86IHN0cmluZywgcmVzdFZlcnNpb24/OiBudW1iZXIsIG9ic2VydmU/OiAnZXZlbnRzJywgcmVwb3J0UHJvZ3Jlc3M/OiBib29sZWFuKTogT2JzZXJ2YWJsZTxIdHRwRXZlbnQ8Q29kZVRhYmxlUmVzb3VyY2U+PjtcbiAgICBwdWJsaWMgZ2V0Q29kZVRhYmxlMShjb2RlVGFibGVOYW1lOiBzdHJpbmcsIGVmZmVjdGl2ZUFzT2ZEYXRlPzogc3RyaW5nLCByZXN0VmVyc2lvbj86IG51bWJlciwgb2JzZXJ2ZTogYW55ID0gJ2JvZHknLCByZXBvcnRQcm9ncmVzczogYm9vbGVhbiA9IGZhbHNlICk6IE9ic2VydmFibGU8YW55PiB7XG4gICAgICAgIGlmIChjb2RlVGFibGVOYW1lID09PSBudWxsIHx8IGNvZGVUYWJsZU5hbWUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdSZXF1aXJlZCBwYXJhbWV0ZXIgY29kZVRhYmxlTmFtZSB3YXMgbnVsbCBvciB1bmRlZmluZWQgd2hlbiBjYWxsaW5nIGdldENvZGVUYWJsZTEuJyk7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgcXVlcnlQYXJhbWV0ZXJzID0gbmV3IEh0dHBQYXJhbXMoe2VuY29kZXI6IG5ldyBDdXN0b21IdHRwVXJsRW5jb2RpbmdDb2RlYygpfSk7XG4gICAgICAgIGlmIChlZmZlY3RpdmVBc09mRGF0ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBxdWVyeVBhcmFtZXRlcnMgPSBxdWVyeVBhcmFtZXRlcnMuc2V0KCdlZmZlY3RpdmVBc09mRGF0ZScsIDxhbnk+ZWZmZWN0aXZlQXNPZkRhdGUpO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IGhlYWRlcnMgPSB0aGlzLmRlZmF1bHRIZWFkZXJzO1xuICAgICAgICBpZiAocmVzdFZlcnNpb24gIT09IHVuZGVmaW5lZCAmJiByZXN0VmVyc2lvbiAhPT0gbnVsbCkge1xuICAgICAgICAgICAgaGVhZGVycyA9IGhlYWRlcnMuc2V0KCdSZXN0LVZlcnNpb24nLCBTdHJpbmcocmVzdFZlcnNpb24pKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHRvIGRldGVybWluZSB0aGUgQWNjZXB0IGhlYWRlclxuICAgICAgICBsZXQgaHR0cEhlYWRlckFjY2VwdHM6IHN0cmluZ1tdID0gW1xuICAgICAgICAgICAgJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgICAgICAgJ2FwcGxpY2F0aW9uL3htbCdcbiAgICAgICAgXTtcbiAgICAgICAgbGV0IGh0dHBIZWFkZXJBY2NlcHRTZWxlY3RlZDogc3RyaW5nIHwgdW5kZWZpbmVkID0gdGhpcy5jb25maWd1cmF0aW9uLnNlbGVjdEhlYWRlckFjY2VwdChodHRwSGVhZGVyQWNjZXB0cyk7XG4gICAgICAgIGlmIChodHRwSGVhZGVyQWNjZXB0U2VsZWN0ZWQgIT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBoZWFkZXJzID0gaGVhZGVycy5zZXQoXCJBY2NlcHRcIiwgaHR0cEhlYWRlckFjY2VwdFNlbGVjdGVkKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHRvIGRldGVybWluZSB0aGUgQ29udGVudC1UeXBlIGhlYWRlclxuICAgICAgICBsZXQgY29uc3VtZXM6IHN0cmluZ1tdID0gW1xuICAgICAgICBdO1xuXG4gICAgICAgIHJldHVybiB0aGlzLmh0dHBDbGllbnQuZ2V0PENvZGVUYWJsZVJlc291cmNlPihgJHt0aGlzLmJhc2VQYXRofS9jb2RlVGFibGVzLyR7ZW5jb2RlVVJJQ29tcG9uZW50KFN0cmluZyhjb2RlVGFibGVOYW1lKSl9YCxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBwYXJhbXM6IHF1ZXJ5UGFyYW1ldGVycyxcbiAgICAgICAgICAgICAgICB3aXRoQ3JlZGVudGlhbHM6IHRoaXMuY29uZmlndXJhdGlvbi53aXRoQ3JlZGVudGlhbHMsXG4gICAgICAgICAgICAgICAgaGVhZGVyczogaGVhZGVycyxcbiAgICAgICAgICAgICAgICBvYnNlcnZlOiBvYnNlcnZlLFxuICAgICAgICAgICAgICAgIHJlcG9ydFByb2dyZXNzOiByZXBvcnRQcm9ncmVzc1xuICAgICAgICAgICAgfVxuICAgICAgICApO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFVwZGF0ZSBDb2RlVGFibGUgcmVzb3VyY2UgYnkgY29kZSB0YWJsZSBuYW1lLlxuICAgICAqIFVwZGF0ZSBDb2RlVGFibGUgYnkgY29kZSB0YWJsZSBuYW1lLlxuICAgICAqIEBwYXJhbSBjb2RlVGFibGVOYW1lIFRoZSBpZGVudGlmaWVyIG9mIHRoZSBDb2RlVGFibGUgcmVzb3VyY2UuXG4gICAgICogQHBhcmFtIGNvZGVUYWJsZSBUaGUgQ29kZVRhYmxlIHJlc291cmNlIGNvbnRhaW5pbmcgdGhlIG5ldyB2YWx1ZXMuXG4gICAgICogQHBhcmFtIGlmTWF0Y2ggVGhlIElmLU1hdGNoIHJlcXVlc3QtaGVhZGVyIG11c3QgbWF0Y2ggdGhlIGN1cnJlbnQgZVRhZyBvZiB0aGUgcmVzb3VyY2Ugb3IgdGhlIHJlcXVlc3Qgd2lsbCBmYWlsLlxuICAgICAqIEBwYXJhbSByZXN0VmVyc2lvbiBUaGUgdmVyc2lvbiBvZiB0aGUgUmVzdCBBUEkgc3VwcG9ydGVkIGJ5IHRoZSByZXF1ZXN0aW5nIGNsaWVudC5cbiAgICAgKiBAcGFyYW0gb2JzZXJ2ZSBzZXQgd2hldGhlciBvciBub3QgdG8gcmV0dXJuIHRoZSBkYXRhIE9ic2VydmFibGUgYXMgdGhlIGJvZHksIHJlc3BvbnNlIG9yIGV2ZW50cy4gZGVmYXVsdHMgdG8gcmV0dXJuaW5nIHRoZSBib2R5LlxuICAgICAqIEBwYXJhbSByZXBvcnRQcm9ncmVzcyBmbGFnIHRvIHJlcG9ydCByZXF1ZXN0IGFuZCByZXNwb25zZSBwcm9ncmVzcy5cbiAgICAgKi9cbiAgICBwdWJsaWMgdXBkYXRlQ29kZVRhYmxlMShjb2RlVGFibGVOYW1lOiBzdHJpbmcsIGNvZGVUYWJsZTogQ29kZVRhYmxlUmVzb3VyY2UsIGlmTWF0Y2g6IHN0cmluZywgcmVzdFZlcnNpb24/OiBudW1iZXIsIG9ic2VydmU/OiAnYm9keScsIHJlcG9ydFByb2dyZXNzPzogYm9vbGVhbik6IE9ic2VydmFibGU8Q29kZVRhYmxlUmVzb3VyY2U+O1xuICAgIHB1YmxpYyB1cGRhdGVDb2RlVGFibGUxKGNvZGVUYWJsZU5hbWU6IHN0cmluZywgY29kZVRhYmxlOiBDb2RlVGFibGVSZXNvdXJjZSwgaWZNYXRjaDogc3RyaW5nLCByZXN0VmVyc2lvbj86IG51bWJlciwgb2JzZXJ2ZT86ICdyZXNwb25zZScsIHJlcG9ydFByb2dyZXNzPzogYm9vbGVhbik6IE9ic2VydmFibGU8SHR0cFJlc3BvbnNlPENvZGVUYWJsZVJlc291cmNlPj47XG4gICAgcHVibGljIHVwZGF0ZUNvZGVUYWJsZTEoY29kZVRhYmxlTmFtZTogc3RyaW5nLCBjb2RlVGFibGU6IENvZGVUYWJsZVJlc291cmNlLCBpZk1hdGNoOiBzdHJpbmcsIHJlc3RWZXJzaW9uPzogbnVtYmVyLCBvYnNlcnZlPzogJ2V2ZW50cycsIHJlcG9ydFByb2dyZXNzPzogYm9vbGVhbik6IE9ic2VydmFibGU8SHR0cEV2ZW50PENvZGVUYWJsZVJlc291cmNlPj47XG4gICAgcHVibGljIHVwZGF0ZUNvZGVUYWJsZTEoY29kZVRhYmxlTmFtZTogc3RyaW5nLCBjb2RlVGFibGU6IENvZGVUYWJsZVJlc291cmNlLCBpZk1hdGNoOiBzdHJpbmcsIHJlc3RWZXJzaW9uPzogbnVtYmVyLCBvYnNlcnZlOiBhbnkgPSAnYm9keScsIHJlcG9ydFByb2dyZXNzOiBib29sZWFuID0gZmFsc2UgKTogT2JzZXJ2YWJsZTxhbnk+IHtcbiAgICAgICAgaWYgKGNvZGVUYWJsZU5hbWUgPT09IG51bGwgfHwgY29kZVRhYmxlTmFtZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1JlcXVpcmVkIHBhcmFtZXRlciBjb2RlVGFibGVOYW1lIHdhcyBudWxsIG9yIHVuZGVmaW5lZCB3aGVuIGNhbGxpbmcgdXBkYXRlQ29kZVRhYmxlMS4nKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY29kZVRhYmxlID09PSBudWxsIHx8IGNvZGVUYWJsZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1JlcXVpcmVkIHBhcmFtZXRlciBjb2RlVGFibGUgd2FzIG51bGwgb3IgdW5kZWZpbmVkIHdoZW4gY2FsbGluZyB1cGRhdGVDb2RlVGFibGUxLicpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpZk1hdGNoID09PSBudWxsIHx8IGlmTWF0Y2ggPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdSZXF1aXJlZCBwYXJhbWV0ZXIgaWZNYXRjaCB3YXMgbnVsbCBvciB1bmRlZmluZWQgd2hlbiBjYWxsaW5nIHVwZGF0ZUNvZGVUYWJsZTEuJyk7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgaGVhZGVycyA9IHRoaXMuZGVmYXVsdEhlYWRlcnM7XG4gICAgICAgIGlmIChyZXN0VmVyc2lvbiAhPT0gdW5kZWZpbmVkICYmIHJlc3RWZXJzaW9uICE9PSBudWxsKSB7XG4gICAgICAgICAgICBoZWFkZXJzID0gaGVhZGVycy5zZXQoJ1Jlc3QtVmVyc2lvbicsIFN0cmluZyhyZXN0VmVyc2lvbikpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpZk1hdGNoICE9PSB1bmRlZmluZWQgJiYgaWZNYXRjaCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgaGVhZGVycyA9IGhlYWRlcnMuc2V0KCdJZi1NYXRjaCcsIFN0cmluZyhpZk1hdGNoKSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyB0byBkZXRlcm1pbmUgdGhlIEFjY2VwdCBoZWFkZXJcbiAgICAgICAgbGV0IGh0dHBIZWFkZXJBY2NlcHRzOiBzdHJpbmdbXSA9IFtcbiAgICAgICAgICAgICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgICAgICdhcHBsaWNhdGlvbi94bWwnXG4gICAgICAgIF07XG4gICAgICAgIGxldCBodHRwSGVhZGVyQWNjZXB0U2VsZWN0ZWQ6IHN0cmluZyB8IHVuZGVmaW5lZCA9IHRoaXMuY29uZmlndXJhdGlvbi5zZWxlY3RIZWFkZXJBY2NlcHQoaHR0cEhlYWRlckFjY2VwdHMpO1xuICAgICAgICBpZiAoaHR0cEhlYWRlckFjY2VwdFNlbGVjdGVkICE9IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgaGVhZGVycyA9IGhlYWRlcnMuc2V0KFwiQWNjZXB0XCIsIGh0dHBIZWFkZXJBY2NlcHRTZWxlY3RlZCk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyB0byBkZXRlcm1pbmUgdGhlIENvbnRlbnQtVHlwZSBoZWFkZXJcbiAgICAgICAgbGV0IGNvbnN1bWVzOiBzdHJpbmdbXSA9IFtcbiAgICAgICAgICAgICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgICAgICdhcHBsaWNhdGlvbi94bWwnXG4gICAgICAgIF07XG4gICAgICAgIGxldCBodHRwQ29udGVudFR5cGVTZWxlY3RlZDpzdHJpbmcgfCB1bmRlZmluZWQgPSB0aGlzLmNvbmZpZ3VyYXRpb24uc2VsZWN0SGVhZGVyQ29udGVudFR5cGUoY29uc3VtZXMpO1xuICAgICAgICBpZiAoaHR0cENvbnRlbnRUeXBlU2VsZWN0ZWQgIT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBoZWFkZXJzID0gaGVhZGVycy5zZXQoXCJDb250ZW50LVR5cGVcIiwgaHR0cENvbnRlbnRUeXBlU2VsZWN0ZWQpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuaHR0cENsaWVudC5wdXQ8Q29kZVRhYmxlUmVzb3VyY2U+KGAke3RoaXMuYmFzZVBhdGh9L2NvZGVUYWJsZXMvJHtlbmNvZGVVUklDb21wb25lbnQoU3RyaW5nKGNvZGVUYWJsZU5hbWUpKX1gLFxuICAgICAgICAgICAgY29kZVRhYmxlLFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHdpdGhDcmVkZW50aWFsczogdGhpcy5jb25maWd1cmF0aW9uLndpdGhDcmVkZW50aWFscyxcbiAgICAgICAgICAgICAgICBoZWFkZXJzOiBoZWFkZXJzLFxuICAgICAgICAgICAgICAgIG9ic2VydmU6IG9ic2VydmUsXG4gICAgICAgICAgICAgICAgcmVwb3J0UHJvZ3Jlc3M6IHJlcG9ydFByb2dyZXNzXG4gICAgICAgICAgICB9XG4gICAgICAgICk7XG4gICAgfVxuXG59XG4iLCIvKipcbiAqIFdpbGRmaXJlIE9yZyBVbml0IFJFU1QgQVBJXG4gKiBUaGUgV2lsZGZpcmUgT3JnIFVuaXQgUkVTVCBBUEkuXG4gKlxuICogT3BlbkFQSSBzcGVjIHZlcnNpb246IDEuMC4wLVNOQVBTSE9UXG4gKiBcbiAqXG4gKiBOT1RFOiBUaGlzIGNsYXNzIGlzIGF1dG8gZ2VuZXJhdGVkIGJ5IHRoZSBzd2FnZ2VyIGNvZGUgZ2VuZXJhdG9yIHByb2dyYW0uXG4gKiBodHRwczovL2dpdGh1Yi5jb20vc3dhZ2dlci1hcGkvc3dhZ2dlci1jb2RlZ2VuLmdpdFxuICogRG8gbm90IGVkaXQgdGhlIGNsYXNzIG1hbnVhbGx5LlxuICovXG4vKiB0c2xpbnQ6ZGlzYWJsZTpuby11bnVzZWQtdmFyaWFibGUgbWVtYmVyLW9yZGVyaW5nICovXG5cbmltcG9ydCB7IEluamVjdCwgSW5qZWN0YWJsZSwgT3B0aW9uYWwgfSAgICAgICAgICAgICAgICAgICAgICBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IEh0dHBDbGllbnQsIEh0dHBIZWFkZXJzLCBIdHRwUGFyYW1zLFxuICAgICAgICAgSHR0cFJlc3BvbnNlLCBIdHRwRXZlbnQgfSAgICAgICAgICAgICAgICAgICAgICAgICAgIGZyb20gJ0Bhbmd1bGFyL2NvbW1vbi9odHRwJztcbmltcG9ydCB7IEN1c3RvbUh0dHBVcmxFbmNvZGluZ0NvZGVjIH0gICAgICAgICAgICAgICAgICAgICAgICBmcm9tICcuLi9lbmNvZGVyJztcblxuaW1wb3J0IHsgT2JzZXJ2YWJsZSB9ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZyb20gJ3J4anMnO1xuXG5pbXBvcnQgeyBDb2RlVGFibGVMaXN0UmVzb3VyY2UgfSBmcm9tICcuLi9tb2RlbC9jb2RlVGFibGVMaXN0UmVzb3VyY2UnO1xuaW1wb3J0IHsgTWVzc2FnZXMgfSBmcm9tICcuLi9tb2RlbC9tZXNzYWdlcyc7XG5cbmltcG9ydCB7IEJBU0VfUEFUSCwgQ09MTEVDVElPTl9GT1JNQVRTIH0gICAgICAgICAgICAgICAgICAgICBmcm9tICcuLi92YXJpYWJsZXMnO1xuaW1wb3J0IHsgT3JnVW5pdENvbmZpZ3VyYXRpb24gfSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmcm9tICcuLi9jb25maWd1cmF0aW9uJztcblxuXG5ASW5qZWN0YWJsZSgpXG5leHBvcnQgY2xhc3MgQ29kZVRhYmxlTGlzdEVuZHBvaW50c1NlcnZpY2Uge1xuXG4gICAgcHJvdGVjdGVkIGJhc2VQYXRoID0gJ2h0dHBzOi8vaHR0cHM6Ly9kMWFwaS52aXZpZHNvbHV0aW9ucy5jb20vd2Zvcmctb3JnLXVuaXQtYXBpJztcbiAgICBwdWJsaWMgZGVmYXVsdEhlYWRlcnMgPSBuZXcgSHR0cEhlYWRlcnMoKTtcbiAgICBwdWJsaWMgY29uZmlndXJhdGlvbiA9IG5ldyBPcmdVbml0Q29uZmlndXJhdGlvbigpO1xuXG4gICAgY29uc3RydWN0b3IocHJvdGVjdGVkIGh0dHBDbGllbnQ6IEh0dHBDbGllbnQsIEBPcHRpb25hbCgpQEluamVjdChCQVNFX1BBVEgpIGJhc2VQYXRoOiBzdHJpbmcsIEBPcHRpb25hbCgpIGNvbmZpZ3VyYXRpb246IE9yZ1VuaXRDb25maWd1cmF0aW9uKSB7XG4gICAgICAgIGlmIChiYXNlUGF0aCkge1xuICAgICAgICAgICAgdGhpcy5iYXNlUGF0aCA9IGJhc2VQYXRoO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjb25maWd1cmF0aW9uKSB7XG4gICAgICAgICAgICB0aGlzLmNvbmZpZ3VyYXRpb24gPSBjb25maWd1cmF0aW9uO1xuICAgICAgICAgICAgdGhpcy5iYXNlUGF0aCA9IGJhc2VQYXRoIHx8IGNvbmZpZ3VyYXRpb24uYmFzZVBhdGggfHwgdGhpcy5iYXNlUGF0aDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBwYXJhbSBjb25zdW1lcyBzdHJpbmdbXSBtaW1lLXR5cGVzXG4gICAgICogQHJldHVybiB0cnVlOiBjb25zdW1lcyBjb250YWlucyAnbXVsdGlwYXJ0L2Zvcm0tZGF0YScsIGZhbHNlOiBvdGhlcndpc2VcbiAgICAgKi9cbiAgICBwcml2YXRlIGNhbkNvbnN1bWVGb3JtKGNvbnN1bWVzOiBzdHJpbmdbXSk6IGJvb2xlYW4ge1xuICAgICAgICBjb25zdCBmb3JtID0gJ211bHRpcGFydC9mb3JtLWRhdGEnO1xuICAgICAgICBmb3IgKGxldCBjb25zdW1lIG9mIGNvbnN1bWVzKSB7XG4gICAgICAgICAgICBpZiAoZm9ybSA9PT0gY29uc3VtZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cblxuICAgIC8qKlxuICAgICAqIEdldCBDb2RlIFRhYmxlIExpc3QgUmVzb3VyY2VcbiAgICAgKiBHZXQgQ29kZSBUYWJsZSBMaXN0IFJlc291cmNlXG4gICAgICogQHBhcmFtIGVmZmVjdGl2ZUFzT2ZEYXRlIFJldHVybiB0aGUgcmVzdWx0cyBhcyBvZiB0aGUgZWZmZWN0aXZlQXNPZkRhdGUuXG4gICAgICogQHBhcmFtIGNvZGVUYWJsZU5hbWUgRmlsdGVyIHRoZSByZXN1bHRzIGJ5IHRoZSBjb2RlVGFibGVOYW1lLlxuICAgICAqIEBwYXJhbSByZXN0VmVyc2lvbiBUaGUgdmVyc2lvbiBvZiB0aGUgUmVzdCBBUEkgc3VwcG9ydGVkIGJ5IHRoZSByZXF1ZXN0aW5nIGNsaWVudC5cbiAgICAgKiBAcGFyYW0gb2JzZXJ2ZSBzZXQgd2hldGhlciBvciBub3QgdG8gcmV0dXJuIHRoZSBkYXRhIE9ic2VydmFibGUgYXMgdGhlIGJvZHksIHJlc3BvbnNlIG9yIGV2ZW50cy4gZGVmYXVsdHMgdG8gcmV0dXJuaW5nIHRoZSBib2R5LlxuICAgICAqIEBwYXJhbSByZXBvcnRQcm9ncmVzcyBmbGFnIHRvIHJlcG9ydCByZXF1ZXN0IGFuZCByZXNwb25zZSBwcm9ncmVzcy5cbiAgICAgKi9cbiAgICBwdWJsaWMgZ2V0Q29kZVRhYmxlTGlzdDEoZWZmZWN0aXZlQXNPZkRhdGU/OiBzdHJpbmcsIGNvZGVUYWJsZU5hbWU/OiBzdHJpbmcsIHJlc3RWZXJzaW9uPzogbnVtYmVyLCBvYnNlcnZlPzogJ2JvZHknLCByZXBvcnRQcm9ncmVzcz86IGJvb2xlYW4pOiBPYnNlcnZhYmxlPENvZGVUYWJsZUxpc3RSZXNvdXJjZT47XG4gICAgcHVibGljIGdldENvZGVUYWJsZUxpc3QxKGVmZmVjdGl2ZUFzT2ZEYXRlPzogc3RyaW5nLCBjb2RlVGFibGVOYW1lPzogc3RyaW5nLCByZXN0VmVyc2lvbj86IG51bWJlciwgb2JzZXJ2ZT86ICdyZXNwb25zZScsIHJlcG9ydFByb2dyZXNzPzogYm9vbGVhbik6IE9ic2VydmFibGU8SHR0cFJlc3BvbnNlPENvZGVUYWJsZUxpc3RSZXNvdXJjZT4+O1xuICAgIHB1YmxpYyBnZXRDb2RlVGFibGVMaXN0MShlZmZlY3RpdmVBc09mRGF0ZT86IHN0cmluZywgY29kZVRhYmxlTmFtZT86IHN0cmluZywgcmVzdFZlcnNpb24/OiBudW1iZXIsIG9ic2VydmU/OiAnZXZlbnRzJywgcmVwb3J0UHJvZ3Jlc3M/OiBib29sZWFuKTogT2JzZXJ2YWJsZTxIdHRwRXZlbnQ8Q29kZVRhYmxlTGlzdFJlc291cmNlPj47XG4gICAgcHVibGljIGdldENvZGVUYWJsZUxpc3QxKGVmZmVjdGl2ZUFzT2ZEYXRlPzogc3RyaW5nLCBjb2RlVGFibGVOYW1lPzogc3RyaW5nLCByZXN0VmVyc2lvbj86IG51bWJlciwgb2JzZXJ2ZTogYW55ID0gJ2JvZHknLCByZXBvcnRQcm9ncmVzczogYm9vbGVhbiA9IGZhbHNlICk6IE9ic2VydmFibGU8YW55PiB7XG5cbiAgICAgICAgbGV0IHF1ZXJ5UGFyYW1ldGVycyA9IG5ldyBIdHRwUGFyYW1zKHtlbmNvZGVyOiBuZXcgQ3VzdG9tSHR0cFVybEVuY29kaW5nQ29kZWMoKX0pO1xuICAgICAgICBpZiAoZWZmZWN0aXZlQXNPZkRhdGUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcXVlcnlQYXJhbWV0ZXJzID0gcXVlcnlQYXJhbWV0ZXJzLnNldCgnZWZmZWN0aXZlQXNPZkRhdGUnLCA8YW55PmVmZmVjdGl2ZUFzT2ZEYXRlKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY29kZVRhYmxlTmFtZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBxdWVyeVBhcmFtZXRlcnMgPSBxdWVyeVBhcmFtZXRlcnMuc2V0KCdjb2RlVGFibGVOYW1lJywgPGFueT5jb2RlVGFibGVOYW1lKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBoZWFkZXJzID0gdGhpcy5kZWZhdWx0SGVhZGVycztcbiAgICAgICAgaWYgKHJlc3RWZXJzaW9uICE9PSB1bmRlZmluZWQgJiYgcmVzdFZlcnNpb24gIT09IG51bGwpIHtcbiAgICAgICAgICAgIGhlYWRlcnMgPSBoZWFkZXJzLnNldCgnUmVzdC1WZXJzaW9uJywgU3RyaW5nKHJlc3RWZXJzaW9uKSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyB0byBkZXRlcm1pbmUgdGhlIEFjY2VwdCBoZWFkZXJcbiAgICAgICAgbGV0IGh0dHBIZWFkZXJBY2NlcHRzOiBzdHJpbmdbXSA9IFtcbiAgICAgICAgICAgICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgICAgICdhcHBsaWNhdGlvbi94bWwnXG4gICAgICAgIF07XG4gICAgICAgIGxldCBodHRwSGVhZGVyQWNjZXB0U2VsZWN0ZWQ6IHN0cmluZyB8IHVuZGVmaW5lZCA9IHRoaXMuY29uZmlndXJhdGlvbi5zZWxlY3RIZWFkZXJBY2NlcHQoaHR0cEhlYWRlckFjY2VwdHMpO1xuICAgICAgICBpZiAoaHR0cEhlYWRlckFjY2VwdFNlbGVjdGVkICE9IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgaGVhZGVycyA9IGhlYWRlcnMuc2V0KFwiQWNjZXB0XCIsIGh0dHBIZWFkZXJBY2NlcHRTZWxlY3RlZCk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyB0byBkZXRlcm1pbmUgdGhlIENvbnRlbnQtVHlwZSBoZWFkZXJcbiAgICAgICAgbGV0IGNvbnN1bWVzOiBzdHJpbmdbXSA9IFtcbiAgICAgICAgXTtcblxuICAgICAgICByZXR1cm4gdGhpcy5odHRwQ2xpZW50LmdldDxDb2RlVGFibGVMaXN0UmVzb3VyY2U+KGAke3RoaXMuYmFzZVBhdGh9L2NvZGVUYWJsZXNgLFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHBhcmFtczogcXVlcnlQYXJhbWV0ZXJzLFxuICAgICAgICAgICAgICAgIHdpdGhDcmVkZW50aWFsczogdGhpcy5jb25maWd1cmF0aW9uLndpdGhDcmVkZW50aWFscyxcbiAgICAgICAgICAgICAgICBoZWFkZXJzOiBoZWFkZXJzLFxuICAgICAgICAgICAgICAgIG9ic2VydmU6IG9ic2VydmUsXG4gICAgICAgICAgICAgICAgcmVwb3J0UHJvZ3Jlc3M6IHJlcG9ydFByb2dyZXNzXG4gICAgICAgICAgICB9XG4gICAgICAgICk7XG4gICAgfVxuXG59XG4iLCIvKipcbiAqIFdpbGRmaXJlIE9yZyBVbml0IFJFU1QgQVBJXG4gKiBUaGUgV2lsZGZpcmUgT3JnIFVuaXQgUkVTVCBBUEkuXG4gKlxuICogT3BlbkFQSSBzcGVjIHZlcnNpb246IDEuMC4wLVNOQVBTSE9UXG4gKiBcbiAqXG4gKiBOT1RFOiBUaGlzIGNsYXNzIGlzIGF1dG8gZ2VuZXJhdGVkIGJ5IHRoZSBzd2FnZ2VyIGNvZGUgZ2VuZXJhdG9yIHByb2dyYW0uXG4gKiBodHRwczovL2dpdGh1Yi5jb20vc3dhZ2dlci1hcGkvc3dhZ2dlci1jb2RlZ2VuLmdpdFxuICogRG8gbm90IGVkaXQgdGhlIGNsYXNzIG1hbnVhbGx5LlxuICovXG4vKiB0c2xpbnQ6ZGlzYWJsZTpuby11bnVzZWQtdmFyaWFibGUgbWVtYmVyLW9yZGVyaW5nICovXG5cbmltcG9ydCB7IEluamVjdCwgSW5qZWN0YWJsZSwgT3B0aW9uYWwgfSAgICAgICAgICAgICAgICAgICAgICBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IEh0dHBDbGllbnQsIEh0dHBIZWFkZXJzLCBIdHRwUGFyYW1zLFxuICAgICAgICAgSHR0cFJlc3BvbnNlLCBIdHRwRXZlbnQgfSAgICAgICAgICAgICAgICAgICAgICAgICAgIGZyb20gJ0Bhbmd1bGFyL2NvbW1vbi9odHRwJztcbmltcG9ydCB7IEN1c3RvbUh0dHBVcmxFbmNvZGluZ0NvZGVjIH0gICAgICAgICAgICAgICAgICAgICAgICBmcm9tICcuLi9lbmNvZGVyJztcblxuaW1wb3J0IHsgT2JzZXJ2YWJsZSB9ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZyb20gJ3J4anMnO1xuXG5pbXBvcnQgeyBMb2NhdGlvbkFkZHJlc3NSZXNvdXJjZSB9IGZyb20gJy4uL21vZGVsL2xvY2F0aW9uQWRkcmVzc1Jlc291cmNlJztcbmltcG9ydCB7IE1lc3NhZ2VzIH0gZnJvbSAnLi4vbW9kZWwvbWVzc2FnZXMnO1xuXG5pbXBvcnQgeyBCQVNFX1BBVEgsIENPTExFQ1RJT05fRk9STUFUUyB9ICAgICAgICAgICAgICAgICAgICAgZnJvbSAnLi4vdmFyaWFibGVzJztcbmltcG9ydCB7IE9yZ1VuaXRDb25maWd1cmF0aW9uIH0gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZnJvbSAnLi4vY29uZmlndXJhdGlvbic7XG5cblxuQEluamVjdGFibGUoKVxuZXhwb3J0IGNsYXNzIExvY2F0aW9uQWRkcmVzc1NlcnZpY2Uge1xuXG4gICAgcHJvdGVjdGVkIGJhc2VQYXRoID0gJ2h0dHBzOi8vaHR0cHM6Ly9kMWFwaS52aXZpZHNvbHV0aW9ucy5jb20vd2Zvcmctb3JnLXVuaXQtYXBpJztcbiAgICBwdWJsaWMgZGVmYXVsdEhlYWRlcnMgPSBuZXcgSHR0cEhlYWRlcnMoKTtcbiAgICBwdWJsaWMgY29uZmlndXJhdGlvbiA9IG5ldyBPcmdVbml0Q29uZmlndXJhdGlvbigpO1xuXG4gICAgY29uc3RydWN0b3IocHJvdGVjdGVkIGh0dHBDbGllbnQ6IEh0dHBDbGllbnQsIEBPcHRpb25hbCgpQEluamVjdChCQVNFX1BBVEgpIGJhc2VQYXRoOiBzdHJpbmcsIEBPcHRpb25hbCgpIGNvbmZpZ3VyYXRpb246IE9yZ1VuaXRDb25maWd1cmF0aW9uKSB7XG4gICAgICAgIGlmIChiYXNlUGF0aCkge1xuICAgICAgICAgICAgdGhpcy5iYXNlUGF0aCA9IGJhc2VQYXRoO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjb25maWd1cmF0aW9uKSB7XG4gICAgICAgICAgICB0aGlzLmNvbmZpZ3VyYXRpb24gPSBjb25maWd1cmF0aW9uO1xuICAgICAgICAgICAgdGhpcy5iYXNlUGF0aCA9IGJhc2VQYXRoIHx8IGNvbmZpZ3VyYXRpb24uYmFzZVBhdGggfHwgdGhpcy5iYXNlUGF0aDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBwYXJhbSBjb25zdW1lcyBzdHJpbmdbXSBtaW1lLXR5cGVzXG4gICAgICogQHJldHVybiB0cnVlOiBjb25zdW1lcyBjb250YWlucyAnbXVsdGlwYXJ0L2Zvcm0tZGF0YScsIGZhbHNlOiBvdGhlcndpc2VcbiAgICAgKi9cbiAgICBwcml2YXRlIGNhbkNvbnN1bWVGb3JtKGNvbnN1bWVzOiBzdHJpbmdbXSk6IGJvb2xlYW4ge1xuICAgICAgICBjb25zdCBmb3JtID0gJ211bHRpcGFydC9mb3JtLWRhdGEnO1xuICAgICAgICBmb3IgKGxldCBjb25zdW1lIG9mIGNvbnN1bWVzKSB7XG4gICAgICAgICAgICBpZiAoZm9ybSA9PT0gY29uc3VtZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cblxuICAgIC8qKlxuICAgICAqIEdldCBhIExvY2F0aW9uIEFkZHJlc3MgYnkgSUQuXG4gICAgICogR2V0IGEgTG9jYXRpb24gQWRkcmVzcyBieSBJRC5cbiAgICAgKiBAcGFyYW0gb3JnVW5pdElkIFRoZSBpZGVudGlmaWVyIG9mIHRoZSBPcmcgVW5pdCByZXNvdXJjZS5cbiAgICAgKiBAcGFyYW0gb3JnVW5pdExvY2F0aW9uSWQgVGhlIGlkZW50aWZpZXIgb2YgdGhlIE9yZyBVbml0IExvY2F0aW9uIHJlc291cmNlLlxuICAgICAqIEBwYXJhbSBsb2NhdGlvbkFkZHJlc3NJZCBUaGUgaWRlbnRpZmllciBvZiB0aGUgTG9jYXRpb24gQWRkcmVzcyByZXNvdXJjZS5cbiAgICAgKiBAcGFyYW0gZWZmZWN0aXZlQXNPZkRhdGUgUmV0dXJuIHRoZSByZXN1bHRzIGFzIG9mIHRoZSBlZmZlY3RpdmVBc09mRGF0ZS5cbiAgICAgKiBAcGFyYW0gcmVzdFZlcnNpb24gVGhlIHZlcnNpb24gb2YgdGhlIFJlc3QgQVBJIHN1cHBvcnRlZCBieSB0aGUgcmVxdWVzdGluZyBjbGllbnQuXG4gICAgICogQHBhcmFtIG9ic2VydmUgc2V0IHdoZXRoZXIgb3Igbm90IHRvIHJldHVybiB0aGUgZGF0YSBPYnNlcnZhYmxlIGFzIHRoZSBib2R5LCByZXNwb25zZSBvciBldmVudHMuIGRlZmF1bHRzIHRvIHJldHVybmluZyB0aGUgYm9keS5cbiAgICAgKiBAcGFyYW0gcmVwb3J0UHJvZ3Jlc3MgZmxhZyB0byByZXBvcnQgcmVxdWVzdCBhbmQgcmVzcG9uc2UgcHJvZ3Jlc3MuXG4gICAgICovXG4gICAgcHVibGljIGdldExvY2F0aW9uQWRkcmVzcyhvcmdVbml0SWQ6IHN0cmluZywgb3JnVW5pdExvY2F0aW9uSWQ6IHN0cmluZywgbG9jYXRpb25BZGRyZXNzSWQ6IHN0cmluZywgZWZmZWN0aXZlQXNPZkRhdGU/OiBzdHJpbmcsIHJlc3RWZXJzaW9uPzogbnVtYmVyLCBvYnNlcnZlPzogJ2JvZHknLCByZXBvcnRQcm9ncmVzcz86IGJvb2xlYW4pOiBPYnNlcnZhYmxlPExvY2F0aW9uQWRkcmVzc1Jlc291cmNlPjtcbiAgICBwdWJsaWMgZ2V0TG9jYXRpb25BZGRyZXNzKG9yZ1VuaXRJZDogc3RyaW5nLCBvcmdVbml0TG9jYXRpb25JZDogc3RyaW5nLCBsb2NhdGlvbkFkZHJlc3NJZDogc3RyaW5nLCBlZmZlY3RpdmVBc09mRGF0ZT86IHN0cmluZywgcmVzdFZlcnNpb24/OiBudW1iZXIsIG9ic2VydmU/OiAncmVzcG9uc2UnLCByZXBvcnRQcm9ncmVzcz86IGJvb2xlYW4pOiBPYnNlcnZhYmxlPEh0dHBSZXNwb25zZTxMb2NhdGlvbkFkZHJlc3NSZXNvdXJjZT4+O1xuICAgIHB1YmxpYyBnZXRMb2NhdGlvbkFkZHJlc3Mob3JnVW5pdElkOiBzdHJpbmcsIG9yZ1VuaXRMb2NhdGlvbklkOiBzdHJpbmcsIGxvY2F0aW9uQWRkcmVzc0lkOiBzdHJpbmcsIGVmZmVjdGl2ZUFzT2ZEYXRlPzogc3RyaW5nLCByZXN0VmVyc2lvbj86IG51bWJlciwgb2JzZXJ2ZT86ICdldmVudHMnLCByZXBvcnRQcm9ncmVzcz86IGJvb2xlYW4pOiBPYnNlcnZhYmxlPEh0dHBFdmVudDxMb2NhdGlvbkFkZHJlc3NSZXNvdXJjZT4+O1xuICAgIHB1YmxpYyBnZXRMb2NhdGlvbkFkZHJlc3Mob3JnVW5pdElkOiBzdHJpbmcsIG9yZ1VuaXRMb2NhdGlvbklkOiBzdHJpbmcsIGxvY2F0aW9uQWRkcmVzc0lkOiBzdHJpbmcsIGVmZmVjdGl2ZUFzT2ZEYXRlPzogc3RyaW5nLCByZXN0VmVyc2lvbj86IG51bWJlciwgb2JzZXJ2ZTogYW55ID0gJ2JvZHknLCByZXBvcnRQcm9ncmVzczogYm9vbGVhbiA9IGZhbHNlICk6IE9ic2VydmFibGU8YW55PiB7XG4gICAgICAgIGlmIChvcmdVbml0SWQgPT09IG51bGwgfHwgb3JnVW5pdElkID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignUmVxdWlyZWQgcGFyYW1ldGVyIG9yZ1VuaXRJZCB3YXMgbnVsbCBvciB1bmRlZmluZWQgd2hlbiBjYWxsaW5nIGdldExvY2F0aW9uQWRkcmVzcy4nKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAob3JnVW5pdExvY2F0aW9uSWQgPT09IG51bGwgfHwgb3JnVW5pdExvY2F0aW9uSWQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdSZXF1aXJlZCBwYXJhbWV0ZXIgb3JnVW5pdExvY2F0aW9uSWQgd2FzIG51bGwgb3IgdW5kZWZpbmVkIHdoZW4gY2FsbGluZyBnZXRMb2NhdGlvbkFkZHJlc3MuJyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGxvY2F0aW9uQWRkcmVzc0lkID09PSBudWxsIHx8IGxvY2F0aW9uQWRkcmVzc0lkID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignUmVxdWlyZWQgcGFyYW1ldGVyIGxvY2F0aW9uQWRkcmVzc0lkIHdhcyBudWxsIG9yIHVuZGVmaW5lZCB3aGVuIGNhbGxpbmcgZ2V0TG9jYXRpb25BZGRyZXNzLicpO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IHF1ZXJ5UGFyYW1ldGVycyA9IG5ldyBIdHRwUGFyYW1zKHtlbmNvZGVyOiBuZXcgQ3VzdG9tSHR0cFVybEVuY29kaW5nQ29kZWMoKX0pO1xuICAgICAgICBpZiAoZWZmZWN0aXZlQXNPZkRhdGUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcXVlcnlQYXJhbWV0ZXJzID0gcXVlcnlQYXJhbWV0ZXJzLnNldCgnZWZmZWN0aXZlQXNPZkRhdGUnLCA8YW55PmVmZmVjdGl2ZUFzT2ZEYXRlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBoZWFkZXJzID0gdGhpcy5kZWZhdWx0SGVhZGVycztcbiAgICAgICAgaWYgKHJlc3RWZXJzaW9uICE9PSB1bmRlZmluZWQgJiYgcmVzdFZlcnNpb24gIT09IG51bGwpIHtcbiAgICAgICAgICAgIGhlYWRlcnMgPSBoZWFkZXJzLnNldCgnUmVzdC1WZXJzaW9uJywgU3RyaW5nKHJlc3RWZXJzaW9uKSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyB0byBkZXRlcm1pbmUgdGhlIEFjY2VwdCBoZWFkZXJcbiAgICAgICAgbGV0IGh0dHBIZWFkZXJBY2NlcHRzOiBzdHJpbmdbXSA9IFtcbiAgICAgICAgICAgICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgICAgICdhcHBsaWNhdGlvbi94bWwnXG4gICAgICAgIF07XG4gICAgICAgIGxldCBodHRwSGVhZGVyQWNjZXB0U2VsZWN0ZWQ6IHN0cmluZyB8IHVuZGVmaW5lZCA9IHRoaXMuY29uZmlndXJhdGlvbi5zZWxlY3RIZWFkZXJBY2NlcHQoaHR0cEhlYWRlckFjY2VwdHMpO1xuICAgICAgICBpZiAoaHR0cEhlYWRlckFjY2VwdFNlbGVjdGVkICE9IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgaGVhZGVycyA9IGhlYWRlcnMuc2V0KFwiQWNjZXB0XCIsIGh0dHBIZWFkZXJBY2NlcHRTZWxlY3RlZCk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyB0byBkZXRlcm1pbmUgdGhlIENvbnRlbnQtVHlwZSBoZWFkZXJcbiAgICAgICAgbGV0IGNvbnN1bWVzOiBzdHJpbmdbXSA9IFtcbiAgICAgICAgICAgICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgICAgICdhcHBsaWNhdGlvbi94bWwnXG4gICAgICAgIF07XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuaHR0cENsaWVudC5nZXQ8TG9jYXRpb25BZGRyZXNzUmVzb3VyY2U+KGAke3RoaXMuYmFzZVBhdGh9L29yZ1VuaXRzLyR7ZW5jb2RlVVJJQ29tcG9uZW50KFN0cmluZyhvcmdVbml0SWQpKX0vbG9jYXRpb25zLyR7ZW5jb2RlVVJJQ29tcG9uZW50KFN0cmluZyhvcmdVbml0TG9jYXRpb25JZCkpfS9hZGRyZXNzZXMvJHtlbmNvZGVVUklDb21wb25lbnQoU3RyaW5nKGxvY2F0aW9uQWRkcmVzc0lkKSl9YCxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBwYXJhbXM6IHF1ZXJ5UGFyYW1ldGVycyxcbiAgICAgICAgICAgICAgICB3aXRoQ3JlZGVudGlhbHM6IHRoaXMuY29uZmlndXJhdGlvbi53aXRoQ3JlZGVudGlhbHMsXG4gICAgICAgICAgICAgICAgaGVhZGVyczogaGVhZGVycyxcbiAgICAgICAgICAgICAgICBvYnNlcnZlOiBvYnNlcnZlLFxuICAgICAgICAgICAgICAgIHJlcG9ydFByb2dyZXNzOiByZXBvcnRQcm9ncmVzc1xuICAgICAgICAgICAgfVxuICAgICAgICApO1xuICAgIH1cblxufVxuIiwiLyoqXG4gKiBXaWxkZmlyZSBPcmcgVW5pdCBSRVNUIEFQSVxuICogVGhlIFdpbGRmaXJlIE9yZyBVbml0IFJFU1QgQVBJLlxuICpcbiAqIE9wZW5BUEkgc3BlYyB2ZXJzaW9uOiAxLjAuMC1TTkFQU0hPVFxuICogXG4gKlxuICogTk9URTogVGhpcyBjbGFzcyBpcyBhdXRvIGdlbmVyYXRlZCBieSB0aGUgc3dhZ2dlciBjb2RlIGdlbmVyYXRvciBwcm9ncmFtLlxuICogaHR0cHM6Ly9naXRodWIuY29tL3N3YWdnZXItYXBpL3N3YWdnZXItY29kZWdlbi5naXRcbiAqIERvIG5vdCBlZGl0IHRoZSBjbGFzcyBtYW51YWxseS5cbiAqL1xuLyogdHNsaW50OmRpc2FibGU6bm8tdW51c2VkLXZhcmlhYmxlIG1lbWJlci1vcmRlcmluZyAqL1xuXG5pbXBvcnQgeyBJbmplY3QsIEluamVjdGFibGUsIE9wdGlvbmFsIH0gICAgICAgICAgICAgICAgICAgICAgZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBIdHRwQ2xpZW50LCBIdHRwSGVhZGVycywgSHR0cFBhcmFtcyxcbiAgICAgICAgIEh0dHBSZXNwb25zZSwgSHR0cEV2ZW50IH0gICAgICAgICAgICAgICAgICAgICAgICAgICBmcm9tICdAYW5ndWxhci9jb21tb24vaHR0cCc7XG5pbXBvcnQgeyBDdXN0b21IdHRwVXJsRW5jb2RpbmdDb2RlYyB9ICAgICAgICAgICAgICAgICAgICAgICAgZnJvbSAnLi4vZW5jb2Rlcic7XG5cbmltcG9ydCB7IE9ic2VydmFibGUgfSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmcm9tICdyeGpzJztcblxuaW1wb3J0IHsgTG9jYXRpb25Db250YWN0UmVzb3VyY2UgfSBmcm9tICcuLi9tb2RlbC9sb2NhdGlvbkNvbnRhY3RSZXNvdXJjZSc7XG5pbXBvcnQgeyBNZXNzYWdlcyB9IGZyb20gJy4uL21vZGVsL21lc3NhZ2VzJztcblxuaW1wb3J0IHsgQkFTRV9QQVRILCBDT0xMRUNUSU9OX0ZPUk1BVFMgfSAgICAgICAgICAgICAgICAgICAgIGZyb20gJy4uL3ZhcmlhYmxlcyc7XG5pbXBvcnQgeyBPcmdVbml0Q29uZmlndXJhdGlvbiB9ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZyb20gJy4uL2NvbmZpZ3VyYXRpb24nO1xuXG5cbkBJbmplY3RhYmxlKClcbmV4cG9ydCBjbGFzcyBMb2NhdGlvbkNvbnRhY3RTZXJ2aWNlIHtcblxuICAgIHByb3RlY3RlZCBiYXNlUGF0aCA9ICdodHRwczovL2h0dHBzOi8vZDFhcGkudml2aWRzb2x1dGlvbnMuY29tL3dmb3JnLW9yZy11bml0LWFwaSc7XG4gICAgcHVibGljIGRlZmF1bHRIZWFkZXJzID0gbmV3IEh0dHBIZWFkZXJzKCk7XG4gICAgcHVibGljIGNvbmZpZ3VyYXRpb24gPSBuZXcgT3JnVW5pdENvbmZpZ3VyYXRpb24oKTtcblxuICAgIGNvbnN0cnVjdG9yKHByb3RlY3RlZCBodHRwQ2xpZW50OiBIdHRwQ2xpZW50LCBAT3B0aW9uYWwoKUBJbmplY3QoQkFTRV9QQVRIKSBiYXNlUGF0aDogc3RyaW5nLCBAT3B0aW9uYWwoKSBjb25maWd1cmF0aW9uOiBPcmdVbml0Q29uZmlndXJhdGlvbikge1xuICAgICAgICBpZiAoYmFzZVBhdGgpIHtcbiAgICAgICAgICAgIHRoaXMuYmFzZVBhdGggPSBiYXNlUGF0aDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY29uZmlndXJhdGlvbikge1xuICAgICAgICAgICAgdGhpcy5jb25maWd1cmF0aW9uID0gY29uZmlndXJhdGlvbjtcbiAgICAgICAgICAgIHRoaXMuYmFzZVBhdGggPSBiYXNlUGF0aCB8fCBjb25maWd1cmF0aW9uLmJhc2VQYXRoIHx8IHRoaXMuYmFzZVBhdGg7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAcGFyYW0gY29uc3VtZXMgc3RyaW5nW10gbWltZS10eXBlc1xuICAgICAqIEByZXR1cm4gdHJ1ZTogY29uc3VtZXMgY29udGFpbnMgJ211bHRpcGFydC9mb3JtLWRhdGEnLCBmYWxzZTogb3RoZXJ3aXNlXG4gICAgICovXG4gICAgcHJpdmF0ZSBjYW5Db25zdW1lRm9ybShjb25zdW1lczogc3RyaW5nW10pOiBib29sZWFuIHtcbiAgICAgICAgY29uc3QgZm9ybSA9ICdtdWx0aXBhcnQvZm9ybS1kYXRhJztcbiAgICAgICAgZm9yIChsZXQgY29uc3VtZSBvZiBjb25zdW1lcykge1xuICAgICAgICAgICAgaWYgKGZvcm0gPT09IGNvbnN1bWUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAgKiBHZXQgYSBMb2NhdGlvbiBDb250YWN0IGJ5IElELlxuICAgICAqIEdldCBhIExvY2F0aW9uIENvbnRhY3QgYnkgSUQuXG4gICAgICogQHBhcmFtIG9yZ1VuaXRJZCBUaGUgaWRlbnRpZmllciBvZiB0aGUgT3JnIFVuaXQgcmVzb3VyY2UuXG4gICAgICogQHBhcmFtIG9yZ1VuaXRMb2NhdGlvbklkIFRoZSBpZGVudGlmaWVyIG9mIHRoZSBPcmcgVW5pdCBMb2NhdGlvbiByZXNvdXJjZS5cbiAgICAgKiBAcGFyYW0gbG9jYXRpb25Db250YWN0SWQgVGhlIGlkZW50aWZpZXIgb2YgdGhlIExvY2F0aW9uIENvbnRhY3QgcmVzb3VyY2UuXG4gICAgICogQHBhcmFtIGVmZmVjdGl2ZUFzT2ZEYXRlIFJldHVybiB0aGUgcmVzdWx0cyBhcyBvZiB0aGUgZWZmZWN0aXZlQXNPZkRhdGUuXG4gICAgICogQHBhcmFtIHJlc3RWZXJzaW9uIFRoZSB2ZXJzaW9uIG9mIHRoZSBSZXN0IEFQSSBzdXBwb3J0ZWQgYnkgdGhlIHJlcXVlc3RpbmcgY2xpZW50LlxuICAgICAqIEBwYXJhbSBvYnNlcnZlIHNldCB3aGV0aGVyIG9yIG5vdCB0byByZXR1cm4gdGhlIGRhdGEgT2JzZXJ2YWJsZSBhcyB0aGUgYm9keSwgcmVzcG9uc2Ugb3IgZXZlbnRzLiBkZWZhdWx0cyB0byByZXR1cm5pbmcgdGhlIGJvZHkuXG4gICAgICogQHBhcmFtIHJlcG9ydFByb2dyZXNzIGZsYWcgdG8gcmVwb3J0IHJlcXVlc3QgYW5kIHJlc3BvbnNlIHByb2dyZXNzLlxuICAgICAqL1xuICAgIHB1YmxpYyBnZXRMb2NhdGlvbkNvbnRhY3QxKG9yZ1VuaXRJZDogc3RyaW5nLCBvcmdVbml0TG9jYXRpb25JZDogc3RyaW5nLCBsb2NhdGlvbkNvbnRhY3RJZDogc3RyaW5nLCBlZmZlY3RpdmVBc09mRGF0ZT86IHN0cmluZywgcmVzdFZlcnNpb24/OiBudW1iZXIsIG9ic2VydmU/OiAnYm9keScsIHJlcG9ydFByb2dyZXNzPzogYm9vbGVhbik6IE9ic2VydmFibGU8TG9jYXRpb25Db250YWN0UmVzb3VyY2U+O1xuICAgIHB1YmxpYyBnZXRMb2NhdGlvbkNvbnRhY3QxKG9yZ1VuaXRJZDogc3RyaW5nLCBvcmdVbml0TG9jYXRpb25JZDogc3RyaW5nLCBsb2NhdGlvbkNvbnRhY3RJZDogc3RyaW5nLCBlZmZlY3RpdmVBc09mRGF0ZT86IHN0cmluZywgcmVzdFZlcnNpb24/OiBudW1iZXIsIG9ic2VydmU/OiAncmVzcG9uc2UnLCByZXBvcnRQcm9ncmVzcz86IGJvb2xlYW4pOiBPYnNlcnZhYmxlPEh0dHBSZXNwb25zZTxMb2NhdGlvbkNvbnRhY3RSZXNvdXJjZT4+O1xuICAgIHB1YmxpYyBnZXRMb2NhdGlvbkNvbnRhY3QxKG9yZ1VuaXRJZDogc3RyaW5nLCBvcmdVbml0TG9jYXRpb25JZDogc3RyaW5nLCBsb2NhdGlvbkNvbnRhY3RJZDogc3RyaW5nLCBlZmZlY3RpdmVBc09mRGF0ZT86IHN0cmluZywgcmVzdFZlcnNpb24/OiBudW1iZXIsIG9ic2VydmU/OiAnZXZlbnRzJywgcmVwb3J0UHJvZ3Jlc3M/OiBib29sZWFuKTogT2JzZXJ2YWJsZTxIdHRwRXZlbnQ8TG9jYXRpb25Db250YWN0UmVzb3VyY2U+PjtcbiAgICBwdWJsaWMgZ2V0TG9jYXRpb25Db250YWN0MShvcmdVbml0SWQ6IHN0cmluZywgb3JnVW5pdExvY2F0aW9uSWQ6IHN0cmluZywgbG9jYXRpb25Db250YWN0SWQ6IHN0cmluZywgZWZmZWN0aXZlQXNPZkRhdGU/OiBzdHJpbmcsIHJlc3RWZXJzaW9uPzogbnVtYmVyLCBvYnNlcnZlOiBhbnkgPSAnYm9keScsIHJlcG9ydFByb2dyZXNzOiBib29sZWFuID0gZmFsc2UgKTogT2JzZXJ2YWJsZTxhbnk+IHtcbiAgICAgICAgaWYgKG9yZ1VuaXRJZCA9PT0gbnVsbCB8fCBvcmdVbml0SWQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdSZXF1aXJlZCBwYXJhbWV0ZXIgb3JnVW5pdElkIHdhcyBudWxsIG9yIHVuZGVmaW5lZCB3aGVuIGNhbGxpbmcgZ2V0TG9jYXRpb25Db250YWN0MS4nKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAob3JnVW5pdExvY2F0aW9uSWQgPT09IG51bGwgfHwgb3JnVW5pdExvY2F0aW9uSWQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdSZXF1aXJlZCBwYXJhbWV0ZXIgb3JnVW5pdExvY2F0aW9uSWQgd2FzIG51bGwgb3IgdW5kZWZpbmVkIHdoZW4gY2FsbGluZyBnZXRMb2NhdGlvbkNvbnRhY3QxLicpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChsb2NhdGlvbkNvbnRhY3RJZCA9PT0gbnVsbCB8fCBsb2NhdGlvbkNvbnRhY3RJZCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1JlcXVpcmVkIHBhcmFtZXRlciBsb2NhdGlvbkNvbnRhY3RJZCB3YXMgbnVsbCBvciB1bmRlZmluZWQgd2hlbiBjYWxsaW5nIGdldExvY2F0aW9uQ29udGFjdDEuJyk7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgcXVlcnlQYXJhbWV0ZXJzID0gbmV3IEh0dHBQYXJhbXMoe2VuY29kZXI6IG5ldyBDdXN0b21IdHRwVXJsRW5jb2RpbmdDb2RlYygpfSk7XG4gICAgICAgIGlmIChlZmZlY3RpdmVBc09mRGF0ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBxdWVyeVBhcmFtZXRlcnMgPSBxdWVyeVBhcmFtZXRlcnMuc2V0KCdlZmZlY3RpdmVBc09mRGF0ZScsIDxhbnk+ZWZmZWN0aXZlQXNPZkRhdGUpO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IGhlYWRlcnMgPSB0aGlzLmRlZmF1bHRIZWFkZXJzO1xuICAgICAgICBpZiAocmVzdFZlcnNpb24gIT09IHVuZGVmaW5lZCAmJiByZXN0VmVyc2lvbiAhPT0gbnVsbCkge1xuICAgICAgICAgICAgaGVhZGVycyA9IGhlYWRlcnMuc2V0KCdSZXN0LVZlcnNpb24nLCBTdHJpbmcocmVzdFZlcnNpb24pKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHRvIGRldGVybWluZSB0aGUgQWNjZXB0IGhlYWRlclxuICAgICAgICBsZXQgaHR0cEhlYWRlckFjY2VwdHM6IHN0cmluZ1tdID0gW1xuICAgICAgICAgICAgJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgICAgICAgJ2FwcGxpY2F0aW9uL3htbCdcbiAgICAgICAgXTtcbiAgICAgICAgbGV0IGh0dHBIZWFkZXJBY2NlcHRTZWxlY3RlZDogc3RyaW5nIHwgdW5kZWZpbmVkID0gdGhpcy5jb25maWd1cmF0aW9uLnNlbGVjdEhlYWRlckFjY2VwdChodHRwSGVhZGVyQWNjZXB0cyk7XG4gICAgICAgIGlmIChodHRwSGVhZGVyQWNjZXB0U2VsZWN0ZWQgIT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBoZWFkZXJzID0gaGVhZGVycy5zZXQoXCJBY2NlcHRcIiwgaHR0cEhlYWRlckFjY2VwdFNlbGVjdGVkKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHRvIGRldGVybWluZSB0aGUgQ29udGVudC1UeXBlIGhlYWRlclxuICAgICAgICBsZXQgY29uc3VtZXM6IHN0cmluZ1tdID0gW1xuICAgICAgICBdO1xuXG4gICAgICAgIHJldHVybiB0aGlzLmh0dHBDbGllbnQuZ2V0PExvY2F0aW9uQ29udGFjdFJlc291cmNlPihgJHt0aGlzLmJhc2VQYXRofS9vcmdVbml0cy8ke2VuY29kZVVSSUNvbXBvbmVudChTdHJpbmcob3JnVW5pdElkKSl9L2xvY2F0aW9ucy8ke2VuY29kZVVSSUNvbXBvbmVudChTdHJpbmcob3JnVW5pdExvY2F0aW9uSWQpKX0vY29udGFjdHMvJHtlbmNvZGVVUklDb21wb25lbnQoU3RyaW5nKGxvY2F0aW9uQ29udGFjdElkKSl9YCxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBwYXJhbXM6IHF1ZXJ5UGFyYW1ldGVycyxcbiAgICAgICAgICAgICAgICB3aXRoQ3JlZGVudGlhbHM6IHRoaXMuY29uZmlndXJhdGlvbi53aXRoQ3JlZGVudGlhbHMsXG4gICAgICAgICAgICAgICAgaGVhZGVyczogaGVhZGVycyxcbiAgICAgICAgICAgICAgICBvYnNlcnZlOiBvYnNlcnZlLFxuICAgICAgICAgICAgICAgIHJlcG9ydFByb2dyZXNzOiByZXBvcnRQcm9ncmVzc1xuICAgICAgICAgICAgfVxuICAgICAgICApO1xuICAgIH1cblxufVxuIiwiLyoqXG4gKiBXaWxkZmlyZSBPcmcgVW5pdCBSRVNUIEFQSVxuICogVGhlIFdpbGRmaXJlIE9yZyBVbml0IFJFU1QgQVBJLlxuICpcbiAqIE9wZW5BUEkgc3BlYyB2ZXJzaW9uOiAxLjAuMC1TTkFQU0hPVFxuICogXG4gKlxuICogTk9URTogVGhpcyBjbGFzcyBpcyBhdXRvIGdlbmVyYXRlZCBieSB0aGUgc3dhZ2dlciBjb2RlIGdlbmVyYXRvciBwcm9ncmFtLlxuICogaHR0cHM6Ly9naXRodWIuY29tL3N3YWdnZXItYXBpL3N3YWdnZXItY29kZWdlbi5naXRcbiAqIERvIG5vdCBlZGl0IHRoZSBjbGFzcyBtYW51YWxseS5cbiAqL1xuLyogdHNsaW50OmRpc2FibGU6bm8tdW51c2VkLXZhcmlhYmxlIG1lbWJlci1vcmRlcmluZyAqL1xuXG5pbXBvcnQgeyBJbmplY3QsIEluamVjdGFibGUsIE9wdGlvbmFsIH0gICAgICAgICAgICAgICAgICAgICAgZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBIdHRwQ2xpZW50LCBIdHRwSGVhZGVycywgSHR0cFBhcmFtcyxcbiAgICAgICAgIEh0dHBSZXNwb25zZSwgSHR0cEV2ZW50IH0gICAgICAgICAgICAgICAgICAgICAgICAgICBmcm9tICdAYW5ndWxhci9jb21tb24vaHR0cCc7XG5pbXBvcnQgeyBDdXN0b21IdHRwVXJsRW5jb2RpbmdDb2RlYyB9ICAgICAgICAgICAgICAgICAgICAgICAgZnJvbSAnLi4vZW5jb2Rlcic7XG5cbmltcG9ydCB7IE9ic2VydmFibGUgfSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmcm9tICdyeGpzJztcblxuaW1wb3J0IHsgTWVzc2FnZXMgfSBmcm9tICcuLi9tb2RlbC9tZXNzYWdlcyc7XG5pbXBvcnQgeyBPcmdVbml0RGV0YWlsc1Jlc291cmNlIH0gZnJvbSAnLi4vbW9kZWwvb3JnVW5pdERldGFpbHNSZXNvdXJjZSc7XG5cbmltcG9ydCB7IEJBU0VfUEFUSCwgQ09MTEVDVElPTl9GT1JNQVRTIH0gICAgICAgICAgICAgICAgICAgICBmcm9tICcuLi92YXJpYWJsZXMnO1xuaW1wb3J0IHsgT3JnVW5pdENvbmZpZ3VyYXRpb24gfSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmcm9tICcuLi9jb25maWd1cmF0aW9uJztcblxuXG5ASW5qZWN0YWJsZSgpXG5leHBvcnQgY2xhc3MgT3JnVW5pdFNlcnZpY2Uge1xuXG4gICAgcHJvdGVjdGVkIGJhc2VQYXRoID0gJ2h0dHBzOi8vaHR0cHM6Ly9kMWFwaS52aXZpZHNvbHV0aW9ucy5jb20vd2Zvcmctb3JnLXVuaXQtYXBpJztcbiAgICBwdWJsaWMgZGVmYXVsdEhlYWRlcnMgPSBuZXcgSHR0cEhlYWRlcnMoKTtcbiAgICBwdWJsaWMgY29uZmlndXJhdGlvbiA9IG5ldyBPcmdVbml0Q29uZmlndXJhdGlvbigpO1xuXG4gICAgY29uc3RydWN0b3IocHJvdGVjdGVkIGh0dHBDbGllbnQ6IEh0dHBDbGllbnQsIEBPcHRpb25hbCgpQEluamVjdChCQVNFX1BBVEgpIGJhc2VQYXRoOiBzdHJpbmcsIEBPcHRpb25hbCgpIGNvbmZpZ3VyYXRpb246IE9yZ1VuaXRDb25maWd1cmF0aW9uKSB7XG4gICAgICAgIGlmIChiYXNlUGF0aCkge1xuICAgICAgICAgICAgdGhpcy5iYXNlUGF0aCA9IGJhc2VQYXRoO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjb25maWd1cmF0aW9uKSB7XG4gICAgICAgICAgICB0aGlzLmNvbmZpZ3VyYXRpb24gPSBjb25maWd1cmF0aW9uO1xuICAgICAgICAgICAgdGhpcy5iYXNlUGF0aCA9IGJhc2VQYXRoIHx8IGNvbmZpZ3VyYXRpb24uYmFzZVBhdGggfHwgdGhpcy5iYXNlUGF0aDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBwYXJhbSBjb25zdW1lcyBzdHJpbmdbXSBtaW1lLXR5cGVzXG4gICAgICogQHJldHVybiB0cnVlOiBjb25zdW1lcyBjb250YWlucyAnbXVsdGlwYXJ0L2Zvcm0tZGF0YScsIGZhbHNlOiBvdGhlcndpc2VcbiAgICAgKi9cbiAgICBwcml2YXRlIGNhbkNvbnN1bWVGb3JtKGNvbnN1bWVzOiBzdHJpbmdbXSk6IGJvb2xlYW4ge1xuICAgICAgICBjb25zdCBmb3JtID0gJ211bHRpcGFydC9mb3JtLWRhdGEnO1xuICAgICAgICBmb3IgKGxldCBjb25zdW1lIG9mIGNvbnN1bWVzKSB7XG4gICAgICAgICAgICBpZiAoZm9ybSA9PT0gY29uc3VtZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cblxuICAgIC8qKlxuICAgICAqIEdldCB0aGUgb3JnIHVuaXQgYnkgaWQuXG4gICAgICogR2V0IHRoZSBvcmcgdW5pdCBieSBpZC5cbiAgICAgKiBAcGFyYW0gb3JnVW5pdElkIFRoZSBpZGVudGlmaWVyIG9mIHRoZSBPcmcgVW5pdCByZXNvdXJjZS5cbiAgICAgKiBAcGFyYW0gZWZmZWN0aXZlQXNPZkRhdGUgUmV0dXJuIHRoZSByZXN1bHRzIGFzIG9mIHRoZSBlZmZlY3RpdmVBc09mRGF0ZS5cbiAgICAgKiBAcGFyYW0gcmVzdFZlcnNpb24gVGhlIHZlcnNpb24gb2YgdGhlIFJlc3QgQVBJIHN1cHBvcnRlZCBieSB0aGUgcmVxdWVzdGluZyBjbGllbnQuXG4gICAgICogQHBhcmFtIG9ic2VydmUgc2V0IHdoZXRoZXIgb3Igbm90IHRvIHJldHVybiB0aGUgZGF0YSBPYnNlcnZhYmxlIGFzIHRoZSBib2R5LCByZXNwb25zZSBvciBldmVudHMuIGRlZmF1bHRzIHRvIHJldHVybmluZyB0aGUgYm9keS5cbiAgICAgKiBAcGFyYW0gcmVwb3J0UHJvZ3Jlc3MgZmxhZyB0byByZXBvcnQgcmVxdWVzdCBhbmQgcmVzcG9uc2UgcHJvZ3Jlc3MuXG4gICAgICovXG4gICAgcHVibGljIGdldE9yZ1VuaXQxKG9yZ1VuaXRJZDogc3RyaW5nLCBlZmZlY3RpdmVBc09mRGF0ZT86IHN0cmluZywgcmVzdFZlcnNpb24/OiBudW1iZXIsIG9ic2VydmU/OiAnYm9keScsIHJlcG9ydFByb2dyZXNzPzogYm9vbGVhbik6IE9ic2VydmFibGU8T3JnVW5pdERldGFpbHNSZXNvdXJjZT47XG4gICAgcHVibGljIGdldE9yZ1VuaXQxKG9yZ1VuaXRJZDogc3RyaW5nLCBlZmZlY3RpdmVBc09mRGF0ZT86IHN0cmluZywgcmVzdFZlcnNpb24/OiBudW1iZXIsIG9ic2VydmU/OiAncmVzcG9uc2UnLCByZXBvcnRQcm9ncmVzcz86IGJvb2xlYW4pOiBPYnNlcnZhYmxlPEh0dHBSZXNwb25zZTxPcmdVbml0RGV0YWlsc1Jlc291cmNlPj47XG4gICAgcHVibGljIGdldE9yZ1VuaXQxKG9yZ1VuaXRJZDogc3RyaW5nLCBlZmZlY3RpdmVBc09mRGF0ZT86IHN0cmluZywgcmVzdFZlcnNpb24/OiBudW1iZXIsIG9ic2VydmU/OiAnZXZlbnRzJywgcmVwb3J0UHJvZ3Jlc3M/OiBib29sZWFuKTogT2JzZXJ2YWJsZTxIdHRwRXZlbnQ8T3JnVW5pdERldGFpbHNSZXNvdXJjZT4+O1xuICAgIHB1YmxpYyBnZXRPcmdVbml0MShvcmdVbml0SWQ6IHN0cmluZywgZWZmZWN0aXZlQXNPZkRhdGU/OiBzdHJpbmcsIHJlc3RWZXJzaW9uPzogbnVtYmVyLCBvYnNlcnZlOiBhbnkgPSAnYm9keScsIHJlcG9ydFByb2dyZXNzOiBib29sZWFuID0gZmFsc2UgKTogT2JzZXJ2YWJsZTxhbnk+IHtcbiAgICAgICAgaWYgKG9yZ1VuaXRJZCA9PT0gbnVsbCB8fCBvcmdVbml0SWQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdSZXF1aXJlZCBwYXJhbWV0ZXIgb3JnVW5pdElkIHdhcyBudWxsIG9yIHVuZGVmaW5lZCB3aGVuIGNhbGxpbmcgZ2V0T3JnVW5pdDEuJyk7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgcXVlcnlQYXJhbWV0ZXJzID0gbmV3IEh0dHBQYXJhbXMoe2VuY29kZXI6IG5ldyBDdXN0b21IdHRwVXJsRW5jb2RpbmdDb2RlYygpfSk7XG4gICAgICAgIGlmIChlZmZlY3RpdmVBc09mRGF0ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBxdWVyeVBhcmFtZXRlcnMgPSBxdWVyeVBhcmFtZXRlcnMuc2V0KCdlZmZlY3RpdmVBc09mRGF0ZScsIDxhbnk+ZWZmZWN0aXZlQXNPZkRhdGUpO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IGhlYWRlcnMgPSB0aGlzLmRlZmF1bHRIZWFkZXJzO1xuICAgICAgICBpZiAocmVzdFZlcnNpb24gIT09IHVuZGVmaW5lZCAmJiByZXN0VmVyc2lvbiAhPT0gbnVsbCkge1xuICAgICAgICAgICAgaGVhZGVycyA9IGhlYWRlcnMuc2V0KCdSZXN0LVZlcnNpb24nLCBTdHJpbmcocmVzdFZlcnNpb24pKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHRvIGRldGVybWluZSB0aGUgQWNjZXB0IGhlYWRlclxuICAgICAgICBsZXQgaHR0cEhlYWRlckFjY2VwdHM6IHN0cmluZ1tdID0gW1xuICAgICAgICAgICAgJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgICAgICAgJ2FwcGxpY2F0aW9uL3htbCdcbiAgICAgICAgXTtcbiAgICAgICAgbGV0IGh0dHBIZWFkZXJBY2NlcHRTZWxlY3RlZDogc3RyaW5nIHwgdW5kZWZpbmVkID0gdGhpcy5jb25maWd1cmF0aW9uLnNlbGVjdEhlYWRlckFjY2VwdChodHRwSGVhZGVyQWNjZXB0cyk7XG4gICAgICAgIGlmIChodHRwSGVhZGVyQWNjZXB0U2VsZWN0ZWQgIT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBoZWFkZXJzID0gaGVhZGVycy5zZXQoXCJBY2NlcHRcIiwgaHR0cEhlYWRlckFjY2VwdFNlbGVjdGVkKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHRvIGRldGVybWluZSB0aGUgQ29udGVudC1UeXBlIGhlYWRlclxuICAgICAgICBsZXQgY29uc3VtZXM6IHN0cmluZ1tdID0gW1xuICAgICAgICBdO1xuXG4gICAgICAgIHJldHVybiB0aGlzLmh0dHBDbGllbnQuZ2V0PE9yZ1VuaXREZXRhaWxzUmVzb3VyY2U+KGAke3RoaXMuYmFzZVBhdGh9L29yZ1VuaXRzLyR7ZW5jb2RlVVJJQ29tcG9uZW50KFN0cmluZyhvcmdVbml0SWQpKX1gLFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHBhcmFtczogcXVlcnlQYXJhbWV0ZXJzLFxuICAgICAgICAgICAgICAgIHdpdGhDcmVkZW50aWFsczogdGhpcy5jb25maWd1cmF0aW9uLndpdGhDcmVkZW50aWFscyxcbiAgICAgICAgICAgICAgICBoZWFkZXJzOiBoZWFkZXJzLFxuICAgICAgICAgICAgICAgIG9ic2VydmU6IG9ic2VydmUsXG4gICAgICAgICAgICAgICAgcmVwb3J0UHJvZ3Jlc3M6IHJlcG9ydFByb2dyZXNzXG4gICAgICAgICAgICB9XG4gICAgICAgICk7XG4gICAgfVxuXG59XG4iLCIvKipcbiAqIFdpbGRmaXJlIE9yZyBVbml0IFJFU1QgQVBJXG4gKiBUaGUgV2lsZGZpcmUgT3JnIFVuaXQgUkVTVCBBUEkuXG4gKlxuICogT3BlbkFQSSBzcGVjIHZlcnNpb246IDEuMC4wLVNOQVBTSE9UXG4gKiBcbiAqXG4gKiBOT1RFOiBUaGlzIGNsYXNzIGlzIGF1dG8gZ2VuZXJhdGVkIGJ5IHRoZSBzd2FnZ2VyIGNvZGUgZ2VuZXJhdG9yIHByb2dyYW0uXG4gKiBodHRwczovL2dpdGh1Yi5jb20vc3dhZ2dlci1hcGkvc3dhZ2dlci1jb2RlZ2VuLmdpdFxuICogRG8gbm90IGVkaXQgdGhlIGNsYXNzIG1hbnVhbGx5LlxuICovXG4vKiB0c2xpbnQ6ZGlzYWJsZTpuby11bnVzZWQtdmFyaWFibGUgbWVtYmVyLW9yZGVyaW5nICovXG5cbmltcG9ydCB7IEluamVjdCwgSW5qZWN0YWJsZSwgT3B0aW9uYWwgfSAgICAgICAgICAgICAgICAgICAgICBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IEh0dHBDbGllbnQsIEh0dHBIZWFkZXJzLCBIdHRwUGFyYW1zLFxuICAgICAgICAgSHR0cFJlc3BvbnNlLCBIdHRwRXZlbnQgfSAgICAgICAgICAgICAgICAgICAgICAgICAgIGZyb20gJ0Bhbmd1bGFyL2NvbW1vbi9odHRwJztcbmltcG9ydCB7IEN1c3RvbUh0dHBVcmxFbmNvZGluZ0NvZGVjIH0gICAgICAgICAgICAgICAgICAgICAgICBmcm9tICcuLi9lbmNvZGVyJztcblxuaW1wb3J0IHsgT2JzZXJ2YWJsZSB9ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZyb20gJ3J4anMnO1xuXG5pbXBvcnQgeyBNZXNzYWdlcyB9IGZyb20gJy4uL21vZGVsL21lc3NhZ2VzJztcbmltcG9ydCB7IE9yZ1VuaXRBcmVhUmVzb3VyY2UgfSBmcm9tICcuLi9tb2RlbC9vcmdVbml0QXJlYVJlc291cmNlJztcblxuaW1wb3J0IHsgQkFTRV9QQVRILCBDT0xMRUNUSU9OX0ZPUk1BVFMgfSAgICAgICAgICAgICAgICAgICAgIGZyb20gJy4uL3ZhcmlhYmxlcyc7XG5pbXBvcnQgeyBPcmdVbml0Q29uZmlndXJhdGlvbiB9ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZyb20gJy4uL2NvbmZpZ3VyYXRpb24nO1xuXG5cbkBJbmplY3RhYmxlKClcbmV4cG9ydCBjbGFzcyBPcmdVbml0QXJlYVNlcnZpY2Uge1xuXG4gICAgcHJvdGVjdGVkIGJhc2VQYXRoID0gJ2h0dHBzOi8vaHR0cHM6Ly9kMWFwaS52aXZpZHNvbHV0aW9ucy5jb20vd2Zvcmctb3JnLXVuaXQtYXBpJztcbiAgICBwdWJsaWMgZGVmYXVsdEhlYWRlcnMgPSBuZXcgSHR0cEhlYWRlcnMoKTtcbiAgICBwdWJsaWMgY29uZmlndXJhdGlvbiA9IG5ldyBPcmdVbml0Q29uZmlndXJhdGlvbigpO1xuXG4gICAgY29uc3RydWN0b3IocHJvdGVjdGVkIGh0dHBDbGllbnQ6IEh0dHBDbGllbnQsIEBPcHRpb25hbCgpQEluamVjdChCQVNFX1BBVEgpIGJhc2VQYXRoOiBzdHJpbmcsIEBPcHRpb25hbCgpIGNvbmZpZ3VyYXRpb246IE9yZ1VuaXRDb25maWd1cmF0aW9uKSB7XG4gICAgICAgIGlmIChiYXNlUGF0aCkge1xuICAgICAgICAgICAgdGhpcy5iYXNlUGF0aCA9IGJhc2VQYXRoO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjb25maWd1cmF0aW9uKSB7XG4gICAgICAgICAgICB0aGlzLmNvbmZpZ3VyYXRpb24gPSBjb25maWd1cmF0aW9uO1xuICAgICAgICAgICAgdGhpcy5iYXNlUGF0aCA9IGJhc2VQYXRoIHx8IGNvbmZpZ3VyYXRpb24uYmFzZVBhdGggfHwgdGhpcy5iYXNlUGF0aDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBwYXJhbSBjb25zdW1lcyBzdHJpbmdbXSBtaW1lLXR5cGVzXG4gICAgICogQHJldHVybiB0cnVlOiBjb25zdW1lcyBjb250YWlucyAnbXVsdGlwYXJ0L2Zvcm0tZGF0YScsIGZhbHNlOiBvdGhlcndpc2VcbiAgICAgKi9cbiAgICBwcml2YXRlIGNhbkNvbnN1bWVGb3JtKGNvbnN1bWVzOiBzdHJpbmdbXSk6IGJvb2xlYW4ge1xuICAgICAgICBjb25zdCBmb3JtID0gJ211bHRpcGFydC9mb3JtLWRhdGEnO1xuICAgICAgICBmb3IgKGxldCBjb25zdW1lIG9mIGNvbnN1bWVzKSB7XG4gICAgICAgICAgICBpZiAoZm9ybSA9PT0gY29uc3VtZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cblxuICAgIC8qKlxuICAgICAqIERlbGV0ZSBhbiBBcmVhIGRlZmluZWQgZm9yIGFuIE9yZyBVbml0IGJ5IElELlxuICAgICAqIERlbGV0ZSBhbiBBcmVhIGRlZmluZWQgZm9yIGFuIE9yZyBVbml0IGJ5IElELlxuICAgICAqIEBwYXJhbSBvcmdVbml0SWQgVGhlIGlkZW50aWZpZXIgb2YgdGhlIE9yZyBVbml0IHJlc291cmNlLlxuICAgICAqIEBwYXJhbSBvcmdVbml0QXJlYUlkIFRoZSBpZGVudGlmaWVyIG9mIHRoZSBPcmcgVW5pdCBBcmVhIHJlc291cmNlLlxuICAgICAqIEBwYXJhbSBpZk1hdGNoIFRoZSBJZi1NYXRjaCByZXF1ZXN0LWhlYWRlciBtdXN0IG1hdGNoIHRoZSBjdXJyZW50IGVUYWcgb2YgdGhlIHJlc291cmNlIG9yIHRoZSByZXF1ZXN0IHdpbGwgZmFpbC5cbiAgICAgKiBAcGFyYW0gZWZmZWN0aXZlRGF0ZSBEZWxldGUgdGhlIHJlc291cmNlIGZvciB0aGUgcGVyaW9kIGVmZmVjdGl2ZSBhcyBvZiB0aGUgZWZmZWN0aXZlRGF0ZSBvciBhcyBvZiB0b2RheSBpZiBub3QgcHJvdmlkZWQuXG4gICAgICogQHBhcmFtIGV4cGlyeURhdGUgRGVsZXRlIHRoZSByZXNvdXJjZSBmb3IgdGhlIHBlcmlvZCBleHBpcmluZyBhcyBvZiB0aGUgZXhwaXJ5RGF0ZSBvciBvcGVuIGVuZGVkIGlmIG5vdCBwcm92aWRlZC5cbiAgICAgKiBAcGFyYW0gcmVzdFZlcnNpb24gVGhlIHZlcnNpb24gb2YgdGhlIFJlc3QgQVBJIHN1cHBvcnRlZCBieSB0aGUgcmVxdWVzdGluZyBjbGllbnQuXG4gICAgICogQHBhcmFtIG9ic2VydmUgc2V0IHdoZXRoZXIgb3Igbm90IHRvIHJldHVybiB0aGUgZGF0YSBPYnNlcnZhYmxlIGFzIHRoZSBib2R5LCByZXNwb25zZSBvciBldmVudHMuIGRlZmF1bHRzIHRvIHJldHVybmluZyB0aGUgYm9keS5cbiAgICAgKiBAcGFyYW0gcmVwb3J0UHJvZ3Jlc3MgZmxhZyB0byByZXBvcnQgcmVxdWVzdCBhbmQgcmVzcG9uc2UgcHJvZ3Jlc3MuXG4gICAgICovXG4gICAgcHVibGljIGRlbGV0ZU9yZ1VuaXRBcmVhMShvcmdVbml0SWQ6IHN0cmluZywgb3JnVW5pdEFyZWFJZDogc3RyaW5nLCBpZk1hdGNoOiBzdHJpbmcsIGVmZmVjdGl2ZURhdGU/OiBzdHJpbmcsIGV4cGlyeURhdGU/OiBzdHJpbmcsIHJlc3RWZXJzaW9uPzogbnVtYmVyLCBvYnNlcnZlPzogJ2JvZHknLCByZXBvcnRQcm9ncmVzcz86IGJvb2xlYW4pOiBPYnNlcnZhYmxlPGFueT47XG4gICAgcHVibGljIGRlbGV0ZU9yZ1VuaXRBcmVhMShvcmdVbml0SWQ6IHN0cmluZywgb3JnVW5pdEFyZWFJZDogc3RyaW5nLCBpZk1hdGNoOiBzdHJpbmcsIGVmZmVjdGl2ZURhdGU/OiBzdHJpbmcsIGV4cGlyeURhdGU/OiBzdHJpbmcsIHJlc3RWZXJzaW9uPzogbnVtYmVyLCBvYnNlcnZlPzogJ3Jlc3BvbnNlJywgcmVwb3J0UHJvZ3Jlc3M/OiBib29sZWFuKTogT2JzZXJ2YWJsZTxIdHRwUmVzcG9uc2U8YW55Pj47XG4gICAgcHVibGljIGRlbGV0ZU9yZ1VuaXRBcmVhMShvcmdVbml0SWQ6IHN0cmluZywgb3JnVW5pdEFyZWFJZDogc3RyaW5nLCBpZk1hdGNoOiBzdHJpbmcsIGVmZmVjdGl2ZURhdGU/OiBzdHJpbmcsIGV4cGlyeURhdGU/OiBzdHJpbmcsIHJlc3RWZXJzaW9uPzogbnVtYmVyLCBvYnNlcnZlPzogJ2V2ZW50cycsIHJlcG9ydFByb2dyZXNzPzogYm9vbGVhbik6IE9ic2VydmFibGU8SHR0cEV2ZW50PGFueT4+O1xuICAgIHB1YmxpYyBkZWxldGVPcmdVbml0QXJlYTEob3JnVW5pdElkOiBzdHJpbmcsIG9yZ1VuaXRBcmVhSWQ6IHN0cmluZywgaWZNYXRjaDogc3RyaW5nLCBlZmZlY3RpdmVEYXRlPzogc3RyaW5nLCBleHBpcnlEYXRlPzogc3RyaW5nLCByZXN0VmVyc2lvbj86IG51bWJlciwgb2JzZXJ2ZTogYW55ID0gJ2JvZHknLCByZXBvcnRQcm9ncmVzczogYm9vbGVhbiA9IGZhbHNlICk6IE9ic2VydmFibGU8YW55PiB7XG4gICAgICAgIGlmIChvcmdVbml0SWQgPT09IG51bGwgfHwgb3JnVW5pdElkID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignUmVxdWlyZWQgcGFyYW1ldGVyIG9yZ1VuaXRJZCB3YXMgbnVsbCBvciB1bmRlZmluZWQgd2hlbiBjYWxsaW5nIGRlbGV0ZU9yZ1VuaXRBcmVhMS4nKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAob3JnVW5pdEFyZWFJZCA9PT0gbnVsbCB8fCBvcmdVbml0QXJlYUlkID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignUmVxdWlyZWQgcGFyYW1ldGVyIG9yZ1VuaXRBcmVhSWQgd2FzIG51bGwgb3IgdW5kZWZpbmVkIHdoZW4gY2FsbGluZyBkZWxldGVPcmdVbml0QXJlYTEuJyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlmTWF0Y2ggPT09IG51bGwgfHwgaWZNYXRjaCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1JlcXVpcmVkIHBhcmFtZXRlciBpZk1hdGNoIHdhcyBudWxsIG9yIHVuZGVmaW5lZCB3aGVuIGNhbGxpbmcgZGVsZXRlT3JnVW5pdEFyZWExLicpO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IHF1ZXJ5UGFyYW1ldGVycyA9IG5ldyBIdHRwUGFyYW1zKHtlbmNvZGVyOiBuZXcgQ3VzdG9tSHR0cFVybEVuY29kaW5nQ29kZWMoKX0pO1xuICAgICAgICBpZiAoZWZmZWN0aXZlRGF0ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBxdWVyeVBhcmFtZXRlcnMgPSBxdWVyeVBhcmFtZXRlcnMuc2V0KCdlZmZlY3RpdmVEYXRlJywgPGFueT5lZmZlY3RpdmVEYXRlKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZXhwaXJ5RGF0ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBxdWVyeVBhcmFtZXRlcnMgPSBxdWVyeVBhcmFtZXRlcnMuc2V0KCdleHBpcnlEYXRlJywgPGFueT5leHBpcnlEYXRlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBoZWFkZXJzID0gdGhpcy5kZWZhdWx0SGVhZGVycztcbiAgICAgICAgaWYgKHJlc3RWZXJzaW9uICE9PSB1bmRlZmluZWQgJiYgcmVzdFZlcnNpb24gIT09IG51bGwpIHtcbiAgICAgICAgICAgIGhlYWRlcnMgPSBoZWFkZXJzLnNldCgnUmVzdC1WZXJzaW9uJywgU3RyaW5nKHJlc3RWZXJzaW9uKSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlmTWF0Y2ggIT09IHVuZGVmaW5lZCAmJiBpZk1hdGNoICE9PSBudWxsKSB7XG4gICAgICAgICAgICBoZWFkZXJzID0gaGVhZGVycy5zZXQoJ0lmLU1hdGNoJywgU3RyaW5nKGlmTWF0Y2gpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHRvIGRldGVybWluZSB0aGUgQWNjZXB0IGhlYWRlclxuICAgICAgICBsZXQgaHR0cEhlYWRlckFjY2VwdHM6IHN0cmluZ1tdID0gW1xuICAgICAgICBdO1xuICAgICAgICBsZXQgaHR0cEhlYWRlckFjY2VwdFNlbGVjdGVkOiBzdHJpbmcgfCB1bmRlZmluZWQgPSB0aGlzLmNvbmZpZ3VyYXRpb24uc2VsZWN0SGVhZGVyQWNjZXB0KGh0dHBIZWFkZXJBY2NlcHRzKTtcbiAgICAgICAgaWYgKGh0dHBIZWFkZXJBY2NlcHRTZWxlY3RlZCAhPSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGhlYWRlcnMgPSBoZWFkZXJzLnNldChcIkFjY2VwdFwiLCBodHRwSGVhZGVyQWNjZXB0U2VsZWN0ZWQpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gdG8gZGV0ZXJtaW5lIHRoZSBDb250ZW50LVR5cGUgaGVhZGVyXG4gICAgICAgIGxldCBjb25zdW1lczogc3RyaW5nW10gPSBbXG4gICAgICAgIF07XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuaHR0cENsaWVudC5kZWxldGU8YW55PihgJHt0aGlzLmJhc2VQYXRofS9vcmdVbml0cy8ke2VuY29kZVVSSUNvbXBvbmVudChTdHJpbmcob3JnVW5pdElkKSl9L2FyZWFzLyR7ZW5jb2RlVVJJQ29tcG9uZW50KFN0cmluZyhvcmdVbml0QXJlYUlkKSl9YCxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBwYXJhbXM6IHF1ZXJ5UGFyYW1ldGVycyxcbiAgICAgICAgICAgICAgICB3aXRoQ3JlZGVudGlhbHM6IHRoaXMuY29uZmlndXJhdGlvbi53aXRoQ3JlZGVudGlhbHMsXG4gICAgICAgICAgICAgICAgaGVhZGVyczogaGVhZGVycyxcbiAgICAgICAgICAgICAgICBvYnNlcnZlOiBvYnNlcnZlLFxuICAgICAgICAgICAgICAgIHJlcG9ydFByb2dyZXNzOiByZXBvcnRQcm9ncmVzc1xuICAgICAgICAgICAgfVxuICAgICAgICApO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldCBhbiBBcmVhIGRlZmluZWQgZm9yIGFuIE9yZyBVbml0IGJ5IElELlxuICAgICAqIEdldCBhbiBBcmVhIGRlZmluZWQgZm9yIGFuIE9yZyBVbml0IGJ5IElELlxuICAgICAqIEBwYXJhbSBvcmdVbml0SWQgVGhlIGlkZW50aWZpZXIgb2YgdGhlIE9yZyBVbml0IHJlc291cmNlLlxuICAgICAqIEBwYXJhbSBvcmdVbml0QXJlYUlkIFRoZSBpZGVudGlmaWVyIG9mIHRoZSBPcmcgVW5pdCBBcmVhIHJlc291cmNlLlxuICAgICAqIEBwYXJhbSBlZmZlY3RpdmVBc09mRGF0ZSBSZXR1cm4gdGhlIHJlc3VsdHMgYXMgb2YgdGhlIGVmZmVjdGl2ZUFzT2ZEYXRlLlxuICAgICAqIEBwYXJhbSBpbmNsdWRlR2VvbWV0cnlJbmQgSW5kaWNhdGVzIGlmIHRoZSBnZW9tZXRyeSBzaG91bGQgYmUgcmV0dXJuZWQgd2l0aCB0aGUgcmVzdWx0cy5cbiAgICAgKiBAcGFyYW0gcmVzdFZlcnNpb24gVGhlIHZlcnNpb24gb2YgdGhlIFJlc3QgQVBJIHN1cHBvcnRlZCBieSB0aGUgcmVxdWVzdGluZyBjbGllbnQuXG4gICAgICogQHBhcmFtIG9ic2VydmUgc2V0IHdoZXRoZXIgb3Igbm90IHRvIHJldHVybiB0aGUgZGF0YSBPYnNlcnZhYmxlIGFzIHRoZSBib2R5LCByZXNwb25zZSBvciBldmVudHMuIGRlZmF1bHRzIHRvIHJldHVybmluZyB0aGUgYm9keS5cbiAgICAgKiBAcGFyYW0gcmVwb3J0UHJvZ3Jlc3MgZmxhZyB0byByZXBvcnQgcmVxdWVzdCBhbmQgcmVzcG9uc2UgcHJvZ3Jlc3MuXG4gICAgICovXG4gICAgcHVibGljIGdldE9yZ1VuaXRBcmVhMShvcmdVbml0SWQ6IHN0cmluZywgb3JnVW5pdEFyZWFJZDogc3RyaW5nLCBlZmZlY3RpdmVBc09mRGF0ZT86IHN0cmluZywgaW5jbHVkZUdlb21ldHJ5SW5kPzogc3RyaW5nLCByZXN0VmVyc2lvbj86IG51bWJlciwgb2JzZXJ2ZT86ICdib2R5JywgcmVwb3J0UHJvZ3Jlc3M/OiBib29sZWFuKTogT2JzZXJ2YWJsZTxPcmdVbml0QXJlYVJlc291cmNlPjtcbiAgICBwdWJsaWMgZ2V0T3JnVW5pdEFyZWExKG9yZ1VuaXRJZDogc3RyaW5nLCBvcmdVbml0QXJlYUlkOiBzdHJpbmcsIGVmZmVjdGl2ZUFzT2ZEYXRlPzogc3RyaW5nLCBpbmNsdWRlR2VvbWV0cnlJbmQ/OiBzdHJpbmcsIHJlc3RWZXJzaW9uPzogbnVtYmVyLCBvYnNlcnZlPzogJ3Jlc3BvbnNlJywgcmVwb3J0UHJvZ3Jlc3M/OiBib29sZWFuKTogT2JzZXJ2YWJsZTxIdHRwUmVzcG9uc2U8T3JnVW5pdEFyZWFSZXNvdXJjZT4+O1xuICAgIHB1YmxpYyBnZXRPcmdVbml0QXJlYTEob3JnVW5pdElkOiBzdHJpbmcsIG9yZ1VuaXRBcmVhSWQ6IHN0cmluZywgZWZmZWN0aXZlQXNPZkRhdGU/OiBzdHJpbmcsIGluY2x1ZGVHZW9tZXRyeUluZD86IHN0cmluZywgcmVzdFZlcnNpb24/OiBudW1iZXIsIG9ic2VydmU/OiAnZXZlbnRzJywgcmVwb3J0UHJvZ3Jlc3M/OiBib29sZWFuKTogT2JzZXJ2YWJsZTxIdHRwRXZlbnQ8T3JnVW5pdEFyZWFSZXNvdXJjZT4+O1xuICAgIHB1YmxpYyBnZXRPcmdVbml0QXJlYTEob3JnVW5pdElkOiBzdHJpbmcsIG9yZ1VuaXRBcmVhSWQ6IHN0cmluZywgZWZmZWN0aXZlQXNPZkRhdGU/OiBzdHJpbmcsIGluY2x1ZGVHZW9tZXRyeUluZD86IHN0cmluZywgcmVzdFZlcnNpb24/OiBudW1iZXIsIG9ic2VydmU6IGFueSA9ICdib2R5JywgcmVwb3J0UHJvZ3Jlc3M6IGJvb2xlYW4gPSBmYWxzZSApOiBPYnNlcnZhYmxlPGFueT4ge1xuICAgICAgICBpZiAob3JnVW5pdElkID09PSBudWxsIHx8IG9yZ1VuaXRJZCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1JlcXVpcmVkIHBhcmFtZXRlciBvcmdVbml0SWQgd2FzIG51bGwgb3IgdW5kZWZpbmVkIHdoZW4gY2FsbGluZyBnZXRPcmdVbml0QXJlYTEuJyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG9yZ1VuaXRBcmVhSWQgPT09IG51bGwgfHwgb3JnVW5pdEFyZWFJZCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1JlcXVpcmVkIHBhcmFtZXRlciBvcmdVbml0QXJlYUlkIHdhcyBudWxsIG9yIHVuZGVmaW5lZCB3aGVuIGNhbGxpbmcgZ2V0T3JnVW5pdEFyZWExLicpO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IHF1ZXJ5UGFyYW1ldGVycyA9IG5ldyBIdHRwUGFyYW1zKHtlbmNvZGVyOiBuZXcgQ3VzdG9tSHR0cFVybEVuY29kaW5nQ29kZWMoKX0pO1xuICAgICAgICBpZiAoZWZmZWN0aXZlQXNPZkRhdGUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcXVlcnlQYXJhbWV0ZXJzID0gcXVlcnlQYXJhbWV0ZXJzLnNldCgnZWZmZWN0aXZlQXNPZkRhdGUnLCA8YW55PmVmZmVjdGl2ZUFzT2ZEYXRlKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaW5jbHVkZUdlb21ldHJ5SW5kICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHF1ZXJ5UGFyYW1ldGVycyA9IHF1ZXJ5UGFyYW1ldGVycy5zZXQoJ2luY2x1ZGVHZW9tZXRyeUluZCcsIDxhbnk+aW5jbHVkZUdlb21ldHJ5SW5kKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBoZWFkZXJzID0gdGhpcy5kZWZhdWx0SGVhZGVycztcbiAgICAgICAgaWYgKHJlc3RWZXJzaW9uICE9PSB1bmRlZmluZWQgJiYgcmVzdFZlcnNpb24gIT09IG51bGwpIHtcbiAgICAgICAgICAgIGhlYWRlcnMgPSBoZWFkZXJzLnNldCgnUmVzdC1WZXJzaW9uJywgU3RyaW5nKHJlc3RWZXJzaW9uKSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyB0byBkZXRlcm1pbmUgdGhlIEFjY2VwdCBoZWFkZXJcbiAgICAgICAgbGV0IGh0dHBIZWFkZXJBY2NlcHRzOiBzdHJpbmdbXSA9IFtcbiAgICAgICAgICAgICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgICAgICdhcHBsaWNhdGlvbi94bWwnXG4gICAgICAgIF07XG4gICAgICAgIGxldCBodHRwSGVhZGVyQWNjZXB0U2VsZWN0ZWQ6IHN0cmluZyB8IHVuZGVmaW5lZCA9IHRoaXMuY29uZmlndXJhdGlvbi5zZWxlY3RIZWFkZXJBY2NlcHQoaHR0cEhlYWRlckFjY2VwdHMpO1xuICAgICAgICBpZiAoaHR0cEhlYWRlckFjY2VwdFNlbGVjdGVkICE9IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgaGVhZGVycyA9IGhlYWRlcnMuc2V0KFwiQWNjZXB0XCIsIGh0dHBIZWFkZXJBY2NlcHRTZWxlY3RlZCk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyB0byBkZXRlcm1pbmUgdGhlIENvbnRlbnQtVHlwZSBoZWFkZXJcbiAgICAgICAgbGV0IGNvbnN1bWVzOiBzdHJpbmdbXSA9IFtcbiAgICAgICAgXTtcblxuICAgICAgICByZXR1cm4gdGhpcy5odHRwQ2xpZW50LmdldDxPcmdVbml0QXJlYVJlc291cmNlPihgJHt0aGlzLmJhc2VQYXRofS9vcmdVbml0cy8ke2VuY29kZVVSSUNvbXBvbmVudChTdHJpbmcob3JnVW5pdElkKSl9L2FyZWFzLyR7ZW5jb2RlVVJJQ29tcG9uZW50KFN0cmluZyhvcmdVbml0QXJlYUlkKSl9YCxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBwYXJhbXM6IHF1ZXJ5UGFyYW1ldGVycyxcbiAgICAgICAgICAgICAgICB3aXRoQ3JlZGVudGlhbHM6IHRoaXMuY29uZmlndXJhdGlvbi53aXRoQ3JlZGVudGlhbHMsXG4gICAgICAgICAgICAgICAgaGVhZGVyczogaGVhZGVycyxcbiAgICAgICAgICAgICAgICBvYnNlcnZlOiBvYnNlcnZlLFxuICAgICAgICAgICAgICAgIHJlcG9ydFByb2dyZXNzOiByZXBvcnRQcm9ncmVzc1xuICAgICAgICAgICAgfVxuICAgICAgICApO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFVwZGF0ZSBhbiBBcmVhIGRlZmluZWQgZm9yIGFuIE9yZyBVbml0IGJ5IElELlxuICAgICAqIFVwZGF0ZSBhbiBBcmVhIGRlZmluZWQgZm9yIGFuIE9yZyBVbml0IGJ5IElELlxuICAgICAqIEBwYXJhbSBvcmdVbml0SWQgVGhlIGlkZW50aWZpZXIgb2YgdGhlIE9yZyBVbml0IHJlc291cmNlLlxuICAgICAqIEBwYXJhbSBvcmdVbml0QXJlYUlkIFRoZSBpZGVudGlmaWVyIG9mIHRoZSBPcmcgVW5pdCBBcmVhIHJlc291cmNlLlxuICAgICAqIEBwYXJhbSBvcmdVbml0QXJlYSBUaGUgVXNlckVkaXRhYmxlRGF0YSByZXNvdXJjZSBjb250YWluaW5nIHRoZSBuZXcgdmFsdWVzLlxuICAgICAqIEBwYXJhbSBpZk1hdGNoIFRoZSBJZi1NYXRjaCByZXF1ZXN0LWhlYWRlciBtdXN0IG1hdGNoIHRoZSBjdXJyZW50IGVUYWcgb2YgdGhlIHJlc291cmNlIG9yIHRoZSByZXF1ZXN0IHdpbGwgZmFpbC5cbiAgICAgKiBAcGFyYW0gcmVzdFZlcnNpb24gVGhlIHZlcnNpb24gb2YgdGhlIFJlc3QgQVBJIHN1cHBvcnRlZCBieSB0aGUgcmVxdWVzdGluZyBjbGllbnQuXG4gICAgICogQHBhcmFtIG9ic2VydmUgc2V0IHdoZXRoZXIgb3Igbm90IHRvIHJldHVybiB0aGUgZGF0YSBPYnNlcnZhYmxlIGFzIHRoZSBib2R5LCByZXNwb25zZSBvciBldmVudHMuIGRlZmF1bHRzIHRvIHJldHVybmluZyB0aGUgYm9keS5cbiAgICAgKiBAcGFyYW0gcmVwb3J0UHJvZ3Jlc3MgZmxhZyB0byByZXBvcnQgcmVxdWVzdCBhbmQgcmVzcG9uc2UgcHJvZ3Jlc3MuXG4gICAgICovXG4gICAgcHVibGljIHVwZGF0ZU9yZ1VuaXRBcmVhMShvcmdVbml0SWQ6IHN0cmluZywgb3JnVW5pdEFyZWFJZDogc3RyaW5nLCBvcmdVbml0QXJlYTogT3JnVW5pdEFyZWFSZXNvdXJjZSwgaWZNYXRjaDogc3RyaW5nLCByZXN0VmVyc2lvbj86IG51bWJlciwgb2JzZXJ2ZT86ICdib2R5JywgcmVwb3J0UHJvZ3Jlc3M/OiBib29sZWFuKTogT2JzZXJ2YWJsZTxPcmdVbml0QXJlYVJlc291cmNlPjtcbiAgICBwdWJsaWMgdXBkYXRlT3JnVW5pdEFyZWExKG9yZ1VuaXRJZDogc3RyaW5nLCBvcmdVbml0QXJlYUlkOiBzdHJpbmcsIG9yZ1VuaXRBcmVhOiBPcmdVbml0QXJlYVJlc291cmNlLCBpZk1hdGNoOiBzdHJpbmcsIHJlc3RWZXJzaW9uPzogbnVtYmVyLCBvYnNlcnZlPzogJ3Jlc3BvbnNlJywgcmVwb3J0UHJvZ3Jlc3M/OiBib29sZWFuKTogT2JzZXJ2YWJsZTxIdHRwUmVzcG9uc2U8T3JnVW5pdEFyZWFSZXNvdXJjZT4+O1xuICAgIHB1YmxpYyB1cGRhdGVPcmdVbml0QXJlYTEob3JnVW5pdElkOiBzdHJpbmcsIG9yZ1VuaXRBcmVhSWQ6IHN0cmluZywgb3JnVW5pdEFyZWE6IE9yZ1VuaXRBcmVhUmVzb3VyY2UsIGlmTWF0Y2g6IHN0cmluZywgcmVzdFZlcnNpb24/OiBudW1iZXIsIG9ic2VydmU/OiAnZXZlbnRzJywgcmVwb3J0UHJvZ3Jlc3M/OiBib29sZWFuKTogT2JzZXJ2YWJsZTxIdHRwRXZlbnQ8T3JnVW5pdEFyZWFSZXNvdXJjZT4+O1xuICAgIHB1YmxpYyB1cGRhdGVPcmdVbml0QXJlYTEob3JnVW5pdElkOiBzdHJpbmcsIG9yZ1VuaXRBcmVhSWQ6IHN0cmluZywgb3JnVW5pdEFyZWE6IE9yZ1VuaXRBcmVhUmVzb3VyY2UsIGlmTWF0Y2g6IHN0cmluZywgcmVzdFZlcnNpb24/OiBudW1iZXIsIG9ic2VydmU6IGFueSA9ICdib2R5JywgcmVwb3J0UHJvZ3Jlc3M6IGJvb2xlYW4gPSBmYWxzZSApOiBPYnNlcnZhYmxlPGFueT4ge1xuICAgICAgICBpZiAob3JnVW5pdElkID09PSBudWxsIHx8IG9yZ1VuaXRJZCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1JlcXVpcmVkIHBhcmFtZXRlciBvcmdVbml0SWQgd2FzIG51bGwgb3IgdW5kZWZpbmVkIHdoZW4gY2FsbGluZyB1cGRhdGVPcmdVbml0QXJlYTEuJyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG9yZ1VuaXRBcmVhSWQgPT09IG51bGwgfHwgb3JnVW5pdEFyZWFJZCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1JlcXVpcmVkIHBhcmFtZXRlciBvcmdVbml0QXJlYUlkIHdhcyBudWxsIG9yIHVuZGVmaW5lZCB3aGVuIGNhbGxpbmcgdXBkYXRlT3JnVW5pdEFyZWExLicpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChvcmdVbml0QXJlYSA9PT0gbnVsbCB8fCBvcmdVbml0QXJlYSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1JlcXVpcmVkIHBhcmFtZXRlciBvcmdVbml0QXJlYSB3YXMgbnVsbCBvciB1bmRlZmluZWQgd2hlbiBjYWxsaW5nIHVwZGF0ZU9yZ1VuaXRBcmVhMS4nKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaWZNYXRjaCA9PT0gbnVsbCB8fCBpZk1hdGNoID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignUmVxdWlyZWQgcGFyYW1ldGVyIGlmTWF0Y2ggd2FzIG51bGwgb3IgdW5kZWZpbmVkIHdoZW4gY2FsbGluZyB1cGRhdGVPcmdVbml0QXJlYTEuJyk7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgaGVhZGVycyA9IHRoaXMuZGVmYXVsdEhlYWRlcnM7XG4gICAgICAgIGlmIChyZXN0VmVyc2lvbiAhPT0gdW5kZWZpbmVkICYmIHJlc3RWZXJzaW9uICE9PSBudWxsKSB7XG4gICAgICAgICAgICBoZWFkZXJzID0gaGVhZGVycy5zZXQoJ1Jlc3QtVmVyc2lvbicsIFN0cmluZyhyZXN0VmVyc2lvbikpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpZk1hdGNoICE9PSB1bmRlZmluZWQgJiYgaWZNYXRjaCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgaGVhZGVycyA9IGhlYWRlcnMuc2V0KCdJZi1NYXRjaCcsIFN0cmluZyhpZk1hdGNoKSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyB0byBkZXRlcm1pbmUgdGhlIEFjY2VwdCBoZWFkZXJcbiAgICAgICAgbGV0IGh0dHBIZWFkZXJBY2NlcHRzOiBzdHJpbmdbXSA9IFtcbiAgICAgICAgICAgICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgICAgICdhcHBsaWNhdGlvbi94bWwnXG4gICAgICAgIF07XG4gICAgICAgIGxldCBodHRwSGVhZGVyQWNjZXB0U2VsZWN0ZWQ6IHN0cmluZyB8IHVuZGVmaW5lZCA9IHRoaXMuY29uZmlndXJhdGlvbi5zZWxlY3RIZWFkZXJBY2NlcHQoaHR0cEhlYWRlckFjY2VwdHMpO1xuICAgICAgICBpZiAoaHR0cEhlYWRlckFjY2VwdFNlbGVjdGVkICE9IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgaGVhZGVycyA9IGhlYWRlcnMuc2V0KFwiQWNjZXB0XCIsIGh0dHBIZWFkZXJBY2NlcHRTZWxlY3RlZCk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyB0byBkZXRlcm1pbmUgdGhlIENvbnRlbnQtVHlwZSBoZWFkZXJcbiAgICAgICAgbGV0IGNvbnN1bWVzOiBzdHJpbmdbXSA9IFtcbiAgICAgICAgICAgICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgICAgICdhcHBsaWNhdGlvbi94bWwnXG4gICAgICAgIF07XG4gICAgICAgIGxldCBodHRwQ29udGVudFR5cGVTZWxlY3RlZDpzdHJpbmcgfCB1bmRlZmluZWQgPSB0aGlzLmNvbmZpZ3VyYXRpb24uc2VsZWN0SGVhZGVyQ29udGVudFR5cGUoY29uc3VtZXMpO1xuICAgICAgICBpZiAoaHR0cENvbnRlbnRUeXBlU2VsZWN0ZWQgIT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBoZWFkZXJzID0gaGVhZGVycy5zZXQoXCJDb250ZW50LVR5cGVcIiwgaHR0cENvbnRlbnRUeXBlU2VsZWN0ZWQpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuaHR0cENsaWVudC5wdXQ8T3JnVW5pdEFyZWFSZXNvdXJjZT4oYCR7dGhpcy5iYXNlUGF0aH0vb3JnVW5pdHMvJHtlbmNvZGVVUklDb21wb25lbnQoU3RyaW5nKG9yZ1VuaXRJZCkpfS9hcmVhcy8ke2VuY29kZVVSSUNvbXBvbmVudChTdHJpbmcob3JnVW5pdEFyZWFJZCkpfWAsXG4gICAgICAgICAgICBvcmdVbml0QXJlYSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB3aXRoQ3JlZGVudGlhbHM6IHRoaXMuY29uZmlndXJhdGlvbi53aXRoQ3JlZGVudGlhbHMsXG4gICAgICAgICAgICAgICAgaGVhZGVyczogaGVhZGVycyxcbiAgICAgICAgICAgICAgICBvYnNlcnZlOiBvYnNlcnZlLFxuICAgICAgICAgICAgICAgIHJlcG9ydFByb2dyZXNzOiByZXBvcnRQcm9ncmVzc1xuICAgICAgICAgICAgfVxuICAgICAgICApO1xuICAgIH1cblxufVxuIiwiLyoqXG4gKiBXaWxkZmlyZSBPcmcgVW5pdCBSRVNUIEFQSVxuICogVGhlIFdpbGRmaXJlIE9yZyBVbml0IFJFU1QgQVBJLlxuICpcbiAqIE9wZW5BUEkgc3BlYyB2ZXJzaW9uOiAxLjAuMC1TTkFQU0hPVFxuICogXG4gKlxuICogTk9URTogVGhpcyBjbGFzcyBpcyBhdXRvIGdlbmVyYXRlZCBieSB0aGUgc3dhZ2dlciBjb2RlIGdlbmVyYXRvciBwcm9ncmFtLlxuICogaHR0cHM6Ly9naXRodWIuY29tL3N3YWdnZXItYXBpL3N3YWdnZXItY29kZWdlbi5naXRcbiAqIERvIG5vdCBlZGl0IHRoZSBjbGFzcyBtYW51YWxseS5cbiAqL1xuLyogdHNsaW50OmRpc2FibGU6bm8tdW51c2VkLXZhcmlhYmxlIG1lbWJlci1vcmRlcmluZyAqL1xuXG5pbXBvcnQgeyBJbmplY3QsIEluamVjdGFibGUsIE9wdGlvbmFsIH0gICAgICAgICAgICAgICAgICAgICAgZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBIdHRwQ2xpZW50LCBIdHRwSGVhZGVycywgSHR0cFBhcmFtcyxcbiAgICAgICAgIEh0dHBSZXNwb25zZSwgSHR0cEV2ZW50IH0gICAgICAgICAgICAgICAgICAgICAgICAgICBmcm9tICdAYW5ndWxhci9jb21tb24vaHR0cCc7XG5pbXBvcnQgeyBDdXN0b21IdHRwVXJsRW5jb2RpbmdDb2RlYyB9ICAgICAgICAgICAgICAgICAgICAgICAgZnJvbSAnLi4vZW5jb2Rlcic7XG5cbmltcG9ydCB7IE9ic2VydmFibGUgfSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmcm9tICdyeGpzJztcblxuaW1wb3J0IHsgTWVzc2FnZXMgfSBmcm9tICcuLi9tb2RlbC9tZXNzYWdlcyc7XG5pbXBvcnQgeyBPcmdVbml0QXJlYUxpc3RSZXNvdXJjZSB9IGZyb20gJy4uL21vZGVsL29yZ1VuaXRBcmVhTGlzdFJlc291cmNlJztcbmltcG9ydCB7IE9yZ1VuaXRBcmVhUmVzb3VyY2UgfSBmcm9tICcuLi9tb2RlbC9vcmdVbml0QXJlYVJlc291cmNlJztcblxuaW1wb3J0IHsgQkFTRV9QQVRILCBDT0xMRUNUSU9OX0ZPUk1BVFMgfSAgICAgICAgICAgICAgICAgICAgIGZyb20gJy4uL3ZhcmlhYmxlcyc7XG5pbXBvcnQgeyBPcmdVbml0Q29uZmlndXJhdGlvbiB9ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZyb20gJy4uL2NvbmZpZ3VyYXRpb24nO1xuXG5cbkBJbmplY3RhYmxlKClcbmV4cG9ydCBjbGFzcyBPcmdVbml0QXJlYUxpc3RTZXJ2aWNlIHtcblxuICAgIHByb3RlY3RlZCBiYXNlUGF0aCA9ICdodHRwczovL2h0dHBzOi8vZDFhcGkudml2aWRzb2x1dGlvbnMuY29tL3dmb3JnLW9yZy11bml0LWFwaSc7XG4gICAgcHVibGljIGRlZmF1bHRIZWFkZXJzID0gbmV3IEh0dHBIZWFkZXJzKCk7XG4gICAgcHVibGljIGNvbmZpZ3VyYXRpb24gPSBuZXcgT3JnVW5pdENvbmZpZ3VyYXRpb24oKTtcblxuICAgIGNvbnN0cnVjdG9yKHByb3RlY3RlZCBodHRwQ2xpZW50OiBIdHRwQ2xpZW50LCBAT3B0aW9uYWwoKUBJbmplY3QoQkFTRV9QQVRIKSBiYXNlUGF0aDogc3RyaW5nLCBAT3B0aW9uYWwoKSBjb25maWd1cmF0aW9uOiBPcmdVbml0Q29uZmlndXJhdGlvbikge1xuICAgICAgICBpZiAoYmFzZVBhdGgpIHtcbiAgICAgICAgICAgIHRoaXMuYmFzZVBhdGggPSBiYXNlUGF0aDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY29uZmlndXJhdGlvbikge1xuICAgICAgICAgICAgdGhpcy5jb25maWd1cmF0aW9uID0gY29uZmlndXJhdGlvbjtcbiAgICAgICAgICAgIHRoaXMuYmFzZVBhdGggPSBiYXNlUGF0aCB8fCBjb25maWd1cmF0aW9uLmJhc2VQYXRoIHx8IHRoaXMuYmFzZVBhdGg7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAcGFyYW0gY29uc3VtZXMgc3RyaW5nW10gbWltZS10eXBlc1xuICAgICAqIEByZXR1cm4gdHJ1ZTogY29uc3VtZXMgY29udGFpbnMgJ211bHRpcGFydC9mb3JtLWRhdGEnLCBmYWxzZTogb3RoZXJ3aXNlXG4gICAgICovXG4gICAgcHJpdmF0ZSBjYW5Db25zdW1lRm9ybShjb25zdW1lczogc3RyaW5nW10pOiBib29sZWFuIHtcbiAgICAgICAgY29uc3QgZm9ybSA9ICdtdWx0aXBhcnQvZm9ybS1kYXRhJztcbiAgICAgICAgZm9yIChsZXQgY29uc3VtZSBvZiBjb25zdW1lcykge1xuICAgICAgICAgICAgaWYgKGZvcm0gPT09IGNvbnN1bWUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAgKiBBZGQgYW4gQXJlYSBSZXNvdXJjZSB0byB0aGUgbGlzdCBvZiBBcmVhcyBkZWZpbmVkIGZvciBhbiBPcmcgVW5pdC5cbiAgICAgKiBBZGQgYW4gQXJlYSBSZXNvdXJjZSB0byB0aGUgbGlzdCBvZiBBcmVhcyBkZWZpbmVkIGZvciBhbiBPcmcgVW5pdC5cbiAgICAgKiBAcGFyYW0gb3JnVW5pdElkIFRoZSBpZGVudGlmaWVyIG9mIHRoZSBPcmcgVW5pdCByZXNvdXJjZS5cbiAgICAgKiBAcGFyYW0gb3JnVW5pdEFyZWEgVGhlIEFyZWEgcmVzb3VyY2UgY29udGFpbmluZyB0aGUgbmV3IHZhbHVlcy5cbiAgICAgKiBAcGFyYW0gcmVzdFZlcnNpb24gVGhlIHZlcnNpb24gb2YgdGhlIFJlc3QgQVBJIHN1cHBvcnRlZCBieSB0aGUgcmVxdWVzdGluZyBjbGllbnQuXG4gICAgICogQHBhcmFtIG9ic2VydmUgc2V0IHdoZXRoZXIgb3Igbm90IHRvIHJldHVybiB0aGUgZGF0YSBPYnNlcnZhYmxlIGFzIHRoZSBib2R5LCByZXNwb25zZSBvciBldmVudHMuIGRlZmF1bHRzIHRvIHJldHVybmluZyB0aGUgYm9keS5cbiAgICAgKiBAcGFyYW0gcmVwb3J0UHJvZ3Jlc3MgZmxhZyB0byByZXBvcnQgcmVxdWVzdCBhbmQgcmVzcG9uc2UgcHJvZ3Jlc3MuXG4gICAgICovXG4gICAgcHVibGljIGNyZWF0ZU9yZ1VuaXRBcmVhMShvcmdVbml0SWQ6IHN0cmluZywgb3JnVW5pdEFyZWE6IE9yZ1VuaXRBcmVhUmVzb3VyY2UsIHJlc3RWZXJzaW9uPzogbnVtYmVyLCBvYnNlcnZlPzogJ2JvZHknLCByZXBvcnRQcm9ncmVzcz86IGJvb2xlYW4pOiBPYnNlcnZhYmxlPE9yZ1VuaXRBcmVhUmVzb3VyY2U+O1xuICAgIHB1YmxpYyBjcmVhdGVPcmdVbml0QXJlYTEob3JnVW5pdElkOiBzdHJpbmcsIG9yZ1VuaXRBcmVhOiBPcmdVbml0QXJlYVJlc291cmNlLCByZXN0VmVyc2lvbj86IG51bWJlciwgb2JzZXJ2ZT86ICdyZXNwb25zZScsIHJlcG9ydFByb2dyZXNzPzogYm9vbGVhbik6IE9ic2VydmFibGU8SHR0cFJlc3BvbnNlPE9yZ1VuaXRBcmVhUmVzb3VyY2U+PjtcbiAgICBwdWJsaWMgY3JlYXRlT3JnVW5pdEFyZWExKG9yZ1VuaXRJZDogc3RyaW5nLCBvcmdVbml0QXJlYTogT3JnVW5pdEFyZWFSZXNvdXJjZSwgcmVzdFZlcnNpb24/OiBudW1iZXIsIG9ic2VydmU/OiAnZXZlbnRzJywgcmVwb3J0UHJvZ3Jlc3M/OiBib29sZWFuKTogT2JzZXJ2YWJsZTxIdHRwRXZlbnQ8T3JnVW5pdEFyZWFSZXNvdXJjZT4+O1xuICAgIHB1YmxpYyBjcmVhdGVPcmdVbml0QXJlYTEob3JnVW5pdElkOiBzdHJpbmcsIG9yZ1VuaXRBcmVhOiBPcmdVbml0QXJlYVJlc291cmNlLCByZXN0VmVyc2lvbj86IG51bWJlciwgb2JzZXJ2ZTogYW55ID0gJ2JvZHknLCByZXBvcnRQcm9ncmVzczogYm9vbGVhbiA9IGZhbHNlICk6IE9ic2VydmFibGU8YW55PiB7XG4gICAgICAgIGlmIChvcmdVbml0SWQgPT09IG51bGwgfHwgb3JnVW5pdElkID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignUmVxdWlyZWQgcGFyYW1ldGVyIG9yZ1VuaXRJZCB3YXMgbnVsbCBvciB1bmRlZmluZWQgd2hlbiBjYWxsaW5nIGNyZWF0ZU9yZ1VuaXRBcmVhMS4nKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAob3JnVW5pdEFyZWEgPT09IG51bGwgfHwgb3JnVW5pdEFyZWEgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdSZXF1aXJlZCBwYXJhbWV0ZXIgb3JnVW5pdEFyZWEgd2FzIG51bGwgb3IgdW5kZWZpbmVkIHdoZW4gY2FsbGluZyBjcmVhdGVPcmdVbml0QXJlYTEuJyk7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgaGVhZGVycyA9IHRoaXMuZGVmYXVsdEhlYWRlcnM7XG4gICAgICAgIGlmIChyZXN0VmVyc2lvbiAhPT0gdW5kZWZpbmVkICYmIHJlc3RWZXJzaW9uICE9PSBudWxsKSB7XG4gICAgICAgICAgICBoZWFkZXJzID0gaGVhZGVycy5zZXQoJ1Jlc3QtVmVyc2lvbicsIFN0cmluZyhyZXN0VmVyc2lvbikpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gdG8gZGV0ZXJtaW5lIHRoZSBBY2NlcHQgaGVhZGVyXG4gICAgICAgIGxldCBodHRwSGVhZGVyQWNjZXB0czogc3RyaW5nW10gPSBbXG4gICAgICAgICAgICAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgICAgICAnYXBwbGljYXRpb24veG1sJ1xuICAgICAgICBdO1xuICAgICAgICBsZXQgaHR0cEhlYWRlckFjY2VwdFNlbGVjdGVkOiBzdHJpbmcgfCB1bmRlZmluZWQgPSB0aGlzLmNvbmZpZ3VyYXRpb24uc2VsZWN0SGVhZGVyQWNjZXB0KGh0dHBIZWFkZXJBY2NlcHRzKTtcbiAgICAgICAgaWYgKGh0dHBIZWFkZXJBY2NlcHRTZWxlY3RlZCAhPSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGhlYWRlcnMgPSBoZWFkZXJzLnNldChcIkFjY2VwdFwiLCBodHRwSGVhZGVyQWNjZXB0U2VsZWN0ZWQpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gdG8gZGV0ZXJtaW5lIHRoZSBDb250ZW50LVR5cGUgaGVhZGVyXG4gICAgICAgIGxldCBjb25zdW1lczogc3RyaW5nW10gPSBbXG4gICAgICAgICAgICAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgICAgICAnYXBwbGljYXRpb24veG1sJ1xuICAgICAgICBdO1xuICAgICAgICBsZXQgaHR0cENvbnRlbnRUeXBlU2VsZWN0ZWQ6c3RyaW5nIHwgdW5kZWZpbmVkID0gdGhpcy5jb25maWd1cmF0aW9uLnNlbGVjdEhlYWRlckNvbnRlbnRUeXBlKGNvbnN1bWVzKTtcbiAgICAgICAgaWYgKGh0dHBDb250ZW50VHlwZVNlbGVjdGVkICE9IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgaGVhZGVycyA9IGhlYWRlcnMuc2V0KFwiQ29udGVudC1UeXBlXCIsIGh0dHBDb250ZW50VHlwZVNlbGVjdGVkKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLmh0dHBDbGllbnQucG9zdDxPcmdVbml0QXJlYVJlc291cmNlPihgJHt0aGlzLmJhc2VQYXRofS9vcmdVbml0cy8ke2VuY29kZVVSSUNvbXBvbmVudChTdHJpbmcob3JnVW5pdElkKSl9L2FyZWFzYCxcbiAgICAgICAgICAgIG9yZ1VuaXRBcmVhLFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHdpdGhDcmVkZW50aWFsczogdGhpcy5jb25maWd1cmF0aW9uLndpdGhDcmVkZW50aWFscyxcbiAgICAgICAgICAgICAgICBoZWFkZXJzOiBoZWFkZXJzLFxuICAgICAgICAgICAgICAgIG9ic2VydmU6IG9ic2VydmUsXG4gICAgICAgICAgICAgICAgcmVwb3J0UHJvZ3Jlc3M6IHJlcG9ydFByb2dyZXNzXG4gICAgICAgICAgICB9XG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBsaXN0IG9mIEFyZWFzIGRlZmluZWQgZm9yIGFuIE9yZyBVbml0LlxuICAgICAqIEdldCB0aGUgbGlzdCBvZiBBcmVhcyBkZWZpbmVkIGZvciBhbiBPcmcgVW5pdC5cbiAgICAgKiBAcGFyYW0gb3JnVW5pdElkIFRoZSBpZGVudGlmaWVyIG9mIHRoZSBPcmcgVW5pdCByZXNvdXJjZS5cbiAgICAgKiBAcGFyYW0gZWZmZWN0aXZlQXNPZkRhdGUgUmV0dXJuIHRoZSByZXN1bHRzIGFzIG9mIHRoZSBlZmZlY3RpdmVBc09mRGF0ZS5cbiAgICAgKiBAcGFyYW0gb3JnVW5pdEFyZWFUeXBlQ29kZSBGaWx0ZXIgdGhlIHJlc3VsdHMgYnkgdGhlIG9yZ1VuaXRBcmVhVHlwZUNvZGUuXG4gICAgICogQHBhcmFtIGluY2x1ZGVHZW9tZXRyeUluZCBJbmRpY2F0ZXMgaWYgdGhlIGdlb21ldHJ5IHNob3VsZCBiZSByZXR1cm5lZCB3aXRoIHRoZSByZXN1bHRzLlxuICAgICAqIEBwYXJhbSBwYWdlTnVtYmVyIFRoZSBwYWdlIG51bWJlciBvZiB0aGUgcmVzdWx0cyB0byBiZSByZXR1cm5lZC5cbiAgICAgKiBAcGFyYW0gcGFnZVJvd0NvdW50IFRoZSBudW1iZXIgb2YgcmVzdWx0cyBwZXIgcGFnZS5cbiAgICAgKiBAcGFyYW0gb3JkZXJCeSBDb21tYSBzZXBhcmF0ZWQgbGlzdCBvZiBwcm9wZXJ0eSBuYW1lcyB0byBvcmRlciB0aGUgcmVzdWx0IHNldCBieS5cbiAgICAgKiBAcGFyYW0gcmVzdFZlcnNpb24gVGhlIHZlcnNpb24gb2YgdGhlIFJlc3QgQVBJIHN1cHBvcnRlZCBieSB0aGUgcmVxdWVzdGluZyBjbGllbnQuXG4gICAgICogQHBhcmFtIG9ic2VydmUgc2V0IHdoZXRoZXIgb3Igbm90IHRvIHJldHVybiB0aGUgZGF0YSBPYnNlcnZhYmxlIGFzIHRoZSBib2R5LCByZXNwb25zZSBvciBldmVudHMuIGRlZmF1bHRzIHRvIHJldHVybmluZyB0aGUgYm9keS5cbiAgICAgKiBAcGFyYW0gcmVwb3J0UHJvZ3Jlc3MgZmxhZyB0byByZXBvcnQgcmVxdWVzdCBhbmQgcmVzcG9uc2UgcHJvZ3Jlc3MuXG4gICAgICovXG4gICAgcHVibGljIGdldE9yZ1VuaXRBcmVhTGlzdDEob3JnVW5pdElkOiBzdHJpbmcsIGVmZmVjdGl2ZUFzT2ZEYXRlPzogc3RyaW5nLCBvcmdVbml0QXJlYVR5cGVDb2RlPzogc3RyaW5nLCBpbmNsdWRlR2VvbWV0cnlJbmQ/OiBzdHJpbmcsIHBhZ2VOdW1iZXI/OiBzdHJpbmcsIHBhZ2VSb3dDb3VudD86IHN0cmluZywgb3JkZXJCeT86IHN0cmluZywgcmVzdFZlcnNpb24/OiBudW1iZXIsIG9ic2VydmU/OiAnYm9keScsIHJlcG9ydFByb2dyZXNzPzogYm9vbGVhbik6IE9ic2VydmFibGU8T3JnVW5pdEFyZWFMaXN0UmVzb3VyY2U+O1xuICAgIHB1YmxpYyBnZXRPcmdVbml0QXJlYUxpc3QxKG9yZ1VuaXRJZDogc3RyaW5nLCBlZmZlY3RpdmVBc09mRGF0ZT86IHN0cmluZywgb3JnVW5pdEFyZWFUeXBlQ29kZT86IHN0cmluZywgaW5jbHVkZUdlb21ldHJ5SW5kPzogc3RyaW5nLCBwYWdlTnVtYmVyPzogc3RyaW5nLCBwYWdlUm93Q291bnQ/OiBzdHJpbmcsIG9yZGVyQnk/OiBzdHJpbmcsIHJlc3RWZXJzaW9uPzogbnVtYmVyLCBvYnNlcnZlPzogJ3Jlc3BvbnNlJywgcmVwb3J0UHJvZ3Jlc3M/OiBib29sZWFuKTogT2JzZXJ2YWJsZTxIdHRwUmVzcG9uc2U8T3JnVW5pdEFyZWFMaXN0UmVzb3VyY2U+PjtcbiAgICBwdWJsaWMgZ2V0T3JnVW5pdEFyZWFMaXN0MShvcmdVbml0SWQ6IHN0cmluZywgZWZmZWN0aXZlQXNPZkRhdGU/OiBzdHJpbmcsIG9yZ1VuaXRBcmVhVHlwZUNvZGU/OiBzdHJpbmcsIGluY2x1ZGVHZW9tZXRyeUluZD86IHN0cmluZywgcGFnZU51bWJlcj86IHN0cmluZywgcGFnZVJvd0NvdW50Pzogc3RyaW5nLCBvcmRlckJ5Pzogc3RyaW5nLCByZXN0VmVyc2lvbj86IG51bWJlciwgb2JzZXJ2ZT86ICdldmVudHMnLCByZXBvcnRQcm9ncmVzcz86IGJvb2xlYW4pOiBPYnNlcnZhYmxlPEh0dHBFdmVudDxPcmdVbml0QXJlYUxpc3RSZXNvdXJjZT4+O1xuICAgIHB1YmxpYyBnZXRPcmdVbml0QXJlYUxpc3QxKG9yZ1VuaXRJZDogc3RyaW5nLCBlZmZlY3RpdmVBc09mRGF0ZT86IHN0cmluZywgb3JnVW5pdEFyZWFUeXBlQ29kZT86IHN0cmluZywgaW5jbHVkZUdlb21ldHJ5SW5kPzogc3RyaW5nLCBwYWdlTnVtYmVyPzogc3RyaW5nLCBwYWdlUm93Q291bnQ/OiBzdHJpbmcsIG9yZGVyQnk/OiBzdHJpbmcsIHJlc3RWZXJzaW9uPzogbnVtYmVyLCBvYnNlcnZlOiBhbnkgPSAnYm9keScsIHJlcG9ydFByb2dyZXNzOiBib29sZWFuID0gZmFsc2UgKTogT2JzZXJ2YWJsZTxhbnk+IHtcbiAgICAgICAgaWYgKG9yZ1VuaXRJZCA9PT0gbnVsbCB8fCBvcmdVbml0SWQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdSZXF1aXJlZCBwYXJhbWV0ZXIgb3JnVW5pdElkIHdhcyBudWxsIG9yIHVuZGVmaW5lZCB3aGVuIGNhbGxpbmcgZ2V0T3JnVW5pdEFyZWFMaXN0MS4nKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBxdWVyeVBhcmFtZXRlcnMgPSBuZXcgSHR0cFBhcmFtcyh7ZW5jb2RlcjogbmV3IEN1c3RvbUh0dHBVcmxFbmNvZGluZ0NvZGVjKCl9KTtcbiAgICAgICAgaWYgKGVmZmVjdGl2ZUFzT2ZEYXRlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHF1ZXJ5UGFyYW1ldGVycyA9IHF1ZXJ5UGFyYW1ldGVycy5zZXQoJ2VmZmVjdGl2ZUFzT2ZEYXRlJywgPGFueT5lZmZlY3RpdmVBc09mRGF0ZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG9yZ1VuaXRBcmVhVHlwZUNvZGUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcXVlcnlQYXJhbWV0ZXJzID0gcXVlcnlQYXJhbWV0ZXJzLnNldCgnb3JnVW5pdEFyZWFUeXBlQ29kZScsIDxhbnk+b3JnVW5pdEFyZWFUeXBlQ29kZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGluY2x1ZGVHZW9tZXRyeUluZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBxdWVyeVBhcmFtZXRlcnMgPSBxdWVyeVBhcmFtZXRlcnMuc2V0KCdpbmNsdWRlR2VvbWV0cnlJbmQnLCA8YW55PmluY2x1ZGVHZW9tZXRyeUluZCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHBhZ2VOdW1iZXIgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcXVlcnlQYXJhbWV0ZXJzID0gcXVlcnlQYXJhbWV0ZXJzLnNldCgncGFnZU51bWJlcicsIDxhbnk+cGFnZU51bWJlcik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHBhZ2VSb3dDb3VudCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBxdWVyeVBhcmFtZXRlcnMgPSBxdWVyeVBhcmFtZXRlcnMuc2V0KCdwYWdlUm93Q291bnQnLCA8YW55PnBhZ2VSb3dDb3VudCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG9yZGVyQnkgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcXVlcnlQYXJhbWV0ZXJzID0gcXVlcnlQYXJhbWV0ZXJzLnNldCgnb3JkZXJCeScsIDxhbnk+b3JkZXJCeSk7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgaGVhZGVycyA9IHRoaXMuZGVmYXVsdEhlYWRlcnM7XG4gICAgICAgIGlmIChyZXN0VmVyc2lvbiAhPT0gdW5kZWZpbmVkICYmIHJlc3RWZXJzaW9uICE9PSBudWxsKSB7XG4gICAgICAgICAgICBoZWFkZXJzID0gaGVhZGVycy5zZXQoJ1Jlc3QtVmVyc2lvbicsIFN0cmluZyhyZXN0VmVyc2lvbikpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gdG8gZGV0ZXJtaW5lIHRoZSBBY2NlcHQgaGVhZGVyXG4gICAgICAgIGxldCBodHRwSGVhZGVyQWNjZXB0czogc3RyaW5nW10gPSBbXG4gICAgICAgICAgICAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgICAgICAnYXBwbGljYXRpb24veG1sJ1xuICAgICAgICBdO1xuICAgICAgICBsZXQgaHR0cEhlYWRlckFjY2VwdFNlbGVjdGVkOiBzdHJpbmcgfCB1bmRlZmluZWQgPSB0aGlzLmNvbmZpZ3VyYXRpb24uc2VsZWN0SGVhZGVyQWNjZXB0KGh0dHBIZWFkZXJBY2NlcHRzKTtcbiAgICAgICAgaWYgKGh0dHBIZWFkZXJBY2NlcHRTZWxlY3RlZCAhPSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGhlYWRlcnMgPSBoZWFkZXJzLnNldChcIkFjY2VwdFwiLCBodHRwSGVhZGVyQWNjZXB0U2VsZWN0ZWQpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gdG8gZGV0ZXJtaW5lIHRoZSBDb250ZW50LVR5cGUgaGVhZGVyXG4gICAgICAgIGxldCBjb25zdW1lczogc3RyaW5nW10gPSBbXG4gICAgICAgIF07XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuaHR0cENsaWVudC5nZXQ8T3JnVW5pdEFyZWFMaXN0UmVzb3VyY2U+KGAke3RoaXMuYmFzZVBhdGh9L29yZ1VuaXRzLyR7ZW5jb2RlVVJJQ29tcG9uZW50KFN0cmluZyhvcmdVbml0SWQpKX0vYXJlYXNgLFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHBhcmFtczogcXVlcnlQYXJhbWV0ZXJzLFxuICAgICAgICAgICAgICAgIHdpdGhDcmVkZW50aWFsczogdGhpcy5jb25maWd1cmF0aW9uLndpdGhDcmVkZW50aWFscyxcbiAgICAgICAgICAgICAgICBoZWFkZXJzOiBoZWFkZXJzLFxuICAgICAgICAgICAgICAgIG9ic2VydmU6IG9ic2VydmUsXG4gICAgICAgICAgICAgICAgcmVwb3J0UHJvZ3Jlc3M6IHJlcG9ydFByb2dyZXNzXG4gICAgICAgICAgICB9XG4gICAgICAgICk7XG4gICAgfVxuXG59XG4iLCIvKipcbiAqIFdpbGRmaXJlIE9yZyBVbml0IFJFU1QgQVBJXG4gKiBUaGUgV2lsZGZpcmUgT3JnIFVuaXQgUkVTVCBBUEkuXG4gKlxuICogT3BlbkFQSSBzcGVjIHZlcnNpb246IDEuMC4wLVNOQVBTSE9UXG4gKiBcbiAqXG4gKiBOT1RFOiBUaGlzIGNsYXNzIGlzIGF1dG8gZ2VuZXJhdGVkIGJ5IHRoZSBzd2FnZ2VyIGNvZGUgZ2VuZXJhdG9yIHByb2dyYW0uXG4gKiBodHRwczovL2dpdGh1Yi5jb20vc3dhZ2dlci1hcGkvc3dhZ2dlci1jb2RlZ2VuLmdpdFxuICogRG8gbm90IGVkaXQgdGhlIGNsYXNzIG1hbnVhbGx5LlxuICovXG4vKiB0c2xpbnQ6ZGlzYWJsZTpuby11bnVzZWQtdmFyaWFibGUgbWVtYmVyLW9yZGVyaW5nICovXG5cbmltcG9ydCB7IEluamVjdCwgSW5qZWN0YWJsZSwgT3B0aW9uYWwgfSAgICAgICAgICAgICAgICAgICAgICBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IEh0dHBDbGllbnQsIEh0dHBIZWFkZXJzLCBIdHRwUGFyYW1zLFxuICAgICAgICAgSHR0cFJlc3BvbnNlLCBIdHRwRXZlbnQgfSAgICAgICAgICAgICAgICAgICAgICAgICAgIGZyb20gJ0Bhbmd1bGFyL2NvbW1vbi9odHRwJztcbmltcG9ydCB7IEN1c3RvbUh0dHBVcmxFbmNvZGluZ0NvZGVjIH0gICAgICAgICAgICAgICAgICAgICAgICBmcm9tICcuLi9lbmNvZGVyJztcblxuaW1wb3J0IHsgT2JzZXJ2YWJsZSB9ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZyb20gJ3J4anMnO1xuXG5pbXBvcnQgeyBNZXNzYWdlcyB9IGZyb20gJy4uL21vZGVsL21lc3NhZ2VzJztcbmltcG9ydCB7IE9yZ1VuaXRMaXN0UmVzb3VyY2UgfSBmcm9tICcuLi9tb2RlbC9vcmdVbml0TGlzdFJlc291cmNlJztcblxuaW1wb3J0IHsgQkFTRV9QQVRILCBDT0xMRUNUSU9OX0ZPUk1BVFMgfSAgICAgICAgICAgICAgICAgICAgIGZyb20gJy4uL3ZhcmlhYmxlcyc7XG5pbXBvcnQgeyBPcmdVbml0Q29uZmlndXJhdGlvbiB9ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZyb20gJy4uL2NvbmZpZ3VyYXRpb24nO1xuXG5cbkBJbmplY3RhYmxlKClcbmV4cG9ydCBjbGFzcyBPcmdVbml0TGlzdFNlcnZpY2Uge1xuXG4gICAgcHJvdGVjdGVkIGJhc2VQYXRoID0gJ2h0dHBzOi8vaHR0cHM6Ly9kMWFwaS52aXZpZHNvbHV0aW9ucy5jb20vd2Zvcmctb3JnLXVuaXQtYXBpJztcbiAgICBwdWJsaWMgZGVmYXVsdEhlYWRlcnMgPSBuZXcgSHR0cEhlYWRlcnMoKTtcbiAgICBwdWJsaWMgY29uZmlndXJhdGlvbiA9IG5ldyBPcmdVbml0Q29uZmlndXJhdGlvbigpO1xuXG4gICAgY29uc3RydWN0b3IocHJvdGVjdGVkIGh0dHBDbGllbnQ6IEh0dHBDbGllbnQsIEBPcHRpb25hbCgpQEluamVjdChCQVNFX1BBVEgpIGJhc2VQYXRoOiBzdHJpbmcsIEBPcHRpb25hbCgpIGNvbmZpZ3VyYXRpb246IE9yZ1VuaXRDb25maWd1cmF0aW9uKSB7XG4gICAgICAgIGlmIChiYXNlUGF0aCkge1xuICAgICAgICAgICAgdGhpcy5iYXNlUGF0aCA9IGJhc2VQYXRoO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjb25maWd1cmF0aW9uKSB7XG4gICAgICAgICAgICB0aGlzLmNvbmZpZ3VyYXRpb24gPSBjb25maWd1cmF0aW9uO1xuICAgICAgICAgICAgdGhpcy5iYXNlUGF0aCA9IGJhc2VQYXRoIHx8IGNvbmZpZ3VyYXRpb24uYmFzZVBhdGggfHwgdGhpcy5iYXNlUGF0aDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBwYXJhbSBjb25zdW1lcyBzdHJpbmdbXSBtaW1lLXR5cGVzXG4gICAgICogQHJldHVybiB0cnVlOiBjb25zdW1lcyBjb250YWlucyAnbXVsdGlwYXJ0L2Zvcm0tZGF0YScsIGZhbHNlOiBvdGhlcndpc2VcbiAgICAgKi9cbiAgICBwcml2YXRlIGNhbkNvbnN1bWVGb3JtKGNvbnN1bWVzOiBzdHJpbmdbXSk6IGJvb2xlYW4ge1xuICAgICAgICBjb25zdCBmb3JtID0gJ211bHRpcGFydC9mb3JtLWRhdGEnO1xuICAgICAgICBmb3IgKGxldCBjb25zdW1lIG9mIGNvbnN1bWVzKSB7XG4gICAgICAgICAgICBpZiAoZm9ybSA9PT0gY29uc3VtZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cblxuICAgIC8qKlxuICAgICAqIEdldCBsaXN0IG9mIE9yZyBVbml0cy5cbiAgICAgKiBHZXQgbGlzdCBvZiBPcmcgVW5pdHMuXG4gICAgICogQHBhcmFtIGVmZmVjdGl2ZUFzT2ZEYXRlIFJldHVybiB0aGUgcmVzdWx0cyBhcyBvZiB0aGUgZWZmZWN0aXZlQXNPZkRhdGUuXG4gICAgICogQHBhcmFtIG9yZ1VuaXROYW1lIEZpbHRlciB0aGUgcmVzdWx0cyBieSB0aGUgb3JnVW5pdE5hbWUuXG4gICAgICogQHBhcmFtIGludGVnZXJBbGlhcyBGaWx0ZXIgdGhlIHJlc3VsdHMgYnkgdGhlIGludGVnZXJBbGlhcy5cbiAgICAgKiBAcGFyYW0gY2hhcmFjdGVyQWxpYXMgRmlsdGVyIHRoZSByZXN1bHRzIGJ5IHRoZSBjaGFyYWN0ZXJBbGlhcy5cbiAgICAgKiBAcGFyYW0gb3JnVW5pdFR5cGVDb2RlIEZpbHRlciB0aGUgcmVzdWx0cyBieSB0aGUgb3JnVW5pdFR5cGVDb2RlLlxuICAgICAqIEBwYXJhbSBvcmdVbml0QXJlYVR5cGVDb2RlIEZpbHRlciB0aGUgcmVzdWx0cyBieSB0aGUgb3JnVW5pdEFyZWFUeXBlQ29kZS5cbiAgICAgKiBAcGFyYW0gcG9pbnQgRmlsdGVyIHRoZSByZXN1bHRzIGJ5IHRoZSBwb2ludC5cbiAgICAgKiBAcGFyYW0gcGFnZU51bWJlciBUaGUgcGFnZSBudW1iZXIgb2YgdGhlIHJlc3VsdHMgdG8gYmUgcmV0dXJuZWQuXG4gICAgICogQHBhcmFtIHBhZ2VSb3dDb3VudCBUaGUgbnVtYmVyIG9mIHJlc3VsdHMgcGVyIHBhZ2UuXG4gICAgICogQHBhcmFtIG9yZGVyQnkgQ29tbWEgc2VwYXJhdGVkIGxpc3Qgb2YgcHJvcGVydHkgbmFtZXMgdG8gb3JkZXIgdGhlIHJlc3VsdCBzZXQgYnkuXG4gICAgICogQHBhcmFtIHJlc3RWZXJzaW9uIFRoZSB2ZXJzaW9uIG9mIHRoZSBSZXN0IEFQSSBzdXBwb3J0ZWQgYnkgdGhlIHJlcXVlc3RpbmcgY2xpZW50LlxuICAgICAqIEBwYXJhbSBvYnNlcnZlIHNldCB3aGV0aGVyIG9yIG5vdCB0byByZXR1cm4gdGhlIGRhdGEgT2JzZXJ2YWJsZSBhcyB0aGUgYm9keSwgcmVzcG9uc2Ugb3IgZXZlbnRzLiBkZWZhdWx0cyB0byByZXR1cm5pbmcgdGhlIGJvZHkuXG4gICAgICogQHBhcmFtIHJlcG9ydFByb2dyZXNzIGZsYWcgdG8gcmVwb3J0IHJlcXVlc3QgYW5kIHJlc3BvbnNlIHByb2dyZXNzLlxuICAgICAqL1xuICAgIHB1YmxpYyBnZXRPcmdVbml0TGlzdDEoZWZmZWN0aXZlQXNPZkRhdGU/OiBzdHJpbmcsIG9yZ1VuaXROYW1lPzogc3RyaW5nLCBpbnRlZ2VyQWxpYXM/OiBzdHJpbmcsIGNoYXJhY3RlckFsaWFzPzogc3RyaW5nLCBvcmdVbml0VHlwZUNvZGU/OiBzdHJpbmcsIG9yZ1VuaXRBcmVhVHlwZUNvZGU/OiBzdHJpbmcsIHBvaW50Pzogc3RyaW5nLCBwYWdlTnVtYmVyPzogc3RyaW5nLCBwYWdlUm93Q291bnQ/OiBzdHJpbmcsIG9yZGVyQnk/OiBzdHJpbmcsIHJlc3RWZXJzaW9uPzogbnVtYmVyLCBvYnNlcnZlPzogJ2JvZHknLCByZXBvcnRQcm9ncmVzcz86IGJvb2xlYW4pOiBPYnNlcnZhYmxlPE9yZ1VuaXRMaXN0UmVzb3VyY2U+O1xuICAgIHB1YmxpYyBnZXRPcmdVbml0TGlzdDEoZWZmZWN0aXZlQXNPZkRhdGU/OiBzdHJpbmcsIG9yZ1VuaXROYW1lPzogc3RyaW5nLCBpbnRlZ2VyQWxpYXM/OiBzdHJpbmcsIGNoYXJhY3RlckFsaWFzPzogc3RyaW5nLCBvcmdVbml0VHlwZUNvZGU/OiBzdHJpbmcsIG9yZ1VuaXRBcmVhVHlwZUNvZGU/OiBzdHJpbmcsIHBvaW50Pzogc3RyaW5nLCBwYWdlTnVtYmVyPzogc3RyaW5nLCBwYWdlUm93Q291bnQ/OiBzdHJpbmcsIG9yZGVyQnk/OiBzdHJpbmcsIHJlc3RWZXJzaW9uPzogbnVtYmVyLCBvYnNlcnZlPzogJ3Jlc3BvbnNlJywgcmVwb3J0UHJvZ3Jlc3M/OiBib29sZWFuKTogT2JzZXJ2YWJsZTxIdHRwUmVzcG9uc2U8T3JnVW5pdExpc3RSZXNvdXJjZT4+O1xuICAgIHB1YmxpYyBnZXRPcmdVbml0TGlzdDEoZWZmZWN0aXZlQXNPZkRhdGU/OiBzdHJpbmcsIG9yZ1VuaXROYW1lPzogc3RyaW5nLCBpbnRlZ2VyQWxpYXM/OiBzdHJpbmcsIGNoYXJhY3RlckFsaWFzPzogc3RyaW5nLCBvcmdVbml0VHlwZUNvZGU/OiBzdHJpbmcsIG9yZ1VuaXRBcmVhVHlwZUNvZGU/OiBzdHJpbmcsIHBvaW50Pzogc3RyaW5nLCBwYWdlTnVtYmVyPzogc3RyaW5nLCBwYWdlUm93Q291bnQ/OiBzdHJpbmcsIG9yZGVyQnk/OiBzdHJpbmcsIHJlc3RWZXJzaW9uPzogbnVtYmVyLCBvYnNlcnZlPzogJ2V2ZW50cycsIHJlcG9ydFByb2dyZXNzPzogYm9vbGVhbik6IE9ic2VydmFibGU8SHR0cEV2ZW50PE9yZ1VuaXRMaXN0UmVzb3VyY2U+PjtcbiAgICBwdWJsaWMgZ2V0T3JnVW5pdExpc3QxKGVmZmVjdGl2ZUFzT2ZEYXRlPzogc3RyaW5nLCBvcmdVbml0TmFtZT86IHN0cmluZywgaW50ZWdlckFsaWFzPzogc3RyaW5nLCBjaGFyYWN0ZXJBbGlhcz86IHN0cmluZywgb3JnVW5pdFR5cGVDb2RlPzogc3RyaW5nLCBvcmdVbml0QXJlYVR5cGVDb2RlPzogc3RyaW5nLCBwb2ludD86IHN0cmluZywgcGFnZU51bWJlcj86IHN0cmluZywgcGFnZVJvd0NvdW50Pzogc3RyaW5nLCBvcmRlckJ5Pzogc3RyaW5nLCByZXN0VmVyc2lvbj86IG51bWJlciwgb2JzZXJ2ZTogYW55ID0gJ2JvZHknLCByZXBvcnRQcm9ncmVzczogYm9vbGVhbiA9IGZhbHNlICk6IE9ic2VydmFibGU8YW55PiB7XG5cbiAgICAgICAgbGV0IHF1ZXJ5UGFyYW1ldGVycyA9IG5ldyBIdHRwUGFyYW1zKHtlbmNvZGVyOiBuZXcgQ3VzdG9tSHR0cFVybEVuY29kaW5nQ29kZWMoKX0pO1xuICAgICAgICBpZiAoZWZmZWN0aXZlQXNPZkRhdGUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcXVlcnlQYXJhbWV0ZXJzID0gcXVlcnlQYXJhbWV0ZXJzLnNldCgnZWZmZWN0aXZlQXNPZkRhdGUnLCA8YW55PmVmZmVjdGl2ZUFzT2ZEYXRlKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAob3JnVW5pdE5hbWUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcXVlcnlQYXJhbWV0ZXJzID0gcXVlcnlQYXJhbWV0ZXJzLnNldCgnb3JnVW5pdE5hbWUnLCA8YW55Pm9yZ1VuaXROYW1lKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaW50ZWdlckFsaWFzICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHF1ZXJ5UGFyYW1ldGVycyA9IHF1ZXJ5UGFyYW1ldGVycy5zZXQoJ2ludGVnZXJBbGlhcycsIDxhbnk+aW50ZWdlckFsaWFzKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY2hhcmFjdGVyQWxpYXMgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcXVlcnlQYXJhbWV0ZXJzID0gcXVlcnlQYXJhbWV0ZXJzLnNldCgnY2hhcmFjdGVyQWxpYXMnLCA8YW55PmNoYXJhY3RlckFsaWFzKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAob3JnVW5pdFR5cGVDb2RlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHF1ZXJ5UGFyYW1ldGVycyA9IHF1ZXJ5UGFyYW1ldGVycy5zZXQoJ29yZ1VuaXRUeXBlQ29kZScsIDxhbnk+b3JnVW5pdFR5cGVDb2RlKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAob3JnVW5pdEFyZWFUeXBlQ29kZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBxdWVyeVBhcmFtZXRlcnMgPSBxdWVyeVBhcmFtZXRlcnMuc2V0KCdvcmdVbml0QXJlYVR5cGVDb2RlJywgPGFueT5vcmdVbml0QXJlYVR5cGVDb2RlKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocG9pbnQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcXVlcnlQYXJhbWV0ZXJzID0gcXVlcnlQYXJhbWV0ZXJzLnNldCgncG9pbnQnLCA8YW55PnBvaW50KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocGFnZU51bWJlciAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBxdWVyeVBhcmFtZXRlcnMgPSBxdWVyeVBhcmFtZXRlcnMuc2V0KCdwYWdlTnVtYmVyJywgPGFueT5wYWdlTnVtYmVyKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocGFnZVJvd0NvdW50ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHF1ZXJ5UGFyYW1ldGVycyA9IHF1ZXJ5UGFyYW1ldGVycy5zZXQoJ3BhZ2VSb3dDb3VudCcsIDxhbnk+cGFnZVJvd0NvdW50KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAob3JkZXJCeSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBxdWVyeVBhcmFtZXRlcnMgPSBxdWVyeVBhcmFtZXRlcnMuc2V0KCdvcmRlckJ5JywgPGFueT5vcmRlckJ5KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBoZWFkZXJzID0gdGhpcy5kZWZhdWx0SGVhZGVycztcbiAgICAgICAgaWYgKHJlc3RWZXJzaW9uICE9PSB1bmRlZmluZWQgJiYgcmVzdFZlcnNpb24gIT09IG51bGwpIHtcbiAgICAgICAgICAgIGhlYWRlcnMgPSBoZWFkZXJzLnNldCgnUmVzdC1WZXJzaW9uJywgU3RyaW5nKHJlc3RWZXJzaW9uKSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyB0byBkZXRlcm1pbmUgdGhlIEFjY2VwdCBoZWFkZXJcbiAgICAgICAgbGV0IGh0dHBIZWFkZXJBY2NlcHRzOiBzdHJpbmdbXSA9IFtcbiAgICAgICAgICAgICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgICAgICdhcHBsaWNhdGlvbi94bWwnXG4gICAgICAgIF07XG4gICAgICAgIGxldCBodHRwSGVhZGVyQWNjZXB0U2VsZWN0ZWQ6IHN0cmluZyB8IHVuZGVmaW5lZCA9IHRoaXMuY29uZmlndXJhdGlvbi5zZWxlY3RIZWFkZXJBY2NlcHQoaHR0cEhlYWRlckFjY2VwdHMpO1xuICAgICAgICBpZiAoaHR0cEhlYWRlckFjY2VwdFNlbGVjdGVkICE9IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgaGVhZGVycyA9IGhlYWRlcnMuc2V0KFwiQWNjZXB0XCIsIGh0dHBIZWFkZXJBY2NlcHRTZWxlY3RlZCk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyB0byBkZXRlcm1pbmUgdGhlIENvbnRlbnQtVHlwZSBoZWFkZXJcbiAgICAgICAgbGV0IGNvbnN1bWVzOiBzdHJpbmdbXSA9IFtcbiAgICAgICAgXTtcblxuICAgICAgICByZXR1cm4gdGhpcy5odHRwQ2xpZW50LmdldDxPcmdVbml0TGlzdFJlc291cmNlPihgJHt0aGlzLmJhc2VQYXRofS9vcmdVbml0c2AsXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgcGFyYW1zOiBxdWVyeVBhcmFtZXRlcnMsXG4gICAgICAgICAgICAgICAgd2l0aENyZWRlbnRpYWxzOiB0aGlzLmNvbmZpZ3VyYXRpb24ud2l0aENyZWRlbnRpYWxzLFxuICAgICAgICAgICAgICAgIGhlYWRlcnM6IGhlYWRlcnMsXG4gICAgICAgICAgICAgICAgb2JzZXJ2ZTogb2JzZXJ2ZSxcbiAgICAgICAgICAgICAgICByZXBvcnRQcm9ncmVzczogcmVwb3J0UHJvZ3Jlc3NcbiAgICAgICAgICAgIH1cbiAgICAgICAgKTtcbiAgICB9XG5cbn1cbiIsIi8qKlxuICogV2lsZGZpcmUgT3JnIFVuaXQgUkVTVCBBUElcbiAqIFRoZSBXaWxkZmlyZSBPcmcgVW5pdCBSRVNUIEFQSS5cbiAqXG4gKiBPcGVuQVBJIHNwZWMgdmVyc2lvbjogMS4wLjAtU05BUFNIT1RcbiAqIFxuICpcbiAqIE5PVEU6IFRoaXMgY2xhc3MgaXMgYXV0byBnZW5lcmF0ZWQgYnkgdGhlIHN3YWdnZXIgY29kZSBnZW5lcmF0b3IgcHJvZ3JhbS5cbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9zd2FnZ2VyLWFwaS9zd2FnZ2VyLWNvZGVnZW4uZ2l0XG4gKiBEbyBub3QgZWRpdCB0aGUgY2xhc3MgbWFudWFsbHkuXG4gKi9cbi8qIHRzbGludDpkaXNhYmxlOm5vLXVudXNlZC12YXJpYWJsZSBtZW1iZXItb3JkZXJpbmcgKi9cblxuaW1wb3J0IHsgSW5qZWN0LCBJbmplY3RhYmxlLCBPcHRpb25hbCB9ICAgICAgICAgICAgICAgICAgICAgIGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgSHR0cENsaWVudCwgSHR0cEhlYWRlcnMsIEh0dHBQYXJhbXMsXG4gICAgICAgICBIdHRwUmVzcG9uc2UsIEh0dHBFdmVudCB9ICAgICAgICAgICAgICAgICAgICAgICAgICAgZnJvbSAnQGFuZ3VsYXIvY29tbW9uL2h0dHAnO1xuaW1wb3J0IHsgQ3VzdG9tSHR0cFVybEVuY29kaW5nQ29kZWMgfSAgICAgICAgICAgICAgICAgICAgICAgIGZyb20gJy4uL2VuY29kZXInO1xuXG5pbXBvcnQgeyBPYnNlcnZhYmxlIH0gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZnJvbSAncnhqcyc7XG5cbmltcG9ydCB7IE1lc3NhZ2VzIH0gZnJvbSAnLi4vbW9kZWwvbWVzc2FnZXMnO1xuaW1wb3J0IHsgT3JnVW5pdExvY2F0aW9uUmVzb3VyY2UgfSBmcm9tICcuLi9tb2RlbC9vcmdVbml0TG9jYXRpb25SZXNvdXJjZSc7XG5cbmltcG9ydCB7IEJBU0VfUEFUSCwgQ09MTEVDVElPTl9GT1JNQVRTIH0gICAgICAgICAgICAgICAgICAgICBmcm9tICcuLi92YXJpYWJsZXMnO1xuaW1wb3J0IHsgT3JnVW5pdENvbmZpZ3VyYXRpb24gfSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmcm9tICcuLi9jb25maWd1cmF0aW9uJztcblxuXG5ASW5qZWN0YWJsZSgpXG5leHBvcnQgY2xhc3MgT3JnVW5pdExvY2F0aW9uU2VydmljZSB7XG5cbiAgICBwcm90ZWN0ZWQgYmFzZVBhdGggPSAnaHR0cHM6Ly9odHRwczovL2QxYXBpLnZpdmlkc29sdXRpb25zLmNvbS93Zm9yZy1vcmctdW5pdC1hcGknO1xuICAgIHB1YmxpYyBkZWZhdWx0SGVhZGVycyA9IG5ldyBIdHRwSGVhZGVycygpO1xuICAgIHB1YmxpYyBjb25maWd1cmF0aW9uID0gbmV3IE9yZ1VuaXRDb25maWd1cmF0aW9uKCk7XG5cbiAgICBjb25zdHJ1Y3Rvcihwcm90ZWN0ZWQgaHR0cENsaWVudDogSHR0cENsaWVudCwgQE9wdGlvbmFsKClASW5qZWN0KEJBU0VfUEFUSCkgYmFzZVBhdGg6IHN0cmluZywgQE9wdGlvbmFsKCkgY29uZmlndXJhdGlvbjogT3JnVW5pdENvbmZpZ3VyYXRpb24pIHtcbiAgICAgICAgaWYgKGJhc2VQYXRoKSB7XG4gICAgICAgICAgICB0aGlzLmJhc2VQYXRoID0gYmFzZVBhdGg7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNvbmZpZ3VyYXRpb24pIHtcbiAgICAgICAgICAgIHRoaXMuY29uZmlndXJhdGlvbiA9IGNvbmZpZ3VyYXRpb247XG4gICAgICAgICAgICB0aGlzLmJhc2VQYXRoID0gYmFzZVBhdGggfHwgY29uZmlndXJhdGlvbi5iYXNlUGF0aCB8fCB0aGlzLmJhc2VQYXRoO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQHBhcmFtIGNvbnN1bWVzIHN0cmluZ1tdIG1pbWUtdHlwZXNcbiAgICAgKiBAcmV0dXJuIHRydWU6IGNvbnN1bWVzIGNvbnRhaW5zICdtdWx0aXBhcnQvZm9ybS1kYXRhJywgZmFsc2U6IG90aGVyd2lzZVxuICAgICAqL1xuICAgIHByaXZhdGUgY2FuQ29uc3VtZUZvcm0oY29uc3VtZXM6IHN0cmluZ1tdKTogYm9vbGVhbiB7XG4gICAgICAgIGNvbnN0IGZvcm0gPSAnbXVsdGlwYXJ0L2Zvcm0tZGF0YSc7XG4gICAgICAgIGZvciAobGV0IGNvbnN1bWUgb2YgY29uc3VtZXMpIHtcbiAgICAgICAgICAgIGlmIChmb3JtID09PSBjb25zdW1lKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuXG4gICAgLyoqXG4gICAgICogRGVsZXRlIGFuIExvY2F0aW9uIGRlZmluZWQgZm9yIGFuIE9yZyBVbml0IGJ5IElELlxuICAgICAqIERlbGV0ZSBhbiBMb2NhdGlvbiBkZWZpbmVkIGZvciBhbiBPcmcgVW5pdCBieSBJRC5cbiAgICAgKiBAcGFyYW0gb3JnVW5pdElkIFRoZSBpZGVudGlmaWVyIG9mIHRoZSBPcmcgVW5pdCByZXNvdXJjZS5cbiAgICAgKiBAcGFyYW0gb3JnVW5pdExvY2F0aW9uSWQgVGhlIGlkZW50aWZpZXIgb2YgdGhlIE9yZyBVbml0IExvY2F0aW9uIHJlc291cmNlLlxuICAgICAqIEBwYXJhbSBpZk1hdGNoIFRoZSBJZi1NYXRjaCByZXF1ZXN0LWhlYWRlciBtdXN0IG1hdGNoIHRoZSBjdXJyZW50IGVUYWcgb2YgdGhlIHJlc291cmNlIG9yIHRoZSByZXF1ZXN0IHdpbGwgZmFpbC5cbiAgICAgKiBAcGFyYW0gZWZmZWN0aXZlRGF0ZSBEZWxldGUgdGhlIHJlc291cmNlIGZvciB0aGUgcGVyaW9kIGVmZmVjdGl2ZSBhcyBvZiB0aGUgZWZmZWN0aXZlRGF0ZSBvciBhcyBvZiB0b2RheSBpZiBub3QgcHJvdmlkZWQuXG4gICAgICogQHBhcmFtIGV4cGlyeURhdGUgRGVsZXRlIHRoZSByZXNvdXJjZSBmb3IgdGhlIHBlcmlvZCBleHBpcmluZyBhcyBvZiB0aGUgZXhwaXJ5RGF0ZSBvciBvcGVuIGVuZGVkIGlmIG5vdCBwcm92aWRlZC5cbiAgICAgKiBAcGFyYW0gcmVzdFZlcnNpb24gVGhlIHZlcnNpb24gb2YgdGhlIFJlc3QgQVBJIHN1cHBvcnRlZCBieSB0aGUgcmVxdWVzdGluZyBjbGllbnQuXG4gICAgICogQHBhcmFtIG9ic2VydmUgc2V0IHdoZXRoZXIgb3Igbm90IHRvIHJldHVybiB0aGUgZGF0YSBPYnNlcnZhYmxlIGFzIHRoZSBib2R5LCByZXNwb25zZSBvciBldmVudHMuIGRlZmF1bHRzIHRvIHJldHVybmluZyB0aGUgYm9keS5cbiAgICAgKiBAcGFyYW0gcmVwb3J0UHJvZ3Jlc3MgZmxhZyB0byByZXBvcnQgcmVxdWVzdCBhbmQgcmVzcG9uc2UgcHJvZ3Jlc3MuXG4gICAgICovXG4gICAgcHVibGljIGRlbGV0ZU9yZ1VuaXRMb2NhdGlvbjEob3JnVW5pdElkOiBzdHJpbmcsIG9yZ1VuaXRMb2NhdGlvbklkOiBzdHJpbmcsIGlmTWF0Y2g6IHN0cmluZywgZWZmZWN0aXZlRGF0ZT86IHN0cmluZywgZXhwaXJ5RGF0ZT86IHN0cmluZywgcmVzdFZlcnNpb24/OiBudW1iZXIsIG9ic2VydmU/OiAnYm9keScsIHJlcG9ydFByb2dyZXNzPzogYm9vbGVhbik6IE9ic2VydmFibGU8YW55PjtcbiAgICBwdWJsaWMgZGVsZXRlT3JnVW5pdExvY2F0aW9uMShvcmdVbml0SWQ6IHN0cmluZywgb3JnVW5pdExvY2F0aW9uSWQ6IHN0cmluZywgaWZNYXRjaDogc3RyaW5nLCBlZmZlY3RpdmVEYXRlPzogc3RyaW5nLCBleHBpcnlEYXRlPzogc3RyaW5nLCByZXN0VmVyc2lvbj86IG51bWJlciwgb2JzZXJ2ZT86ICdyZXNwb25zZScsIHJlcG9ydFByb2dyZXNzPzogYm9vbGVhbik6IE9ic2VydmFibGU8SHR0cFJlc3BvbnNlPGFueT4+O1xuICAgIHB1YmxpYyBkZWxldGVPcmdVbml0TG9jYXRpb24xKG9yZ1VuaXRJZDogc3RyaW5nLCBvcmdVbml0TG9jYXRpb25JZDogc3RyaW5nLCBpZk1hdGNoOiBzdHJpbmcsIGVmZmVjdGl2ZURhdGU/OiBzdHJpbmcsIGV4cGlyeURhdGU/OiBzdHJpbmcsIHJlc3RWZXJzaW9uPzogbnVtYmVyLCBvYnNlcnZlPzogJ2V2ZW50cycsIHJlcG9ydFByb2dyZXNzPzogYm9vbGVhbik6IE9ic2VydmFibGU8SHR0cEV2ZW50PGFueT4+O1xuICAgIHB1YmxpYyBkZWxldGVPcmdVbml0TG9jYXRpb24xKG9yZ1VuaXRJZDogc3RyaW5nLCBvcmdVbml0TG9jYXRpb25JZDogc3RyaW5nLCBpZk1hdGNoOiBzdHJpbmcsIGVmZmVjdGl2ZURhdGU/OiBzdHJpbmcsIGV4cGlyeURhdGU/OiBzdHJpbmcsIHJlc3RWZXJzaW9uPzogbnVtYmVyLCBvYnNlcnZlOiBhbnkgPSAnYm9keScsIHJlcG9ydFByb2dyZXNzOiBib29sZWFuID0gZmFsc2UgKTogT2JzZXJ2YWJsZTxhbnk+IHtcbiAgICAgICAgaWYgKG9yZ1VuaXRJZCA9PT0gbnVsbCB8fCBvcmdVbml0SWQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdSZXF1aXJlZCBwYXJhbWV0ZXIgb3JnVW5pdElkIHdhcyBudWxsIG9yIHVuZGVmaW5lZCB3aGVuIGNhbGxpbmcgZGVsZXRlT3JnVW5pdExvY2F0aW9uMS4nKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAob3JnVW5pdExvY2F0aW9uSWQgPT09IG51bGwgfHwgb3JnVW5pdExvY2F0aW9uSWQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdSZXF1aXJlZCBwYXJhbWV0ZXIgb3JnVW5pdExvY2F0aW9uSWQgd2FzIG51bGwgb3IgdW5kZWZpbmVkIHdoZW4gY2FsbGluZyBkZWxldGVPcmdVbml0TG9jYXRpb24xLicpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpZk1hdGNoID09PSBudWxsIHx8IGlmTWF0Y2ggPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdSZXF1aXJlZCBwYXJhbWV0ZXIgaWZNYXRjaCB3YXMgbnVsbCBvciB1bmRlZmluZWQgd2hlbiBjYWxsaW5nIGRlbGV0ZU9yZ1VuaXRMb2NhdGlvbjEuJyk7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgcXVlcnlQYXJhbWV0ZXJzID0gbmV3IEh0dHBQYXJhbXMoe2VuY29kZXI6IG5ldyBDdXN0b21IdHRwVXJsRW5jb2RpbmdDb2RlYygpfSk7XG4gICAgICAgIGlmIChlZmZlY3RpdmVEYXRlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHF1ZXJ5UGFyYW1ldGVycyA9IHF1ZXJ5UGFyYW1ldGVycy5zZXQoJ2VmZmVjdGl2ZURhdGUnLCA8YW55PmVmZmVjdGl2ZURhdGUpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChleHBpcnlEYXRlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHF1ZXJ5UGFyYW1ldGVycyA9IHF1ZXJ5UGFyYW1ldGVycy5zZXQoJ2V4cGlyeURhdGUnLCA8YW55PmV4cGlyeURhdGUpO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IGhlYWRlcnMgPSB0aGlzLmRlZmF1bHRIZWFkZXJzO1xuICAgICAgICBpZiAocmVzdFZlcnNpb24gIT09IHVuZGVmaW5lZCAmJiByZXN0VmVyc2lvbiAhPT0gbnVsbCkge1xuICAgICAgICAgICAgaGVhZGVycyA9IGhlYWRlcnMuc2V0KCdSZXN0LVZlcnNpb24nLCBTdHJpbmcocmVzdFZlcnNpb24pKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaWZNYXRjaCAhPT0gdW5kZWZpbmVkICYmIGlmTWF0Y2ggIT09IG51bGwpIHtcbiAgICAgICAgICAgIGhlYWRlcnMgPSBoZWFkZXJzLnNldCgnSWYtTWF0Y2gnLCBTdHJpbmcoaWZNYXRjaCkpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gdG8gZGV0ZXJtaW5lIHRoZSBBY2NlcHQgaGVhZGVyXG4gICAgICAgIGxldCBodHRwSGVhZGVyQWNjZXB0czogc3RyaW5nW10gPSBbXG4gICAgICAgIF07XG4gICAgICAgIGxldCBodHRwSGVhZGVyQWNjZXB0U2VsZWN0ZWQ6IHN0cmluZyB8IHVuZGVmaW5lZCA9IHRoaXMuY29uZmlndXJhdGlvbi5zZWxlY3RIZWFkZXJBY2NlcHQoaHR0cEhlYWRlckFjY2VwdHMpO1xuICAgICAgICBpZiAoaHR0cEhlYWRlckFjY2VwdFNlbGVjdGVkICE9IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgaGVhZGVycyA9IGhlYWRlcnMuc2V0KFwiQWNjZXB0XCIsIGh0dHBIZWFkZXJBY2NlcHRTZWxlY3RlZCk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyB0byBkZXRlcm1pbmUgdGhlIENvbnRlbnQtVHlwZSBoZWFkZXJcbiAgICAgICAgbGV0IGNvbnN1bWVzOiBzdHJpbmdbXSA9IFtcbiAgICAgICAgXTtcblxuICAgICAgICByZXR1cm4gdGhpcy5odHRwQ2xpZW50LmRlbGV0ZTxhbnk+KGAke3RoaXMuYmFzZVBhdGh9L29yZ1VuaXRzLyR7ZW5jb2RlVVJJQ29tcG9uZW50KFN0cmluZyhvcmdVbml0SWQpKX0vbG9jYXRpb25zLyR7ZW5jb2RlVVJJQ29tcG9uZW50KFN0cmluZyhvcmdVbml0TG9jYXRpb25JZCkpfWAsXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgcGFyYW1zOiBxdWVyeVBhcmFtZXRlcnMsXG4gICAgICAgICAgICAgICAgd2l0aENyZWRlbnRpYWxzOiB0aGlzLmNvbmZpZ3VyYXRpb24ud2l0aENyZWRlbnRpYWxzLFxuICAgICAgICAgICAgICAgIGhlYWRlcnM6IGhlYWRlcnMsXG4gICAgICAgICAgICAgICAgb2JzZXJ2ZTogb2JzZXJ2ZSxcbiAgICAgICAgICAgICAgICByZXBvcnRQcm9ncmVzczogcmVwb3J0UHJvZ3Jlc3NcbiAgICAgICAgICAgIH1cbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXQgYW4gT3JnIFVuaXQgTG9jYXRpb24gYnkgSUQuXG4gICAgICogR2V0IGFuIE9yZyBVbml0IExvY2F0aW9uIGJ5IElELlxuICAgICAqIEBwYXJhbSBvcmdVbml0SWQgVGhlIGlkZW50aWZpZXIgb2YgdGhlIE9yZyBVbml0IHJlc291cmNlLlxuICAgICAqIEBwYXJhbSBvcmdVbml0TG9jYXRpb25JZCBUaGUgaWRlbnRpZmllciBvZiB0aGUgT3JnIFVuaXQgTG9jYXRpb24gcmVzb3VyY2UuXG4gICAgICogQHBhcmFtIGVmZmVjdGl2ZUFzT2ZEYXRlIFJldHVybiB0aGUgcmVzdWx0cyBhcyBvZiB0aGUgZWZmZWN0aXZlQXNPZkRhdGUuXG4gICAgICogQHBhcmFtIHJlc3RWZXJzaW9uIFRoZSB2ZXJzaW9uIG9mIHRoZSBSZXN0IEFQSSBzdXBwb3J0ZWQgYnkgdGhlIHJlcXVlc3RpbmcgY2xpZW50LlxuICAgICAqIEBwYXJhbSBvYnNlcnZlIHNldCB3aGV0aGVyIG9yIG5vdCB0byByZXR1cm4gdGhlIGRhdGEgT2JzZXJ2YWJsZSBhcyB0aGUgYm9keSwgcmVzcG9uc2Ugb3IgZXZlbnRzLiBkZWZhdWx0cyB0byByZXR1cm5pbmcgdGhlIGJvZHkuXG4gICAgICogQHBhcmFtIHJlcG9ydFByb2dyZXNzIGZsYWcgdG8gcmVwb3J0IHJlcXVlc3QgYW5kIHJlc3BvbnNlIHByb2dyZXNzLlxuICAgICAqL1xuICAgIHB1YmxpYyBnZXRPcmdVbml0TG9jYXRpb24xKG9yZ1VuaXRJZDogc3RyaW5nLCBvcmdVbml0TG9jYXRpb25JZDogc3RyaW5nLCBlZmZlY3RpdmVBc09mRGF0ZT86IHN0cmluZywgcmVzdFZlcnNpb24/OiBudW1iZXIsIG9ic2VydmU/OiAnYm9keScsIHJlcG9ydFByb2dyZXNzPzogYm9vbGVhbik6IE9ic2VydmFibGU8T3JnVW5pdExvY2F0aW9uUmVzb3VyY2U+O1xuICAgIHB1YmxpYyBnZXRPcmdVbml0TG9jYXRpb24xKG9yZ1VuaXRJZDogc3RyaW5nLCBvcmdVbml0TG9jYXRpb25JZDogc3RyaW5nLCBlZmZlY3RpdmVBc09mRGF0ZT86IHN0cmluZywgcmVzdFZlcnNpb24/OiBudW1iZXIsIG9ic2VydmU/OiAncmVzcG9uc2UnLCByZXBvcnRQcm9ncmVzcz86IGJvb2xlYW4pOiBPYnNlcnZhYmxlPEh0dHBSZXNwb25zZTxPcmdVbml0TG9jYXRpb25SZXNvdXJjZT4+O1xuICAgIHB1YmxpYyBnZXRPcmdVbml0TG9jYXRpb24xKG9yZ1VuaXRJZDogc3RyaW5nLCBvcmdVbml0TG9jYXRpb25JZDogc3RyaW5nLCBlZmZlY3RpdmVBc09mRGF0ZT86IHN0cmluZywgcmVzdFZlcnNpb24/OiBudW1iZXIsIG9ic2VydmU/OiAnZXZlbnRzJywgcmVwb3J0UHJvZ3Jlc3M/OiBib29sZWFuKTogT2JzZXJ2YWJsZTxIdHRwRXZlbnQ8T3JnVW5pdExvY2F0aW9uUmVzb3VyY2U+PjtcbiAgICBwdWJsaWMgZ2V0T3JnVW5pdExvY2F0aW9uMShvcmdVbml0SWQ6IHN0cmluZywgb3JnVW5pdExvY2F0aW9uSWQ6IHN0cmluZywgZWZmZWN0aXZlQXNPZkRhdGU/OiBzdHJpbmcsIHJlc3RWZXJzaW9uPzogbnVtYmVyLCBvYnNlcnZlOiBhbnkgPSAnYm9keScsIHJlcG9ydFByb2dyZXNzOiBib29sZWFuID0gZmFsc2UgKTogT2JzZXJ2YWJsZTxhbnk+IHtcbiAgICAgICAgaWYgKG9yZ1VuaXRJZCA9PT0gbnVsbCB8fCBvcmdVbml0SWQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdSZXF1aXJlZCBwYXJhbWV0ZXIgb3JnVW5pdElkIHdhcyBudWxsIG9yIHVuZGVmaW5lZCB3aGVuIGNhbGxpbmcgZ2V0T3JnVW5pdExvY2F0aW9uMS4nKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAob3JnVW5pdExvY2F0aW9uSWQgPT09IG51bGwgfHwgb3JnVW5pdExvY2F0aW9uSWQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdSZXF1aXJlZCBwYXJhbWV0ZXIgb3JnVW5pdExvY2F0aW9uSWQgd2FzIG51bGwgb3IgdW5kZWZpbmVkIHdoZW4gY2FsbGluZyBnZXRPcmdVbml0TG9jYXRpb24xLicpO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IHF1ZXJ5UGFyYW1ldGVycyA9IG5ldyBIdHRwUGFyYW1zKHtlbmNvZGVyOiBuZXcgQ3VzdG9tSHR0cFVybEVuY29kaW5nQ29kZWMoKX0pO1xuICAgICAgICBpZiAoZWZmZWN0aXZlQXNPZkRhdGUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcXVlcnlQYXJhbWV0ZXJzID0gcXVlcnlQYXJhbWV0ZXJzLnNldCgnZWZmZWN0aXZlQXNPZkRhdGUnLCA8YW55PmVmZmVjdGl2ZUFzT2ZEYXRlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBoZWFkZXJzID0gdGhpcy5kZWZhdWx0SGVhZGVycztcbiAgICAgICAgaWYgKHJlc3RWZXJzaW9uICE9PSB1bmRlZmluZWQgJiYgcmVzdFZlcnNpb24gIT09IG51bGwpIHtcbiAgICAgICAgICAgIGhlYWRlcnMgPSBoZWFkZXJzLnNldCgnUmVzdC1WZXJzaW9uJywgU3RyaW5nKHJlc3RWZXJzaW9uKSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyB0byBkZXRlcm1pbmUgdGhlIEFjY2VwdCBoZWFkZXJcbiAgICAgICAgbGV0IGh0dHBIZWFkZXJBY2NlcHRzOiBzdHJpbmdbXSA9IFtcbiAgICAgICAgICAgICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgICAgICdhcHBsaWNhdGlvbi94bWwnXG4gICAgICAgIF07XG4gICAgICAgIGxldCBodHRwSGVhZGVyQWNjZXB0U2VsZWN0ZWQ6IHN0cmluZyB8IHVuZGVmaW5lZCA9IHRoaXMuY29uZmlndXJhdGlvbi5zZWxlY3RIZWFkZXJBY2NlcHQoaHR0cEhlYWRlckFjY2VwdHMpO1xuICAgICAgICBpZiAoaHR0cEhlYWRlckFjY2VwdFNlbGVjdGVkICE9IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgaGVhZGVycyA9IGhlYWRlcnMuc2V0KFwiQWNjZXB0XCIsIGh0dHBIZWFkZXJBY2NlcHRTZWxlY3RlZCk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyB0byBkZXRlcm1pbmUgdGhlIENvbnRlbnQtVHlwZSBoZWFkZXJcbiAgICAgICAgbGV0IGNvbnN1bWVzOiBzdHJpbmdbXSA9IFtcbiAgICAgICAgXTtcblxuICAgICAgICByZXR1cm4gdGhpcy5odHRwQ2xpZW50LmdldDxPcmdVbml0TG9jYXRpb25SZXNvdXJjZT4oYCR7dGhpcy5iYXNlUGF0aH0vb3JnVW5pdHMvJHtlbmNvZGVVUklDb21wb25lbnQoU3RyaW5nKG9yZ1VuaXRJZCkpfS9sb2NhdGlvbnMvJHtlbmNvZGVVUklDb21wb25lbnQoU3RyaW5nKG9yZ1VuaXRMb2NhdGlvbklkKSl9YCxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBwYXJhbXM6IHF1ZXJ5UGFyYW1ldGVycyxcbiAgICAgICAgICAgICAgICB3aXRoQ3JlZGVudGlhbHM6IHRoaXMuY29uZmlndXJhdGlvbi53aXRoQ3JlZGVudGlhbHMsXG4gICAgICAgICAgICAgICAgaGVhZGVyczogaGVhZGVycyxcbiAgICAgICAgICAgICAgICBvYnNlcnZlOiBvYnNlcnZlLFxuICAgICAgICAgICAgICAgIHJlcG9ydFByb2dyZXNzOiByZXBvcnRQcm9ncmVzc1xuICAgICAgICAgICAgfVxuICAgICAgICApO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFVwZGF0ZSBhIExvY2F0aW9uIGRlZmluZWQgZm9yIGFuIE9yZyBVbml0IGJ5IElELlxuICAgICAqIFVwZGF0ZSBhIExvY2F0aW9uIGRlZmluZWQgZm9yIGFuIE9yZyBVbml0IGJ5IElELlxuICAgICAqIEBwYXJhbSBvcmdVbml0SWQgVGhlIGlkZW50aWZpZXIgb2YgdGhlIE9yZyBVbml0IHJlc291cmNlLlxuICAgICAqIEBwYXJhbSBvcmdVbml0TG9jYXRpb25JZCBUaGUgaWRlbnRpZmllciBvZiB0aGUgT3JnIFVuaXQgTG9jYXRpb24gcmVzb3VyY2UuXG4gICAgICogQHBhcmFtIG9yZ1VuaXRMb2NhdGlvbiBUaGUgVXNlckVkaXRhYmxlRGF0YSByZXNvdXJjZSBjb250YWluaW5nIHRoZSBuZXcgdmFsdWVzLlxuICAgICAqIEBwYXJhbSBpZk1hdGNoIFRoZSBJZi1NYXRjaCByZXF1ZXN0LWhlYWRlciBtdXN0IG1hdGNoIHRoZSBjdXJyZW50IGVUYWcgb2YgdGhlIHJlc291cmNlIG9yIHRoZSByZXF1ZXN0IHdpbGwgZmFpbC5cbiAgICAgKiBAcGFyYW0gcmVzdFZlcnNpb24gVGhlIHZlcnNpb24gb2YgdGhlIFJlc3QgQVBJIHN1cHBvcnRlZCBieSB0aGUgcmVxdWVzdGluZyBjbGllbnQuXG4gICAgICogQHBhcmFtIG9ic2VydmUgc2V0IHdoZXRoZXIgb3Igbm90IHRvIHJldHVybiB0aGUgZGF0YSBPYnNlcnZhYmxlIGFzIHRoZSBib2R5LCByZXNwb25zZSBvciBldmVudHMuIGRlZmF1bHRzIHRvIHJldHVybmluZyB0aGUgYm9keS5cbiAgICAgKiBAcGFyYW0gcmVwb3J0UHJvZ3Jlc3MgZmxhZyB0byByZXBvcnQgcmVxdWVzdCBhbmQgcmVzcG9uc2UgcHJvZ3Jlc3MuXG4gICAgICovXG4gICAgcHVibGljIHVwZGF0ZU9yZ1VuaXRMb2NhdGlvbjEob3JnVW5pdElkOiBzdHJpbmcsIG9yZ1VuaXRMb2NhdGlvbklkOiBzdHJpbmcsIG9yZ1VuaXRMb2NhdGlvbjogT3JnVW5pdExvY2F0aW9uUmVzb3VyY2UsIGlmTWF0Y2g6IHN0cmluZywgcmVzdFZlcnNpb24/OiBudW1iZXIsIG9ic2VydmU/OiAnYm9keScsIHJlcG9ydFByb2dyZXNzPzogYm9vbGVhbik6IE9ic2VydmFibGU8T3JnVW5pdExvY2F0aW9uUmVzb3VyY2U+O1xuICAgIHB1YmxpYyB1cGRhdGVPcmdVbml0TG9jYXRpb24xKG9yZ1VuaXRJZDogc3RyaW5nLCBvcmdVbml0TG9jYXRpb25JZDogc3RyaW5nLCBvcmdVbml0TG9jYXRpb246IE9yZ1VuaXRMb2NhdGlvblJlc291cmNlLCBpZk1hdGNoOiBzdHJpbmcsIHJlc3RWZXJzaW9uPzogbnVtYmVyLCBvYnNlcnZlPzogJ3Jlc3BvbnNlJywgcmVwb3J0UHJvZ3Jlc3M/OiBib29sZWFuKTogT2JzZXJ2YWJsZTxIdHRwUmVzcG9uc2U8T3JnVW5pdExvY2F0aW9uUmVzb3VyY2U+PjtcbiAgICBwdWJsaWMgdXBkYXRlT3JnVW5pdExvY2F0aW9uMShvcmdVbml0SWQ6IHN0cmluZywgb3JnVW5pdExvY2F0aW9uSWQ6IHN0cmluZywgb3JnVW5pdExvY2F0aW9uOiBPcmdVbml0TG9jYXRpb25SZXNvdXJjZSwgaWZNYXRjaDogc3RyaW5nLCByZXN0VmVyc2lvbj86IG51bWJlciwgb2JzZXJ2ZT86ICdldmVudHMnLCByZXBvcnRQcm9ncmVzcz86IGJvb2xlYW4pOiBPYnNlcnZhYmxlPEh0dHBFdmVudDxPcmdVbml0TG9jYXRpb25SZXNvdXJjZT4+O1xuICAgIHB1YmxpYyB1cGRhdGVPcmdVbml0TG9jYXRpb24xKG9yZ1VuaXRJZDogc3RyaW5nLCBvcmdVbml0TG9jYXRpb25JZDogc3RyaW5nLCBvcmdVbml0TG9jYXRpb246IE9yZ1VuaXRMb2NhdGlvblJlc291cmNlLCBpZk1hdGNoOiBzdHJpbmcsIHJlc3RWZXJzaW9uPzogbnVtYmVyLCBvYnNlcnZlOiBhbnkgPSAnYm9keScsIHJlcG9ydFByb2dyZXNzOiBib29sZWFuID0gZmFsc2UgKTogT2JzZXJ2YWJsZTxhbnk+IHtcbiAgICAgICAgaWYgKG9yZ1VuaXRJZCA9PT0gbnVsbCB8fCBvcmdVbml0SWQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdSZXF1aXJlZCBwYXJhbWV0ZXIgb3JnVW5pdElkIHdhcyBudWxsIG9yIHVuZGVmaW5lZCB3aGVuIGNhbGxpbmcgdXBkYXRlT3JnVW5pdExvY2F0aW9uMS4nKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAob3JnVW5pdExvY2F0aW9uSWQgPT09IG51bGwgfHwgb3JnVW5pdExvY2F0aW9uSWQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdSZXF1aXJlZCBwYXJhbWV0ZXIgb3JnVW5pdExvY2F0aW9uSWQgd2FzIG51bGwgb3IgdW5kZWZpbmVkIHdoZW4gY2FsbGluZyB1cGRhdGVPcmdVbml0TG9jYXRpb24xLicpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChvcmdVbml0TG9jYXRpb24gPT09IG51bGwgfHwgb3JnVW5pdExvY2F0aW9uID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignUmVxdWlyZWQgcGFyYW1ldGVyIG9yZ1VuaXRMb2NhdGlvbiB3YXMgbnVsbCBvciB1bmRlZmluZWQgd2hlbiBjYWxsaW5nIHVwZGF0ZU9yZ1VuaXRMb2NhdGlvbjEuJyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlmTWF0Y2ggPT09IG51bGwgfHwgaWZNYXRjaCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1JlcXVpcmVkIHBhcmFtZXRlciBpZk1hdGNoIHdhcyBudWxsIG9yIHVuZGVmaW5lZCB3aGVuIGNhbGxpbmcgdXBkYXRlT3JnVW5pdExvY2F0aW9uMS4nKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBoZWFkZXJzID0gdGhpcy5kZWZhdWx0SGVhZGVycztcbiAgICAgICAgaWYgKHJlc3RWZXJzaW9uICE9PSB1bmRlZmluZWQgJiYgcmVzdFZlcnNpb24gIT09IG51bGwpIHtcbiAgICAgICAgICAgIGhlYWRlcnMgPSBoZWFkZXJzLnNldCgnUmVzdC1WZXJzaW9uJywgU3RyaW5nKHJlc3RWZXJzaW9uKSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlmTWF0Y2ggIT09IHVuZGVmaW5lZCAmJiBpZk1hdGNoICE9PSBudWxsKSB7XG4gICAgICAgICAgICBoZWFkZXJzID0gaGVhZGVycy5zZXQoJ0lmLU1hdGNoJywgU3RyaW5nKGlmTWF0Y2gpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHRvIGRldGVybWluZSB0aGUgQWNjZXB0IGhlYWRlclxuICAgICAgICBsZXQgaHR0cEhlYWRlckFjY2VwdHM6IHN0cmluZ1tdID0gW1xuICAgICAgICAgICAgJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgICAgICAgJ2FwcGxpY2F0aW9uL3htbCdcbiAgICAgICAgXTtcbiAgICAgICAgbGV0IGh0dHBIZWFkZXJBY2NlcHRTZWxlY3RlZDogc3RyaW5nIHwgdW5kZWZpbmVkID0gdGhpcy5jb25maWd1cmF0aW9uLnNlbGVjdEhlYWRlckFjY2VwdChodHRwSGVhZGVyQWNjZXB0cyk7XG4gICAgICAgIGlmIChodHRwSGVhZGVyQWNjZXB0U2VsZWN0ZWQgIT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBoZWFkZXJzID0gaGVhZGVycy5zZXQoXCJBY2NlcHRcIiwgaHR0cEhlYWRlckFjY2VwdFNlbGVjdGVkKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHRvIGRldGVybWluZSB0aGUgQ29udGVudC1UeXBlIGhlYWRlclxuICAgICAgICBsZXQgY29uc3VtZXM6IHN0cmluZ1tdID0gW1xuICAgICAgICAgICAgJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgICAgICAgJ2FwcGxpY2F0aW9uL3htbCdcbiAgICAgICAgXTtcbiAgICAgICAgbGV0IGh0dHBDb250ZW50VHlwZVNlbGVjdGVkOnN0cmluZyB8IHVuZGVmaW5lZCA9IHRoaXMuY29uZmlndXJhdGlvbi5zZWxlY3RIZWFkZXJDb250ZW50VHlwZShjb25zdW1lcyk7XG4gICAgICAgIGlmIChodHRwQ29udGVudFR5cGVTZWxlY3RlZCAhPSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGhlYWRlcnMgPSBoZWFkZXJzLnNldChcIkNvbnRlbnQtVHlwZVwiLCBodHRwQ29udGVudFR5cGVTZWxlY3RlZCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcy5odHRwQ2xpZW50LnB1dDxPcmdVbml0TG9jYXRpb25SZXNvdXJjZT4oYCR7dGhpcy5iYXNlUGF0aH0vb3JnVW5pdHMvJHtlbmNvZGVVUklDb21wb25lbnQoU3RyaW5nKG9yZ1VuaXRJZCkpfS9sb2NhdGlvbnMvJHtlbmNvZGVVUklDb21wb25lbnQoU3RyaW5nKG9yZ1VuaXRMb2NhdGlvbklkKSl9YCxcbiAgICAgICAgICAgIG9yZ1VuaXRMb2NhdGlvbixcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB3aXRoQ3JlZGVudGlhbHM6IHRoaXMuY29uZmlndXJhdGlvbi53aXRoQ3JlZGVudGlhbHMsXG4gICAgICAgICAgICAgICAgaGVhZGVyczogaGVhZGVycyxcbiAgICAgICAgICAgICAgICBvYnNlcnZlOiBvYnNlcnZlLFxuICAgICAgICAgICAgICAgIHJlcG9ydFByb2dyZXNzOiByZXBvcnRQcm9ncmVzc1xuICAgICAgICAgICAgfVxuICAgICAgICApO1xuICAgIH1cblxufVxuIiwiLyoqXG4gKiBXaWxkZmlyZSBPcmcgVW5pdCBSRVNUIEFQSVxuICogVGhlIFdpbGRmaXJlIE9yZyBVbml0IFJFU1QgQVBJLlxuICpcbiAqIE9wZW5BUEkgc3BlYyB2ZXJzaW9uOiAxLjAuMC1TTkFQU0hPVFxuICogXG4gKlxuICogTk9URTogVGhpcyBjbGFzcyBpcyBhdXRvIGdlbmVyYXRlZCBieSB0aGUgc3dhZ2dlciBjb2RlIGdlbmVyYXRvciBwcm9ncmFtLlxuICogaHR0cHM6Ly9naXRodWIuY29tL3N3YWdnZXItYXBpL3N3YWdnZXItY29kZWdlbi5naXRcbiAqIERvIG5vdCBlZGl0IHRoZSBjbGFzcyBtYW51YWxseS5cbiAqL1xuLyogdHNsaW50OmRpc2FibGU6bm8tdW51c2VkLXZhcmlhYmxlIG1lbWJlci1vcmRlcmluZyAqL1xuXG5pbXBvcnQgeyBJbmplY3QsIEluamVjdGFibGUsIE9wdGlvbmFsIH0gICAgICAgICAgICAgICAgICAgICAgZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBIdHRwQ2xpZW50LCBIdHRwSGVhZGVycywgSHR0cFBhcmFtcyxcbiAgICAgICAgIEh0dHBSZXNwb25zZSwgSHR0cEV2ZW50IH0gICAgICAgICAgICAgICAgICAgICAgICAgICBmcm9tICdAYW5ndWxhci9jb21tb24vaHR0cCc7XG5pbXBvcnQgeyBDdXN0b21IdHRwVXJsRW5jb2RpbmdDb2RlYyB9ICAgICAgICAgICAgICAgICAgICAgICAgZnJvbSAnLi4vZW5jb2Rlcic7XG5cbmltcG9ydCB7IE9ic2VydmFibGUgfSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmcm9tICdyeGpzJztcblxuaW1wb3J0IHsgTWVzc2FnZXMgfSBmcm9tICcuLi9tb2RlbC9tZXNzYWdlcyc7XG5pbXBvcnQgeyBPcmdVbml0TG9jYXRpb25MaXN0UmVzb3VyY2UgfSBmcm9tICcuLi9tb2RlbC9vcmdVbml0TG9jYXRpb25MaXN0UmVzb3VyY2UnO1xuaW1wb3J0IHsgT3JnVW5pdExvY2F0aW9uUmVzb3VyY2UgfSBmcm9tICcuLi9tb2RlbC9vcmdVbml0TG9jYXRpb25SZXNvdXJjZSc7XG5cbmltcG9ydCB7IEJBU0VfUEFUSCwgQ09MTEVDVElPTl9GT1JNQVRTIH0gICAgICAgICAgICAgICAgICAgICBmcm9tICcuLi92YXJpYWJsZXMnO1xuaW1wb3J0IHsgT3JnVW5pdENvbmZpZ3VyYXRpb24gfSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmcm9tICcuLi9jb25maWd1cmF0aW9uJztcblxuXG5ASW5qZWN0YWJsZSgpXG5leHBvcnQgY2xhc3MgT3JnVW5pdExvY2F0aW9uTGlzdFNlcnZpY2Uge1xuXG4gICAgcHJvdGVjdGVkIGJhc2VQYXRoID0gJ2h0dHBzOi8vaHR0cHM6Ly9kMWFwaS52aXZpZHNvbHV0aW9ucy5jb20vd2Zvcmctb3JnLXVuaXQtYXBpJztcbiAgICBwdWJsaWMgZGVmYXVsdEhlYWRlcnMgPSBuZXcgSHR0cEhlYWRlcnMoKTtcbiAgICBwdWJsaWMgY29uZmlndXJhdGlvbiA9IG5ldyBPcmdVbml0Q29uZmlndXJhdGlvbigpO1xuXG4gICAgY29uc3RydWN0b3IocHJvdGVjdGVkIGh0dHBDbGllbnQ6IEh0dHBDbGllbnQsIEBPcHRpb25hbCgpQEluamVjdChCQVNFX1BBVEgpIGJhc2VQYXRoOiBzdHJpbmcsIEBPcHRpb25hbCgpIGNvbmZpZ3VyYXRpb246IE9yZ1VuaXRDb25maWd1cmF0aW9uKSB7XG4gICAgICAgIGlmIChiYXNlUGF0aCkge1xuICAgICAgICAgICAgdGhpcy5iYXNlUGF0aCA9IGJhc2VQYXRoO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjb25maWd1cmF0aW9uKSB7XG4gICAgICAgICAgICB0aGlzLmNvbmZpZ3VyYXRpb24gPSBjb25maWd1cmF0aW9uO1xuICAgICAgICAgICAgdGhpcy5iYXNlUGF0aCA9IGJhc2VQYXRoIHx8IGNvbmZpZ3VyYXRpb24uYmFzZVBhdGggfHwgdGhpcy5iYXNlUGF0aDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBwYXJhbSBjb25zdW1lcyBzdHJpbmdbXSBtaW1lLXR5cGVzXG4gICAgICogQHJldHVybiB0cnVlOiBjb25zdW1lcyBjb250YWlucyAnbXVsdGlwYXJ0L2Zvcm0tZGF0YScsIGZhbHNlOiBvdGhlcndpc2VcbiAgICAgKi9cbiAgICBwcml2YXRlIGNhbkNvbnN1bWVGb3JtKGNvbnN1bWVzOiBzdHJpbmdbXSk6IGJvb2xlYW4ge1xuICAgICAgICBjb25zdCBmb3JtID0gJ211bHRpcGFydC9mb3JtLWRhdGEnO1xuICAgICAgICBmb3IgKGxldCBjb25zdW1lIG9mIGNvbnN1bWVzKSB7XG4gICAgICAgICAgICBpZiAoZm9ybSA9PT0gY29uc3VtZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cblxuICAgIC8qKlxuICAgICAqIEFkZCBhIExvY2F0aW9uIFJlc291cmNlIHRvIHRoZSBsaXN0IG9mIExvY2F0aW9ucyBkZWZpbmVkIGZvciBhbiBPcmcgVW5pdC5cbiAgICAgKiBBZGQgYW4gTG9jYXRpb24gUmVzb3VyY2UgdG8gdGhlIGxpc3Qgb2YgTG9jYXRpb25zIGRlZmluZWQgZm9yIGFuIE9yZyBVbml0LlxuICAgICAqIEBwYXJhbSBvcmdVbml0SWQgVGhlIGlkZW50aWZpZXIgb2YgdGhlIE9yZyBVbml0IHJlc291cmNlLlxuICAgICAqIEBwYXJhbSBvcmdVbml0TG9jYXRpb24gVGhlIExvY2F0aW9uIHJlc291cmNlIGNvbnRhaW5pbmcgdGhlIG5ldyB2YWx1ZXMuXG4gICAgICogQHBhcmFtIHJlc3RWZXJzaW9uIFRoZSB2ZXJzaW9uIG9mIHRoZSBSZXN0IEFQSSBzdXBwb3J0ZWQgYnkgdGhlIHJlcXVlc3RpbmcgY2xpZW50LlxuICAgICAqIEBwYXJhbSBvYnNlcnZlIHNldCB3aGV0aGVyIG9yIG5vdCB0byByZXR1cm4gdGhlIGRhdGEgT2JzZXJ2YWJsZSBhcyB0aGUgYm9keSwgcmVzcG9uc2Ugb3IgZXZlbnRzLiBkZWZhdWx0cyB0byByZXR1cm5pbmcgdGhlIGJvZHkuXG4gICAgICogQHBhcmFtIHJlcG9ydFByb2dyZXNzIGZsYWcgdG8gcmVwb3J0IHJlcXVlc3QgYW5kIHJlc3BvbnNlIHByb2dyZXNzLlxuICAgICAqL1xuICAgIHB1YmxpYyBjcmVhdGVPcmdVbml0TG9jYXRpb24xKG9yZ1VuaXRJZDogc3RyaW5nLCBvcmdVbml0TG9jYXRpb246IE9yZ1VuaXRMb2NhdGlvblJlc291cmNlLCByZXN0VmVyc2lvbj86IG51bWJlciwgb2JzZXJ2ZT86ICdib2R5JywgcmVwb3J0UHJvZ3Jlc3M/OiBib29sZWFuKTogT2JzZXJ2YWJsZTxPcmdVbml0TG9jYXRpb25SZXNvdXJjZT47XG4gICAgcHVibGljIGNyZWF0ZU9yZ1VuaXRMb2NhdGlvbjEob3JnVW5pdElkOiBzdHJpbmcsIG9yZ1VuaXRMb2NhdGlvbjogT3JnVW5pdExvY2F0aW9uUmVzb3VyY2UsIHJlc3RWZXJzaW9uPzogbnVtYmVyLCBvYnNlcnZlPzogJ3Jlc3BvbnNlJywgcmVwb3J0UHJvZ3Jlc3M/OiBib29sZWFuKTogT2JzZXJ2YWJsZTxIdHRwUmVzcG9uc2U8T3JnVW5pdExvY2F0aW9uUmVzb3VyY2U+PjtcbiAgICBwdWJsaWMgY3JlYXRlT3JnVW5pdExvY2F0aW9uMShvcmdVbml0SWQ6IHN0cmluZywgb3JnVW5pdExvY2F0aW9uOiBPcmdVbml0TG9jYXRpb25SZXNvdXJjZSwgcmVzdFZlcnNpb24/OiBudW1iZXIsIG9ic2VydmU/OiAnZXZlbnRzJywgcmVwb3J0UHJvZ3Jlc3M/OiBib29sZWFuKTogT2JzZXJ2YWJsZTxIdHRwRXZlbnQ8T3JnVW5pdExvY2F0aW9uUmVzb3VyY2U+PjtcbiAgICBwdWJsaWMgY3JlYXRlT3JnVW5pdExvY2F0aW9uMShvcmdVbml0SWQ6IHN0cmluZywgb3JnVW5pdExvY2F0aW9uOiBPcmdVbml0TG9jYXRpb25SZXNvdXJjZSwgcmVzdFZlcnNpb24/OiBudW1iZXIsIG9ic2VydmU6IGFueSA9ICdib2R5JywgcmVwb3J0UHJvZ3Jlc3M6IGJvb2xlYW4gPSBmYWxzZSApOiBPYnNlcnZhYmxlPGFueT4ge1xuICAgICAgICBpZiAob3JnVW5pdElkID09PSBudWxsIHx8IG9yZ1VuaXRJZCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1JlcXVpcmVkIHBhcmFtZXRlciBvcmdVbml0SWQgd2FzIG51bGwgb3IgdW5kZWZpbmVkIHdoZW4gY2FsbGluZyBjcmVhdGVPcmdVbml0TG9jYXRpb24xLicpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChvcmdVbml0TG9jYXRpb24gPT09IG51bGwgfHwgb3JnVW5pdExvY2F0aW9uID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignUmVxdWlyZWQgcGFyYW1ldGVyIG9yZ1VuaXRMb2NhdGlvbiB3YXMgbnVsbCBvciB1bmRlZmluZWQgd2hlbiBjYWxsaW5nIGNyZWF0ZU9yZ1VuaXRMb2NhdGlvbjEuJyk7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgaGVhZGVycyA9IHRoaXMuZGVmYXVsdEhlYWRlcnM7XG4gICAgICAgIGlmIChyZXN0VmVyc2lvbiAhPT0gdW5kZWZpbmVkICYmIHJlc3RWZXJzaW9uICE9PSBudWxsKSB7XG4gICAgICAgICAgICBoZWFkZXJzID0gaGVhZGVycy5zZXQoJ1Jlc3QtVmVyc2lvbicsIFN0cmluZyhyZXN0VmVyc2lvbikpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gdG8gZGV0ZXJtaW5lIHRoZSBBY2NlcHQgaGVhZGVyXG4gICAgICAgIGxldCBodHRwSGVhZGVyQWNjZXB0czogc3RyaW5nW10gPSBbXG4gICAgICAgICAgICAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgICAgICAnYXBwbGljYXRpb24veG1sJ1xuICAgICAgICBdO1xuICAgICAgICBsZXQgaHR0cEhlYWRlckFjY2VwdFNlbGVjdGVkOiBzdHJpbmcgfCB1bmRlZmluZWQgPSB0aGlzLmNvbmZpZ3VyYXRpb24uc2VsZWN0SGVhZGVyQWNjZXB0KGh0dHBIZWFkZXJBY2NlcHRzKTtcbiAgICAgICAgaWYgKGh0dHBIZWFkZXJBY2NlcHRTZWxlY3RlZCAhPSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGhlYWRlcnMgPSBoZWFkZXJzLnNldChcIkFjY2VwdFwiLCBodHRwSGVhZGVyQWNjZXB0U2VsZWN0ZWQpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gdG8gZGV0ZXJtaW5lIHRoZSBDb250ZW50LVR5cGUgaGVhZGVyXG4gICAgICAgIGxldCBjb25zdW1lczogc3RyaW5nW10gPSBbXG4gICAgICAgICAgICAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgICAgICAnYXBwbGljYXRpb24veG1sJ1xuICAgICAgICBdO1xuICAgICAgICBsZXQgaHR0cENvbnRlbnRUeXBlU2VsZWN0ZWQ6c3RyaW5nIHwgdW5kZWZpbmVkID0gdGhpcy5jb25maWd1cmF0aW9uLnNlbGVjdEhlYWRlckNvbnRlbnRUeXBlKGNvbnN1bWVzKTtcbiAgICAgICAgaWYgKGh0dHBDb250ZW50VHlwZVNlbGVjdGVkICE9IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgaGVhZGVycyA9IGhlYWRlcnMuc2V0KFwiQ29udGVudC1UeXBlXCIsIGh0dHBDb250ZW50VHlwZVNlbGVjdGVkKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLmh0dHBDbGllbnQucG9zdDxPcmdVbml0TG9jYXRpb25SZXNvdXJjZT4oYCR7dGhpcy5iYXNlUGF0aH0vb3JnVW5pdHMvJHtlbmNvZGVVUklDb21wb25lbnQoU3RyaW5nKG9yZ1VuaXRJZCkpfS9sb2NhdGlvbnNgLFxuICAgICAgICAgICAgb3JnVW5pdExvY2F0aW9uLFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHdpdGhDcmVkZW50aWFsczogdGhpcy5jb25maWd1cmF0aW9uLndpdGhDcmVkZW50aWFscyxcbiAgICAgICAgICAgICAgICBoZWFkZXJzOiBoZWFkZXJzLFxuICAgICAgICAgICAgICAgIG9ic2VydmU6IG9ic2VydmUsXG4gICAgICAgICAgICAgICAgcmVwb3J0UHJvZ3Jlc3M6IHJlcG9ydFByb2dyZXNzXG4gICAgICAgICAgICB9XG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBsaXN0IG9mIE9yZyBVbml0IExvY2F0aW9ucy5cbiAgICAgKiBHZXQgdGhlIGxpc3Qgb2YgT3JnIFVuaXQgTG9jYXRpb25zLlxuICAgICAqIEBwYXJhbSBvcmdVbml0SWQgVGhlIGlkZW50aWZpZXIgb2YgdGhlIE9yZyBVbml0IHJlc291cmNlLlxuICAgICAqIEBwYXJhbSBlZmZlY3RpdmVBc09mRGF0ZSBSZXR1cm4gdGhlIHJlc3VsdHMgYXMgb2YgdGhlIGVmZmVjdGl2ZUFzT2ZEYXRlLlxuICAgICAqIEBwYXJhbSBvcmdVbml0TG9jYXRpb25UeXBlQ29kZSBGaWx0ZXIgdGhlIHJlc3VsdHMgYnkgdGhlIG9yZ1VuaXRMb2NhdGlvblR5cGVDb2RlLlxuICAgICAqIEBwYXJhbSBsb2NhdGlvbk5hbWUgRmlsdGVyIHRoZSByZXN1bHRzIGJ5IHRoZSBsb2NhdGlvbk5hbWUuXG4gICAgICogQHBhcmFtIHByaW1hcnlJbmQgRmlsdGVyIHRoZSByZXN1bHRzIGJ5IHRoZSBwcmltYXJ5SW5kLlxuICAgICAqIEBwYXJhbSBwYWdlTnVtYmVyIFRoZSBwYWdlIG51bWJlciBvZiB0aGUgcmVzdWx0cyB0byBiZSByZXR1cm5lZC5cbiAgICAgKiBAcGFyYW0gcGFnZVJvd0NvdW50IFRoZSBudW1iZXIgb2YgcmVzdWx0cyBwZXIgcGFnZS5cbiAgICAgKiBAcGFyYW0gb3JkZXJCeSBDb21tYSBzZXBhcmF0ZWQgbGlzdCBvZiBwcm9wZXJ0eSBuYW1lcyB0byBvcmRlciB0aGUgcmVzdWx0IHNldCBieS5cbiAgICAgKiBAcGFyYW0gcmVzdFZlcnNpb24gVGhlIHZlcnNpb24gb2YgdGhlIFJlc3QgQVBJIHN1cHBvcnRlZCBieSB0aGUgcmVxdWVzdGluZyBjbGllbnQuXG4gICAgICogQHBhcmFtIG9ic2VydmUgc2V0IHdoZXRoZXIgb3Igbm90IHRvIHJldHVybiB0aGUgZGF0YSBPYnNlcnZhYmxlIGFzIHRoZSBib2R5LCByZXNwb25zZSBvciBldmVudHMuIGRlZmF1bHRzIHRvIHJldHVybmluZyB0aGUgYm9keS5cbiAgICAgKiBAcGFyYW0gcmVwb3J0UHJvZ3Jlc3MgZmxhZyB0byByZXBvcnQgcmVxdWVzdCBhbmQgcmVzcG9uc2UgcHJvZ3Jlc3MuXG4gICAgICovXG4gICAgcHVibGljIGdldE9yZ1VuaXRMb2NhdGlvbkxpc3QxKG9yZ1VuaXRJZDogc3RyaW5nLCBlZmZlY3RpdmVBc09mRGF0ZT86IHN0cmluZywgb3JnVW5pdExvY2F0aW9uVHlwZUNvZGU/OiBzdHJpbmcsIGxvY2F0aW9uTmFtZT86IHN0cmluZywgcHJpbWFyeUluZD86IHN0cmluZywgcGFnZU51bWJlcj86IHN0cmluZywgcGFnZVJvd0NvdW50Pzogc3RyaW5nLCBvcmRlckJ5Pzogc3RyaW5nLCByZXN0VmVyc2lvbj86IG51bWJlciwgb2JzZXJ2ZT86ICdib2R5JywgcmVwb3J0UHJvZ3Jlc3M/OiBib29sZWFuKTogT2JzZXJ2YWJsZTxPcmdVbml0TG9jYXRpb25MaXN0UmVzb3VyY2U+O1xuICAgIHB1YmxpYyBnZXRPcmdVbml0TG9jYXRpb25MaXN0MShvcmdVbml0SWQ6IHN0cmluZywgZWZmZWN0aXZlQXNPZkRhdGU/OiBzdHJpbmcsIG9yZ1VuaXRMb2NhdGlvblR5cGVDb2RlPzogc3RyaW5nLCBsb2NhdGlvbk5hbWU/OiBzdHJpbmcsIHByaW1hcnlJbmQ/OiBzdHJpbmcsIHBhZ2VOdW1iZXI/OiBzdHJpbmcsIHBhZ2VSb3dDb3VudD86IHN0cmluZywgb3JkZXJCeT86IHN0cmluZywgcmVzdFZlcnNpb24/OiBudW1iZXIsIG9ic2VydmU/OiAncmVzcG9uc2UnLCByZXBvcnRQcm9ncmVzcz86IGJvb2xlYW4pOiBPYnNlcnZhYmxlPEh0dHBSZXNwb25zZTxPcmdVbml0TG9jYXRpb25MaXN0UmVzb3VyY2U+PjtcbiAgICBwdWJsaWMgZ2V0T3JnVW5pdExvY2F0aW9uTGlzdDEob3JnVW5pdElkOiBzdHJpbmcsIGVmZmVjdGl2ZUFzT2ZEYXRlPzogc3RyaW5nLCBvcmdVbml0TG9jYXRpb25UeXBlQ29kZT86IHN0cmluZywgbG9jYXRpb25OYW1lPzogc3RyaW5nLCBwcmltYXJ5SW5kPzogc3RyaW5nLCBwYWdlTnVtYmVyPzogc3RyaW5nLCBwYWdlUm93Q291bnQ/OiBzdHJpbmcsIG9yZGVyQnk/OiBzdHJpbmcsIHJlc3RWZXJzaW9uPzogbnVtYmVyLCBvYnNlcnZlPzogJ2V2ZW50cycsIHJlcG9ydFByb2dyZXNzPzogYm9vbGVhbik6IE9ic2VydmFibGU8SHR0cEV2ZW50PE9yZ1VuaXRMb2NhdGlvbkxpc3RSZXNvdXJjZT4+O1xuICAgIHB1YmxpYyBnZXRPcmdVbml0TG9jYXRpb25MaXN0MShvcmdVbml0SWQ6IHN0cmluZywgZWZmZWN0aXZlQXNPZkRhdGU/OiBzdHJpbmcsIG9yZ1VuaXRMb2NhdGlvblR5cGVDb2RlPzogc3RyaW5nLCBsb2NhdGlvbk5hbWU/OiBzdHJpbmcsIHByaW1hcnlJbmQ/OiBzdHJpbmcsIHBhZ2VOdW1iZXI/OiBzdHJpbmcsIHBhZ2VSb3dDb3VudD86IHN0cmluZywgb3JkZXJCeT86IHN0cmluZywgcmVzdFZlcnNpb24/OiBudW1iZXIsIG9ic2VydmU6IGFueSA9ICdib2R5JywgcmVwb3J0UHJvZ3Jlc3M6IGJvb2xlYW4gPSBmYWxzZSApOiBPYnNlcnZhYmxlPGFueT4ge1xuICAgICAgICBpZiAob3JnVW5pdElkID09PSBudWxsIHx8IG9yZ1VuaXRJZCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1JlcXVpcmVkIHBhcmFtZXRlciBvcmdVbml0SWQgd2FzIG51bGwgb3IgdW5kZWZpbmVkIHdoZW4gY2FsbGluZyBnZXRPcmdVbml0TG9jYXRpb25MaXN0MS4nKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBxdWVyeVBhcmFtZXRlcnMgPSBuZXcgSHR0cFBhcmFtcyh7ZW5jb2RlcjogbmV3IEN1c3RvbUh0dHBVcmxFbmNvZGluZ0NvZGVjKCl9KTtcbiAgICAgICAgaWYgKGVmZmVjdGl2ZUFzT2ZEYXRlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHF1ZXJ5UGFyYW1ldGVycyA9IHF1ZXJ5UGFyYW1ldGVycy5zZXQoJ2VmZmVjdGl2ZUFzT2ZEYXRlJywgPGFueT5lZmZlY3RpdmVBc09mRGF0ZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG9yZ1VuaXRMb2NhdGlvblR5cGVDb2RlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHF1ZXJ5UGFyYW1ldGVycyA9IHF1ZXJ5UGFyYW1ldGVycy5zZXQoJ29yZ1VuaXRMb2NhdGlvblR5cGVDb2RlJywgPGFueT5vcmdVbml0TG9jYXRpb25UeXBlQ29kZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGxvY2F0aW9uTmFtZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBxdWVyeVBhcmFtZXRlcnMgPSBxdWVyeVBhcmFtZXRlcnMuc2V0KCdsb2NhdGlvbk5hbWUnLCA8YW55PmxvY2F0aW9uTmFtZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHByaW1hcnlJbmQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcXVlcnlQYXJhbWV0ZXJzID0gcXVlcnlQYXJhbWV0ZXJzLnNldCgncHJpbWFyeUluZCcsIDxhbnk+cHJpbWFyeUluZCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHBhZ2VOdW1iZXIgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcXVlcnlQYXJhbWV0ZXJzID0gcXVlcnlQYXJhbWV0ZXJzLnNldCgncGFnZU51bWJlcicsIDxhbnk+cGFnZU51bWJlcik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHBhZ2VSb3dDb3VudCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBxdWVyeVBhcmFtZXRlcnMgPSBxdWVyeVBhcmFtZXRlcnMuc2V0KCdwYWdlUm93Q291bnQnLCA8YW55PnBhZ2VSb3dDb3VudCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG9yZGVyQnkgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcXVlcnlQYXJhbWV0ZXJzID0gcXVlcnlQYXJhbWV0ZXJzLnNldCgnb3JkZXJCeScsIDxhbnk+b3JkZXJCeSk7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgaGVhZGVycyA9IHRoaXMuZGVmYXVsdEhlYWRlcnM7XG4gICAgICAgIGlmIChyZXN0VmVyc2lvbiAhPT0gdW5kZWZpbmVkICYmIHJlc3RWZXJzaW9uICE9PSBudWxsKSB7XG4gICAgICAgICAgICBoZWFkZXJzID0gaGVhZGVycy5zZXQoJ1Jlc3QtVmVyc2lvbicsIFN0cmluZyhyZXN0VmVyc2lvbikpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gdG8gZGV0ZXJtaW5lIHRoZSBBY2NlcHQgaGVhZGVyXG4gICAgICAgIGxldCBodHRwSGVhZGVyQWNjZXB0czogc3RyaW5nW10gPSBbXG4gICAgICAgICAgICAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgICAgICAnYXBwbGljYXRpb24veG1sJ1xuICAgICAgICBdO1xuICAgICAgICBsZXQgaHR0cEhlYWRlckFjY2VwdFNlbGVjdGVkOiBzdHJpbmcgfCB1bmRlZmluZWQgPSB0aGlzLmNvbmZpZ3VyYXRpb24uc2VsZWN0SGVhZGVyQWNjZXB0KGh0dHBIZWFkZXJBY2NlcHRzKTtcbiAgICAgICAgaWYgKGh0dHBIZWFkZXJBY2NlcHRTZWxlY3RlZCAhPSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGhlYWRlcnMgPSBoZWFkZXJzLnNldChcIkFjY2VwdFwiLCBodHRwSGVhZGVyQWNjZXB0U2VsZWN0ZWQpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gdG8gZGV0ZXJtaW5lIHRoZSBDb250ZW50LVR5cGUgaGVhZGVyXG4gICAgICAgIGxldCBjb25zdW1lczogc3RyaW5nW10gPSBbXG4gICAgICAgIF07XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuaHR0cENsaWVudC5nZXQ8T3JnVW5pdExvY2F0aW9uTGlzdFJlc291cmNlPihgJHt0aGlzLmJhc2VQYXRofS9vcmdVbml0cy8ke2VuY29kZVVSSUNvbXBvbmVudChTdHJpbmcob3JnVW5pdElkKSl9L2xvY2F0aW9uc2AsXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgcGFyYW1zOiBxdWVyeVBhcmFtZXRlcnMsXG4gICAgICAgICAgICAgICAgd2l0aENyZWRlbnRpYWxzOiB0aGlzLmNvbmZpZ3VyYXRpb24ud2l0aENyZWRlbnRpYWxzLFxuICAgICAgICAgICAgICAgIGhlYWRlcnM6IGhlYWRlcnMsXG4gICAgICAgICAgICAgICAgb2JzZXJ2ZTogb2JzZXJ2ZSxcbiAgICAgICAgICAgICAgICByZXBvcnRQcm9ncmVzczogcmVwb3J0UHJvZ3Jlc3NcbiAgICAgICAgICAgIH1cbiAgICAgICAgKTtcbiAgICB9XG5cbn1cbiIsIi8qKlxuICogV2lsZGZpcmUgT3JnIFVuaXQgUkVTVCBBUElcbiAqIFRoZSBXaWxkZmlyZSBPcmcgVW5pdCBSRVNUIEFQSS5cbiAqXG4gKiBPcGVuQVBJIHNwZWMgdmVyc2lvbjogMS4wLjAtU05BUFNIT1RcbiAqIFxuICpcbiAqIE5PVEU6IFRoaXMgY2xhc3MgaXMgYXV0byBnZW5lcmF0ZWQgYnkgdGhlIHN3YWdnZXIgY29kZSBnZW5lcmF0b3IgcHJvZ3JhbS5cbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9zd2FnZ2VyLWFwaS9zd2FnZ2VyLWNvZGVnZW4uZ2l0XG4gKiBEbyBub3QgZWRpdCB0aGUgY2xhc3MgbWFudWFsbHkuXG4gKi9cbi8qIHRzbGludDpkaXNhYmxlOm5vLXVudXNlZC12YXJpYWJsZSBtZW1iZXItb3JkZXJpbmcgKi9cblxuaW1wb3J0IHsgSW5qZWN0LCBJbmplY3RhYmxlLCBPcHRpb25hbCB9ICAgICAgICAgICAgICAgICAgICAgIGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgSHR0cENsaWVudCwgSHR0cEhlYWRlcnMsIEh0dHBQYXJhbXMsXG4gICAgICAgICBIdHRwUmVzcG9uc2UsIEh0dHBFdmVudCB9ICAgICAgICAgICAgICAgICAgICAgICAgICAgZnJvbSAnQGFuZ3VsYXIvY29tbW9uL2h0dHAnO1xuaW1wb3J0IHsgQ3VzdG9tSHR0cFVybEVuY29kaW5nQ29kZWMgfSAgICAgICAgICAgICAgICAgICAgICAgIGZyb20gJy4uL2VuY29kZXInO1xuXG5pbXBvcnQgeyBPYnNlcnZhYmxlIH0gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZnJvbSAncnhqcyc7XG5cbmltcG9ydCB7IE1lc3NhZ2VzIH0gZnJvbSAnLi4vbW9kZWwvbWVzc2FnZXMnO1xuaW1wb3J0IHsgT3JnVW5pdFR5cGVDb25maWdSZXNvdXJjZSB9IGZyb20gJy4uL21vZGVsL29yZ1VuaXRUeXBlQ29uZmlnUmVzb3VyY2UnO1xuaW1wb3J0IHsgT3JnVW5pdFR5cGVDb25maWdSZXN1bHRSZXNvdXJjZSB9IGZyb20gJy4uL21vZGVsL29yZ1VuaXRUeXBlQ29uZmlnUmVzdWx0UmVzb3VyY2UnO1xuXG5pbXBvcnQgeyBCQVNFX1BBVEgsIENPTExFQ1RJT05fRk9STUFUUyB9ICAgICAgICAgICAgICAgICAgICAgZnJvbSAnLi4vdmFyaWFibGVzJztcbmltcG9ydCB7IE9yZ1VuaXRDb25maWd1cmF0aW9uIH0gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZnJvbSAnLi4vY29uZmlndXJhdGlvbic7XG5cblxuQEluamVjdGFibGUoKVxuZXhwb3J0IGNsYXNzIE9yZ1VuaXRUeXBlQ29uZmlnU2VydmljZSB7XG5cbiAgICBwcm90ZWN0ZWQgYmFzZVBhdGggPSAnaHR0cHM6Ly9odHRwczovL2QxYXBpLnZpdmlkc29sdXRpb25zLmNvbS93Zm9yZy1vcmctdW5pdC1hcGknO1xuICAgIHB1YmxpYyBkZWZhdWx0SGVhZGVycyA9IG5ldyBIdHRwSGVhZGVycygpO1xuICAgIHB1YmxpYyBjb25maWd1cmF0aW9uID0gbmV3IE9yZ1VuaXRDb25maWd1cmF0aW9uKCk7XG5cbiAgICBjb25zdHJ1Y3Rvcihwcm90ZWN0ZWQgaHR0cENsaWVudDogSHR0cENsaWVudCwgQE9wdGlvbmFsKClASW5qZWN0KEJBU0VfUEFUSCkgYmFzZVBhdGg6IHN0cmluZywgQE9wdGlvbmFsKCkgY29uZmlndXJhdGlvbjogT3JnVW5pdENvbmZpZ3VyYXRpb24pIHtcbiAgICAgICAgaWYgKGJhc2VQYXRoKSB7XG4gICAgICAgICAgICB0aGlzLmJhc2VQYXRoID0gYmFzZVBhdGg7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNvbmZpZ3VyYXRpb24pIHtcbiAgICAgICAgICAgIHRoaXMuY29uZmlndXJhdGlvbiA9IGNvbmZpZ3VyYXRpb247XG4gICAgICAgICAgICB0aGlzLmJhc2VQYXRoID0gYmFzZVBhdGggfHwgY29uZmlndXJhdGlvbi5iYXNlUGF0aCB8fCB0aGlzLmJhc2VQYXRoO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQHBhcmFtIGNvbnN1bWVzIHN0cmluZ1tdIG1pbWUtdHlwZXNcbiAgICAgKiBAcmV0dXJuIHRydWU6IGNvbnN1bWVzIGNvbnRhaW5zICdtdWx0aXBhcnQvZm9ybS1kYXRhJywgZmFsc2U6IG90aGVyd2lzZVxuICAgICAqL1xuICAgIHByaXZhdGUgY2FuQ29uc3VtZUZvcm0oY29uc3VtZXM6IHN0cmluZ1tdKTogYm9vbGVhbiB7XG4gICAgICAgIGNvbnN0IGZvcm0gPSAnbXVsdGlwYXJ0L2Zvcm0tZGF0YSc7XG4gICAgICAgIGZvciAobGV0IGNvbnN1bWUgb2YgY29uc3VtZXMpIHtcbiAgICAgICAgICAgIGlmIChmb3JtID09PSBjb25zdW1lKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuXG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBjb25maWd1cmF0aW9uIGZvciBhbiBPcmcgVW5pdCBUeXBlLlxuICAgICAqIEdldCB0aGUgY29uZmlndXJhdGlvbiBmb3IgYW4gT3JnIFVuaXQgVHlwZS5cbiAgICAgKiBAcGFyYW0gb3JnVW5pdFR5cGVDb2RlIFRoZSBpZGVudGlmaWVyIG9mIHRoZSBPcmcgVW5pdCBUeXBlLlxuICAgICAqIEBwYXJhbSBlZmZlY3RpdmVBc09mRGF0ZSBSZXR1cm4gdGhlIHJlc3VsdHMgYXMgb2YgdGhlIGVmZmVjdGl2ZUFzT2ZEYXRlLlxuICAgICAqIEBwYXJhbSByZXN0VmVyc2lvbiBUaGUgdmVyc2lvbiBvZiB0aGUgUmVzdCBBUEkgc3VwcG9ydGVkIGJ5IHRoZSByZXF1ZXN0aW5nIGNsaWVudC5cbiAgICAgKiBAcGFyYW0gb2JzZXJ2ZSBzZXQgd2hldGhlciBvciBub3QgdG8gcmV0dXJuIHRoZSBkYXRhIE9ic2VydmFibGUgYXMgdGhlIGJvZHksIHJlc3BvbnNlIG9yIGV2ZW50cy4gZGVmYXVsdHMgdG8gcmV0dXJuaW5nIHRoZSBib2R5LlxuICAgICAqIEBwYXJhbSByZXBvcnRQcm9ncmVzcyBmbGFnIHRvIHJlcG9ydCByZXF1ZXN0IGFuZCByZXNwb25zZSBwcm9ncmVzcy5cbiAgICAgKi9cbiAgICBwdWJsaWMgZ2V0T3JnVW5pdFR5cGVDb25maWcxKG9yZ1VuaXRUeXBlQ29kZTogc3RyaW5nLCBlZmZlY3RpdmVBc09mRGF0ZT86IHN0cmluZywgcmVzdFZlcnNpb24/OiBudW1iZXIsIG9ic2VydmU/OiAnYm9keScsIHJlcG9ydFByb2dyZXNzPzogYm9vbGVhbik6IE9ic2VydmFibGU8T3JnVW5pdFR5cGVDb25maWdSZXNvdXJjZT47XG4gICAgcHVibGljIGdldE9yZ1VuaXRUeXBlQ29uZmlnMShvcmdVbml0VHlwZUNvZGU6IHN0cmluZywgZWZmZWN0aXZlQXNPZkRhdGU/OiBzdHJpbmcsIHJlc3RWZXJzaW9uPzogbnVtYmVyLCBvYnNlcnZlPzogJ3Jlc3BvbnNlJywgcmVwb3J0UHJvZ3Jlc3M/OiBib29sZWFuKTogT2JzZXJ2YWJsZTxIdHRwUmVzcG9uc2U8T3JnVW5pdFR5cGVDb25maWdSZXNvdXJjZT4+O1xuICAgIHB1YmxpYyBnZXRPcmdVbml0VHlwZUNvbmZpZzEob3JnVW5pdFR5cGVDb2RlOiBzdHJpbmcsIGVmZmVjdGl2ZUFzT2ZEYXRlPzogc3RyaW5nLCByZXN0VmVyc2lvbj86IG51bWJlciwgb2JzZXJ2ZT86ICdldmVudHMnLCByZXBvcnRQcm9ncmVzcz86IGJvb2xlYW4pOiBPYnNlcnZhYmxlPEh0dHBFdmVudDxPcmdVbml0VHlwZUNvbmZpZ1Jlc291cmNlPj47XG4gICAgcHVibGljIGdldE9yZ1VuaXRUeXBlQ29uZmlnMShvcmdVbml0VHlwZUNvZGU6IHN0cmluZywgZWZmZWN0aXZlQXNPZkRhdGU/OiBzdHJpbmcsIHJlc3RWZXJzaW9uPzogbnVtYmVyLCBvYnNlcnZlOiBhbnkgPSAnYm9keScsIHJlcG9ydFByb2dyZXNzOiBib29sZWFuID0gZmFsc2UgKTogT2JzZXJ2YWJsZTxhbnk+IHtcbiAgICAgICAgaWYgKG9yZ1VuaXRUeXBlQ29kZSA9PT0gbnVsbCB8fCBvcmdVbml0VHlwZUNvZGUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdSZXF1aXJlZCBwYXJhbWV0ZXIgb3JnVW5pdFR5cGVDb2RlIHdhcyBudWxsIG9yIHVuZGVmaW5lZCB3aGVuIGNhbGxpbmcgZ2V0T3JnVW5pdFR5cGVDb25maWcxLicpO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IHF1ZXJ5UGFyYW1ldGVycyA9IG5ldyBIdHRwUGFyYW1zKHtlbmNvZGVyOiBuZXcgQ3VzdG9tSHR0cFVybEVuY29kaW5nQ29kZWMoKX0pO1xuICAgICAgICBpZiAoZWZmZWN0aXZlQXNPZkRhdGUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcXVlcnlQYXJhbWV0ZXJzID0gcXVlcnlQYXJhbWV0ZXJzLnNldCgnZWZmZWN0aXZlQXNPZkRhdGUnLCA8YW55PmVmZmVjdGl2ZUFzT2ZEYXRlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBoZWFkZXJzID0gdGhpcy5kZWZhdWx0SGVhZGVycztcbiAgICAgICAgaWYgKHJlc3RWZXJzaW9uICE9PSB1bmRlZmluZWQgJiYgcmVzdFZlcnNpb24gIT09IG51bGwpIHtcbiAgICAgICAgICAgIGhlYWRlcnMgPSBoZWFkZXJzLnNldCgnUmVzdC1WZXJzaW9uJywgU3RyaW5nKHJlc3RWZXJzaW9uKSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyB0byBkZXRlcm1pbmUgdGhlIEFjY2VwdCBoZWFkZXJcbiAgICAgICAgbGV0IGh0dHBIZWFkZXJBY2NlcHRzOiBzdHJpbmdbXSA9IFtcbiAgICAgICAgICAgICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgICAgICdhcHBsaWNhdGlvbi94bWwnXG4gICAgICAgIF07XG4gICAgICAgIGxldCBodHRwSGVhZGVyQWNjZXB0U2VsZWN0ZWQ6IHN0cmluZyB8IHVuZGVmaW5lZCA9IHRoaXMuY29uZmlndXJhdGlvbi5zZWxlY3RIZWFkZXJBY2NlcHQoaHR0cEhlYWRlckFjY2VwdHMpO1xuICAgICAgICBpZiAoaHR0cEhlYWRlckFjY2VwdFNlbGVjdGVkICE9IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgaGVhZGVycyA9IGhlYWRlcnMuc2V0KFwiQWNjZXB0XCIsIGh0dHBIZWFkZXJBY2NlcHRTZWxlY3RlZCk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyB0byBkZXRlcm1pbmUgdGhlIENvbnRlbnQtVHlwZSBoZWFkZXJcbiAgICAgICAgbGV0IGNvbnN1bWVzOiBzdHJpbmdbXSA9IFtcbiAgICAgICAgXTtcblxuICAgICAgICByZXR1cm4gdGhpcy5odHRwQ2xpZW50LmdldDxPcmdVbml0VHlwZUNvbmZpZ1Jlc291cmNlPihgJHt0aGlzLmJhc2VQYXRofS9vcmdVbml0VHlwZUNvbmZpZ3MvJHtlbmNvZGVVUklDb21wb25lbnQoU3RyaW5nKG9yZ1VuaXRUeXBlQ29kZSkpfWAsXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgcGFyYW1zOiBxdWVyeVBhcmFtZXRlcnMsXG4gICAgICAgICAgICAgICAgd2l0aENyZWRlbnRpYWxzOiB0aGlzLmNvbmZpZ3VyYXRpb24ud2l0aENyZWRlbnRpYWxzLFxuICAgICAgICAgICAgICAgIGhlYWRlcnM6IGhlYWRlcnMsXG4gICAgICAgICAgICAgICAgb2JzZXJ2ZTogb2JzZXJ2ZSxcbiAgICAgICAgICAgICAgICByZXBvcnRQcm9ncmVzczogcmVwb3J0UHJvZ3Jlc3NcbiAgICAgICAgICAgIH1cbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBZGQgb3IgdXBkYXRlIHRoZSBjb25maWd1cmF0aW9uIGZvciBhbiBPcmcgVW5pdCBUeXBlXG4gICAgICogQWRkIG9yIHVwZGF0ZSB0aGUgY29uZmlndXJhdGlvbiBmb3IgYW4gT3JnIFVuaXQgVHlwZVxuICAgICAqIEBwYXJhbSBvcmdVbml0VHlwZUNvbmZpZyBUaGUgT3JnVW5pdFR5cGVDb25maWcgcmVzb3VyY2UgY29udGFpbmluZyB0aGUgbmV3IHZhbHVlcy5cbiAgICAgKiBAcGFyYW0gcmVzdFZlcnNpb24gVGhlIHZlcnNpb24gb2YgdGhlIFJlc3QgQVBJIHN1cHBvcnRlZCBieSB0aGUgcmVxdWVzdGluZyBjbGllbnQuXG4gICAgICogQHBhcmFtIG9ic2VydmUgc2V0IHdoZXRoZXIgb3Igbm90IHRvIHJldHVybiB0aGUgZGF0YSBPYnNlcnZhYmxlIGFzIHRoZSBib2R5LCByZXNwb25zZSBvciBldmVudHMuIGRlZmF1bHRzIHRvIHJldHVybmluZyB0aGUgYm9keS5cbiAgICAgKiBAcGFyYW0gcmVwb3J0UHJvZ3Jlc3MgZmxhZyB0byByZXBvcnQgcmVxdWVzdCBhbmQgcmVzcG9uc2UgcHJvZ3Jlc3MuXG4gICAgICovXG4gICAgcHVibGljIHVwc2VydE9yZ1VuaXRUeXBlQ29uZmlnMShvcmdVbml0VHlwZUNvbmZpZzogT3JnVW5pdFR5cGVDb25maWdSZXNvdXJjZSwgcmVzdFZlcnNpb24/OiBudW1iZXIsIG9ic2VydmU/OiAnYm9keScsIHJlcG9ydFByb2dyZXNzPzogYm9vbGVhbik6IE9ic2VydmFibGU8T3JnVW5pdFR5cGVDb25maWdSZXN1bHRSZXNvdXJjZT47XG4gICAgcHVibGljIHVwc2VydE9yZ1VuaXRUeXBlQ29uZmlnMShvcmdVbml0VHlwZUNvbmZpZzogT3JnVW5pdFR5cGVDb25maWdSZXNvdXJjZSwgcmVzdFZlcnNpb24/OiBudW1iZXIsIG9ic2VydmU/OiAncmVzcG9uc2UnLCByZXBvcnRQcm9ncmVzcz86IGJvb2xlYW4pOiBPYnNlcnZhYmxlPEh0dHBSZXNwb25zZTxPcmdVbml0VHlwZUNvbmZpZ1Jlc3VsdFJlc291cmNlPj47XG4gICAgcHVibGljIHVwc2VydE9yZ1VuaXRUeXBlQ29uZmlnMShvcmdVbml0VHlwZUNvbmZpZzogT3JnVW5pdFR5cGVDb25maWdSZXNvdXJjZSwgcmVzdFZlcnNpb24/OiBudW1iZXIsIG9ic2VydmU/OiAnZXZlbnRzJywgcmVwb3J0UHJvZ3Jlc3M/OiBib29sZWFuKTogT2JzZXJ2YWJsZTxIdHRwRXZlbnQ8T3JnVW5pdFR5cGVDb25maWdSZXN1bHRSZXNvdXJjZT4+O1xuICAgIHB1YmxpYyB1cHNlcnRPcmdVbml0VHlwZUNvbmZpZzEob3JnVW5pdFR5cGVDb25maWc6IE9yZ1VuaXRUeXBlQ29uZmlnUmVzb3VyY2UsIHJlc3RWZXJzaW9uPzogbnVtYmVyLCBvYnNlcnZlOiBhbnkgPSAnYm9keScsIHJlcG9ydFByb2dyZXNzOiBib29sZWFuID0gZmFsc2UgKTogT2JzZXJ2YWJsZTxhbnk+IHtcbiAgICAgICAgaWYgKG9yZ1VuaXRUeXBlQ29uZmlnID09PSBudWxsIHx8IG9yZ1VuaXRUeXBlQ29uZmlnID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignUmVxdWlyZWQgcGFyYW1ldGVyIG9yZ1VuaXRUeXBlQ29uZmlnIHdhcyBudWxsIG9yIHVuZGVmaW5lZCB3aGVuIGNhbGxpbmcgdXBzZXJ0T3JnVW5pdFR5cGVDb25maWcxLicpO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IGhlYWRlcnMgPSB0aGlzLmRlZmF1bHRIZWFkZXJzO1xuICAgICAgICBpZiAocmVzdFZlcnNpb24gIT09IHVuZGVmaW5lZCAmJiByZXN0VmVyc2lvbiAhPT0gbnVsbCkge1xuICAgICAgICAgICAgaGVhZGVycyA9IGhlYWRlcnMuc2V0KCdSZXN0LVZlcnNpb24nLCBTdHJpbmcocmVzdFZlcnNpb24pKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHRvIGRldGVybWluZSB0aGUgQWNjZXB0IGhlYWRlclxuICAgICAgICBsZXQgaHR0cEhlYWRlckFjY2VwdHM6IHN0cmluZ1tdID0gW1xuICAgICAgICAgICAgJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgICAgICAgJ2FwcGxpY2F0aW9uL3htbCdcbiAgICAgICAgXTtcbiAgICAgICAgbGV0IGh0dHBIZWFkZXJBY2NlcHRTZWxlY3RlZDogc3RyaW5nIHwgdW5kZWZpbmVkID0gdGhpcy5jb25maWd1cmF0aW9uLnNlbGVjdEhlYWRlckFjY2VwdChodHRwSGVhZGVyQWNjZXB0cyk7XG4gICAgICAgIGlmIChodHRwSGVhZGVyQWNjZXB0U2VsZWN0ZWQgIT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBoZWFkZXJzID0gaGVhZGVycy5zZXQoXCJBY2NlcHRcIiwgaHR0cEhlYWRlckFjY2VwdFNlbGVjdGVkKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHRvIGRldGVybWluZSB0aGUgQ29udGVudC1UeXBlIGhlYWRlclxuICAgICAgICBsZXQgY29uc3VtZXM6IHN0cmluZ1tdID0gW1xuICAgICAgICAgICAgJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgICAgICAgJ2FwcGxpY2F0aW9uL3htbCdcbiAgICAgICAgXTtcbiAgICAgICAgbGV0IGh0dHBDb250ZW50VHlwZVNlbGVjdGVkOnN0cmluZyB8IHVuZGVmaW5lZCA9IHRoaXMuY29uZmlndXJhdGlvbi5zZWxlY3RIZWFkZXJDb250ZW50VHlwZShjb25zdW1lcyk7XG4gICAgICAgIGlmIChodHRwQ29udGVudFR5cGVTZWxlY3RlZCAhPSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGhlYWRlcnMgPSBoZWFkZXJzLnNldChcIkNvbnRlbnQtVHlwZVwiLCBodHRwQ29udGVudFR5cGVTZWxlY3RlZCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcy5odHRwQ2xpZW50LnBvc3Q8T3JnVW5pdFR5cGVDb25maWdSZXN1bHRSZXNvdXJjZT4oYCR7dGhpcy5iYXNlUGF0aH0vb3JnVW5pdFR5cGVDb25maWdzYCxcbiAgICAgICAgICAgIG9yZ1VuaXRUeXBlQ29uZmlnLFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHdpdGhDcmVkZW50aWFsczogdGhpcy5jb25maWd1cmF0aW9uLndpdGhDcmVkZW50aWFscyxcbiAgICAgICAgICAgICAgICBoZWFkZXJzOiBoZWFkZXJzLFxuICAgICAgICAgICAgICAgIG9ic2VydmU6IG9ic2VydmUsXG4gICAgICAgICAgICAgICAgcmVwb3J0UHJvZ3Jlc3M6IHJlcG9ydFByb2dyZXNzXG4gICAgICAgICAgICB9XG4gICAgICAgICk7XG4gICAgfVxuXG59XG4iLCIvKipcbiAqIFdpbGRmaXJlIE9yZyBVbml0IFJFU1QgQVBJXG4gKiBUaGUgV2lsZGZpcmUgT3JnIFVuaXQgUkVTVCBBUEkuXG4gKlxuICogT3BlbkFQSSBzcGVjIHZlcnNpb246IDEuMC4wLVNOQVBTSE9UXG4gKiBcbiAqXG4gKiBOT1RFOiBUaGlzIGNsYXNzIGlzIGF1dG8gZ2VuZXJhdGVkIGJ5IHRoZSBzd2FnZ2VyIGNvZGUgZ2VuZXJhdG9yIHByb2dyYW0uXG4gKiBodHRwczovL2dpdGh1Yi5jb20vc3dhZ2dlci1hcGkvc3dhZ2dlci1jb2RlZ2VuLmdpdFxuICogRG8gbm90IGVkaXQgdGhlIGNsYXNzIG1hbnVhbGx5LlxuICovXG4vKiB0c2xpbnQ6ZGlzYWJsZTpuby11bnVzZWQtdmFyaWFibGUgbWVtYmVyLW9yZGVyaW5nICovXG5cbmltcG9ydCB7IEluamVjdCwgSW5qZWN0YWJsZSwgT3B0aW9uYWwgfSAgICAgICAgICAgICAgICAgICAgICBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IEh0dHBDbGllbnQsIEh0dHBIZWFkZXJzLCBIdHRwUGFyYW1zLFxuICAgICAgICAgSHR0cFJlc3BvbnNlLCBIdHRwRXZlbnQgfSAgICAgICAgICAgICAgICAgICAgICAgICAgIGZyb20gJ0Bhbmd1bGFyL2NvbW1vbi9odHRwJztcbmltcG9ydCB7IEN1c3RvbUh0dHBVcmxFbmNvZGluZ0NvZGVjIH0gICAgICAgICAgICAgICAgICAgICAgICBmcm9tICcuLi9lbmNvZGVyJztcblxuaW1wb3J0IHsgT2JzZXJ2YWJsZSB9ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZyb20gJ3J4anMnO1xuXG5pbXBvcnQgeyBFbmRwb2ludHNSZXNvdXJjZSB9IGZyb20gJy4uL21vZGVsL2VuZHBvaW50c1Jlc291cmNlJztcbmltcG9ydCB7IE1lc3NhZ2VzIH0gZnJvbSAnLi4vbW9kZWwvbWVzc2FnZXMnO1xuXG5pbXBvcnQgeyBCQVNFX1BBVEgsIENPTExFQ1RJT05fRk9STUFUUyB9ICAgICAgICAgICAgICAgICAgICAgZnJvbSAnLi4vdmFyaWFibGVzJztcbmltcG9ydCB7IE9yZ1VuaXRDb25maWd1cmF0aW9uIH0gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZnJvbSAnLi4vY29uZmlndXJhdGlvbic7XG5cblxuQEluamVjdGFibGUoKVxuZXhwb3J0IGNsYXNzIFRvcExldmVsU2VydmljZSB7XG5cbiAgICBwcm90ZWN0ZWQgYmFzZVBhdGggPSAnaHR0cHM6Ly9odHRwczovL2QxYXBpLnZpdmlkc29sdXRpb25zLmNvbS93Zm9yZy1vcmctdW5pdC1hcGknO1xuICAgIHB1YmxpYyBkZWZhdWx0SGVhZGVycyA9IG5ldyBIdHRwSGVhZGVycygpO1xuICAgIHB1YmxpYyBjb25maWd1cmF0aW9uID0gbmV3IE9yZ1VuaXRDb25maWd1cmF0aW9uKCk7XG5cbiAgICBjb25zdHJ1Y3Rvcihwcm90ZWN0ZWQgaHR0cENsaWVudDogSHR0cENsaWVudCwgQE9wdGlvbmFsKClASW5qZWN0KEJBU0VfUEFUSCkgYmFzZVBhdGg6IHN0cmluZywgQE9wdGlvbmFsKCkgY29uZmlndXJhdGlvbjogT3JnVW5pdENvbmZpZ3VyYXRpb24pIHtcbiAgICAgICAgaWYgKGJhc2VQYXRoKSB7XG4gICAgICAgICAgICB0aGlzLmJhc2VQYXRoID0gYmFzZVBhdGg7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNvbmZpZ3VyYXRpb24pIHtcbiAgICAgICAgICAgIHRoaXMuY29uZmlndXJhdGlvbiA9IGNvbmZpZ3VyYXRpb247XG4gICAgICAgICAgICB0aGlzLmJhc2VQYXRoID0gYmFzZVBhdGggfHwgY29uZmlndXJhdGlvbi5iYXNlUGF0aCB8fCB0aGlzLmJhc2VQYXRoO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQHBhcmFtIGNvbnN1bWVzIHN0cmluZ1tdIG1pbWUtdHlwZXNcbiAgICAgKiBAcmV0dXJuIHRydWU6IGNvbnN1bWVzIGNvbnRhaW5zICdtdWx0aXBhcnQvZm9ybS1kYXRhJywgZmFsc2U6IG90aGVyd2lzZVxuICAgICAqL1xuICAgIHByaXZhdGUgY2FuQ29uc3VtZUZvcm0oY29uc3VtZXM6IHN0cmluZ1tdKTogYm9vbGVhbiB7XG4gICAgICAgIGNvbnN0IGZvcm0gPSAnbXVsdGlwYXJ0L2Zvcm0tZGF0YSc7XG4gICAgICAgIGZvciAobGV0IGNvbnN1bWUgb2YgY29uc3VtZXMpIHtcbiAgICAgICAgICAgIGlmIChmb3JtID09PSBjb25zdW1lKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuXG4gICAgLyoqXG4gICAgICogR2V0IFRvcCBMZXZlbCBSZXNvdXJjZXMuXG4gICAgICogR2V0IFRvcCBMZXZlbCBSZXNvdXJjZXNcbiAgICAgKiBAcGFyYW0gcmVzdFZlcnNpb24gVGhlIHZlcnNpb24gb2YgdGhlIFJlc3QgQVBJIHN1cHBvcnRlZCBieSB0aGUgcmVxdWVzdGluZyBjbGllbnQuXG4gICAgICogQHBhcmFtIG9ic2VydmUgc2V0IHdoZXRoZXIgb3Igbm90IHRvIHJldHVybiB0aGUgZGF0YSBPYnNlcnZhYmxlIGFzIHRoZSBib2R5LCByZXNwb25zZSBvciBldmVudHMuIGRlZmF1bHRzIHRvIHJldHVybmluZyB0aGUgYm9keS5cbiAgICAgKiBAcGFyYW0gcmVwb3J0UHJvZ3Jlc3MgZmxhZyB0byByZXBvcnQgcmVxdWVzdCBhbmQgcmVzcG9uc2UgcHJvZ3Jlc3MuXG4gICAgICovXG4gICAgcHVibGljIGdldFRvcExldmVsMShyZXN0VmVyc2lvbj86IG51bWJlciwgb2JzZXJ2ZT86ICdib2R5JywgcmVwb3J0UHJvZ3Jlc3M/OiBib29sZWFuKTogT2JzZXJ2YWJsZTxFbmRwb2ludHNSZXNvdXJjZT47XG4gICAgcHVibGljIGdldFRvcExldmVsMShyZXN0VmVyc2lvbj86IG51bWJlciwgb2JzZXJ2ZT86ICdyZXNwb25zZScsIHJlcG9ydFByb2dyZXNzPzogYm9vbGVhbik6IE9ic2VydmFibGU8SHR0cFJlc3BvbnNlPEVuZHBvaW50c1Jlc291cmNlPj47XG4gICAgcHVibGljIGdldFRvcExldmVsMShyZXN0VmVyc2lvbj86IG51bWJlciwgb2JzZXJ2ZT86ICdldmVudHMnLCByZXBvcnRQcm9ncmVzcz86IGJvb2xlYW4pOiBPYnNlcnZhYmxlPEh0dHBFdmVudDxFbmRwb2ludHNSZXNvdXJjZT4+O1xuICAgIHB1YmxpYyBnZXRUb3BMZXZlbDEocmVzdFZlcnNpb24/OiBudW1iZXIsIG9ic2VydmU6IGFueSA9ICdib2R5JywgcmVwb3J0UHJvZ3Jlc3M6IGJvb2xlYW4gPSBmYWxzZSApOiBPYnNlcnZhYmxlPGFueT4ge1xuXG4gICAgICAgIGxldCBoZWFkZXJzID0gdGhpcy5kZWZhdWx0SGVhZGVycztcbiAgICAgICAgaWYgKHJlc3RWZXJzaW9uICE9PSB1bmRlZmluZWQgJiYgcmVzdFZlcnNpb24gIT09IG51bGwpIHtcbiAgICAgICAgICAgIGhlYWRlcnMgPSBoZWFkZXJzLnNldCgnUmVzdC1WZXJzaW9uJywgU3RyaW5nKHJlc3RWZXJzaW9uKSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyB0byBkZXRlcm1pbmUgdGhlIEFjY2VwdCBoZWFkZXJcbiAgICAgICAgbGV0IGh0dHBIZWFkZXJBY2NlcHRzOiBzdHJpbmdbXSA9IFtcbiAgICAgICAgICAgICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgICAgICdhcHBsaWNhdGlvbi94bWwnXG4gICAgICAgIF07XG4gICAgICAgIGxldCBodHRwSGVhZGVyQWNjZXB0U2VsZWN0ZWQ6IHN0cmluZyB8IHVuZGVmaW5lZCA9IHRoaXMuY29uZmlndXJhdGlvbi5zZWxlY3RIZWFkZXJBY2NlcHQoaHR0cEhlYWRlckFjY2VwdHMpO1xuICAgICAgICBpZiAoaHR0cEhlYWRlckFjY2VwdFNlbGVjdGVkICE9IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgaGVhZGVycyA9IGhlYWRlcnMuc2V0KFwiQWNjZXB0XCIsIGh0dHBIZWFkZXJBY2NlcHRTZWxlY3RlZCk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyB0byBkZXRlcm1pbmUgdGhlIENvbnRlbnQtVHlwZSBoZWFkZXJcbiAgICAgICAgbGV0IGNvbnN1bWVzOiBzdHJpbmdbXSA9IFtcbiAgICAgICAgXTtcblxuICAgICAgICByZXR1cm4gdGhpcy5odHRwQ2xpZW50LmdldDxFbmRwb2ludHNSZXNvdXJjZT4oYCR7dGhpcy5iYXNlUGF0aH0vYCxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB3aXRoQ3JlZGVudGlhbHM6IHRoaXMuY29uZmlndXJhdGlvbi53aXRoQ3JlZGVudGlhbHMsXG4gICAgICAgICAgICAgICAgaGVhZGVyczogaGVhZGVycyxcbiAgICAgICAgICAgICAgICBvYnNlcnZlOiBvYnNlcnZlLFxuICAgICAgICAgICAgICAgIHJlcG9ydFByb2dyZXNzOiByZXBvcnRQcm9ncmVzc1xuICAgICAgICAgICAgfVxuICAgICAgICApO1xuICAgIH1cblxufVxuIiwiZXhwb3J0ICogZnJvbSAnLi9jb2RlSGllcmFyY2h5RW5kcG9pbnRzLnNlcnZpY2UnO1xuaW1wb3J0IHsgQ29kZUhpZXJhcmNoeUVuZHBvaW50c1NlcnZpY2UgfSBmcm9tICcuL2NvZGVIaWVyYXJjaHlFbmRwb2ludHMuc2VydmljZSc7XG5leHBvcnQgKiBmcm9tICcuL2NvZGVIaWVyYXJjaHlMaXN0RW5kcG9pbnRzLnNlcnZpY2UnO1xuaW1wb3J0IHsgQ29kZUhpZXJhcmNoeUxpc3RFbmRwb2ludHNTZXJ2aWNlIH0gZnJvbSAnLi9jb2RlSGllcmFyY2h5TGlzdEVuZHBvaW50cy5zZXJ2aWNlJztcbmV4cG9ydCAqIGZyb20gJy4vY29kZVRhYmxlRW5kcG9pbnRzLnNlcnZpY2UnO1xuaW1wb3J0IHsgQ29kZVRhYmxlRW5kcG9pbnRzU2VydmljZSB9IGZyb20gJy4vY29kZVRhYmxlRW5kcG9pbnRzLnNlcnZpY2UnO1xuZXhwb3J0ICogZnJvbSAnLi9jb2RlVGFibGVMaXN0RW5kcG9pbnRzLnNlcnZpY2UnO1xuaW1wb3J0IHsgQ29kZVRhYmxlTGlzdEVuZHBvaW50c1NlcnZpY2UgfSBmcm9tICcuL2NvZGVUYWJsZUxpc3RFbmRwb2ludHMuc2VydmljZSc7XG5leHBvcnQgKiBmcm9tICcuL2xvY2F0aW9uQWRkcmVzcy5zZXJ2aWNlJztcbmltcG9ydCB7IExvY2F0aW9uQWRkcmVzc1NlcnZpY2UgfSBmcm9tICcuL2xvY2F0aW9uQWRkcmVzcy5zZXJ2aWNlJztcbmV4cG9ydCAqIGZyb20gJy4vbG9jYXRpb25Db250YWN0LnNlcnZpY2UnO1xuaW1wb3J0IHsgTG9jYXRpb25Db250YWN0U2VydmljZSB9IGZyb20gJy4vbG9jYXRpb25Db250YWN0LnNlcnZpY2UnO1xuZXhwb3J0ICogZnJvbSAnLi9vcmdVbml0LnNlcnZpY2UnO1xuaW1wb3J0IHsgT3JnVW5pdFNlcnZpY2UgfSBmcm9tICcuL29yZ1VuaXQuc2VydmljZSc7XG5leHBvcnQgKiBmcm9tICcuL29yZ1VuaXRBcmVhLnNlcnZpY2UnO1xuaW1wb3J0IHsgT3JnVW5pdEFyZWFTZXJ2aWNlIH0gZnJvbSAnLi9vcmdVbml0QXJlYS5zZXJ2aWNlJztcbmV4cG9ydCAqIGZyb20gJy4vb3JnVW5pdEFyZWFMaXN0LnNlcnZpY2UnO1xuaW1wb3J0IHsgT3JnVW5pdEFyZWFMaXN0U2VydmljZSB9IGZyb20gJy4vb3JnVW5pdEFyZWFMaXN0LnNlcnZpY2UnO1xuZXhwb3J0ICogZnJvbSAnLi9vcmdVbml0TGlzdC5zZXJ2aWNlJztcbmltcG9ydCB7IE9yZ1VuaXRMaXN0U2VydmljZSB9IGZyb20gJy4vb3JnVW5pdExpc3Quc2VydmljZSc7XG5leHBvcnQgKiBmcm9tICcuL29yZ1VuaXRMb2NhdGlvbi5zZXJ2aWNlJztcbmltcG9ydCB7IE9yZ1VuaXRMb2NhdGlvblNlcnZpY2UgfSBmcm9tICcuL29yZ1VuaXRMb2NhdGlvbi5zZXJ2aWNlJztcbmV4cG9ydCAqIGZyb20gJy4vb3JnVW5pdExvY2F0aW9uTGlzdC5zZXJ2aWNlJztcbmltcG9ydCB7IE9yZ1VuaXRMb2NhdGlvbkxpc3RTZXJ2aWNlIH0gZnJvbSAnLi9vcmdVbml0TG9jYXRpb25MaXN0LnNlcnZpY2UnO1xuZXhwb3J0ICogZnJvbSAnLi9vcmdVbml0VHlwZUNvbmZpZy5zZXJ2aWNlJztcbmltcG9ydCB7IE9yZ1VuaXRUeXBlQ29uZmlnU2VydmljZSB9IGZyb20gJy4vb3JnVW5pdFR5cGVDb25maWcuc2VydmljZSc7XG5leHBvcnQgKiBmcm9tICcuL3RvcExldmVsLnNlcnZpY2UnO1xuaW1wb3J0IHsgVG9wTGV2ZWxTZXJ2aWNlIH0gZnJvbSAnLi90b3BMZXZlbC5zZXJ2aWNlJztcbmV4cG9ydCBjb25zdCBBUElTID0gW0NvZGVIaWVyYXJjaHlFbmRwb2ludHNTZXJ2aWNlLCBDb2RlSGllcmFyY2h5TGlzdEVuZHBvaW50c1NlcnZpY2UsIENvZGVUYWJsZUVuZHBvaW50c1NlcnZpY2UsIENvZGVUYWJsZUxpc3RFbmRwb2ludHNTZXJ2aWNlLCBMb2NhdGlvbkFkZHJlc3NTZXJ2aWNlLCBMb2NhdGlvbkNvbnRhY3RTZXJ2aWNlLCBPcmdVbml0U2VydmljZSwgT3JnVW5pdEFyZWFTZXJ2aWNlLCBPcmdVbml0QXJlYUxpc3RTZXJ2aWNlLCBPcmdVbml0TGlzdFNlcnZpY2UsIE9yZ1VuaXRMb2NhdGlvblNlcnZpY2UsIE9yZ1VuaXRMb2NhdGlvbkxpc3RTZXJ2aWNlLCBPcmdVbml0VHlwZUNvbmZpZ1NlcnZpY2UsIFRvcExldmVsU2VydmljZV07XG4iLCJpbXBvcnQgeyBOZ01vZHVsZSwgTW9kdWxlV2l0aFByb3ZpZGVycywgU2tpcFNlbGYsIE9wdGlvbmFsIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBDb21tb25Nb2R1bGUgfSBmcm9tICdAYW5ndWxhci9jb21tb24nO1xuaW1wb3J0IHsgSHR0cENsaWVudE1vZHVsZSB9IGZyb20gJ0Bhbmd1bGFyL2NvbW1vbi9odHRwJztcbmltcG9ydCB7IE9yZ1VuaXRDb25maWd1cmF0aW9uIH0gZnJvbSAnLi9jb25maWd1cmF0aW9uJztcblxuaW1wb3J0IHsgQ29kZUhpZXJhcmNoeUVuZHBvaW50c1NlcnZpY2UgfSBmcm9tICcuL2FwaS9jb2RlSGllcmFyY2h5RW5kcG9pbnRzLnNlcnZpY2UnO1xuaW1wb3J0IHsgQ29kZUhpZXJhcmNoeUxpc3RFbmRwb2ludHNTZXJ2aWNlIH0gZnJvbSAnLi9hcGkvY29kZUhpZXJhcmNoeUxpc3RFbmRwb2ludHMuc2VydmljZSc7XG5pbXBvcnQgeyBDb2RlVGFibGVFbmRwb2ludHNTZXJ2aWNlIH0gZnJvbSAnLi9hcGkvY29kZVRhYmxlRW5kcG9pbnRzLnNlcnZpY2UnO1xuaW1wb3J0IHsgQ29kZVRhYmxlTGlzdEVuZHBvaW50c1NlcnZpY2UgfSBmcm9tICcuL2FwaS9jb2RlVGFibGVMaXN0RW5kcG9pbnRzLnNlcnZpY2UnO1xuaW1wb3J0IHsgTG9jYXRpb25BZGRyZXNzU2VydmljZSB9IGZyb20gJy4vYXBpL2xvY2F0aW9uQWRkcmVzcy5zZXJ2aWNlJztcbmltcG9ydCB7IExvY2F0aW9uQ29udGFjdFNlcnZpY2UgfSBmcm9tICcuL2FwaS9sb2NhdGlvbkNvbnRhY3Quc2VydmljZSc7XG5pbXBvcnQgeyBPcmdVbml0U2VydmljZSB9IGZyb20gJy4vYXBpL29yZ1VuaXQuc2VydmljZSc7XG5pbXBvcnQgeyBPcmdVbml0QXJlYVNlcnZpY2UgfSBmcm9tICcuL2FwaS9vcmdVbml0QXJlYS5zZXJ2aWNlJztcbmltcG9ydCB7IE9yZ1VuaXRBcmVhTGlzdFNlcnZpY2UgfSBmcm9tICcuL2FwaS9vcmdVbml0QXJlYUxpc3Quc2VydmljZSc7XG5pbXBvcnQgeyBPcmdVbml0TGlzdFNlcnZpY2UgfSBmcm9tICcuL2FwaS9vcmdVbml0TGlzdC5zZXJ2aWNlJztcbmltcG9ydCB7IE9yZ1VuaXRMb2NhdGlvblNlcnZpY2UgfSBmcm9tICcuL2FwaS9vcmdVbml0TG9jYXRpb24uc2VydmljZSc7XG5pbXBvcnQgeyBPcmdVbml0TG9jYXRpb25MaXN0U2VydmljZSB9IGZyb20gJy4vYXBpL29yZ1VuaXRMb2NhdGlvbkxpc3Quc2VydmljZSc7XG5pbXBvcnQgeyBPcmdVbml0VHlwZUNvbmZpZ1NlcnZpY2UgfSBmcm9tICcuL2FwaS9vcmdVbml0VHlwZUNvbmZpZy5zZXJ2aWNlJztcbmltcG9ydCB7IFRvcExldmVsU2VydmljZSB9IGZyb20gJy4vYXBpL3RvcExldmVsLnNlcnZpY2UnO1xuXG5ATmdNb2R1bGUoe1xuICBpbXBvcnRzOiAgICAgIFsgQ29tbW9uTW9kdWxlLCBIdHRwQ2xpZW50TW9kdWxlIF0sXG4gIGRlY2xhcmF0aW9uczogW10sXG4gIGV4cG9ydHM6ICAgICAgW10sXG4gIHByb3ZpZGVyczogW1xuICAgIENvZGVIaWVyYXJjaHlFbmRwb2ludHNTZXJ2aWNlLFxuICAgIENvZGVIaWVyYXJjaHlMaXN0RW5kcG9pbnRzU2VydmljZSxcbiAgICBDb2RlVGFibGVFbmRwb2ludHNTZXJ2aWNlLFxuICAgIENvZGVUYWJsZUxpc3RFbmRwb2ludHNTZXJ2aWNlLFxuICAgIExvY2F0aW9uQWRkcmVzc1NlcnZpY2UsXG4gICAgTG9jYXRpb25Db250YWN0U2VydmljZSxcbiAgICBPcmdVbml0U2VydmljZSxcbiAgICBPcmdVbml0QXJlYVNlcnZpY2UsXG4gICAgT3JnVW5pdEFyZWFMaXN0U2VydmljZSxcbiAgICBPcmdVbml0TGlzdFNlcnZpY2UsXG4gICAgT3JnVW5pdExvY2F0aW9uU2VydmljZSxcbiAgICBPcmdVbml0TG9jYXRpb25MaXN0U2VydmljZSxcbiAgICBPcmdVbml0VHlwZUNvbmZpZ1NlcnZpY2UsXG4gICAgVG9wTGV2ZWxTZXJ2aWNlIF1cbn0pXG5leHBvcnQgY2xhc3MgQXBpTW9kdWxlIHtcbiAgICBwdWJsaWMgc3RhdGljIGZvclJvb3QoY29uZmlndXJhdGlvbkZhY3Rvcnk6ICgpID0+IE9yZ1VuaXRDb25maWd1cmF0aW9uKTogTW9kdWxlV2l0aFByb3ZpZGVycyB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBuZ01vZHVsZTogQXBpTW9kdWxlLFxuICAgICAgICAgICAgcHJvdmlkZXJzOiBbIHsgcHJvdmlkZTogT3JnVW5pdENvbmZpZ3VyYXRpb24sIHVzZUZhY3Rvcnk6IGNvbmZpZ3VyYXRpb25GYWN0b3J5IH0gXVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgY29uc3RydWN0b3IoIEBPcHRpb25hbCgpIEBTa2lwU2VsZigpIHBhcmVudE1vZHVsZTogQXBpTW9kdWxlKSB7XG4gICAgICAgIGlmIChwYXJlbnRNb2R1bGUpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignQXBpTW9kdWxlIGlzIGFscmVhZHkgbG9hZGVkLiBJbXBvcnQgeW91ciBiYXNlIEFwcE1vZHVsZSBvbmx5LicpO1xuICAgICAgICB9XG4gICAgfVxufVxuIl0sIm5hbWVzIjpbInRzbGliXzEuX19leHRlbmRzIiwiSHR0cFVybEVuY29kaW5nQ29kZWMiLCJJbmplY3Rpb25Ub2tlbiIsIkh0dHBIZWFkZXJzIiwidHNsaWJfMS5fX3ZhbHVlcyIsIkh0dHBQYXJhbXMiLCJJbmplY3RhYmxlIiwiSHR0cENsaWVudCIsIk9wdGlvbmFsIiwiSW5qZWN0IiwiTmdNb2R1bGUiLCJDb21tb25Nb2R1bGUiLCJIdHRwQ2xpZW50TW9kdWxlIiwiU2tpcFNlbGYiXSwibWFwcGluZ3MiOiI7Ozs7OztJQUFBOzs7Ozs7Ozs7Ozs7OztJQWNBO0lBRUEsSUFBSSxhQUFhLEdBQUcsVUFBUyxDQUFDLEVBQUUsQ0FBQztRQUM3QixhQUFhLEdBQUcsTUFBTSxDQUFDLGNBQWM7YUFDaEMsRUFBRSxTQUFTLEVBQUUsRUFBRSxFQUFFLFlBQVksS0FBSyxJQUFJLFVBQVUsQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDLENBQUMsU0FBUyxHQUFHLENBQUMsQ0FBQyxFQUFFLENBQUM7WUFDNUUsVUFBVSxDQUFDLEVBQUUsQ0FBQyxJQUFJLEtBQUssSUFBSSxDQUFDLElBQUksQ0FBQztnQkFBRSxJQUFJLENBQUMsQ0FBQyxjQUFjLENBQUMsQ0FBQyxDQUFDO29CQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDO1FBQy9FLE9BQU8sYUFBYSxDQUFDLENBQUMs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