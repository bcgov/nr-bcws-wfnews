!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("@angular/core"),require("moment")):"function"==typeof define&&define.amd?define("ngx-moment",["exports","@angular/core","moment"],e):e(t["ngx-moment"]={},t.ng.core,t.moment)}(this,function(t,r,u){"use strict";var n=u,e=function(){function t(){}return t.prototype.transform=function(t,e,r){if(void 0===e||"number"==typeof e&&void 0===r)throw new Error("AddPipe: missing required arguments");return n(t).add(e,r)},t}();e.decorators=[{type:r.Pipe,args:[{name:"amAdd"}]}];var s=u,o=function(){function n(t,e){var r=this;this.cdRef=t,this.ngZone=e,n.initTimer(e),n.refs++,this.midnightSub=n.midnight.subscribe(function(){r.ngZone.run(function(){return r.cdRef.markForCheck()})})}return n.prototype.transform=function(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];for(var n=null,o=null,i=0,a=e.length;i<a;i++)null!==e[i]&&("object"!=typeof e[i]||u.isMoment(e[i])?o=s(e[i]):n=e[i]);return s(t).calendar(o,n)},n.prototype.ngOnDestroy=function(){0<n.refs&&n.refs--,0===n.refs&&n.removeTimer(),this.midnightSub.unsubscribe()},n.initTimer=function(t){if(!n.midnight&&(n.midnight=new r.EventEmitter,"undefined"!=typeof window)){var e=n._getMillisecondsUntilUpdate();n.timer=t.runOutsideAngular(function(){return window.setTimeout(function(){n.midnight.emit(new Date),n.removeTimer(),n.initTimer(t)},e)})}},n.removeTimer=function(){n.timer&&(window.clearTimeout(n.timer),n.timer=null,n.midnight=null)},n._getMillisecondsUntilUpdate=function(){var t=s();return s().startOf("day").add(1,"days").valueOf()-t.valueOf()+1e3},n}();o.refs=0,o.timer=null,o.midnight=null,o.decorators=[{type:r.Pipe,args:[{name:"amCalendar",pure:!1}]}],o.ctorParameters=function(){return[{type:r.ChangeDetectorRef},{type:r.NgZone}]};var i=u,a=function(){function t(){}return t.prototype.transform=function(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];return t?i(t).format(e[0]):""},t}();a.decorators=[{type:r.Pipe,args:[{name:"amDateFormat"}]}];var c=u,f=function(){function t(){}return t.prototype.transform=function(t,e,r,n){var o=c(t),i=null!==e?c(e):c();return o.diff(i,r,n)},t}();f.decorators=[{type:r.Pipe,args:[{name:"amDifference"}]}];var m=function(){function t(){}return t.prototype.transform=function(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];if(void 0===e||1!==e.length)throw new Error("DurationPipe: missing required time unit argument");return u.duration(t,e[0]).humanize()},t}();m.decorators=[{type:r.Pipe,args:[{name:"amDuration"}]}];var p=function(){function t(){}return t.prototype.transform=function(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];return"string"==typeof t&&(t=+t),u.unix(t)},t}();p.decorators=[{type:r.Pipe,args:[{name:"amFromUnix"}]}];var d=u,l=function(){function t(){}return t.prototype.transform=function(t,e){return d(t,e)},t}();l.decorators=[{type:r.Pipe,args:[{name:"amParse"}]}];var g=u,h=function(){function t(){}return t.prototype.transform=function(t,e,r){if(void 0===e||"number"==typeof e&&void 0===r)throw new Error("SubtractPipe: missing required arguments");return g(t).subtract(e,r)},t}();h.decorators=[{type:r.Pipe,args:[{name:"amSubtract"}]}];var y=u,v=function(){function t(t,e){this.cdRef=t,this.ngZone=e}return t.prototype.transform=function(t,e){return this.hasChanged(t,e)?(this.lastTime=this.getTime(t),this.lastValue=t,this.lastOmitSuffix=e,this.lastLocale=this.getLocale(t),this.removeTimer(),this.createTimer(),this.lastText=y(t).from(y(),e)):this.createTimer(),this.lastText},t.prototype.ngOnDestroy=function(){this.removeTimer()},t.prototype.createTimer=function(){var t=this;if(!this.currentTimer){var e=y(this.lastValue),r=1e3*this.getSecondsUntilUpdate(e);this.currentTimer=this.ngZone.runOutsideAngular(function(){if("undefined"!=typeof window)return window.setTimeout(function(){t.lastText=y(t.lastValue).from(y(),t.lastOmitSuffix),t.currentTimer=null,t.ngZone.run(function(){return t.cdRef.markForCheck()})},r)})}},t.prototype.removeTimer=function(){this.currentTimer&&(window.clearTimeout(this.currentTimer),this.currentTimer=null)},t.prototype.getSecondsUntilUpdate=function(t){var e=Math.abs(y().diff(t,"minute"));return e<1?1:e<60?30:e<180?300:3600},t.prototype.hasChanged=function(t,e){return this.getTime(t)!==this.lastTime||this.getLocale(t)!==this.lastLocale||e!==this.lastOmitSuffix},t.prototype.getTime=function(t){return u.isDate(t)?t.getTime():u.isMoment(t)?t.valueOf():y(t).valueOf()},t.prototype.getLocale=function(t){return u.isMoment(t)?t.locale():null},t}();v.decorators=[{type:r.Pipe,args:[{name:"amTimeAgo",pure:!1}]}],v.ctorParameters=function(){return[{type:r.ChangeDetectorRef},{type:r.NgZone}]};var P=u,T=function(){function t(){}return t.prototype.transform=function(t){return P(t).utc()},t}();T.decorators=[{type:r.Pipe,args:[{name:"amUtc"}]}];var w=function(){function t(){}return t.prototype.transform=function(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];return u.utc(t)},t}();w.decorators=[{type:r.Pipe,args:[{name:"amFromUtc"}]}];var b=u,x=function(){function t(){}return t.prototype.transform=function(t){return b(t).local()},t}();x.decorators=[{type:r.Pipe,args:[{name:"amLocal"}]}];var U=u,D=function(){function t(){}return t.prototype.transform=function(t,e){return U(t).locale(e)},t}();D.decorators=[{type:r.Pipe,args:[{name:"amLocale"}]}];var O=function(){function t(){}return t.prototype.transform=function(t){return u.parseZone(t)},t}();O.decorators=[{type:r.Pipe,args:[{name:"amParseZone"}]}];var M=[e,o,a,f,m,p,l,h,v,T,w,x,D,O],S=function(){};S.decorators=[{type:r.NgModule,args:[{declarations:M,exports:M}]}],t.AddPipe=e,t.CalendarPipe=o,t.DateFormatPipe=a,t.DifferencePipe=f,t.DurationPipe=m,t.FromUnixPipe=p,t.ParsePipe=l,t.MomentModule=S,t.SubtractPipe=h,t.TimeAgoPipe=v,t.UtcPipe=T,t.FromUtcPipe=w,t.LocalTimePipe=x,t.LocalePipe=D,t.ParseZonePipe=O,Object.defineProperty(t,"__esModule",{value:!0})});
//# sourceMappingURL=ngx-moment.umd.min.js.map
